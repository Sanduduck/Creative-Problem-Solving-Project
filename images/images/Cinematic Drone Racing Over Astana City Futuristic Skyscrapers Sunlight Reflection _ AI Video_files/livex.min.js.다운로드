(function(){"use strict";var bE=document.createElement("style");function LZ(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function _w(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}bE.textContent=`livex-chatbot-button{display:flex;align-items:center;justify-content:center;width:60px;height:60px;border-radius:50%;box-shadow:0 4px 8px #0000001a;right:0;bottom:0;padding:8px;position:absolute;transition:transform .2s ease-in-out!important}livex-chatbot-button:hover{transform:scale(1.1)!important}
`,document.head.appendChild(bE);var yE={exports:{}},ff={},wE={exports:{}},zt={},Jh=Symbol.for("react.element"),DZ=Symbol.for("react.portal"),jZ=Symbol.for("react.fragment"),zZ=Symbol.for("react.strict_mode"),FZ=Symbol.for("react.profiler"),BZ=Symbol.for("react.provider"),UZ=Symbol.for("react.context"),HZ=Symbol.for("react.forward_ref"),VZ=Symbol.for("react.suspense"),$Z=Symbol.for("react.memo"),qZ=Symbol.for("react.lazy"),kE=Symbol.iterator,xE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_E=Object.assign,TE={};function Ru(e,t,n){this.props=e,this.context=t,this.refs=TE,this.updater=n||xE}function SE(){}function Tw(e,t,n){this.props=e,this.context=t,this.refs=TE,this.updater=n||xE}Ru.prototype.isReactComponent={},Ru.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},Ru.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},SE.prototype=Ru.prototype;var Sw=Tw.prototype=new SE;Sw.constructor=Tw,_E(Sw,Ru.prototype),Sw.isPureReactComponent=!0;var EE=Array.isArray,CE=Object.prototype.hasOwnProperty,Ew={current:null},OE={key:!0,ref:!0,__self:!0,__source:!0};function PE(e,t,n){var r,o={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)CE.call(t,r)&&!OE.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(s===1)o.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps)o[r]===void 0&&(o[r]=s[r]);return{$$typeof:Jh,type:e,key:i,ref:a,props:o,_owner:Ew.current}}function Cw(e){return typeof e=="object"&&e!==null&&e.$$typeof===Jh}var AE=/\/+/g;function Ow(e,t){return typeof e=="object"&&e!==null&&e.key!=null?function(n){var r={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(o){return r[o]})}(""+e.key):t.toString(36)}function gf(e,t,n,r,o){var i=typeof e;i!=="undefined"&&i!=="boolean"||(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Jh:case DZ:a=!0}}if(a)return o=o(a=e),e=r===""?"."+Ow(a,0):r,EE(o)?(n="",e!=null&&(n=e.replace(AE,"$&/")+"/"),gf(o,t,n,"",function(c){return c})):o!=null&&(Cw(o)&&(o=function(c,u){return{$$typeof:Jh,type:c.type,key:u,ref:c.ref,props:c.props,_owner:c._owner}}(o,n+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(AE,"$&/")+"/")+e)),t.push(o)),1;if(a=0,r=r===""?".":r+":",EE(e))for(var s=0;s<e.length;s++){var l=r+Ow(i=e[s],s);a+=gf(i,t,n,l,o)}else if(l=function(c){return c===null||typeof c!="object"?null:typeof(c=kE&&c[kE]||c["@@iterator"])=="function"?c:null}(e),typeof l=="function")for(e=l.call(e),s=0;!(i=e.next()).done;)a+=gf(i=i.value,t,n,l=r+Ow(i,s++),o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function vf(e,t,n){if(e==null)return e;var r=[],o=0;return gf(e,r,"","",function(i){return t.call(n,i,o++)}),r}function WZ(e){if(e._status===-1){var t=e._result;(t=t()).then(function(n){e._status!==0&&e._status!==-1||(e._status=1,e._result=n)},function(n){e._status!==0&&e._status!==-1||(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Gr={current:null},bf={transition:null},GZ={ReactCurrentDispatcher:Gr,ReactCurrentBatchConfig:bf,ReactCurrentOwner:Ew};zt.Children={map:vf,forEach:function(e,t,n){vf(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return vf(e,function(){t++}),t},toArray:function(e){return vf(e,function(t){return t})||[]},only:function(e){if(!Cw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},zt.Component=Ru,zt.Fragment=jZ,zt.Profiler=FZ,zt.PureComponent=Tw,zt.StrictMode=zZ,zt.Suspense=VZ,zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GZ,zt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=_E({},e.props),o=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Ew.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)CE.call(t,l)&&!OE.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:Jh,type:e.type,key:o,ref:i,props:r,_owner:a}},zt.createContext=function(e){return(e={$$typeof:UZ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:BZ,_context:e},e.Consumer=e},zt.createElement=PE,zt.createFactory=function(e){var t=PE.bind(null,e);return t.type=e,t},zt.createRef=function(){return{current:null}},zt.forwardRef=function(e){return{$$typeof:HZ,render:e}},zt.isValidElement=Cw,zt.lazy=function(e){return{$$typeof:qZ,_payload:{_status:-1,_result:e},_init:WZ}},zt.memo=function(e,t){return{$$typeof:$Z,type:e,compare:t===void 0?null:t}},zt.startTransition=function(e){var t=bf.transition;bf.transition={};try{e()}finally{bf.transition=t}},zt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},zt.useCallback=function(e,t){return Gr.current.useCallback(e,t)},zt.useContext=function(e){return Gr.current.useContext(e)},zt.useDebugValue=function(){},zt.useDeferredValue=function(e){return Gr.current.useDeferredValue(e)},zt.useEffect=function(e,t){return Gr.current.useEffect(e,t)},zt.useId=function(){return Gr.current.useId()},zt.useImperativeHandle=function(e,t,n){return Gr.current.useImperativeHandle(e,t,n)},zt.useInsertionEffect=function(e,t){return Gr.current.useInsertionEffect(e,t)},zt.useLayoutEffect=function(e,t){return Gr.current.useLayoutEffect(e,t)},zt.useMemo=function(e,t){return Gr.current.useMemo(e,t)},zt.useReducer=function(e,t,n){return Gr.current.useReducer(e,t,n)},zt.useRef=function(e){return Gr.current.useRef(e)},zt.useState=function(e){return Gr.current.useState(e)},zt.useSyncExternalStore=function(e,t,n){return Gr.current.useSyncExternalStore(e,t,n)},zt.useTransition=function(){return Gr.current.useTransition()},zt.version="18.2.0",wE.exports=zt;var x=wE.exports;const fn=_w(x),KZ=LZ({__proto__:null,default:fn},[x]);/**
     * @license React
     * react-jsx-runtime.production.min.js
     *
     * Copyright (c) Facebook, Inc. and its affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */var YZ=x,QZ=Symbol.for("react.element"),XZ=Symbol.for("react.fragment"),JZ=Object.prototype.hasOwnProperty,ZZ=YZ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eee={key:!0,ref:!0,__self:!0,__source:!0};function NE(e,t,n){var r,o={},i=null,a=null;for(r in n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref),t)JZ.call(t,r)&&!eee.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:QZ,type:e,key:i,ref:a,props:o,_owner:ZZ.current}}ff.Fragment=XZ,ff.jsx=NE,ff.jsxs=NE,yE.exports=ff;var Y=yE.exports,Pw={},RE={exports:{}},jo={},IE={exports:{}},ME={};/**
     * @license React
     * scheduler.production.min.js
     *
     * Copyright (c) Facebook, Inc. and its affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */(function(e){function t(U,S){var q=U.length;U.push(S);e:for(;0<q;){var P=q-1>>>1,Q=U[P];if(!(0<o(Q,S)))break e;U[P]=S,U[q]=Q,q=P}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var S=U[0],q=U.pop();if(q!==S){U[0]=q;e:for(var P=0,Q=U.length,re=Q>>>1;P<re;){var _e=2*(P+1)-1,se=U[_e],ue=_e+1,fe=U[ue];if(0>o(se,q))ue<Q&&0>o(fe,se)?(U[P]=fe,U[ue]=q,P=ue):(U[P]=se,U[_e]=q,P=_e);else{if(!(ue<Q&&0>o(fe,q)))break e;U[P]=fe,U[ue]=q,P=ue}}}return S}function o(U,S){var q=U.sortIndex-S.sortIndex;return q!==0?q:U.id-S.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],c=[],u=1,h=null,p=3,d=!1,f=!1,g=!1,m=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function b(U){for(var S=n(c);S!==null;){if(S.callback===null)r(c);else{if(!(S.startTime<=U))break;r(c),S.sortIndex=S.expirationTime,t(l,S)}S=n(c)}}function w(U){if(g=!1,b(U),!f)if(n(l)!==null)f=!0,B(k);else{var S=n(c);S!==null&&V(w,S.startTime-U)}}function k(U,S){f=!1,g&&(g=!1,v(C),C=-1),d=!0;var q=p;try{for(b(S),h=n(l);h!==null&&(!(h.expirationTime>S)||U&&!j());){var P=h.callback;if(typeof P=="function"){h.callback=null,p=h.priorityLevel;var Q=P(h.expirationTime<=S);S=e.unstable_now(),typeof Q=="function"?h.callback=Q:h===n(l)&&r(l),b(S)}else r(l);h=n(l)}if(h!==null)var re=!0;else{var _e=n(c);_e!==null&&V(w,_e.startTime-S),re=!1}return re}finally{h=null,p=q,d=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,O=!1,E=null,C=-1,N=5,L=-1;function j(){return!(e.unstable_now()-L<N)}function H(){if(E!==null){var U=e.unstable_now();L=U;var S=!0;try{S=E(!0,U)}finally{S?_():(O=!1,E=null)}}else O=!1}if(typeof y=="function")_=function(){y(H)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,z=F.port2;F.port1.onmessage=H,_=function(){z.postMessage(null)}}else _=function(){m(H,0)};function B(U){E=U,O||(O=!0,_())}function V(U,S){C=m(function(){U(e.unstable_now())},S)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){f||d||(f=!0,B(k))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(U){switch(p){case 1:case 2:case 3:var S=3;break;default:S=p}var q=p;p=S;try{return U()}finally{p=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,S){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var q=p;p=U;try{return S()}finally{p=q}},e.unstable_scheduleCallback=function(U,S,q){var P=e.unstable_now();switch(typeof q=="object"&&q!==null?q=typeof(q=q.delay)=="number"&&0<q?P+q:P:q=P,U){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return U={id:u++,callback:S,priorityLevel:U,startTime:q,expirationTime:Q=q+Q,sortIndex:-1},q>P?(U.sortIndex=q,t(c,U),n(l)===null&&U===n(c)&&(g?(v(C),C=-1):g=!0,V(w,q-P))):(U.sortIndex=Q,t(l,U),f||d||(f=!0,B(k))),U},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(U){var S=p;return function(){var q=p;p=S;try{return U.apply(this,arguments)}finally{p=q}}}})(ME),IE.exports=ME;var tee=IE.exports,LE=x,zo=tee;/**
     * @license React
     * react-dom.production.min.js
     *
     * Copyright (c) Facebook, Inc. and its affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */function Be(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var DE=new Set,Zh={};function ic(e,t){Iu(e,t),Iu(e+"Capture",t)}function Iu(e,t){for(Zh[e]=t,e=0;e<t.length;e++)DE.add(t[e])}var ls=!(typeof window>"u"||window.document===void 0||window.document.createElement===void 0),Aw=Object.prototype.hasOwnProperty,nee=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jE={},zE={};function Kr(e,t,n,r,o,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var _r={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_r[e]=new Kr(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_r[t]=new Kr(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){_r[e]=new Kr(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_r[e]=new Kr(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_r[e]=new Kr(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){_r[e]=new Kr(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){_r[e]=new Kr(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){_r[e]=new Kr(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){_r[e]=new Kr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Nw=/[\-:]([a-z])/g;function Rw(e){return e[1].toUpperCase()}function Iw(e,t,n,r){var o=_r.hasOwnProperty(t)?_r[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(function(i,a,s,l){if(a==null||function(c,u,h,p){if(h!==null&&h.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return!p&&(h!==null?!h.acceptsBooleans:(c=c.toLowerCase().slice(0,5))!=="data-"&&c!=="aria-");default:return!1}}(i,a,s,l))return!0;if(l)return!1;if(s!==null)switch(s.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}(t,n,o,r)&&(n=null),r||o===null?function(i){return!!Aw.call(zE,i)||!Aw.call(jE,i)&&(nee.test(i)?zE[i]=!0:(jE[i]=!0,!1))}(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type!==3&&"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(n=(o=o.type)===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Nw,Rw);_r[t]=new Kr(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Nw,Rw);_r[t]=new Kr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Nw,Rw);_r[t]=new Kr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){_r[e]=new Kr(e,1,!1,e.toLowerCase(),null,!1,!1)}),_r.xlinkHref=new Kr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){_r[e]=new Kr(e,1,!1,e.toLowerCase(),null,!0,!0)});var cs=LE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yf=Symbol.for("react.element"),Mu=Symbol.for("react.portal"),Lu=Symbol.for("react.fragment"),Mw=Symbol.for("react.strict_mode"),Lw=Symbol.for("react.profiler"),FE=Symbol.for("react.provider"),BE=Symbol.for("react.context"),Dw=Symbol.for("react.forward_ref"),jw=Symbol.for("react.suspense"),zw=Symbol.for("react.suspense_list"),Fw=Symbol.for("react.memo"),Qs=Symbol.for("react.lazy"),UE=Symbol.for("react.offscreen"),HE=Symbol.iterator;function e1(e){return e===null||typeof e!="object"?null:typeof(e=HE&&e[HE]||e["@@iterator"])=="function"?e:null}var Bw,Ln=Object.assign;function t1(e){if(Bw===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Bw=t&&t[1]||""}return`
`+Bw+e}var Uw=!1;function Hw(e,t){if(!e||Uw)return"";Uw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),i=r.stack.split(`
`),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(a!==1||s!==1)do if(a--,0>--s||o[a]!==i[s]){var l=`
`+o[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=s);break}}}finally{Uw=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?t1(e):""}function ree(e){switch(e.tag){case 5:return t1(e.type);case 16:return t1("Lazy");case 13:return t1("Suspense");case 19:return t1("SuspenseList");case 0:case 2:case 15:return e=Hw(e.type,!1);case 11:return e=Hw(e.type.render,!1);case 1:return e=Hw(e.type,!0);default:return""}}function Vw(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Lu:return"Fragment";case Mu:return"Portal";case Lw:return"Profiler";case Mw:return"StrictMode";case jw:return"Suspense";case zw:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case BE:return(e.displayName||"Context")+".Consumer";case FE:return(e._context.displayName||"Context")+".Provider";case Dw:var t=e.render;return(e=e.displayName)||(e=(e=t.displayName||t.name||"")!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Fw:return(t=e.displayName||null)!==null?t:Vw(e.type)||"Memo";case Qs:t=e._payload,e=e._init;try{return Vw(e(t))}catch{}}return null}function oee(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vw(t);case 8:return t===Mw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function VE(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wf(e){e._valueTracker||(e._valueTracker=function(t){var n=VE(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),o=""+t[n];if(!t.hasOwnProperty(n)&&r!==void 0&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return i.call(this)},set:function(s){o=""+s,a.call(this,s)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(s){o=""+s},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}(e))}function $E(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=VE(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function kf(e){if((e=e||(typeof document<"u"?document:void 0))===void 0)return null;try{return e.activeElement||e.body}catch{return e.body}}function $w(e,t){var n=t.checked;return Ln({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function qE(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Xs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function WE(e,t){(t=t.checked)!=null&&Iw(e,"checked",t,!1)}function qw(e,t){WE(e,t);var n=Xs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset")return void e.removeAttribute("value");t.hasOwnProperty("value")?Ww(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ww(e,t.type,Xs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function GE(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}(n=e.name)!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ww(e,t,n){t==="number"&&kf(e.ownerDocument)===e||(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var n1=Array.isArray;function Du(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Xs(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Gw(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Be(91));return Ln({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function KE(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Be(92));if(n1(n)){if(1<n.length)throw Error(Be(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Xs(n)}}function YE(e,t){var n=Xs(t.value),r=Xs(t.defaultValue);n!=null&&((n=""+n)!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function QE(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function XE(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kw(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?XE(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yw,Qw,JE=(Qw=function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for((Yw=Yw||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Yw.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return Qw(e,t)})}:Qw);function r1(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3)return void(n.nodeValue=t)}e.textContent=t}var o1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iee=["Webkit","ms","Moz","O"];function ZE(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||o1.hasOwnProperty(e)&&o1[e]?(""+t).trim():t+"px"}function eC(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=ZE(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(o1).forEach(function(e){iee.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),o1[t]=o1[e]})});var aee=Ln({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xw(e,t){if(t){if(aee[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Be(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Be(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Be(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Be(62))}}function Jw(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zw=null;function e5(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var t5=null,ju=null,zu=null;function tC(e){if(e=S1(e)){if(typeof t5!="function")throw Error(Be(280));var t=e.stateNode;t&&(t=Hf(t),t5(e.stateNode,e.type,t))}}function nC(e){ju?zu?zu.push(e):zu=[e]:ju=e}function rC(){if(ju){var e=ju,t=zu;if(zu=ju=null,tC(e),t)for(e=0;e<t.length;e++)tC(t[e])}}function oC(e,t){return e(t)}function iC(){}var n5=!1;function aC(e,t,n){if(n5)return e(t,n);n5=!0;try{return oC(e,t,n)}finally{n5=!1,(ju!==null||zu!==null)&&(iC(),rC())}}function i1(e,t){var n=e.stateNode;if(n===null)return null;var r=Hf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!((e=e.type)==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Be(231,t,typeof n));return n}var r5=!1;if(ls)try{var a1={};Object.defineProperty(a1,"passive",{get:function(){r5=!0}}),window.addEventListener("test",a1,a1),window.removeEventListener("test",a1,a1)}catch{r5=!1}function see(e,t,n,r,o,i,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var s1=!1,xf=null,_f=!1,o5=null,lee={onError:function(e){s1=!0,xf=e}};function cee(e,t,n,r,o,i,a,s,l){s1=!1,xf=null,see.apply(lee,arguments)}function ac(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do 4098&(t=e).flags&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function sC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate)!==null&&(t=e.memoizedState),t!==null)return t.dehydrated}return null}function lC(e){if(ac(e)!==e)throw Error(Be(188))}function cC(e){return e=function(t){var n=t.alternate;if(!n){if((n=ac(t))===null)throw Error(Be(188));return n!==t?null:t}for(var r=t,o=n;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if((o=i.return)!==null){r=o;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return lC(i),t;if(a===o)return lC(i),n;a=a.sibling}throw Error(Be(188))}if(r.return!==o.return)r=i,o=a;else{for(var s=!1,l=i.child;l;){if(l===r){s=!0,r=i,o=a;break}if(l===o){s=!0,o=i,r=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===r){s=!0,r=a,o=i;break}if(l===o){s=!0,o=a,r=i;break}l=l.sibling}if(!s)throw Error(Be(189))}}if(r.alternate!==o)throw Error(Be(190))}if(r.tag!==3)throw Error(Be(188));return r.stateNode.current===r?t:n}(e),e!==null?uC(e):null}function uC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=uC(e);if(t!==null)return t;e=e.sibling}return null}var dC=zo.unstable_scheduleCallback,hC=zo.unstable_cancelCallback,uee=zo.unstable_shouldYield,dee=zo.unstable_requestPaint,Kn=zo.unstable_now,hee=zo.unstable_getCurrentPriorityLevel,i5=zo.unstable_ImmediatePriority,pC=zo.unstable_UserBlockingPriority,a5=zo.unstable_NormalPriority,pee=zo.unstable_LowPriority,mC=zo.unstable_IdlePriority,Tf=null,pa=null,Ai=Math.clz32?Math.clz32:function(e){return e>>>=0,e===0?32:31-(mee(e)/fee|0)|0},mee=Math.log,fee=Math.LN2,s5=64,l5=4194304;function l1(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Sf(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(a!==0){var s=a&~o;s!==0?r=l1(s):(i&=a)!==0&&(r=l1(i))}else(a=n&~o)!==0?r=l1(a):i!==0&&(r=l1(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&((o=r&-r)>=(i=t&-t)||o===16&&4194240&i))return t;if(4&r&&(r|=16&n),(t=e.entangledLanes)!==0)for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-Ai(t)),r|=e[n],t&=~o;return r}function gee(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function c5(e){return(e=-1073741825&e.pendingLanes)!==0?e:1073741824&e?1073741824:0}function fC(){var e=s5;return!(4194240&(s5<<=1))&&(s5=64),e}function u5(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function c1(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-Ai(t)]=n}function d5(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ai(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var sn=0;function gC(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var vC,h5,bC,yC,wC,p5=!1,Ef=[],Js=null,Zs=null,el=null,u1=new Map,d1=new Map,tl=[],vee="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kC(e,t){switch(e){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":el=null;break;case"pointerover":case"pointerout":u1.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":d1.delete(t.pointerId)}}function h1(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=S1(t))!==null&&h5(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function xC(e){var t=lc(e.target);if(t!==null){var n=ac(t);if(n!==null){if((t=n.tag)===13){if((t=sC(n))!==null)return e.blockedOn=t,void wC(e.priority,function(){bC(n)})}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=n.tag===3?n.stateNode.containerInfo:null)}}e.blockedOn=null}function Cf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=f5(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n!==null)return(t=S1(n))!==null&&h5(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Zw=r,n.target.dispatchEvent(r),Zw=null,t.shift()}return!0}function _C(e,t,n){Cf(e)&&n.delete(t)}function bee(){p5=!1,Js!==null&&Cf(Js)&&(Js=null),Zs!==null&&Cf(Zs)&&(Zs=null),el!==null&&Cf(el)&&(el=null),u1.forEach(_C),d1.forEach(_C)}function p1(e,t){e.blockedOn===t&&(e.blockedOn=null,p5||(p5=!0,zo.unstable_scheduleCallback(zo.unstable_NormalPriority,bee)))}function m1(e){function t(o){return p1(o,e)}if(0<Ef.length){p1(Ef[0],e);for(var n=1;n<Ef.length;n++){var r=Ef[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Js!==null&&p1(Js,e),Zs!==null&&p1(Zs,e),el!==null&&p1(el,e),u1.forEach(t),d1.forEach(t),n=0;n<tl.length;n++)(r=tl[n]).blockedOn===e&&(r.blockedOn=null);for(;0<tl.length&&(n=tl[0]).blockedOn===null;)xC(n),n.blockedOn===null&&tl.shift()}var Fu=cs.ReactCurrentBatchConfig,Of=!0;function yee(e,t,n,r){var o=sn,i=Fu.transition;Fu.transition=null;try{sn=1,m5(e,t,n,r)}finally{sn=o,Fu.transition=i}}function wee(e,t,n,r){var o=sn,i=Fu.transition;Fu.transition=null;try{sn=4,m5(e,t,n,r)}finally{sn=o,Fu.transition=i}}function m5(e,t,n,r){if(Of){var o=f5(e,t,n,r);if(o===null)R5(e,t,r,Pf,n),kC(e,r);else if(function(a,s,l,c,u){switch(s){case"focusin":return Js=h1(Js,a,s,l,c,u),!0;case"dragenter":return Zs=h1(Zs,a,s,l,c,u),!0;case"mouseover":return el=h1(el,a,s,l,c,u),!0;case"pointerover":var h=u.pointerId;return u1.set(h,h1(u1.get(h)||null,a,s,l,c,u)),!0;case"gotpointercapture":return h=u.pointerId,d1.set(h,h1(d1.get(h)||null,a,s,l,c,u)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(kC(e,r),4&t&&-1<vee.indexOf(e)){for(;o!==null;){var i=S1(o);if(i!==null&&vC(i),(i=f5(e,t,n,r))===null&&R5(e,t,r,Pf,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else R5(e,t,r,null,n)}}var Pf=null;function f5(e,t,n,r){if(Pf=null,(e=lc(e=e5(r)))!==null)if((t=ac(e))===null)e=null;else if((n=t.tag)===13){if((e=sC(t))!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Pf=e,null}function TC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hee()){case i5:return 1;case pC:return 4;case a5:case pee:return 16;case mC:return 536870912;default:return 16}default:return 16}}var sc=null,g5=null,Af=null;function SC(){if(Af)return Af;var e,t,n=g5,r=n.length,o="value"in sc?sc.value:sc.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Af=o.slice(e,1<t?1-t:void 0)}function Nf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode)===0&&t===13&&(e=13):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Rf(){return!0}function EC(){return!1}function Fo(e){function t(n,r,o,i,a){for(var s in this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Rf:EC,this.isPropagationStopped=EC,this}return Ln(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rf)},persist:function(){},isPersistent:Rf}),t}var v5,b5,f1,Bu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},y5=Fo(Bu),g1=Ln({},Bu,{view:0,detail:0}),kee=Fo(g1),If=Ln({},g1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:k5,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==f1&&(f1&&e.type==="mousemove"?(v5=e.screenX-f1.screenX,b5=e.screenY-f1.screenY):b5=v5=0,f1=e),v5)},movementY:function(e){return"movementY"in e?e.movementY:b5}}),CC=Fo(If),xee=Fo(Ln({},If,{dataTransfer:0})),w5=Fo(Ln({},g1,{relatedTarget:0})),_ee=Fo(Ln({},Bu,{animationName:0,elapsedTime:0,pseudoElement:0})),Tee=Ln({},Bu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),See=Fo(Tee),OC=Fo(Ln({},Bu,{data:0})),Eee={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cee={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pee(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Oee[e])&&!!t[e]}function k5(){return Pee}var Aee=Ln({},g1,{key:function(e){if(e.key){var t=Eee[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Nf(e))===13?"Enter":String.fromCharCode(e):e.type==="keydown"||e.type==="keyup"?Cee[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:k5,charCode:function(e){return e.type==="keypress"?Nf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Nee=Fo(Aee),PC=Fo(Ln({},If,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ree=Fo(Ln({},g1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:k5})),Iee=Fo(Ln({},Bu,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mee=Ln({},If,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Lee=Fo(Mee),Dee=[9,13,27,32],x5=ls&&"CompositionEvent"in window,v1=null;ls&&"documentMode"in document&&(v1=document.documentMode);var jee=ls&&"TextEvent"in window&&!v1,AC=ls&&(!x5||v1&&8<v1&&11>=v1),NC=String.fromCharCode(32),RC=!1;function IC(e,t){switch(e){case"keyup":return Dee.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function MC(e){return typeof(e=e.detail)=="object"&&"data"in e?e.data:null}var Uu=!1,zee={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function LC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zee[e.type]:t==="textarea"}function DC(e,t,n,r){nC(r),0<(t=Ff(t,"onChange")).length&&(n=new y5("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Mf=null,b1=null;function Fee(e){e6(e,0)}function Lf(e){if($E(Wu(e)))return e}function Bee(e,t){if(e==="change")return t}var jC=!1;if(ls){var _5;if(ls){var T5="oninput"in document;if(!T5){var zC=document.createElement("div");zC.setAttribute("oninput","return;"),T5=typeof zC.oninput=="function"}_5=T5}else _5=!1;jC=_5&&(!document.documentMode||9<document.documentMode)}function FC(){Mf&&(Mf.detachEvent("onpropertychange",BC),b1=Mf=null)}function BC(e){if(e.propertyName==="value"&&Lf(b1)){var t=[];DC(t,b1,e,e5(e)),aC(Fee,t)}}function Uee(e,t,n){e==="focusin"?(FC(),b1=n,(Mf=t).attachEvent("onpropertychange",BC)):e==="focusout"&&FC()}function Hee(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Lf(b1)}function Vee(e,t){if(e==="click")return Lf(t)}function $ee(e,t){if(e==="input"||e==="change")return Lf(t)}var Ni=typeof Object.is=="function"?Object.is:function(e,t){return e===t&&(e!==0||1/e==1/t)||e!=e&&t!=t};function y1(e,t){if(Ni(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Aw.call(t,o)||!Ni(e[o],t[o]))return!1}return!0}function UC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function HC(e,t){var n,r=UC(e);for(e=0;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=UC(r)}}function VC(e,t){return!(!e||!t)&&(e===t||(!e||e.nodeType!==3)&&(t&&t.nodeType===3?VC(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function $C(){for(var e=window,t=kf();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(!n)break;t=kf((e=t.contentWindow).document)}return t}function S5(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function qee(e){var t=$C(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&VC(n.ownerDocument.documentElement,n)){if(r!==null&&S5(n)){if(t=r.start,(e=r.end)===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=HC(n,i);var a=HC(n,r);o&&a&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Wee=ls&&"documentMode"in document&&11>=document.documentMode,Hu=null,E5=null,w1=null,C5=!1;function qC(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;C5||Hu==null||Hu!==kf(r)||("selectionStart"in(r=Hu)&&S5(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},w1&&y1(w1,r)||(w1=r,0<(r=Ff(E5,"onSelect")).length&&(t=new y5("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Hu)))}function Df(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Vu={animationend:Df("Animation","AnimationEnd"),animationiteration:Df("Animation","AnimationIteration"),animationstart:Df("Animation","AnimationStart"),transitionend:Df("Transition","TransitionEnd")},O5={},WC={};function jf(e){if(O5[e])return O5[e];if(!Vu[e])return e;var t,n=Vu[e];for(t in n)if(n.hasOwnProperty(t)&&t in WC)return O5[e]=n[t];return e}ls&&(WC=document.createElement("div").style,"AnimationEvent"in window||(delete Vu.animationend.animation,delete Vu.animationiteration.animation,delete Vu.animationstart.animation),"TransitionEvent"in window||delete Vu.transitionend.transition);var GC=jf("animationend"),KC=jf("animationiteration"),YC=jf("animationstart"),QC=jf("transitionend"),XC=new Map,JC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nl(e,t){XC.set(e,t),ic(t,[e])}for(var P5=0;P5<JC.length;P5++){var A5=JC[P5];nl(A5.toLowerCase(),"on"+(A5[0].toUpperCase()+A5.slice(1)))}nl(GC,"onAnimationEnd"),nl(KC,"onAnimationIteration"),nl(YC,"onAnimationStart"),nl("dblclick","onDoubleClick"),nl("focusin","onFocus"),nl("focusout","onBlur"),nl(QC,"onTransitionEnd"),Iu("onMouseEnter",["mouseout","mouseover"]),Iu("onMouseLeave",["mouseout","mouseover"]),Iu("onPointerEnter",["pointerout","pointerover"]),Iu("onPointerLeave",["pointerout","pointerover"]),ic("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ic("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ic("onBeforeInput",["compositionend","keypress","textInput","paste"]),ic("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ic("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ic("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var k1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gee=new Set("cancel close invalid load scroll toggle".split(" ").concat(k1));function ZC(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(o,i,a,s,l,c,u,h,p){if(cee.apply(this,arguments),s1){if(!s1)throw Error(Be(198));var d=xf;s1=!1,xf=null,_f||(_f=!0,o5=d)}}(r,t,void 0,e),e.currentTarget=null}function e6(e,t){t=(4&t)!=0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&o.isPropagationStopped())break e;ZC(o,s,c),i=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==i&&o.isPropagationStopped())break e;ZC(o,s,c),i=l}}}if(_f)throw e=o5,_f=!1,o5=null,e}function kn(e,t){var n=t[z5];n===void 0&&(n=t[z5]=new Set);var r=e+"__bubble";n.has(r)||(t6(t,e,2,!1),n.add(r))}function N5(e,t,n){var r=0;t&&(r|=4),t6(n,e,r,t)}var zf="_reactListening"+Math.random().toString(36).slice(2);function x1(e){if(!e[zf]){e[zf]=!0,DE.forEach(function(n){n!=="selectionchange"&&(Gee.has(n)||N5(n,!1,e),N5(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zf]||(t[zf]=!0,N5("selectionchange",!1,t))}}function t6(e,t,n,r){switch(TC(t)){case 1:var o=yee;break;case 4:o=wee;break;default:o=m5}n=o.bind(null,t,n,e),o=void 0,!r5||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function R5(e,t,n,r,o){var i=r;if(!(1&t)&&!(2&t)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===o||s.nodeType===8&&s.parentNode===o)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&((l=a.stateNode.containerInfo)===o||l.nodeType===8&&l.parentNode===o))return;a=a.return}for(;s!==null;){if((a=lc(s))===null)return;if((l=a.tag)===5||l===6){r=i=a;continue e}s=s.parentNode}}r=r.return}aC(function(){var c=i,u=e5(n),h=[];e:{var p=XC.get(e);if(p!==void 0){var d=y5,f=e;switch(e){case"keypress":if(Nf(n)===0)break e;case"keydown":case"keyup":d=Nee;break;case"focusin":f="focus",d=w5;break;case"focusout":f="blur",d=w5;break;case"beforeblur":case"afterblur":d=w5;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=CC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=xee;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=Ree;break;case GC:case KC:case YC:d=_ee;break;case QC:d=Iee;break;case"scroll":d=kee;break;case"wheel":d=Lee;break;case"copy":case"cut":case"paste":d=See;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=PC}var g=(4&t)!=0,m=!g&&e==="scroll",v=g?p!==null?p+"Capture":null:p;g=[];for(var y,b=c;b!==null;){var w=(y=b).stateNode;if(y.tag===5&&w!==null&&(y=w,v!==null&&(w=i1(b,v))!=null&&g.push(_1(b,w,y))),m)break;b=b.return}0<g.length&&(p=new d(p,f,null,n,u),h.push({event:p,listeners:g}))}}if(!(7&t)){if(d=e==="mouseout"||e==="pointerout",(!(p=e==="mouseover"||e==="pointerover")||n===Zw||!(f=n.relatedTarget||n.fromElement)||!lc(f)&&!f[us])&&(d||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,d?(d=c,(f=(f=n.relatedTarget||n.toElement)?lc(f):null)!==null&&(f!==(m=ac(f))||f.tag!==5&&f.tag!==6)&&(f=null)):(d=null,f=c),d!==f)){if(g=CC,w="onMouseLeave",v="onMouseEnter",b="mouse",e!=="pointerout"&&e!=="pointerover"||(g=PC,w="onPointerLeave",v="onPointerEnter",b="pointer"),m=d==null?p:Wu(d),y=f==null?p:Wu(f),(p=new g(w,b+"leave",d,n,u)).target=m,p.relatedTarget=y,w=null,lc(u)===c&&((g=new g(v,b+"enter",f,n,u)).target=y,g.relatedTarget=m,w=g),m=w,d&&f)e:{for(v=f,b=0,y=g=d;y;y=$u(y))b++;for(y=0,w=v;w;w=$u(w))y++;for(;0<b-y;)g=$u(g),b--;for(;0<y-b;)v=$u(v),y--;for(;b--;){if(g===v||v!==null&&g===v.alternate)break e;g=$u(g),v=$u(v)}g=null}else g=null;d!==null&&n6(h,p,d,g,!1),f!==null&&m!==null&&n6(h,m,f,g,!0)}if((d=(p=c?Wu(c):window).nodeName&&p.nodeName.toLowerCase())==="select"||d==="input"&&p.type==="file")var k=Bee;else if(LC(p))if(jC)k=$ee;else{k=Hee;var _=Uee}else(d=p.nodeName)&&d.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=Vee);switch(k&&(k=k(e,c))?DC(h,k,n,u):(_&&_(e,p,c),e==="focusout"&&(_=p._wrapperState)&&_.controlled&&p.type==="number"&&Ww(p,"number",p.value)),_=c?Wu(c):window,e){case"focusin":(LC(_)||_.contentEditable==="true")&&(Hu=_,E5=c,w1=null);break;case"focusout":w1=E5=Hu=null;break;case"mousedown":C5=!0;break;case"contextmenu":case"mouseup":case"dragend":C5=!1,qC(h,n,u);break;case"selectionchange":if(Wee)break;case"keydown":case"keyup":qC(h,n,u)}var O;if(x5)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Uu?IC(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(AC&&n.locale!=="ko"&&(Uu||E!=="onCompositionStart"?E==="onCompositionEnd"&&Uu&&(O=SC()):(g5="value"in(sc=u)?sc.value:sc.textContent,Uu=!0)),0<(_=Ff(c,E)).length&&(E=new OC(E,e,null,n,u),h.push({event:E,listeners:_}),(O||(O=MC(n))!==null)&&(E.data=O))),(O=jee?function(C,N){switch(C){case"compositionend":return MC(N);case"keypress":return N.which!==32?null:(RC=!0,NC);case"textInput":return(C=N.data)===NC&&RC?null:C;default:return null}}(e,n):function(C,N){if(Uu)return C==="compositionend"||!x5&&IC(C,N)?(C=SC(),Af=g5=sc=null,Uu=!1,C):null;switch(C){case"paste":default:return null;case"keypress":if(!(N.ctrlKey||N.altKey||N.metaKey)||N.ctrlKey&&N.altKey){if(N.char&&1<N.char.length)return N.char;if(N.which)return String.fromCharCode(N.which)}return null;case"compositionend":return AC&&N.locale!=="ko"?null:N.data}}(e,n))&&0<(c=Ff(c,"onBeforeInput")).length&&(u=new OC("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=O)}e6(h,t)})}function _1(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ff(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,(i=i1(e,n))!=null&&r.unshift(_1(e,i,o)),(i=i1(e,t))!=null&&r.push(_1(e,i,o))),e=e.return}return r}function $u(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function n6(e,t,n,r,o){for(var i=t._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,o?(l=i1(n,i))!=null&&a.unshift(_1(n,l,s)):o||(l=i1(n,i))!=null&&a.push(_1(n,l,s))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Kee=/\r\n?/g,Yee=/\u0000|\uFFFD/g;function r6(e){return(typeof e=="string"?e:""+e).replace(Kee,`
`).replace(Yee,"")}function Bf(e,t,n){if(t=r6(t),r6(e)!==t&&n)throw Error(Be(425))}function Uf(){}var I5=null,M5=null;function L5(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var D5=typeof setTimeout=="function"?setTimeout:void 0,Qee=typeof clearTimeout=="function"?clearTimeout:void 0,o6=typeof Promise=="function"?Promise:void 0,Xee=typeof queueMicrotask=="function"?queueMicrotask:o6!==void 0?function(e){return o6.resolve(null).then(e).catch(Jee)}:D5;function Jee(e){setTimeout(function(){throw e})}function j5(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if((n=o.data)==="/$"){if(r===0)return e.removeChild(o),void m1(t);r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);m1(t)}function rl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if((t=e.data)==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function i6(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var qu=Math.random().toString(36).slice(2),ma="__reactFiber$"+qu,T1="__reactProps$"+qu,us="__reactContainer$"+qu,z5="__reactEvents$"+qu,Zee="__reactListeners$"+qu,ete="__reactHandles$"+qu;function lc(e){var t=e[ma];if(t)return t;for(var n=e.parentNode;n;){if(t=n[us]||n[ma]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=i6(e);e!==null;){if(n=e[ma])return n;e=i6(e)}return t}n=(e=n).parentNode}return null}function S1(e){return!(e=e[ma]||e[us])||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Wu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Be(33))}function Hf(e){return e[T1]||null}var F5=[],Gu=-1;function ol(e){return{current:e}}function Cn(e){0>Gu||(e.current=F5[Gu],F5[Gu]=null,Gu--)}function gn(e,t){Gu++,F5[Gu]=e.current,e.current=t}var il={},Ir=ol(il),io=ol(!1),cc=il;function Ku(e,t){var n=e.type.contextTypes;if(!n)return il;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Bo(e){return(e=e.childContextTypes)!=null}function B5(){Cn(io),Cn(Ir)}function a6(e,t,n){if(Ir.current!==il)throw Error(Be(168));gn(Ir,t),gn(io,n)}function s6(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(Be(108,oee(e)||"Unknown",o));return Ln({},n,r)}function Vf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||il,cc=Ir.current,gn(Ir,e),gn(io,io.current),!0}function l6(e,t,n){var r=e.stateNode;if(!r)throw Error(Be(169));n?(e=s6(e,t,cc),r.__reactInternalMemoizedMergedChildContext=e,Cn(io),Cn(Ir),gn(Ir,e)):Cn(io),gn(io,n)}var ds=null,$f=!1,U5=!1;function c6(e){ds===null?ds=[e]:ds.push(e)}function al(){if(!U5&&ds!==null){U5=!0;var e=0,t=sn;try{var n=ds;for(sn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ds=null,$f=!1}catch(o){throw ds!==null&&(ds=ds.slice(e+1)),dC(i5,al),o}finally{sn=t,U5=!1}}return null}var Yu=[],Qu=0,qf=null,Wf=0,ai=[],si=0,uc=null,fa=1,hs="";function dc(e,t){Yu[Qu++]=Wf,Yu[Qu++]=qf,qf=e,Wf=t}function u6(e,t,n){ai[si++]=fa,ai[si++]=hs,ai[si++]=uc,uc=e;var r=fa;e=hs;var o=32-Ai(r)-1;r&=~(1<<o),n+=1;var i=32-Ai(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,fa=1<<32-Ai(t)+o|n<<o|r,hs=i+e}else fa=1<<i|n<<o|r,hs=e}function H5(e){e.return!==null&&(dc(e,1),u6(e,1,0))}function V5(e){for(;e===qf;)qf=Yu[--Qu],Yu[Qu]=null,Wf=Yu[--Qu],Yu[Qu]=null;for(;e===uc;)uc=ai[--si],ai[si]=null,hs=ai[--si],ai[si]=null,fa=ai[--si],ai[si]=null}var Uo=null,Ho=null,On=!1,Ri=null;function d6(e,t){var n=di(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,(t=e.deletions)===null?(e.deletions=[n],e.flags|=16):t.push(n)}function h6(e,t){switch(e.tag){case 5:var n=e.type;return(t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)!==null&&(e.stateNode=t,Uo=e,Ho=rl(t.firstChild),!0);case 6:return(t=e.pendingProps===""||t.nodeType!==3?null:t)!==null&&(e.stateNode=t,Uo=e,Ho=null,!0);case 13:return(t=t.nodeType!==8?null:t)!==null&&(n=uc!==null?{id:fa,overflow:hs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=di(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Uo=e,Ho=null,!0);default:return!1}}function $5(e){return(1&e.mode)!=0&&(128&e.flags)==0}function q5(e){if(On){var t=Ho;if(t){var n=t;if(!h6(e,t)){if($5(e))throw Error(Be(418));t=rl(n.nextSibling);var r=Uo;t&&h6(e,t)?d6(r,n):(e.flags=-4097&e.flags|2,On=!1,Uo=e)}}else{if($5(e))throw Error(Be(418));e.flags=-4097&e.flags|2,On=!1,Uo=e}}}function p6(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Uo=e}function Gf(e){if(e!==Uo)return!1;if(!On)return p6(e),On=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=(t=e.type)!=="head"&&t!=="body"&&!L5(e.type,e.memoizedProps)),t&&(t=Ho)){if($5(e))throw m6(),Error(Be(418));for(;t;)d6(e,t),t=rl(t.nextSibling)}if(p6(e),e.tag===13){if(!(e=(e=e.memoizedState)!==null?e.dehydrated:null))throw Error(Be(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ho=rl(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ho=null}}else Ho=Uo?rl(e.stateNode.nextSibling):null;return!0}function m6(){for(var e=Ho;e;)e=rl(e.nextSibling)}function Xu(){Ho=Uo=null,On=!1}function W5(e){Ri===null?Ri=[e]:Ri.push(e)}var tte=cs.ReactCurrentBatchConfig;function Ii(e,t){if(e&&e.defaultProps){for(var n in t=Ln({},t),e=e.defaultProps)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Kf=ol(null),Yf=null,Ju=null,G5=null;function K5(){G5=Ju=Yf=null}function Y5(e){var t=Kf.current;Cn(Kf),e._currentValue=t}function Q5(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Zu(e,t){Yf=e,G5=Ju=null,(e=e.dependencies)!==null&&e.firstContext!==null&&(e.lanes&t&&(ao=!0),e.firstContext=null)}function li(e){var t=e._currentValue;if(G5!==e)if(e={context:e,memoizedValue:t,next:null},Ju===null){if(Yf===null)throw Error(Be(308));Ju=e,Yf.dependencies={lanes:0,firstContext:e}}else Ju=Ju.next=e;return t}var hc=null;function X5(e){hc===null?hc=[e]:hc.push(e)}function f6(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,X5(t)):(n.next=o.next,o.next=n),t.interleaved=n,ps(e,r)}function ps(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,(n=e.alternate)!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var sl=!1;function J5(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function g6(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ms(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ll(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(2&Yt)!=0){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,ps(e,n)}return(o=r.interleaved)===null?(t.next=t,X5(r)):(t.next=o.next,o.next=t),r.interleaved=t,ps(e,n)}function Qf(e,t,n){if((t=t.updateQueue)!==null&&(t=t.shared,(4194240&n)!=0)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,d5(e,n)}}function v6(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&n===(r=r.updateQueue)){var o=null,i=null;if((n=n.firstBaseUpdate)!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}(e=n.lastBaseUpdate)===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Xf(e,t,n,r){var o=e.updateQueue;sl=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(s!==null){o.shared.pending=null;var l=s,c=l.next;l.next=null,a===null?i=c:a.next=c,a=l;var u=e.alternate;u!==null&&(s=(u=u.updateQueue).lastBaseUpdate)!==a&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l)}if(i!==null){var h=o.baseState;for(a=0,u=c=l=null,s=i;;){var p=s.lane,d=s.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,g=s;switch(p=t,d=n,g.tag){case 1:if(typeof(f=g.payload)=="function"){h=f.call(d,h,p);break e}h=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if((p=typeof(f=g.payload)=="function"?f.call(d,h,p):f)==null)break e;h=Ln({},h,p);break e;case 2:sl=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,(p=o.effects)===null?o.effects=[s]:p.push(s))}else d={eventTime:d,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=d,l=h):u=u.next=d,a|=p;if((s=s.next)===null){if((s=o.shared.pending)===null)break;s=(p=s).next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}if(u===null&&(l=h),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,(t=o.shared.interleaved)!==null){o=t;do a|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);fc|=a,e.lanes=a,e.memoizedState=h}}function b6(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(Be(191,o));o.call(r)}}}var y6=new LE.Component().refs;function Z5(e,t,n,r){n=(n=n(r,t=e.memoizedState))==null?t:Ln({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Jf={isMounted:function(e){return!!(e=e._reactInternals)&&ac(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xr(),o=pl(e),i=ms(r,o);i.payload=t,n!=null&&(i.callback=n),(t=ll(e,i,o))!==null&&(Mi(t,e,o,r),Qf(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xr(),o=pl(e),i=ms(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),(t=ll(e,i,o))!==null&&(Mi(t,e,o,r),Qf(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xr(),r=pl(e),o=ms(n,r);o.tag=2,t!=null&&(o.callback=t),(t=ll(e,o,r))!==null&&(Mi(t,e,r,n),Qf(t,e,r))}};function w6(e,t,n,r,o,i,a){return typeof(e=e.stateNode).shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||!y1(n,r)||!y1(o,i)}function k6(e,t,n){var r=!1,o=il,i=t.contextType;return typeof i=="object"&&i!==null?i=li(i):(o=Bo(t)?cc:Ir.current,i=(r=(r=t.contextTypes)!=null)?Ku(e,o):il),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Jf,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function x6(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Jf.enqueueReplaceState(t,t.state,null)}function e2(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=y6,J5(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=li(i):(i=Bo(t)?cc:Ir.current,o.context=Ku(e,i)),o.state=e.memoizedState,typeof(i=t.getDerivedStateFromProps)=="function"&&(Z5(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Jf.enqueueReplaceState(o,o.state,null),Xf(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function E1(e,t,n){if((e=n.ref)!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner){if(n.tag!==1)throw Error(Be(309));var r=n.stateNode}if(!r)throw Error(Be(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var s=o.refs;s===y6&&(s=o.refs={}),a===null?delete s[i]:s[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(Be(284));if(!n._owner)throw Error(Be(290,e))}return e}function Zf(e,t){throw e=Object.prototype.toString.call(t),Error(Be(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _6(e){return(0,e._init)(e._payload)}function T6(e){function t(m,v){if(e){var y=m.deletions;y===null?(m.deletions=[v],m.flags|=16):y.push(v)}}function n(m,v){if(!e)return null;for(;v!==null;)t(m,v),v=v.sibling;return null}function r(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function o(m,v){return(m=fl(m,v)).index=0,m.sibling=null,m}function i(m,v,y){return m.index=y,e?(y=m.alternate)!==null?(y=y.index)<v?(m.flags|=2,v):y:(m.flags|=2,v):(m.flags|=1048576,v)}function a(m){return e&&m.alternate===null&&(m.flags|=2),m}function s(m,v,y,b){return v===null||v.tag!==6?((v=D2(y,m.mode,b)).return=m,v):((v=o(v,y)).return=m,v)}function l(m,v,y,b){var w=y.type;return w===Lu?u(m,v,y.props.children,b,y.key):v!==null&&(v.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Qs&&_6(w)===v.type)?((b=o(v,y.props)).ref=E1(m,v,y),b.return=m,b):((b=b0(y.type,y.key,y.props,null,m.mode,b)).ref=E1(m,v,y),b.return=m,b)}function c(m,v,y,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?((v=j2(y,m.mode,b)).return=m,v):((v=o(v,y.children||[])).return=m,v)}function u(m,v,y,b,w){return v===null||v.tag!==7?((v=bc(y,m.mode,b,w)).return=m,v):((v=o(v,y)).return=m,v)}function h(m,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return(v=D2(""+v,m.mode,y)).return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case yf:return(y=b0(v.type,v.key,v.props,null,m.mode,y)).ref=E1(m,null,v),y.return=m,y;case Mu:return(v=j2(v,m.mode,y)).return=m,v;case Qs:return h(m,(0,v._init)(v._payload),y)}if(n1(v)||e1(v))return(v=bc(v,m.mode,y,null)).return=m,v;Zf(m,v)}return null}function p(m,v,y,b){var w=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return w!==null?null:s(m,v,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case yf:return y.key===w?l(m,v,y,b):null;case Mu:return y.key===w?c(m,v,y,b):null;case Qs:return p(m,v,(w=y._init)(y._payload),b)}if(n1(y)||e1(y))return w!==null?null:u(m,v,y,b,null);Zf(m,y)}return null}function d(m,v,y,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return s(v,m=m.get(y)||null,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case yf:return l(v,m=m.get(b.key===null?y:b.key)||null,b,w);case Mu:return c(v,m=m.get(b.key===null?y:b.key)||null,b,w);case Qs:return d(m,v,y,(0,b._init)(b._payload),w)}if(n1(b)||e1(b))return u(v,m=m.get(y)||null,b,w,null);Zf(v,b)}return null}function f(m,v,y,b){for(var w=null,k=null,_=v,O=v=0,E=null;_!==null&&O<y.length;O++){_.index>O?(E=_,_=null):E=_.sibling;var C=p(m,_,y[O],b);if(C===null){_===null&&(_=E);break}e&&_&&C.alternate===null&&t(m,_),v=i(C,v,O),k===null?w=C:k.sibling=C,k=C,_=E}if(O===y.length)return n(m,_),On&&dc(m,O),w;if(_===null){for(;O<y.length;O++)(_=h(m,y[O],b))!==null&&(v=i(_,v,O),k===null?w=_:k.sibling=_,k=_);return On&&dc(m,O),w}for(_=r(m,_);O<y.length;O++)(E=d(_,m,O,y[O],b))!==null&&(e&&E.alternate!==null&&_.delete(E.key===null?O:E.key),v=i(E,v,O),k===null?w=E:k.sibling=E,k=E);return e&&_.forEach(function(N){return t(m,N)}),On&&dc(m,O),w}function g(m,v,y,b){var w=e1(y);if(typeof w!="function")throw Error(Be(150));if((y=w.call(y))==null)throw Error(Be(151));for(var k=w=null,_=v,O=v=0,E=null,C=y.next();_!==null&&!C.done;O++,C=y.next()){_.index>O?(E=_,_=null):E=_.sibling;var N=p(m,_,C.value,b);if(N===null){_===null&&(_=E);break}e&&_&&N.alternate===null&&t(m,_),v=i(N,v,O),k===null?w=N:k.sibling=N,k=N,_=E}if(C.done)return n(m,_),On&&dc(m,O),w;if(_===null){for(;!C.done;O++,C=y.next())(C=h(m,C.value,b))!==null&&(v=i(C,v,O),k===null?w=C:k.sibling=C,k=C);return On&&dc(m,O),w}for(_=r(m,_);!C.done;O++,C=y.next())(C=d(_,m,O,C.value,b))!==null&&(e&&C.alternate!==null&&_.delete(C.key===null?O:C.key),v=i(C,v,O),k===null?w=C:k.sibling=C,k=C);return e&&_.forEach(function(L){return t(m,L)}),On&&dc(m,O),w}return function m(v,y,b,w){if(typeof b=="object"&&b!==null&&b.type===Lu&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case yf:e:{for(var k=b.key,_=y;_!==null;){if(_.key===k){if((k=b.type)===Lu){if(_.tag===7){n(v,_.sibling),(y=o(_,b.props.children)).return=v,v=y;break e}}else if(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Qs&&_6(k)===_.type){n(v,_.sibling),(y=o(_,b.props)).ref=E1(v,_,b),y.return=v,v=y;break e}n(v,_);break}t(v,_),_=_.sibling}b.type===Lu?((y=bc(b.props.children,v.mode,w,b.key)).return=v,v=y):((w=b0(b.type,b.key,b.props,null,v.mode,w)).ref=E1(v,y,b),w.return=v,v=w)}return a(v);case Mu:e:{for(_=b.key;y!==null;){if(y.key===_){if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(v,y.sibling),(y=o(y,b.children||[])).return=v,v=y;break e}n(v,y);break}t(v,y),y=y.sibling}(y=j2(b,v.mode,w)).return=v,v=y}return a(v);case Qs:return m(v,y,(_=b._init)(b._payload),w)}if(n1(b))return f(v,y,b,w);if(e1(b))return g(v,y,b,w);Zf(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(v,y.sibling),(y=o(y,b)).return=v,v=y):(n(v,y),(y=D2(b,v.mode,w)).return=v,v=y),a(v)):n(v,y)}}var ed=T6(!0),S6=T6(!1),C1={},ga=ol(C1),O1=ol(C1),P1=ol(C1);function pc(e){if(e===C1)throw Error(Be(174));return e}function t2(e,t){switch(gn(P1,t),gn(O1,e),gn(ga,C1),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Kw(null,"");break;default:t=Kw(t=(e=e===8?t.parentNode:t).namespaceURI||null,e=e.tagName)}Cn(ga),gn(ga,t)}function td(){Cn(ga),Cn(O1),Cn(P1)}function E6(e){pc(P1.current);var t=pc(ga.current),n=Kw(t,e.type);t!==n&&(gn(O1,e),gn(ga,n))}function n2(e){O1.current===e&&(Cn(ga),Cn(O1))}var Fn=ol(0);function e0(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&((n=n.dehydrated)===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(128&t.flags)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var r2=[];function o2(){for(var e=0;e<r2.length;e++)r2[e]._workInProgressVersionPrimary=null;r2.length=0}var t0=cs.ReactCurrentDispatcher,i2=cs.ReactCurrentBatchConfig,mc=0,Dn=null,gr=null,vr=null,n0=!1,A1=!1,N1=0,nte=0;function Mr(){throw Error(Be(321))}function a2(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ni(e[n],t[n]))return!1;return!0}function s2(e,t,n,r,o,i){if(mc=i,Dn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,t0.current=e===null||e.memoizedState===null?ate:ste,e=n(r,o),A1){i=0;do{if(A1=!1,N1=0,25<=i)throw Error(Be(301));i+=1,vr=gr=null,t.updateQueue=null,t0.current=lte,e=n(r,o)}while(A1)}if(t0.current=i0,t=gr!==null&&gr.next!==null,mc=0,vr=gr=Dn=null,n0=!1,t)throw Error(Be(300));return e}function l2(){var e=N1!==0;return N1=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vr===null?Dn.memoizedState=vr=e:vr=vr.next=e,vr}function ci(){if(gr===null){var e=Dn.alternate;e=e!==null?e.memoizedState:null}else e=gr.next;var t=vr===null?Dn.memoizedState:vr.next;if(t!==null)vr=t,gr=e;else{if(e===null)throw Error(Be(310));e={memoizedState:(gr=e).memoizedState,baseState:gr.baseState,baseQueue:gr.baseQueue,queue:gr.queue,next:null},vr===null?Dn.memoizedState=vr=e:vr=vr.next=e}return vr}function R1(e,t){return typeof t=="function"?t(e):t}function c2(e){var t=ci(),n=t.queue;if(n===null)throw Error(Be(311));n.lastRenderedReducer=e;var r=gr,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var a=o.next;o.next=i.next,i.next=a}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var s=a=null,l=null,c=i;do{var u=c.lane;if((mc&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=h,a=r):l=l.next=h,Dn.lanes|=u,fc|=u}c=c.next}while(c!==null&&c!==i);l===null?a=r:l.next=s,Ni(r,t.memoizedState)||(ao=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if((e=n.interleaved)!==null){o=e;do i=o.lane,Dn.lanes|=i,fc|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function u2(e){var t=ci(),n=t.queue;if(n===null)throw Error(Be(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var a=o=o.next;do i=e(i,a.action),a=a.next;while(a!==o);Ni(i,t.memoizedState)||(ao=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function C6(){}function O6(e,t){var n=Dn,r=ci(),o=t(),i=!Ni(r.memoizedState,o);if(i&&(r.memoizedState=o,ao=!0),r=r.queue,d2(N6.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||vr!==null&&1&vr.memoizedState.tag){if(n.flags|=2048,I1(9,A6.bind(null,n,r,o,t),void 0,null),br===null)throw Error(Be(349));30&mc||P6(n,t,o)}return o}function P6(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},(t=Dn.updateQueue)===null?(t={lastEffect:null,stores:null},Dn.updateQueue=t,t.stores=[e]):(n=t.stores)===null?t.stores=[e]:n.push(e)}function A6(e,t,n,r){t.value=n,t.getSnapshot=r,R6(t)&&I6(e)}function N6(e,t,n){return n(function(){R6(t)&&I6(e)})}function R6(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ni(e,n)}catch{return!0}}function I6(e){var t=ps(e,1);t!==null&&Mi(t,e,1,-1)}function M6(e){var t=va();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:R1,lastRenderedState:e},t.queue=e,e=e.dispatch=ite.bind(null,Dn,e),[t.memoizedState,e]}function I1(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},(t=Dn.updateQueue)===null?(t={lastEffect:null,stores:null},Dn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect)===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function L6(){return ci().memoizedState}function r0(e,t,n,r){var o=va();Dn.flags|=e,o.memoizedState=I1(1|t,n,void 0,r===void 0?null:r)}function o0(e,t,n,r){var o=ci();r=r===void 0?null:r;var i=void 0;if(gr!==null){var a=gr.memoizedState;if(i=a.destroy,r!==null&&a2(r,a.deps))return void(o.memoizedState=I1(t,n,i,r))}Dn.flags|=e,o.memoizedState=I1(1|t,n,i,r)}function D6(e,t){return r0(8390656,8,e,t)}function d2(e,t){return o0(2048,8,e,t)}function j6(e,t){return o0(4,2,e,t)}function z6(e,t){return o0(4,4,e,t)}function F6(e,t){return typeof t=="function"?(e=e(),t(e),function(){t(null)}):t!=null?(e=e(),t.current=e,function(){t.current=null}):void 0}function B6(e,t,n){return n=n!=null?n.concat([e]):null,o0(4,4,F6.bind(null,t,e),n)}function h2(){}function U6(e,t){var n=ci();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&a2(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function H6(e,t){var n=ci();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&a2(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function V6(e,t,n){return 21&mc?(Ni(n,t)||(n=fC(),Dn.lanes|=n,fc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ao=!0),e.memoizedState=n)}function rte(e,t){var n=sn;sn=n!==0&&4>n?n:4,e(!0);var r=i2.transition;i2.transition={};try{e(!1),t()}finally{sn=n,i2.transition=r}}function $6(){return ci().memoizedState}function ote(e,t,n){var r=pl(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},q6(e)?W6(t,n):(n=f6(e,t,n,r))!==null&&(Mi(n,e,r,Xr()),G6(n,t,r))}function ite(e,t,n){var r=pl(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(q6(e))W6(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer)!==null)try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,Ni(s,a)){var l=t.interleaved;return l===null?(o.next=o,X5(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch{}(n=f6(e,t,o,r))!==null&&(Mi(n,e,r,o=Xr()),G6(n,t,r))}}function q6(e){var t=e.alternate;return e===Dn||t!==null&&t===Dn}function W6(e,t){A1=n0=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function G6(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,d5(e,n)}}var i0={readContext:li,useCallback:Mr,useContext:Mr,useEffect:Mr,useImperativeHandle:Mr,useInsertionEffect:Mr,useLayoutEffect:Mr,useMemo:Mr,useReducer:Mr,useRef:Mr,useState:Mr,useDebugValue:Mr,useDeferredValue:Mr,useTransition:Mr,useMutableSource:Mr,useSyncExternalStore:Mr,useId:Mr,unstable_isNewReconciler:!1},ate={readContext:li,useCallback:function(e,t){return va().memoizedState=[e,t===void 0?null:t],e},useContext:li,useEffect:D6,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,r0(4194308,4,F6.bind(null,t,e),n)},useLayoutEffect:function(e,t){return r0(4194308,4,e,t)},useInsertionEffect:function(e,t){return r0(4,2,e,t)},useMemo:function(e,t){var n=va();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ote.bind(null,Dn,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:M6,useDebugValue:h2,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=M6(!1),t=e[0];return e=rte.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Dn,o=va();if(On){if(n===void 0)throw Error(Be(407));n=n()}else{if(n=t(),br===null)throw Error(Be(349));30&mc||P6(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,D6(N6.bind(null,r,i,e),[e]),r.flags|=2048,I1(9,A6.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=va(),t=br.identifierPrefix;if(On){var n=hs;t=":"+t+"R"+(n=(fa&~(1<<32-Ai(fa)-1)).toString(32)+n),0<(n=N1++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=nte++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ste={readContext:li,useCallback:U6,useContext:li,useEffect:d2,useImperativeHandle:B6,useInsertionEffect:j6,useLayoutEffect:z6,useMemo:H6,useReducer:c2,useRef:L6,useState:function(){return c2(R1)},useDebugValue:h2,useDeferredValue:function(e){return V6(ci(),gr.memoizedState,e)},useTransition:function(){return[c2(R1)[0],ci().memoizedState]},useMutableSource:C6,useSyncExternalStore:O6,useId:$6,unstable_isNewReconciler:!1},lte={readContext:li,useCallback:U6,useContext:li,useEffect:d2,useImperativeHandle:B6,useInsertionEffect:j6,useLayoutEffect:z6,useMemo:H6,useReducer:u2,useRef:L6,useState:function(){return u2(R1)},useDebugValue:h2,useDeferredValue:function(e){var t=ci();return gr===null?t.memoizedState=e:V6(t,gr.memoizedState,e)},useTransition:function(){return[u2(R1)[0],ci().memoizedState]},useMutableSource:C6,useSyncExternalStore:O6,useId:$6,unstable_isNewReconciler:!1};function nd(e,t){try{var n="",r=t;do n+=ree(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function p2(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function m2(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var cte=typeof WeakMap=="function"?WeakMap:Map;function K6(e,t,n){(n=ms(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){h0||(h0=!0,O2=r),m2(0,t)},n}function Y6(e,t,n){(n=ms(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){m2(0,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){m2(0,t),typeof r!="function"&&(dl===null?dl=new Set([this]):dl.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Q6(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new cte;var o=new Set;r.set(t,o)}else(o=r.get(t))===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=bte.bind(null,e,t,n),t.then(e,e))}function X6(e){do{var t;if((t=e.tag===13)&&(t=(t=e.memoizedState)===null||t.dehydrated!==null),t)return e;e=e.return}while(e!==null);return null}function J6(e,t,n,r,o){return 1&e.mode?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:((t=ms(-1,1)).tag=2,ll(n,t,1))),n.lanes|=1),e)}var ute=cs.ReactCurrentOwner,ao=!1;function so(e,t,n,r){t.child=e===null?S6(t,null,n,r):ed(t,e.child,n,r)}function Z6(e,t,n,r,o){n=n.render;var i=t.ref;return Zu(t,o),r=s2(e,t,n,r,i,o),n=l2(),e===null||ao?(On&&n&&H5(t),t.flags|=1,so(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,fs(e,t,o))}function e7(e,t,n,r,o){if(e===null){var i=n.type;return typeof i!="function"||L2(i)||i.defaultProps!==void 0||n.compare!==null||n.defaultProps!==void 0?((e=b0(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,t7(e,t,i,r,o))}if(i=e.child,(e.lanes&o)==0){var a=i.memoizedProps;if((n=(n=n.compare)!==null?n:y1)(a,r)&&e.ref===t.ref)return fs(e,t,o)}return t.flags|=1,(e=fl(i,r)).ref=t.ref,e.return=t,t.child=e}function t7(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(y1(i,r)&&e.ref===t.ref){if(ao=!1,t.pendingProps=r=i,(e.lanes&o)==0)return t.lanes=e.lanes,fs(e,t,o);131072&e.flags&&(ao=!0)}}return f2(e,t,n,r,o)}function n7(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},gn(od,Vo),Vo|=n;else{if(!(1073741824&n))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,gn(od,Vo),Vo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,gn(od,Vo),Vo|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,gn(od,Vo),Vo|=r;return so(e,t,o,n),t.child}function r7(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function f2(e,t,n,r,o){var i=Bo(n)?cc:Ir.current;return i=Ku(t,i),Zu(t,o),n=s2(e,t,n,r,i,o),r=l2(),e===null||ao?(On&&r&&H5(t),t.flags|=1,so(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,fs(e,t,o))}function o7(e,t,n,r,o){if(Bo(n)){var i=!0;Vf(t)}else i=!1;if(Zu(t,o),t.stateNode===null)s0(e,t),k6(t,n,r),e2(t,n,r,o),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=li(c):c=Ku(t,c=Bo(n)?cc:Ir.current);var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==c)&&x6(t,a,r,c),sl=!1;var p=t.memoizedState;a.state=p,Xf(t,r,a,o),l=t.memoizedState,s!==r||p!==l||io.current||sl?(typeof u=="function"&&(Z5(t,n,u,r),l=t.memoizedState),(s=sl||w6(t,n,s,r,p,l,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,g6(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Ii(t.type,s),a.props=c,h=t.pendingProps,p=a.context,typeof(l=n.contextType)=="object"&&l!==null?l=li(l):l=Ku(t,l=Bo(n)?cc:Ir.current);var d=n.getDerivedStateFromProps;(u=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==h||p!==l)&&x6(t,a,r,l),sl=!1,p=t.memoizedState,a.state=p,Xf(t,r,a,o);var f=t.memoizedState;s!==h||p!==f||io.current||sl?(typeof d=="function"&&(Z5(t,n,d,r),f=t.memoizedState),(c=sl||w6(t,n,c,r,p,f,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,f,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,f,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return g2(e,t,n,r,i,o)}function g2(e,t,n,r,o,i){r7(e,t);var a=(128&t.flags)!=0;if(!r&&!a)return o&&l6(t,n,!1),fs(e,t,i);r=t.stateNode,ute.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=ed(t,e.child,null,i),t.child=ed(t,null,s,i)):so(e,t,s,i),t.memoizedState=r.state,o&&l6(t,n,!0),t.child}function i7(e){var t=e.stateNode;t.pendingContext?a6(0,t.pendingContext,t.pendingContext!==t.context):t.context&&a6(0,t.context,!1),t2(e,t.containerInfo)}function a7(e,t,n,r,o){return Xu(),W5(o),t.flags|=256,so(e,t,n,r),t.child}var s7,v2,l7,c7,b2={dehydrated:null,treeContext:null,retryLane:0};function y2(e){return{baseLanes:e,cachePool:null,transitions:null}}function u7(e,t,n){var r,o=t.pendingProps,i=Fn.current,a=!1,s=(128&t.flags)!=0;if((r=s)||(r=(e===null||e.memoizedState!==null)&&(2&i)!=0),r?(a=!0,t.flags&=-129):e!==null&&e.memoizedState===null||(i|=1),gn(Fn,1&i),e===null)return q5(t),(e=t.memoizedState)!==null&&(e=e.dehydrated)!==null?(1&t.mode?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=o.children,e=o.fallback,a?(o=t.mode,a=t.child,s={mode:"hidden",children:s},!(1&o)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=y0(s,o,0,null),e=bc(e,o,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=y2(n),t.memoizedState=b2,e):w2(t,s));if((i=e.memoizedState)!==null&&(r=i.dehydrated)!==null)return function(c,u,h,p,d,f,g){if(h)return 256&u.flags?(u.flags&=-257,a0(c,u,g,p=p2(Error(Be(422))))):u.memoizedState!==null?(u.child=c.child,u.flags|=128,null):(f=p.fallback,d=u.mode,p=y0({mode:"visible",children:p.children},d,0,null),(f=bc(f,d,g,null)).flags|=2,p.return=u,f.return=u,p.sibling=f,u.child=p,1&u.mode&&ed(u,c.child,null,g),u.child.memoizedState=y2(g),u.memoizedState=b2,f);if(!(1&u.mode))return a0(c,u,g,null);if(d.data==="$!"){if(p=d.nextSibling&&d.nextSibling.dataset)var m=p.dgst;return p=m,a0(c,u,g,p=p2(f=Error(Be(419)),p,void 0))}if(m=(g&c.childLanes)!=0,ao||m){if((p=br)!==null){switch(g&-g){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}(d=d&(p.suspendedLanes|g)?0:d)!==0&&d!==f.retryLane&&(f.retryLane=d,ps(c,d),Mi(p,c,d,-1))}return M2(),a0(c,u,g,p=p2(Error(Be(421))))}return d.data==="$?"?(u.flags|=128,u.child=c.child,u=yte.bind(null,c),d._reactRetry=u,null):(c=f.treeContext,Ho=rl(d.nextSibling),Uo=u,On=!0,Ri=null,c!==null&&(ai[si++]=fa,ai[si++]=hs,ai[si++]=uc,fa=c.id,hs=c.overflow,uc=u),u=w2(u,p.children),u.flags|=4096,u)}(e,t,s,o,r,i,n);if(a){a=o.fallback,s=t.mode,r=(i=e.child).sibling;var l={mode:"hidden",children:o.children};return!(1&s)&&t.child!==i?((o=t.child).childLanes=0,o.pendingProps=l,t.deletions=null):(o=fl(i,l)).subtreeFlags=14680064&i.subtreeFlags,r!==null?a=fl(r,a):(a=bc(a,s,n,null)).flags|=2,a.return=t,o.return=t,o.sibling=a,t.child=o,o=a,a=t.child,s=(s=e.child.memoizedState)===null?y2(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=b2,o}return e=(a=e.child).sibling,o=fl(a,{mode:"visible",children:o.children}),!(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,e!==null&&((n=t.deletions)===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function w2(e,t){return(t=y0({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function a0(e,t,n,r){return r!==null&&W5(r),ed(t,e.child,null,n),(e=w2(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function d7(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Q5(e.return,t,n)}function k2(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function h7(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(so(e,t,r.children,n),(2&(r=Fn.current))!=0)r=1&r|2,t.flags|=128;else{if(e!==null&&128&e.flags)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&d7(e,n,t);else if(e.tag===19)d7(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(gn(Fn,r),(1&t.mode)==0)t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)(e=n.alternate)!==null&&e0(e)===null&&(o=n),n=n.sibling;(n=o)===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),k2(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if((e=o.alternate)!==null&&e0(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}k2(t,!0,n,null,i);break;case"together":k2(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function s0(e,t){!(1&t.mode)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fc|=t.lanes,(n&t.childLanes)==0)return null;if(e!==null&&t.child!==e.child)throw Error(Be(153));if(t.child!==null){for(n=fl(e=t.child,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,(n=n.sibling=fl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function M1(e,t){if(!On)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Yr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function dte(e,t,n){var r=t.pendingProps;switch(V5(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yr(t),null;case 1:case 17:return Bo(t.type)&&B5(),Yr(t),null;case 3:return r=t.stateNode,td(),Cn(io),Cn(Ir),o2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),e!==null&&e.child!==null||(Gf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,Ri!==null&&(N2(Ri),Ri=null))),v2(e,t),Yr(t),null;case 5:n2(t);var o=pc(P1.current);if(n=t.type,e!==null&&t.stateNode!=null)l7(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Be(166));return Yr(t),null}if(e=pc(ga.current),Gf(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ma]=t,r[T1]=i,e=(1&t.mode)!=0,n){case"dialog":kn("cancel",r),kn("close",r);break;case"iframe":case"object":case"embed":kn("load",r);break;case"video":case"audio":for(o=0;o<k1.length;o++)kn(k1[o],r);break;case"source":kn("error",r);break;case"img":case"image":case"link":kn("error",r),kn("load",r);break;case"details":kn("toggle",r);break;case"input":qE(r,i),kn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},kn("invalid",r);break;case"textarea":KE(r,i),kn("invalid",r)}for(var a in Xw(n,i),o=null,i)if(i.hasOwnProperty(a)){var s=i[a];a==="children"?typeof s=="string"?r.textContent!==s&&(i.suppressHydrationWarning!==!0&&Bf(r.textContent,s,e),o=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&Bf(r.textContent,s,e),o=["children",""+s]):Zh.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&kn("scroll",r)}switch(n){case"input":wf(r),GE(r,i,!0);break;case"textarea":wf(r),QE(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Uf)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=XE(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?((e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[ma]=t,e[T1]=r,s7(e,t,!1,!1),t.stateNode=e;e:{switch(a=Jw(n,r),n){case"dialog":kn("cancel",e),kn("close",e),o=r;break;case"iframe":case"object":case"embed":kn("load",e),o=r;break;case"video":case"audio":for(o=0;o<k1.length;o++)kn(k1[o],e);o=r;break;case"source":kn("error",e),o=r;break;case"img":case"image":case"link":kn("error",e),kn("load",e),o=r;break;case"details":kn("toggle",e),o=r;break;case"input":qE(e,r),o=$w(e,r),kn("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Ln({},r,{value:void 0}),kn("invalid",e);break;case"textarea":KE(e,r),o=Gw(e,r),kn("invalid",e)}for(i in Xw(n,o),s=o)if(s.hasOwnProperty(i)){var l=s[i];i==="style"?eC(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0)!=null&&JE(e,l):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&r1(e,l):typeof l=="number"&&r1(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Zh.hasOwnProperty(i)?l!=null&&i==="onScroll"&&kn("scroll",e):l!=null&&Iw(e,i,l,a))}switch(n){case"input":wf(e),GE(e,r,!1);break;case"textarea":wf(e),QE(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Xs(r.value));break;case"select":e.multiple=!!r.multiple,(i=r.value)!=null?Du(e,!!r.multiple,i,!1):r.defaultValue!=null&&Du(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Uf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Yr(t),null;case 6:if(e&&t.stateNode!=null)c7(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Be(166));if(n=pc(P1.current),pc(ga.current),Gf(t)){if(r=t.stateNode,n=t.memoizedProps,r[ma]=t,(i=r.nodeValue!==n)&&(e=Uo)!==null)switch(e.tag){case 3:Bf(r.nodeValue,n,(1&e.mode)!=0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Bf(r.nodeValue,n,(1&e.mode)!=0)}i&&(t.flags|=4)}else(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r))[ma]=t,t.stateNode=r}return Yr(t),null;case 13:if(Cn(Fn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(On&&Ho!==null&&1&t.mode&&!(128&t.flags))m6(),Xu(),t.flags|=98560,i=!1;else if(i=Gf(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Be(318));if(!(i=(i=t.memoizedState)!==null?i.dehydrated:null))throw Error(Be(317));i[ma]=t}else Xu(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Yr(t),i=!1}else Ri!==null&&(N2(Ri),Ri=null),i=!0;if(!i)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=r!==null)!=(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,1&t.mode&&(e===null||1&Fn.current?ur===0&&(ur=3):M2())),t.updateQueue!==null&&(t.flags|=4),Yr(t),null);case 4:return td(),v2(e,t),e===null&&x1(t.stateNode.containerInfo),Yr(t),null;case 10:return Y5(t.type._context),Yr(t),null;case 19:if(Cn(Fn),(i=t.memoizedState)===null)return Yr(t),null;if(r=(128&t.flags)!=0,(a=i.rendering)===null)if(r)M1(i,!1);else{if(ur!==0||e!==null&&128&e.flags)for(e=t.child;e!==null;){if((a=e0(e))!==null){for(t.flags|=128,M1(i,!1),(r=a.updateQueue)!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)e=r,(i=n).flags&=14680066,(a=i.alternate)===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return gn(Fn,1&Fn.current|2),t.child}e=e.sibling}i.tail!==null&&Kn()>id&&(t.flags|=128,r=!0,M1(i,!1),t.lanes=4194304)}else{if(!r)if((e=e0(a))!==null){if(t.flags|=128,r=!0,(n=e.updateQueue)!==null&&(t.updateQueue=n,t.flags|=4),M1(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!On)return Yr(t),null}else 2*Kn()-i.renderingStartTime>id&&n!==1073741824&&(t.flags|=128,r=!0,M1(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):((n=i.last)!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Kn(),t.sibling=null,n=Fn.current,gn(Fn,r?1&n|2:1&n),t):(Yr(t),null);case 22:case 23:return I2(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&1&t.mode?1073741824&Vo&&(Yr(t),6&t.subtreeFlags&&(t.flags|=8192)):Yr(t),null;case 24:case 25:return null}throw Error(Be(156,t.tag))}function hte(e,t){switch(V5(t),t.tag){case 1:return Bo(t.type)&&B5(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return td(),Cn(io),Cn(Ir),o2(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return n2(t),null;case 13:if(Cn(Fn),(e=t.memoizedState)!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Be(340));Xu()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Cn(Fn),null;case 4:return td(),null;case 10:return Y5(t.type._context),null;case 22:case 23:return I2(),null;default:return null}}s7=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},v2=function(){},l7=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,pc(ga.current);var i,a=null;switch(n){case"input":o=$w(e,o),r=$w(e,r),a=[];break;case"select":o=Ln({},o,{value:void 0}),r=Ln({},r,{value:void 0}),a=[];break;case"textarea":o=Gw(e,o),r=Gw(e,r),a=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Uf)}for(c in Xw(n,r),n=null,o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var s=o[c];for(i in s)s.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Zh.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(s=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(i in s)!s.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&s[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Zh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&kn("scroll",e),a||s===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},c7=function(e,t,n,r){n!==r&&(t.flags|=4)};var l0=!1,Lr=!1,pte=typeof WeakSet=="function"?WeakSet:Set,lt=null;function rd(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Bn(e,t,r)}else n.current=null}function p7(e,t,n){try{n()}catch(r){Bn(e,t,r)}}var m7=!1;function L1(e,t,n){var r=t.updateQueue;if((r=r!==null?r.lastEffect:null)!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&p7(t,n,i)}o=o.next}while(o!==r)}}function c0(e,t){if((t=(t=t.updateQueue)!==null?t.lastEffect:null)!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function x2(e){var t=e.ref;if(t!==null){var n=e.stateNode;e.tag,e=n,typeof t=="function"?t(e):t.current=e}}function f7(e){var t=e.alternate;t!==null&&(e.alternate=null,f7(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode)!==null&&(delete t[ma],delete t[T1],delete t[z5],delete t[Zee],delete t[ete]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function g7(e){return e.tag===5||e.tag===3||e.tag===4}function v7(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||g7(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(2&e.flags||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function _2(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),(n=n._reactRootContainer)!=null||t.onclick!==null||(t.onclick=Uf));else if(r!==4&&(e=e.child)!==null)for(_2(e,t,n),e=e.sibling;e!==null;)_2(e,t,n),e=e.sibling}function T2(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child)!==null)for(T2(e,t,n),e=e.sibling;e!==null;)T2(e,t,n),e=e.sibling}var Qr=null,ba=!1;function cl(e,t,n){for(n=n.child;n!==null;)b7(e,t,n),n=n.sibling}function b7(e,t,n){if(pa&&typeof pa.onCommitFiberUnmount=="function")try{pa.onCommitFiberUnmount(Tf,n)}catch{}switch(n.tag){case 5:Lr||rd(n,t);case 6:var r=Qr,o=ba;Qr=null,cl(e,t,n),ba=o,(Qr=r)!==null&&(ba?(e=Qr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Qr.removeChild(n.stateNode));break;case 18:Qr!==null&&(ba?(e=Qr,n=n.stateNode,e.nodeType===8?j5(e.parentNode,n):e.nodeType===1&&j5(e,n),m1(e)):j5(Qr,n.stateNode));break;case 4:r=Qr,o=ba,Qr=n.stateNode.containerInfo,ba=!0,cl(e,t,n),Qr=r,ba=o;break;case 0:case 11:case 14:case 15:if(!Lr&&(r=n.updateQueue)!==null&&(r=r.lastEffect)!==null){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,a!==void 0&&(2&i||4&i)&&p7(n,t,a),o=o.next}while(o!==r)}cl(e,t,n);break;case 1:if(!Lr&&(rd(n,t),typeof(r=n.stateNode).componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Bn(n,t,s)}cl(e,t,n);break;case 21:cl(e,t,n);break;case 22:1&n.mode?(Lr=(r=Lr)||n.memoizedState!==null,cl(e,t,n),Lr=r):cl(e,t,n);break;default:cl(e,t,n)}}function y7(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new pte),t.forEach(function(r){var o=wte.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function ya(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:Qr=s.stateNode,ba=!1;break e;case 3:case 4:Qr=s.stateNode.containerInfo,ba=!0;break e}s=s.return}if(Qr===null)throw Error(Be(160));b7(i,a,o),Qr=null,ba=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){Bn(o,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;t!==null;)w7(t,e),t=t.sibling}function w7(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ya(t,e),gs(e),4&r){try{L1(3,e,e.return),c0(3,e)}catch(g){Bn(e,e.return,g)}try{L1(5,e,e.return)}catch(g){Bn(e,e.return,g)}}break;case 1:ya(t,e),gs(e),512&r&&n!==null&&rd(n,n.return);break;case 5:if(ya(t,e),gs(e),512&r&&n!==null&&rd(n,n.return),32&e.flags){var o=e.stateNode;try{r1(o,"")}catch(g){Bn(e,e.return,g)}}if(4&r&&(o=e.stateNode)!=null){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&WE(o,i),Jw(s,a);var c=Jw(s,i);for(a=0;a<l.length;a+=2){var u=l[a],h=l[a+1];u==="style"?eC(o,h):u==="dangerouslySetInnerHTML"?JE(o,h):u==="children"?r1(o,h):Iw(o,u,h,c)}switch(s){case"input":qw(o,i);break;case"textarea":YE(o,i);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var d=i.value;d!=null?Du(o,!!i.multiple,d,!1):p!==!!i.multiple&&(i.defaultValue!=null?Du(o,!!i.multiple,i.defaultValue,!0):Du(o,!!i.multiple,i.multiple?[]:"",!1))}o[T1]=i}catch(g){Bn(e,e.return,g)}}break;case 6:if(ya(t,e),gs(e),4&r){if(e.stateNode===null)throw Error(Be(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(g){Bn(e,e.return,g)}}break;case 3:if(ya(t,e),gs(e),4&r&&n!==null&&n.memoizedState.isDehydrated)try{m1(t.containerInfo)}catch(g){Bn(e,e.return,g)}break;case 4:default:ya(t,e),gs(e);break;case 13:ya(t,e),gs(e),8192&(o=e.child).flags&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(C2=Kn())),4&r&&y7(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,1&e.mode?(Lr=(c=Lr)||u,ya(t,e),Lr=c):ya(t,e),gs(e),8192&r){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&(1&e.mode)!=0)for(lt=e,u=e.child;u!==null;){for(h=lt=u;lt!==null;){switch(d=(p=lt).child,p.tag){case 0:case 11:case 14:case 15:L1(4,p,p.return);break;case 1:rd(p,p.return);var f=p.stateNode;if(typeof f.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(g){Bn(r,n,g)}}break;case 5:rd(p,p.return);break;case 22:if(p.memoizedState!==null){_7(h);continue}}d!==null?(d.return=p,lt=d):_7(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{o=h.stateNode,c?typeof(i=o.style).setProperty=="function"?i.setProperty("display","none","important"):i.display="none":(s=h.stateNode,a=(l=h.memoizedProps.style)!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=ZE("display",a))}catch(g){Bn(e,e.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){Bn(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ya(t,e),gs(e),4&r&&y7(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;n!==null;){if(g7(n)){var r=n;break e}n=n.return}throw Error(Be(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(r1(o,""),r.flags&=-33),T2(e,v7(e),o);break;case 3:case 4:var i=r.stateNode.containerInfo;_2(e,v7(e),i);break;default:throw Error(Be(161))}}catch(a){Bn(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function mte(e,t,n){lt=e,k7(e)}function k7(e,t,n){for(var r=(1&e.mode)!=0;lt!==null;){var o=lt,i=o.child;if(o.tag===22&&r){var a=o.memoizedState!==null||l0;if(!a){var s=o.alternate,l=s!==null&&s.memoizedState!==null||Lr;s=l0;var c=Lr;if(l0=a,(Lr=l)&&!c)for(lt=o;lt!==null;)l=(a=lt).child,a.tag===22&&a.memoizedState!==null?T7(o):l!==null?(l.return=a,lt=l):T7(o);for(;i!==null;)lt=i,k7(i),i=i.sibling;lt=o,l0=s,Lr=c}x7(e)}else 8772&o.subtreeFlags&&i!==null?(i.return=o,lt=i):x7(e)}}function x7(e){for(;lt!==null;){var t=lt;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Lr||c0(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Lr)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Ii(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&b6(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}b6(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&4&t.flags){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&m1(h)}}}break;default:throw Error(Be(163))}Lr||512&t.flags&&x2(t)}catch(p){Bn(t,t.return,p)}}if(t===e){lt=null;break}if((n=t.sibling)!==null){n.return=t.return,lt=n;break}lt=t.return}}function _7(e){for(;lt!==null;){var t=lt;if(t===e){lt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,lt=n;break}lt=t.return}}function T7(e){for(;lt!==null;){var t=lt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{c0(4,t)}catch(l){Bn(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(l){Bn(t,o,l)}}var i=t.return;try{x2(t)}catch(l){Bn(t,i,l)}break;case 5:var a=t.return;try{x2(t)}catch(l){Bn(t,a,l)}}}catch(l){Bn(t,t.return,l)}if(t===e){lt=null;break}var s=t.sibling;if(s!==null){s.return=t.return,lt=s;break}lt=t.return}}var S7,fte=Math.ceil,u0=cs.ReactCurrentDispatcher,S2=cs.ReactCurrentOwner,ui=cs.ReactCurrentBatchConfig,Yt=0,br=null,nr=null,Tr=0,Vo=0,od=ol(0),ur=0,D1=null,fc=0,d0=0,E2=0,j1=null,$o=null,C2=0,id=1/0,ul=null,h0=!1,O2=null,dl=null,p0=!1,hl=null,m0=0,z1=0,P2=null,f0=-1,g0=0;function Xr(){return 6&Yt?Kn():f0!==-1?f0:f0=Kn()}function pl(e){return 1&e.mode?2&Yt&&Tr!==0?Tr&-Tr:tte.transition!==null?(g0===0&&(g0=fC()),g0):(e=sn)!==0?e:e=(e=window.event)===void 0?16:TC(e.type):1}function Mi(e,t,n,r){if(50<z1)throw z1=0,P2=null,Error(Be(185));c1(e,n,r),2&Yt&&e===br||(e===br&&(!(2&Yt)&&(d0|=n),ur===4&&ml(e,Tr)),lo(e,r),n===1&&Yt===0&&!(1&t.mode)&&(id=Kn()+500,$f&&al()))}function lo(e,t){var n=e.callbackNode;(function(o,i){for(var a=o.suspendedLanes,s=o.pingedLanes,l=o.expirationTimes,c=o.pendingLanes;0<c;){var u=31-Ai(c),h=1<<u,p=l[u];p===-1?h&a&&!(h&s)||(l[u]=gee(h,i)):p<=i&&(o.expiredLanes|=h),c&=~h}})(e,t);var r=Sf(e,e===br?Tr:0);if(r===0)n!==null&&hC(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&hC(n),t===1)e.tag===0?function(o){$f=!0,c6(o)}(C7.bind(null,e)):c6(C7.bind(null,e)),Xee(function(){!(6&Yt)&&al()}),n=null;else{switch(gC(r)){case 1:n=i5;break;case 4:n=pC;break;case 16:default:n=a5;break;case 536870912:n=mC}n=M7(n,E7.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function E7(e,t){if(f0=-1,g0=0,(6&Yt)!=0)throw Error(Be(327));var n=e.callbackNode;if(sd()&&e.callbackNode!==n)return null;var r=Sf(e,e===br?Tr:0);if(r===0)return null;if(30&r||r&e.expiredLanes||t)t=v0(e,r);else{t=r;var o=Yt;Yt|=2;var i=P7();for(br===e&&Tr===t||(ul=null,id=Kn()+500,vc(e,t));;)try{vte();break}catch(s){O7(e,s)}K5(),u0.current=i,Yt=o,nr!==null?t=0:(br=null,Tr=0,t=ur)}if(t!==0){if(t===2&&(o=c5(e))!==0&&(r=o,t=A2(e,o)),t===1)throw n=D1,vc(e,0),ml(e,r),lo(e,Kn()),n;if(t===6)ml(e,r);else{if(o=e.current.alternate,(30&r)==0&&!function(s){for(var l=s;;){if(16384&l.flags){var c=l.updateQueue;if(c!==null&&(c=c.stores)!==null)for(var u=0;u<c.length;u++){var h=c[u],p=h.getSnapshot;h=h.value;try{if(!Ni(p(),h))return!1}catch{return!1}}}if(c=l.child,16384&l.subtreeFlags&&c!==null)c.return=l,l=c;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}(o)&&((t=v0(e,r))===2&&(i=c5(e))!==0&&(r=i,t=A2(e,i)),t===1))throw n=D1,vc(e,0),ml(e,r),lo(e,Kn()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(Be(345));case 2:case 5:ad(e,$o,ul);break;case 3:if(ml(e,r),(130023424&r)===r&&10<(t=C2+500-Kn())){if(Sf(e,0)!==0)break;if(((o=e.suspendedLanes)&r)!==r){Xr(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=D5(ad.bind(null,e,$o,ul),t);break}ad(e,$o,ul);break;case 4:if(ml(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var a=31-Ai(r);i=1<<a,(a=t[a])>o&&(o=a),r&=~i}if(r=o,10<(r=(120>(r=Kn()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fte(r/1960))-r)){e.timeoutHandle=D5(ad.bind(null,e,$o,ul),r);break}ad(e,$o,ul);break;default:throw Error(Be(329))}}}return lo(e,Kn()),e.callbackNode===n?E7.bind(null,e):null}function A2(e,t){var n=j1;return e.current.memoizedState.isDehydrated&&(vc(e,t).flags|=256),(e=v0(e,t))!==2&&(t=$o,$o=n,t!==null&&N2(t)),e}function N2(e){$o===null?$o=e:$o.push.apply($o,e)}function ml(e,t){for(t&=~E2,t&=~d0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ai(t),r=1<<n;e[n]=-1,t&=~r}}function C7(e){if(6&Yt)throw Error(Be(327));sd();var t=Sf(e,0);if(!(1&t))return lo(e,Kn()),null;var n=v0(e,t);if(e.tag!==0&&n===2){var r=c5(e);r!==0&&(t=r,n=A2(e,r))}if(n===1)throw n=D1,vc(e,0),ml(e,t),lo(e,Kn()),n;if(n===6)throw Error(Be(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ad(e,$o,ul),lo(e,Kn()),null}function R2(e,t){var n=Yt;Yt|=1;try{return e(t)}finally{(Yt=n)===0&&(id=Kn()+500,$f&&al())}}function gc(e){hl!==null&&hl.tag===0&&!(6&Yt)&&sd();var t=Yt;Yt|=1;var n=ui.transition,r=sn;try{if(ui.transition=null,sn=1,e)return e()}finally{sn=r,ui.transition=n,!(6&(Yt=t))&&al()}}function I2(){Vo=od.current,Cn(od)}function vc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Qee(n)),nr!==null)for(n=nr.return;n!==null;){var r=n;switch(V5(r),r.tag){case 1:(r=r.type.childContextTypes)!=null&&B5();break;case 3:td(),Cn(io),Cn(Ir),o2();break;case 5:n2(r);break;case 4:td();break;case 13:case 19:Cn(Fn);break;case 10:Y5(r.type._context);break;case 22:case 23:I2()}n=n.return}if(br=e,nr=e=fl(e.current,null),Tr=Vo=t,ur=0,D1=null,E2=d0=fc=0,$o=j1=null,hc!==null){for(t=0;t<hc.length;t++)if((r=(n=hc[t]).interleaved)!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=o,r.next=a}n.pending=r}hc=null}return e}function O7(e,t){for(;;){var n=nr;try{if(K5(),t0.current=i0,n0){for(var r=Dn.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}n0=!1}if(mc=0,vr=gr=Dn=null,A1=!1,N1=0,S2.current=null,n===null||n.return===null){ur=1,D1=t,nr=null;break}e:{var i=e,a=n.return,s=n,l=t;if(t=Tr,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,h=u.tag;if(!(1&u.mode)&&(h===0||h===11||h===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var d=X6(a);if(d!==null){d.flags&=-257,J6(d,a,s,0,t),1&d.mode&&Q6(i,c,t),l=c;var f=(t=d).updateQueue;if(f===null){var g=new Set;g.add(l),t.updateQueue=g}else f.add(l);break e}if(!(1&t)){Q6(i,c,t),M2();break e}l=Error(Be(426))}else if(On&&1&s.mode){var m=X6(a);if(m!==null){!(65536&m.flags)&&(m.flags|=256),J6(m,a,s,0,t),W5(nd(l,s));break e}}i=l=nd(l,s),ur!==4&&(ur=2),j1===null?j1=[i]:j1.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,v6(i,K6(0,l,t));break e;case 1:s=l;var v=i.type,y=i.stateNode;if(!(128&i.flags)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(dl===null||!dl.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t,v6(i,Y6(i,s,t));break e}}i=i.return}while(i!==null)}N7(n)}catch(b){t=b,nr===n&&n!==null&&(nr=n=n.return);continue}break}}function P7(){var e=u0.current;return u0.current=i0,e===null?i0:e}function M2(){ur!==0&&ur!==3&&ur!==2||(ur=4),br===null||!(268435455&fc)&&!(268435455&d0)||ml(br,Tr)}function v0(e,t){var n=Yt;Yt|=2;var r=P7();for(br===e&&Tr===t||(ul=null,vc(e,t));;)try{gte();break}catch(o){O7(e,o)}if(K5(),Yt=n,u0.current=r,nr!==null)throw Error(Be(261));return br=null,Tr=0,ur}function gte(){for(;nr!==null;)A7(nr)}function vte(){for(;nr!==null&&!uee();)A7(nr)}function A7(e){var t=S7(e.alternate,e,Vo);e.memoizedProps=e.pendingProps,t===null?N7(e):nr=t,S2.current=null}function N7(e){var t=e;do{var n=t.alternate;if(e=t.return,(32768&t.flags)==0){if((n=dte(n,t,Vo))!==null)return void(nr=n)}else{if((n=hte(n,t))!==null)return n.flags&=32767,void(nr=n);if(e===null)return ur=6,void(nr=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if((t=t.sibling)!==null)return void(nr=t);nr=t=e}while(t!==null);ur===0&&(ur=5)}function ad(e,t,n){var r=sn,o=ui.transition;try{ui.transition=null,sn=1,function(i,a,s,l){do sd();while(hl!==null);if(6&Yt)throw Error(Be(327));s=i.finishedWork;var c=i.finishedLanes;if(s===null)return null;if(i.finishedWork=null,i.finishedLanes=0,s===i.current)throw Error(Be(177));i.callbackNode=null,i.callbackPriority=0;var u=s.lanes|s.childLanes;if(function(d,f){var g=d.pendingLanes&~f;d.pendingLanes=f,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=f,d.mutableReadLanes&=f,d.entangledLanes&=f,f=d.entanglements;var m=d.eventTimes;for(d=d.expirationTimes;0<g;){var v=31-Ai(g),y=1<<v;f[v]=0,m[v]=-1,d[v]=-1,g&=~y}}(i,u),i===br&&(nr=br=null,Tr=0),!(2064&s.subtreeFlags)&&!(2064&s.flags)||p0||(p0=!0,M7(a5,function(){return sd(),null})),u=(15990&s.flags)!=0,(15990&s.subtreeFlags)!=0||u){u=ui.transition,ui.transition=null;var h=sn;sn=1;var p=Yt;Yt|=4,S2.current=null,function(d,f){if(I5=Of,S5(d=$C())){if("selectionStart"in d)var g={start:d.selectionStart,end:d.selectionEnd};else e:{var m=(g=(g=d.ownerDocument)&&g.defaultView||window).getSelection&&g.getSelection();if(m&&m.rangeCount!==0){g=m.anchorNode;var v=m.anchorOffset,y=m.focusNode;m=m.focusOffset;try{g.nodeType,y.nodeType}catch{g=null;break e}var b=0,w=-1,k=-1,_=0,O=0,E=d,C=null;t:for(;;){for(var N;E!==g||v!==0&&E.nodeType!==3||(w=b+v),E!==y||m!==0&&E.nodeType!==3||(k=b+m),E.nodeType===3&&(b+=E.nodeValue.length),(N=E.firstChild)!==null;)C=E,E=N;for(;;){if(E===d)break t;if(C===g&&++_===v&&(w=b),C===y&&++O===m&&(k=b),(N=E.nextSibling)!==null)break;C=(E=C).parentNode}E=N}g=w===-1||k===-1?null:{start:w,end:k}}else g=null}g=g||{start:0,end:0}}else g=null;for(M5={focusedElem:d,selectionRange:g},Of=!1,lt=f;lt!==null;)if(d=(f=lt).child,(1028&f.subtreeFlags)!=0&&d!==null)d.return=f,lt=d;else for(;lt!==null;){f=lt;try{var L=f.alternate;if(1024&f.flags)switch(f.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(L!==null){var j=L.memoizedProps,H=L.memoizedState,F=f.stateNode,z=F.getSnapshotBeforeUpdate(f.elementType===f.type?j:Ii(f.type,j),H);F.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var B=f.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;default:throw Error(Be(163))}}catch(V){Bn(f,f.return,V)}if((d=f.sibling)!==null){d.return=f.return,lt=d;break}lt=f.return}L=m7,m7=!1}(i,s),w7(s,i),qee(M5),Of=!!I5,M5=I5=null,i.current=s,mte(s),dee(),Yt=p,sn=h,ui.transition=u}else i.current=s;if(p0&&(p0=!1,hl=i,m0=c),u=i.pendingLanes,u===0&&(dl=null),function(d){if(pa&&typeof pa.onCommitFiberRoot=="function")try{pa.onCommitFiberRoot(Tf,d,void 0,(128&d.current.flags)==128)}catch{}}(s.stateNode),lo(i,Kn()),a!==null)for(l=i.onRecoverableError,s=0;s<a.length;s++)c=a[s],l(c.value,{componentStack:c.stack,digest:c.digest});if(h0)throw h0=!1,i=O2,O2=null,i;1&m0&&i.tag!==0&&sd(),u=i.pendingLanes,1&u?i===P2?z1++:(z1=0,P2=i):z1=0,al()}(e,t,n,r)}finally{ui.transition=o,sn=r}return null}function sd(){if(hl!==null){var e=gC(m0),t=ui.transition,n=sn;try{if(ui.transition=null,sn=16>e?16:e,hl===null)var r=!1;else{if(e=hl,hl=null,m0=0,(6&Yt)!=0)throw Error(Be(331));var o=Yt;for(Yt|=4,lt=e.current;lt!==null;){var i=lt,a=i.child;if(16&lt.flags){var s=i.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(lt=c;lt!==null;){var u=lt;switch(u.tag){case 0:case 11:case 15:L1(8,u,i)}var h=u.child;if(h!==null)h.return=u,lt=h;else for(;lt!==null;){var p=(u=lt).sibling,d=u.return;if(f7(u),u===c){lt=null;break}if(p!==null){p.return=d,lt=p;break}lt=d}}}var f=i.alternate;if(f!==null){var g=f.child;if(g!==null){f.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(g!==null)}}lt=i}}if(2064&i.subtreeFlags&&a!==null)a.return=i,lt=a;else e:for(;lt!==null;){if(2048&(i=lt).flags)switch(i.tag){case 0:case 11:case 15:L1(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,lt=v;break e}lt=i.return}}var y=e.current;for(lt=y;lt!==null;){var b=(a=lt).child;if(2064&a.subtreeFlags&&b!==null)b.return=a,lt=b;else e:for(a=y;lt!==null;){if(2048&(s=lt).flags)try{switch(s.tag){case 0:case 11:case 15:c0(9,s)}}catch(k){Bn(s,s.return,k)}if(s===a){lt=null;break e}var w=s.sibling;if(w!==null){w.return=s.return,lt=w;break e}lt=s.return}}if(Yt=o,al(),pa&&typeof pa.onPostCommitFiberRoot=="function")try{pa.onPostCommitFiberRoot(Tf,e)}catch{}r=!0}return r}finally{sn=n,ui.transition=t}}return!1}function R7(e,t,n){e=ll(e,t=K6(0,t=nd(n,t),1),1),t=Xr(),e!==null&&(c1(e,1,t),lo(e,t))}function Bn(e,t,n){if(e.tag===3)R7(e,e,n);else for(;t!==null;){if(t.tag===3){R7(t,e,n);break}if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(dl===null||!dl.has(r))){t=ll(t,e=Y6(t,e=nd(n,e),1),1),e=Xr(),t!==null&&(c1(t,1,e),lo(t,e));break}}t=t.return}}function bte(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Xr(),e.pingedLanes|=e.suspendedLanes&n,br===e&&(Tr&n)===n&&(ur===4||ur===3&&(130023424&Tr)===Tr&&500>Kn()-C2?vc(e,0):E2|=n),lo(e,t)}function I7(e,t){t===0&&(1&e.mode?(t=l5,!(130023424&(l5<<=1))&&(l5=4194304)):t=1);var n=Xr();(e=ps(e,t))!==null&&(c1(e,t,n),lo(e,n))}function yte(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),I7(e,n)}function wte(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Be(314))}r!==null&&r.delete(t),I7(e,n)}function M7(e,t){return dC(e,t)}function kte(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function di(e,t,n,r){return new kte(e,t,n,r)}function L2(e){return!(!(e=e.prototype)||!e.isReactComponent)}function fl(e,t){var n=e.alternate;return n===null?((n=di(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function b0(e,t,n,r,o,i){var a=2;if(r=e,typeof e=="function")L2(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Lu:return bc(n.children,o,i,t);case Mw:a=8,o|=8;break;case Lw:return(e=di(12,n,t,2|o)).elementType=Lw,e.lanes=i,e;case jw:return(e=di(13,n,t,o)).elementType=jw,e.lanes=i,e;case zw:return(e=di(19,n,t,o)).elementType=zw,e.lanes=i,e;case UE:return y0(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case FE:a=10;break e;case BE:a=9;break e;case Dw:a=11;break e;case Fw:a=14;break e;case Qs:a=16,r=null;break e}throw Error(Be(130,e==null?e:typeof e,""))}return(t=di(a,n,t,o)).elementType=e,t.type=r,t.lanes=i,t}function bc(e,t,n,r){return(e=di(7,e,r,t)).lanes=n,e}function y0(e,t,n,r){return(e=di(22,e,r,t)).elementType=UE,e.lanes=n,e.stateNode={isHidden:!1},e}function D2(e,t,n){return(e=di(6,e,null,t)).lanes=n,e}function j2(e,t,n){return(t=di(4,e.children!==null?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xte(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=u5(0),this.expirationTimes=u5(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=u5(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function z2(e,t,n,r,o,i,a,s,l){return e=new xte(e,t,n,s,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=di(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},J5(i),e}function L7(e){if(!e)return il;e:{if(ac(e=e._reactInternals)!==e||e.tag!==1)throw Error(Be(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Be(171))}if(e.tag===1){var n=e.type;if(Bo(n))return s6(e,n,t)}return t}function D7(e,t,n,r,o,i,a,s,l){return(e=z2(n,r,!0,e,0,i,0,s,l)).context=L7(null),n=e.current,(i=ms(r=Xr(),o=pl(n))).callback=t??null,ll(n,i,o),e.current.lanes=o,c1(e,o,r),lo(e,r),e}function w0(e,t,n,r){var o=t.current,i=Xr(),a=pl(o);return n=L7(n),t.context===null?t.context=n:t.pendingContext=n,(t=ms(i,a)).payload={element:e},(r=r===void 0?null:r)!==null&&(t.callback=r),(e=ll(o,t,a))!==null&&(Mi(e,o,a,i),Qf(e,o,a)),a}function k0(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function j7(e,t){if((e=e.memoizedState)!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function F2(e,t){j7(e,t),(e=e.alternate)&&j7(e,t)}S7=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||io.current)ao=!0;else{if(!(e.lanes&n)&&!(128&t.flags))return ao=!1,function(h,p,d){switch(p.tag){case 3:i7(p),Xu();break;case 5:E6(p);break;case 1:Bo(p.type)&&Vf(p);break;case 4:t2(p,p.stateNode.containerInfo);break;case 10:var f=p.type._context,g=p.memoizedProps.value;gn(Kf,f._currentValue),f._currentValue=g;break;case 13:if((f=p.memoizedState)!==null)return f.dehydrated!==null?(gn(Fn,1&Fn.current),p.flags|=128,null):d&p.child.childLanes?u7(h,p,d):(gn(Fn,1&Fn.current),(h=fs(h,p,d))!==null?h.sibling:null);gn(Fn,1&Fn.current);break;case 19:if(f=(d&p.childLanes)!=0,(128&h.flags)!=0){if(f)return h7(h,p,d);p.flags|=128}if((g=p.memoizedState)!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),gn(Fn,Fn.current),f)break;return null;case 22:case 23:return p.lanes=0,n7(h,p,d)}return fs(h,p,d)}(e,t,n);ao=(131072&e.flags)!=0}else ao=!1,On&&1048576&t.flags&&u6(t,Wf,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;s0(e,t),e=t.pendingProps;var o=Ku(t,Ir.current);Zu(t,n),o=s2(null,t,r,e,o,n);var i=l2();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bo(r)?(i=!0,Vf(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,J5(t),o.updater=Jf,t.stateNode=o,o._reactInternals=t,e2(t,r,e,n),t=g2(null,t,r,!0,i,n)):(t.tag=0,On&&i&&H5(t),so(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(s0(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(h){if(typeof h=="function")return L2(h)?1:0;if(h!=null){if((h=h.$$typeof)===Dw)return 11;if(h===Fw)return 14}return 2}(r),e=Ii(r,e),o){case 0:t=f2(null,t,r,e,n);break e;case 1:t=o7(null,t,r,e,n);break e;case 11:t=Z6(null,t,r,e,n);break e;case 14:t=e7(null,t,r,Ii(r.type,e),n);break e}throw Error(Be(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,f2(e,t,r,o=t.elementType===r?o:Ii(r,o),n);case 1:return r=t.type,o=t.pendingProps,o7(e,t,r,o=t.elementType===r?o:Ii(r,o),n);case 3:e:{if(i7(t),e===null)throw Error(Be(387));r=t.pendingProps,o=(i=t.memoizedState).element,g6(e,t),Xf(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=a7(e,t,r,n,o=nd(Error(Be(423)),t));break e}if(r!==o){t=a7(e,t,r,n,o=nd(Error(Be(424)),t));break e}for(Ho=rl(t.stateNode.containerInfo.firstChild),Uo=t,On=!0,Ri=null,n=S6(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Xu(),r===o){t=fs(e,t,n);break e}so(e,t,r,n)}t=t.child}return t;case 5:return E6(t),e===null&&q5(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,a=o.children,L5(r,o)?a=null:i!==null&&L5(r,i)&&(t.flags|=32),r7(e,t),so(e,t,a,n),t.child;case 6:return e===null&&q5(t),null;case 13:return u7(e,t,n);case 4:return t2(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ed(t,null,r,n):so(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,Z6(e,t,r,o=t.elementType===r?o:Ii(r,o),n);case 7:return so(e,t,t.pendingProps,n),t.child;case 8:case 12:return so(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,a=o.value,gn(Kf,r._currentValue),r._currentValue=a,i!==null)if(Ni(i.value,a)){if(i.children===o.children&&!io.current){t=fs(e,t,n);break e}}else for((i=t.child)!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){a=i.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(i.tag===1){(l=ms(-1,n&-n)).tag=2;var c=i.updateQueue;if(c!==null){var u=(c=c.shared).pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,(l=i.alternate)!==null&&(l.lanes|=n),Q5(i.return,n,t),s.lanes|=n;break}l=l.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if((a=i.return)===null)throw Error(Be(341));a.lanes|=n,(s=a.alternate)!==null&&(s.lanes|=n),Q5(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if((i=a.sibling)!==null){i.return=a.return,a=i;break}a=a.return}i=a}so(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Zu(t,n),r=r(o=li(o)),t.flags|=1,so(e,t,r,n),t.child;case 14:return o=Ii(r=t.type,t.pendingProps),e7(e,t,r,o=Ii(r.type,o),n);case 15:return t7(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ii(r,o),s0(e,t),t.tag=1,Bo(r)?(e=!0,Vf(t)):e=!1,Zu(t,n),k6(t,r,o),e2(t,r,o,n),g2(null,t,r,!0,e,n);case 19:return h7(e,t,n);case 22:return n7(e,t,n)}throw Error(Be(156,t.tag))};var z7=typeof reportError=="function"?reportError:function(e){console.error(e)};function B2(e){this._internalRoot=e}function x0(e){this._internalRoot=e}function U2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function F7(){}function T0(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if(typeof o=="function"){var s=o;o=function(){var l=k0(a);s.call(l)}}w0(t,a,e,o)}else a=function(l,c,u,h,p){if(p){if(typeof h=="function"){var d=h;h=function(){var v=k0(f);d.call(v)}}var f=D7(c,h,l,0,null,!1,0,"",F7);return l._reactRootContainer=f,l[us]=f.current,x1(l.nodeType===8?l.parentNode:l),gc(),f}for(;p=l.lastChild;)l.removeChild(p);if(typeof h=="function"){var g=h;h=function(){var v=k0(m);g.call(v)}}var m=z2(l,0,!1,null,0,!1,0,"",F7);return l._reactRootContainer=m,l[us]=m.current,x1(l.nodeType===8?l.parentNode:l),gc(function(){w0(c,m,u,h)}),m}(n,t,e,o,r);return k0(a)}x0.prototype.render=B2.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Be(409));w0(e,t,null,null)},x0.prototype.unmount=B2.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gc(function(){w0(null,e,null,null)}),t[us]=null}},x0.prototype.unstable_scheduleHydration=function(e){if(e){var t=yC();e={blockedOn:null,target:e,priority:t};for(var n=0;n<tl.length&&t!==0&&t<tl[n].priority;n++);tl.splice(n,0,e),n===0&&xC(e)}},vC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=l1(t.pendingLanes);n!==0&&(d5(t,1|n),lo(t,Kn()),!(6&Yt)&&(id=Kn()+500,al()))}break;case 13:gc(function(){var r=ps(e,1);if(r!==null){var o=Xr();Mi(r,e,1,o)}}),F2(e,1)}},h5=function(e){if(e.tag===13){var t=ps(e,134217728);t!==null&&Mi(t,e,134217728,Xr()),F2(e,134217728)}},bC=function(e){if(e.tag===13){var t=pl(e),n=ps(e,t);n!==null&&Mi(n,e,t,Xr()),F2(e,t)}},yC=function(){return sn},wC=function(e,t){var n=sn;try{return sn=e,t()}finally{sn=n}},t5=function(e,t,n){switch(t){case"input":if(qw(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Hf(r);if(!o)throw Error(Be(90));$E(r),qw(r,o)}}}break;case"textarea":YE(e,n);break;case"select":(t=n.value)!=null&&Du(e,!!n.multiple,t,!1)}},oC=R2,iC=gc;var _te={usingClientEntryPoint:!1,Events:[S1,Wu,Hf,nC,rC,R2]},F1={findFiberByHostInstance:lc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Tte={bundleType:F1.bundleType,version:F1.version,rendererPackageName:F1.rendererPackageName,rendererConfig:F1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return(e=cC(e))===null?null:e.stateNode},findFiberByHostInstance:F1.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var S0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!S0.isDisabled&&S0.supportsFiber)try{Tf=S0.inject(Tte),pa=S0}catch{}}jo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_te,jo.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!U2(t))throw Error(Be(200));return function(r,o,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mu,key:a==null?null:""+a,children:r,containerInfo:o,implementation:i}}(e,t,null,n)},jo.createRoot=function(e,t){if(!U2(e))throw Error(Be(299));var n=!1,r="",o=z7;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=z2(e,1,!1,null,0,n,0,r,o),e[us]=t.current,x1(e.nodeType===8?e.parentNode:e),new B2(t)},jo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Be(188)):(e=Object.keys(e).join(","),Error(Be(268,e)));return e=(e=cC(t))===null?null:e.stateNode},jo.flushSync=function(e){return gc(e)},jo.hydrate=function(e,t,n){if(!_0(t))throw Error(Be(200));return T0(null,e,t,!0,n)},jo.hydrateRoot=function(e,t,n){if(!U2(e))throw Error(Be(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",a=z7;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=D7(t,null,e,1,n??null,o,0,i,a),e[us]=t.current,x1(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new x0(t)},jo.render=function(e,t,n){if(!_0(t))throw Error(Be(200));return T0(null,e,t,!1,n)},jo.unmountComponentAtNode=function(e){if(!_0(e))throw Error(Be(40));return!!e._reactRootContainer&&(gc(function(){T0(null,null,e,!1,function(){e._reactRootContainer=null,e[us]=null})}),!0)},jo.unstable_batchedUpdates=R2,jo.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!_0(n))throw Error(Be(200));if(e==null||e._reactInternals===void 0)throw Error(Be(38));return T0(e,t,n,!1,r)},jo.version="18.2.0-next-9e3b772b8-20220608",function e(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE=="function")try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),RE.exports=jo;var vs=RE.exports;const Ste=_w(vs);var B7=vs;Pw.createRoot=B7.createRoot,Pw.hydrateRoot=B7.hydrateRoot;var U7={exports:{}};function H7(){}function V7(){}V7.resetWarningCache=H7,U7.exports=function(){function e(r,o,i,a,s,l){if(l!=="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:V7,resetWarningCache:H7};return n.PropTypes=n,n}();const B1=_w(U7.exports);var Ete=Object.defineProperty,Cte=Object.defineProperties,Ote=Object.getOwnPropertyDescriptors,E0=Object.getOwnPropertySymbols,$7=Object.prototype.hasOwnProperty,q7=Object.prototype.propertyIsEnumerable,ld=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),H2=e=>{throw TypeError(e)},V2=(e,t,n)=>t in e?Ete(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,A=(e,t)=>{for(var n in t||(t={}))$7.call(t,n)&&V2(e,n,t[n]);if(E0)for(var n of E0(t))q7.call(t,n)&&V2(e,n,t[n]);return e},K=(e,t)=>Cte(e,Ote(t)),W7=e=>typeof e=="symbol"?e:e+"",xe=(e,t)=>{var n={};for(var r in e)$7.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&E0)for(var r of E0(e))t.indexOf(r)<0&&q7.call(e,r)&&(n[r]=e[r]);return n},$2=(e,t,n)=>t.has(e)||H2("Cannot "+n),J=(e,t,n)=>($2(e,t,"read from private field"),n?n.call(e):t.get(e)),gt=(e,t,n)=>t.has(e)?H2("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ot=(e,t,n,r)=>($2(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Nt=(e,t,n)=>($2(e,t,"access private method"),n),q2=(e,t,n,r)=>({set _(o){ot(e,t,o,n)},get _(){return J(e,t,r)}}),cd=function(e,t){this[0]=e,this[1]=t},G7=(e,t,n)=>{var r=(a,s,l,c)=>{try{var u=n[a](s),h=(s=u.value)instanceof cd,p=u.done;Promise.resolve(h?s[0]:s).then(d=>h?r(a==="return"?a:"next",s[1]?{done:d.done,value:d.value}:d,l,c):l({value:d,done:p})).catch(d=>r("throw",d,l,c))}catch(d){c(d)}},o=a=>i[a]=s=>new Promise((l,c)=>r(a,s,l,c)),i={};return n=n.apply(e,t),i[ld("asyncIterator")]=()=>i,o("next"),o("throw"),o("return"),i},K7=e=>{var t,n=e[ld("asyncIterator")],r=!1,o={};return n==null?(n=e[ld("iterator")](),t=i=>o[i]=a=>n[i](a)):(n=n.call(e),t=i=>o[i]=a=>{if(r){if(r=!1,i==="throw")throw a;return a}return r=!0,{done:!1,value:new cd(new Promise(s=>{var l=n[i](a);l instanceof Object||H2("Object expected"),s(l)}),1)}}),o[ld("iterator")]=()=>o,t("next"),"throw"in n?t("throw"):o.throw=i=>{throw i},"return"in n&&t("return"),o},Pte=function(){function e(n){var r=this;this._insertTag=function(o){var i;i=r.tags.length===0?r.insertionPoint?r.insertionPoint.nextSibling:r.prepend?r.container.firstChild:r.before:r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(o,i),r.tags.push(o)},this.isSpeedy=n.speedy===void 0||n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(i){var a=document.createElement("style");return a.setAttribute("data-emotion",i.key),i.nonce!==void 0&&a.setAttribute("nonce",i.nonce),a.appendChild(document.createTextNode("")),a.setAttribute("data-s",""),a}(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var o=function(i){if(i.sheet)return i.sheet;for(var a=0;a<document.styleSheets.length;a++)if(document.styleSheets[a].ownerNode===i)return document.styleSheets[a]}(r);try{o.insertRule(n,o.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var r;return(r=n.parentNode)==null?void 0:r.removeChild(n)}),this.tags=[],this.ctr=0},e}(),Dr="-ms-",Y7="-moz-",Qt="-webkit-",Q7="comm",W2="rule",G2="decl",X7="@keyframes",Ate=Math.abs,C0=String.fromCharCode,Nte=Object.assign;function J7(e){return e.trim()}function Xt(e,t,n){return e.replace(t,n)}function K2(e,t){return e.indexOf(t)}function Sr(e,t){return 0|e.charCodeAt(t)}function U1(e,t,n){return e.slice(t,n)}function wa(e){return e.length}function Y2(e){return e.length}function O0(e,t){return t.push(e),e}var P0=1,ud=1,Z7=0,co=0,rr=0,dd="";function A0(e,t,n,r,o,i,a){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:P0,column:ud,length:a,return:""}}function H1(e,t){return Nte(A0("",null,null,"",null,null,0),e,{length:-e.length},t)}function qo(){return rr=co<Z7?Sr(dd,co++):0,ud++,rr===10&&(ud=1,P0++),rr}function ka(){return Sr(dd,co)}function N0(){return co}function V1(e,t){return U1(dd,e,t)}function $1(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function eO(e){return P0=ud=1,Z7=wa(dd=e),co=0,[]}function tO(e){return dd="",e}function R0(e){return J7(V1(co-1,Q2(e===91?e+2:e===40?e+1:e)))}function Rte(e){for(;(rr=ka())&&rr<33;)qo();return $1(e)>2||$1(rr)>3?"":" "}function Ite(e,t){for(;--t&&qo()&&!(rr<48||rr>102||rr>57&&rr<65||rr>70&&rr<97););return V1(e,N0()+(t<6&&ka()==32&&qo()==32))}function Q2(e){for(;qo();)switch(rr){case e:return co;case 34:case 39:e!==34&&e!==39&&Q2(rr);break;case 40:e===41&&Q2(e);break;case 92:qo()}return co}function Mte(e,t){for(;qo()&&e+rr!==57&&(e+rr!==84||ka()!==47););return"/*"+V1(t,co-1)+"*"+C0(e===47?e:qo())}function Lte(e){for(;!$1(ka());)qo();return V1(e,co)}function Dte(e){return tO(I0("",null,null,null,[""],e=eO(e),0,[0],e))}function I0(e,t,n,r,o,i,a,s,l){for(var c=0,u=0,h=a,p=0,d=0,f=0,g=1,m=1,v=1,y=0,b="",w=o,k=i,_=r,O=b;m;)switch(f=y,y=qo()){case 40:if(f!=108&&Sr(O,h-1)==58){K2(O+=Xt(R0(y),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:O+=R0(y);break;case 9:case 10:case 13:case 32:O+=Rte(f);break;case 92:O+=Ite(N0()-1,7);continue;case 47:switch(ka()){case 42:case 47:O0(jte(Mte(qo(),N0()),t,n),l);break;default:O+="/"}break;case 123*g:s[c++]=wa(O)*v;case 125*g:case 59:case 0:switch(y){case 0:case 125:m=0;case 59+u:v==-1&&(O=Xt(O,/\f/g,"")),d>0&&wa(O)-h&&O0(d>32?rO(O+";",r,n,h-1):rO(Xt(O," ","")+";",r,n,h-2),l);break;case 59:O+=";";default:if(O0(_=nO(O,t,n,c,u,o,s,b,w=[],k=[],h),i),y===123)if(u===0)I0(O,t,_,_,w,i,h,s,k);else switch(p===99&&Sr(O,3)===110?100:p){case 100:case 108:case 109:case 115:I0(e,_,_,r&&O0(nO(e,_,_,0,0,o,s,b,o,w=[],h),k),o,k,h,s,r?w:k);break;default:I0(O,_,_,_,[""],k,0,s,k)}}c=u=d=0,g=v=1,b=O="",h=a;break;case 58:h=1+wa(O),d=f;default:if(g<1){if(y==123)--g;else if(y==125&&g++==0&&(rr=co>0?Sr(dd,--co):0,ud--,rr===10&&(ud=1,P0--),rr==125))continue}switch(O+=C0(y),y*g){case 38:v=u>0?1:(O+="\f",-1);break;case 44:s[c++]=(wa(O)-1)*v,v=1;break;case 64:ka()===45&&(O+=R0(qo())),p=ka(),u=h=wa(b=O+=Lte(N0())),y++;break;case 45:f===45&&wa(O)==2&&(g=0)}}return i}function nO(e,t,n,r,o,i,a,s,l,c,u){for(var h=o-1,p=o===0?i:[""],d=Y2(p),f=0,g=0,m=0;f<r;++f)for(var v=0,y=U1(e,h+1,h=Ate(g=a[f])),b=e;v<d;++v)(b=J7(g>0?p[v]+" "+y:Xt(y,/&\f/g,p[v])))&&(l[m++]=b);return A0(e,t,n,o===0?W2:s,l,c,u)}function jte(e,t,n){return A0(e,t,n,Q7,C0(rr),U1(e,2,-2),0)}function rO(e,t,n,r){return A0(e,t,n,G2,U1(e,0,r),U1(e,r+1,-1),r)}function hd(e,t){for(var n="",r=Y2(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function zte(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case G2:return e.return=e.return||e.value;case Q7:return"";case X7:return e.return=e.value+"{"+hd(e.children,r)+"}";case W2:e.value=e.props.join(",")}return wa(n=hd(e.children,r))?e.return=e.value+"{"+n+"}":""}function oO(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var Fte=function(e,t,n){for(var r=0,o=0;r=o,o=ka(),r===38&&o===12&&(t[n]=1),!$1(o);)qo();return V1(e,co)},Bte=function(e,t){return tO(function(n,r){var o=-1,i=44;do switch($1(i)){case 0:i===38&&ka()===12&&(r[o]=1),n[o]+=Fte(co-1,r,o);break;case 2:n[o]+=R0(i);break;case 4:if(i===44){n[++o]=ka()===58?"&\f":"",r[o]=n[o].length;break}default:n[o]+=C0(i)}while(i=qo());return n}(eO(e),t))},iO=new WeakMap,Ute=function(e){if(e.type==="rule"&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(!(n=n.parent))return;if((e.props.length!==1||t.charCodeAt(0)===58||iO.get(n))&&!r){iO.set(e,!0);for(var o=[],i=Bte(t,o),a=n.props,s=0,l=0;s<i.length;s++)for(var c=0;c<a.length;c++,l++)e.props[l]=o[s]?i[s].replace(/&\f/g,a[c]):a[c]+" "+i[s]}}},Hte=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function aO(e,t){switch(function(n,r){return 45^Sr(n,0)?(((r<<2^Sr(n,0))<<2^Sr(n,1))<<2^Sr(n,2))<<2^Sr(n,3):0}(e,t)){case 5103:return Qt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Qt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Qt+e+Y7+e+Dr+e+e;case 6828:case 4268:return Qt+e+Dr+e+e;case 6165:return Qt+e+Dr+"flex-"+e+e;case 5187:return Qt+e+Xt(e,/(\w+).+(:[^]+)/,Qt+"box-$1$2"+Dr+"flex-$1$2")+e;case 5443:return Qt+e+Dr+"flex-item-"+Xt(e,/flex-|-self/,"")+e;case 4675:return Qt+e+Dr+"flex-line-pack"+Xt(e,/align-content|flex-|-self/,"")+e;case 5548:return Qt+e+Dr+Xt(e,"shrink","negative")+e;case 5292:return Qt+e+Dr+Xt(e,"basis","preferred-size")+e;case 6060:return Qt+"box-"+Xt(e,"-grow","")+Qt+e+Dr+Xt(e,"grow","positive")+e;case 4554:return Qt+Xt(e,/([^-])(transform)/g,"$1"+Qt+"$2")+e;case 6187:return Xt(Xt(Xt(e,/(zoom-|grab)/,Qt+"$1"),/(image-set)/,Qt+"$1"),e,"")+e;case 5495:case 3959:return Xt(e,/(image-set\([^]*)/,Qt+"$1$`$1");case 4968:return Xt(Xt(e,/(.+:)(flex-)?(.*)/,Qt+"box-pack:$3"+Dr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Qt+e+e;case 4095:case 3583:case 4068:case 2532:return Xt(e,/(.+)-inline(.+)/,Qt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(wa(e)-1-t>6)switch(Sr(e,t+1)){case 109:if(Sr(e,t+4)!==45)break;case 102:return Xt(e,/(.+:)(.+)-([^]+)/,"$1"+Qt+"$2-$3$1"+Y7+(Sr(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~K2(e,"stretch")?aO(Xt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Sr(e,t+1)!==115)break;case 6444:switch(Sr(e,wa(e)-3-(~K2(e,"!important")&&10))){case 107:return Xt(e,":",":"+Qt)+e;case 101:return Xt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Qt+(Sr(e,14)===45?"inline-":"")+"box$3$1"+Qt+"$2$3$1"+Dr+"$2box$3")+e}break;case 5936:switch(Sr(e,t+11)){case 114:return Qt+e+Dr+Xt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Qt+e+Dr+Xt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Qt+e+Dr+Xt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Qt+e+Dr+e+e}return e}var Vte=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case G2:e.return=aO(e.value,e.length);break;case X7:return hd([H1(e,{value:Xt(e.value,"@","@"+Qt)})],r);case W2:if(e.length)return function(o,i){return o.map(i).join("")}(e.props,function(o){switch(function(i,a){return(i=a.exec(i))?i[0]:i}(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return hd([H1(e,{props:[Xt(o,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return hd([H1(e,{props:[Xt(o,/:(plac\w+)/,":"+Qt+"input-$1")]}),H1(e,{props:[Xt(o,/:(plac\w+)/,":-moz-$1")]}),H1(e,{props:[Xt(o,/:(plac\w+)/,Dr+"input-$1")]})],r)}return""})}}],sO=function(e){var t=e.key;if(t==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(d){d.getAttribute("data-emotion").indexOf(" ")!==-1&&(document.head.appendChild(d),d.setAttribute("data-s",""))})}var r,o=e.stylisPlugins||Vte,i={},a=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(d){for(var f=d.getAttribute("data-emotion").split(" "),g=1;g<f.length;g++)i[f[g]]=!0;a.push(d)});var s,l,c,u=[zte,(c=function(d){l.insert(d)},function(d){d.root||(d=d.return)&&c(d)})],h=function(d){var f=Y2(d);return function(g,m,v,y){for(var b="",w=0;w<f;w++)b+=d[w](g,m,v,y)||"";return b}}([Ute,Hte].concat(o,u));s=function(d,f,g,m){l=g,function(v){hd(Dte(v),h)}(d?d+"{"+f.styles+"}":f.styles),m&&(p.inserted[f.name]=!0)};var p={key:t,sheet:new Pte({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:s};return p.sheet.hydrate(a),p};function jr(){return jr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jr.apply(null,arguments)}var M0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Li(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lO,cO,uO,dO,hO={exports:{}},tn={};/** @license React v16.13.1
     * react-is.production.min.js
     *
     * Copyright (c) Facebook, Inc. and its affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */function $te(){return cO||(cO=1,hO.exports=function(){if(lO)return tn;lO=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,o=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,a=e?Symbol.for("react.provider"):60109,s=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,u=e?Symbol.for("react.forward_ref"):60112,h=e?Symbol.for("react.suspense"):60113,p=e?Symbol.for("react.suspense_list"):60120,d=e?Symbol.for("react.memo"):60115,f=e?Symbol.for("react.lazy"):60116,g=e?Symbol.for("react.block"):60121,m=e?Symbol.for("react.fundamental"):60117,v=e?Symbol.for("react.responder"):60118,y=e?Symbol.for("react.scope"):60119;function b(k){if(typeof k=="object"&&k!==null){var _=k.$$typeof;switch(_){case t:switch(k=k.type){case l:case c:case r:case i:case o:case h:return k;default:switch(k=k&&k.$$typeof){case s:case u:case f:case d:case a:return k;default:return _}}case n:return _}}}function w(k){return b(k)===c}return tn.AsyncMode=l,tn.ConcurrentMode=c,tn.ContextConsumer=s,tn.ContextProvider=a,tn.Element=t,tn.ForwardRef=u,tn.Fragment=r,tn.Lazy=f,tn.Memo=d,tn.Portal=n,tn.Profiler=i,tn.StrictMode=o,tn.Suspense=h,tn.isAsyncMode=function(k){return w(k)||b(k)===l},tn.isConcurrentMode=w,tn.isContextConsumer=function(k){return b(k)===s},tn.isContextProvider=function(k){return b(k)===a},tn.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===t},tn.isForwardRef=function(k){return b(k)===u},tn.isFragment=function(k){return b(k)===r},tn.isLazy=function(k){return b(k)===f},tn.isMemo=function(k){return b(k)===d},tn.isPortal=function(k){return b(k)===n},tn.isProfiler=function(k){return b(k)===i},tn.isStrictMode=function(k){return b(k)===o},tn.isSuspense=function(k){return b(k)===h},tn.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===r||k===c||k===i||k===o||k===h||k===p||typeof k=="object"&&k!==null&&(k.$$typeof===f||k.$$typeof===d||k.$$typeof===a||k.$$typeof===s||k.$$typeof===u||k.$$typeof===m||k.$$typeof===v||k.$$typeof===y||k.$$typeof===g)},tn.typeOf=b,tn}()),hO.exports}(function(){if(dO)return uO;dO=1;var e=$te(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function i(p){return e.isMemo(p)?r:o[p.$$typeof]||t}o[e.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[e.Memo]=r;var a=Object.defineProperty,s=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,u=Object.getPrototypeOf,h=Object.prototype;uO=function p(d,f,g){if(typeof f!="string"){if(h){var m=u(f);m&&m!==h&&p(d,m,g)}var v=s(f);l&&(v=v.concat(l(f)));for(var y=i(d),b=i(f),w=0;w<v.length;++w){var k=v[w];if(!(n[k]||g&&g[k]||b&&b[k]||y&&y[k])){var _=c(f,k);try{a(d,k,_)}catch{}}}}return d}})();function pO(e,t,n){var r="";return n.split(" ").forEach(function(o){e[o]!==void 0?t.push(e[o]+";"):o&&(r+=o+" ")}),r}var X2=function(e,t,n){var r=e.key+"-"+t.name;n===!1&&e.registered[r]===void 0&&(e.registered[r]=t.styles)},mO=function(e,t,n){X2(e,t,n);var r=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+r:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}},qte={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Wte=/[A-Z]|^ms/g,Gte=/_EMO_([^_]+?)_([^]*?)_EMO_/g,fO=function(e){return e.charCodeAt(1)===45},gO=function(e){return e!=null&&typeof e!="boolean"},J2=oO(function(e){return fO(e)?e:e.replace(Wte,"-$&").toLowerCase()}),vO=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(Gte,function(n,r,o){return xa={name:r,styles:o,next:xa},r})}return qte[e]===1||fO(e)||typeof t!="number"||t===0?t:t+"px"};function q1(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":var o=n;if(o.anim===1)return xa={name:o.name,styles:o.styles,next:xa},o.name;var i=n;if(i.styles!==void 0){var a=i.next;if(a!==void 0)for(;a!==void 0;)xa={name:a.name,styles:a.styles,next:xa},a=a.next;return i.styles+";"}return function(h,p,d){var f="";if(Array.isArray(d))for(var g=0;g<d.length;g++)f+=q1(h,p,d[g])+";";else for(var m in d){var v=d[m];if(typeof v!="object"){var y=v;p!=null&&p[y]!==void 0?f+=m+"{"+p[y]+"}":gO(y)&&(f+=J2(m)+":"+vO(m,y)+";")}else if(!Array.isArray(v)||typeof v[0]!="string"||p!=null&&p[v[0]]!==void 0){var b=q1(h,p,v);switch(m){case"animation":case"animationName":f+=J2(m)+":"+b+";";break;default:f+=m+"{"+b+"}"}}else for(var w=0;w<v.length;w++)gO(v[w])&&(f+=J2(m)+":"+vO(m,v[w])+";")}return f}(e,t,n);case"function":if(e!==void 0){var s=xa,l=n(e);return xa=s,q1(e,t,l)}}var c=n;if(t==null)return c;var u=t[c];return u!==void 0?u:c}var xa,bO=/label:\s*([^\s;{]+)\s*(;|$)/g;function Z2(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,o="";xa=void 0;var i=e[0];i==null||i.raw===void 0?(r=!1,o+=q1(n,t,i)):o+=i[0];for(var a=1;a<e.length;a++)o+=q1(n,t,e[a]),r&&(o+=i[a]);bO.lastIndex=0;for(var s,l="";(s=bO.exec(o))!==null;)l+="-"+s[1];var c=function(u){for(var h,p=0,d=0,f=u.length;f>=4;++d,f-=4)h=1540483477*(65535&(h=255&u.charCodeAt(d)|(255&u.charCodeAt(++d))<<8|(255&u.charCodeAt(++d))<<16|(255&u.charCodeAt(++d))<<24))+(59797*(h>>>16)<<16),p=1540483477*(65535&(h^=h>>>24))+(59797*(h>>>16)<<16)^1540483477*(65535&p)+(59797*(p>>>16)<<16);switch(f){case 3:p^=(255&u.charCodeAt(d+2))<<16;case 2:p^=(255&u.charCodeAt(d+1))<<8;case 1:p=1540483477*(65535&(p^=255&u.charCodeAt(d)))+(59797*(p>>>16)<<16)}return(((p=1540483477*(65535&(p^=p>>>13))+(59797*(p>>>16)<<16))^p>>>15)>>>0).toString(36)}(o)+l;return{name:c,styles:o,next:xa}}var yO=!!x.useInsertionEffect&&x.useInsertionEffect||function(e){return e()},wO=x.createContext(typeof HTMLElement<"u"?sO({key:"css"}):null),Kte=wO.Provider,kO=function(e){return x.forwardRef(function(t,n){var r=x.useContext(wO);return e(t,r,n)})},xO=x.createContext({}),W1={}.hasOwnProperty,ek="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",tk=function(e,t){var n={};for(var r in t)W1.call(t,r)&&(n[r]=t[r]);return n[ek]=e,n},Yte=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return X2(t,n,r),yO(function(){return mO(t,n,r)}),null},Qte=kO(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var o=e[ek],i=[r],a="";typeof e.className=="string"?a=pO(t.registered,i,e.className):e.className!=null&&(a=e.className+" ");var s=Z2(i,void 0,x.useContext(xO));a+=t.key+"-"+s.name;var l={};for(var c in e)W1.call(e,c)&&c!=="css"&&c!==ek&&(l[c]=e[c]);return l.className=a,n&&(l.ref=n),x.createElement(x.Fragment,null,x.createElement(Yte,{cache:t,serialized:s,isStringTag:typeof o=="string"}),x.createElement(o,l))}),nk=Qte,or=Y.Fragment,R=function(e,t,n){return W1.call(t,"css")?Y.jsx(nk,tk(e,t),n):Y.jsx(e,t,n)},ce=function(e,t,n){return W1.call(t,"css")?Y.jsxs(nk,tk(e,t),n):Y.jsxs(e,t,n)},_O=function(e,t){var n=arguments;if(t==null||!W1.call(t,"css"))return x.createElement.apply(void 0,n);var r=n.length,o=new Array(r);o[0]=nk,o[1]=tk(e,t);for(var i=2;i<r;i++)o[i]=n[i];return x.createElement.apply(null,o)};function TO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Z2(t)}function rk(){var e=TO.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(_O||(_O={}));var SO,EO,Xte=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Jte=oO(function(e){return Xte.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),Zte=Jte,ene=function(e){return e!=="theme"},CO=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Zte:ene},OO=function(e,t,n){var r;if(t){var o=t.shouldForwardProp;r=e.__emotion_forwardProp&&o?function(i){return e.__emotion_forwardProp(i)&&o(i)}:o}return typeof r!="function"&&n&&(r=e.__emotion_forwardProp),r},tne=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return X2(t,n,r),yO(function(){return mO(t,n,r)}),null},tt=function e(t,n){var r,o,i=t.__emotion_real===t,a=i&&t.__emotion_base||t;n!==void 0&&(r=n.label,o=n.target);var s=OO(t,n,i),l=s||CO(a),c=!l("as");return function(){var u=arguments,h=i&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(r!==void 0&&h.push("label:"+r+";"),u[0]==null||u[0].raw===void 0)h.push.apply(h,u);else{var p=u[0];h.push(p[0]);for(var d=u.length,f=1;f<d;f++)h.push(u[f],p[f])}var g=kO(function(m,v,y){var b=c&&m.as||a,w="",k=[],_=m;if(m.theme==null){for(var O in _={},m)_[O]=m[O];_.theme=x.useContext(xO)}typeof m.className=="string"?w=pO(v.registered,k,m.className):m.className!=null&&(w=m.className+" ");var E=Z2(h.concat(k),v.registered,_);w+=v.key+"-"+E.name,o!==void 0&&(w+=" "+o);var C=c&&s===void 0?CO(b):l,N={};for(var L in m)c&&L==="as"||C(L)&&(N[L]=m[L]);return N.className=w,y&&(N.ref=y),x.createElement(x.Fragment,null,x.createElement(tne,{cache:v,serialized:E,isStringTag:typeof b=="string"}),x.createElement(b,N))});return g.displayName=r!==void 0?r:"Styled("+(typeof a=="string"?a:a.displayName||a.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=a,g.__emotion_styles=h,g.__emotion_forwardProp=s,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(m,v){return e(m,jr({},n,v,{shouldForwardProp:OO(g,v,!0)})).apply(void 0,h)},g}},PO={exports:{}},ok={};/**
     * @license React
     * use-sync-external-store-shim.production.js
     *
     * Copyright (c) Meta Platforms, Inc. and affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */function AO(){return EO||(EO=1,PO.exports=function(){if(SO)return ok;SO=1;var e=fn,t=typeof Object.is=="function"?Object.is:function(l,c){return l===c&&(l!==0||1/l==1/c)||l!=l&&c!=c},n=e.useState,r=e.useEffect,o=e.useLayoutEffect,i=e.useDebugValue;function a(l){var c=l.getSnapshot;l=l.value;try{var u=c();return!t(l,u)}catch{return!0}}var s=typeof window>"u"||window.document===void 0||window.document.createElement===void 0?function(l,c){return c()}:function(l,c){var u=c(),h=n({inst:{value:u,getSnapshot:c}}),p=h[0].inst,d=h[1];return o(function(){p.value=u,p.getSnapshot=c,a(p)&&d({inst:p})},[l,u,c]),r(function(){return a(p)&&d({inst:p}),l(function(){a(p)&&d({inst:p})})},[l]),i(u),u};return ok.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:s,ok}()),PO.exports}AO();var NO,RO,IO={exports:{}},ik={};/**
     * @license React
     * use-sync-external-store-shim/with-selector.production.js
     *
     * Copyright (c) Meta Platforms, Inc. and affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */var nne=(RO||(RO=1,IO.exports=function(){if(NO)return ik;NO=1;var e=fn,t=AO(),n=typeof Object.is=="function"?Object.is:function(l,c){return l===c&&(l!==0||1/l==1/c)||l!=l&&c!=c},r=t.useSyncExternalStore,o=e.useRef,i=e.useEffect,a=e.useMemo,s=e.useDebugValue;return ik.useSyncExternalStoreWithSelector=function(l,c,u,h,p){var d=o(null);if(d.current===null){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=a(function(){function m(k){if(!b){if(b=!0,v=k,k=h(k),p!==void 0&&f.hasValue){var _=f.value;if(p(_,k))return y=_}return y=k}if(_=y,n(v,k))return _;var O=h(k);return p!==void 0&&p(_,O)?(v=k,_):(v=k,y=O)}var v,y,b=!1,w=u===void 0?null:u;return[function(){return m(c())},w===null?void 0:function(){return m(w())}]},[c,u,h,p]);var g=r(l,d[0],d[1]);return i(function(){f.hasValue=!0,f.value=g},[g]),s(g),g},ik}()),IO.exports);let MO=function(e){e()};const rne=()=>MO,LO=Symbol.for("react-redux-context"),DO=typeof globalThis<"u"?globalThis:{};function one(){var e;if(!x.createContext)return{};const t=(e=DO[LO])!=null?e:DO[LO]=new Map;let n=t.get(x.createContext);return n||(n=x.createContext(null),t.set(x.createContext,n)),n}const gl=one();function ak(e=gl){return function(){return x.useContext(e)}}const jO=ak();let zO=()=>{throw new Error("uSES not initialized!")};const ine=(e,t)=>e===t;function ane(e=gl){const t=e===gl?jO:ak(e);return function(n,r={}){const{equalityFn:o=ine,stabilityCheck:i,noopCheck:a}=typeof r=="function"?{equalityFn:r}:r,{store:s,subscription:l,getServerState:c,stabilityCheck:u,noopCheck:h}=t();x.useRef(!0);const p=x.useCallback({[n.name]:f=>n(f)}[n.name],[n,u,i]),d=zO(l.addNestedSub,s.getState,c||s.getState,p,o);return x.useDebugValue(d),d}}const FO=ane();var BO,UO,HO={exports:{}},nn={};/**
     * @license React
     * react-is.production.min.js
     *
     * Copyright (c) Facebook, Inc. and its affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */UO||(UO=1,HO.exports=function(){if(BO)return nn;BO=1;var e,t=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen");function g(m){if(typeof m=="object"&&m!==null){var v=m.$$typeof;switch(v){case t:switch(m=m.type){case r:case i:case o:case u:case h:return m;default:switch(m=m&&m.$$typeof){case l:case s:case c:case d:case p:case a:return m;default:return v}}case n:return v}}}return e=Symbol.for("react.module.reference"),nn.ContextConsumer=s,nn.ContextProvider=a,nn.Element=t,nn.ForwardRef=c,nn.Fragment=r,nn.Lazy=d,nn.Memo=p,nn.Portal=n,nn.Profiler=i,nn.StrictMode=o,nn.Suspense=u,nn.SuspenseList=h,nn.isAsyncMode=function(){return!1},nn.isConcurrentMode=function(){return!1},nn.isContextConsumer=function(m){return g(m)===s},nn.isContextProvider=function(m){return g(m)===a},nn.isElement=function(m){return typeof m=="object"&&m!==null&&m.$$typeof===t},nn.isForwardRef=function(m){return g(m)===c},nn.isFragment=function(m){return g(m)===r},nn.isLazy=function(m){return g(m)===d},nn.isMemo=function(m){return g(m)===p},nn.isPortal=function(m){return g(m)===n},nn.isProfiler=function(m){return g(m)===i},nn.isStrictMode=function(m){return g(m)===o},nn.isSuspense=function(m){return g(m)===u},nn.isSuspenseList=function(m){return g(m)===h},nn.isValidElementType=function(m){return typeof m=="string"||typeof m=="function"||m===r||m===i||m===o||m===u||m===h||m===f||typeof m=="object"&&m!==null&&(m.$$typeof===d||m.$$typeof===p||m.$$typeof===a||m.$$typeof===s||m.$$typeof===c||m.$$typeof===e||m.getModuleId!==void 0)},nn.typeOf=g,nn}()),HO.exports;const VO={notify(){},get:()=>[]};function sne(e,t){let n,r=VO,o=0,i=!1;function a(){c.onStateChange&&c.onStateChange()}function s(){o++,n||(n=e.subscribe(a),r=function(){const u=rne();let h=null,p=null;return{clear(){h=null,p=null},notify(){u(()=>{let d=h;for(;d;)d.callback(),d=d.next})},get(){let d=[],f=h;for(;f;)d.push(f),f=f.next;return d},subscribe(d){let f=!0,g=p={callback:d,next:null,prev:p};return g.prev?g.prev.next=g:h=g,function(){!f||h===null||(f=!1,g.next?g.next.prev=g.prev:p=g.prev,g.prev?g.prev.next=g.next:h=g.next)}}}}())}function l(){o--,n&&o===0&&(n(),n=void 0,r.clear(),r=VO)}const c={addNestedSub:function(u){s();const h=r.subscribe(u);let p=!1;return()=>{p||(p=!0,h(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return i},trySubscribe:function(){i||(i=!0,s())},tryUnsubscribe:function(){i&&(i=!1,l())},getListeners:()=>r};return c}const lne=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?x.useLayoutEffect:x.useEffect;function cne({store:e,context:t,children:n,serverState:r,stabilityCheck:o="once",noopCheck:i="once"}){const a=x.useMemo(()=>{const c=sne(e);return{store:e,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:o,noopCheck:i}},[e,r,o,i]),s=x.useMemo(()=>e.getState(),[e]);lne(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==e.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,s]);const l=t||gl;return x.createElement(l.Provider,{value:a},n)}function $O(e=gl){const t=e===gl?jO:ak(e);return function(){const{store:n}=t();return n}}const une=$O();function dne(e=gl){const t=e===gl?une:$O(e);return function(){return t().dispatch}}const hne=dne();var qO;function G1(e,t){return G1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},G1(e,t)}function sk(e){return sk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sk(e)}function WO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WO=function(){return!!e})()}function lk(e){var t=typeof Map=="function"?new Map:void 0;return lk=function(n){if(n===null||!function(o){try{return Function.toString.call(o).indexOf("[native code]")!==-1}catch{return typeof o=="function"}}(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(n))return t.get(n);t.set(n,r)}function r(){return function(o,i,a){if(WO())return Reflect.construct.apply(null,arguments);var s=[null];s.push.apply(s,i);var l=new(o.bind.apply(o,s));return a&&G1(l,a.prototype),l}(n,arguments,sk(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),G1(r,n)},lk(e)}qO=nne.useSyncExternalStoreWithSelector,zO=qO,(e=>{MO=e})(vs.unstable_batchedUpdates);var _a=function(e){function t(n){return function(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(e.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+n+" for more information.")||this)}return function(n,r){n.prototype=Object.create(r.prototype),n.prototype.constructor=n,G1(n,r)}(t,e),t}(lk(Error));function ck(e){return Math.round(255*e)}function pne(e,t,n){return ck(e)+","+ck(t)+","+ck(n)}function L0(e,t,n,r){if(r===void 0&&(r=pne),t===0)return r(n,n,n);var o=(e%360+360)%360/60,i=(1-Math.abs(2*n-1))*t,a=i*(1-Math.abs(o%2-1)),s=0,l=0,c=0;o>=0&&o<1?(s=i,l=a):o>=1&&o<2?(s=a,l=i):o>=2&&o<3?(l=i,c=a):o>=3&&o<4?(l=a,c=i):o>=4&&o<5?(s=a,c=i):o>=5&&o<6&&(s=i,c=a);var u=n-i/2;return r(s+u,l+u,c+u)}var GO={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},mne=/^#[a-fA-F0-9]{6}$/,fne=/^#[a-fA-F0-9]{8}$/,gne=/^#[a-fA-F0-9]{3}$/,vne=/^#[a-fA-F0-9]{4}$/,uk=/^rgb\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*\)$/i,bne=/^rgb(?:a)?\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i,yne=/^hsl\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,wne=/^hsl(?:a)?\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i;function pd(e){if(typeof e!="string")throw new _a(3);var t=function(p){if(typeof p!="string")return p;var d=p.toLowerCase();return GO[d]?"#"+GO[d]:p}(e);if(t.match(mne))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(fne)){var n=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:n}}if(t.match(gne))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(vne)){var r=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:r}}var o=uk.exec(t);if(o)return{red:parseInt(""+o[1],10),green:parseInt(""+o[2],10),blue:parseInt(""+o[3],10)};var i=bne.exec(t.substring(0,50));if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10),alpha:parseFloat(""+i[4])>1?parseFloat(""+i[4])/100:parseFloat(""+i[4])};var a=yne.exec(t);if(a){var s="rgb("+L0(parseInt(""+a[1],10),parseInt(""+a[2],10)/100,parseInt(""+a[3],10)/100)+")",l=uk.exec(s);if(!l)throw new _a(4,t,s);return{red:parseInt(""+l[1],10),green:parseInt(""+l[2],10),blue:parseInt(""+l[3],10)}}var c=wne.exec(t.substring(0,50));if(c){var u="rgb("+L0(parseInt(""+c[1],10),parseInt(""+c[2],10)/100,parseInt(""+c[3],10)/100)+")",h=uk.exec(u);if(!h)throw new _a(4,t,u);return{red:parseInt(""+h[1],10),green:parseInt(""+h[2],10),blue:parseInt(""+h[3],10),alpha:parseFloat(""+c[4])>1?parseFloat(""+c[4])/100:parseFloat(""+c[4])}}throw new _a(5)}function vl(e){return function(t){var n=t.red/255,r=t.green/255,o=t.blue/255,i=Math.max(n,r,o),a=Math.min(n,r,o),s=(i+a)/2;if(i===a)return t.alpha!==void 0?{hue:0,saturation:0,lightness:s,alpha:t.alpha}:{hue:0,saturation:0,lightness:s};var l,c=i-a,u=s>.5?c/(2-i-a):c/(i+a);switch(i){case n:l=(r-o)/c+(r<o?6:0);break;case r:l=(o-n)/c+2;break;default:l=(n-r)/c+4}return l*=60,t.alpha!==void 0?{hue:l,saturation:u,lightness:s,alpha:t.alpha}:{hue:l,saturation:u,lightness:s}}(pd(e))}var dk=function(e){return e.length===7&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e};function yc(e){var t=e.toString(16);return t.length===1?"0"+t:t}function hk(e){return yc(Math.round(255*e))}function kne(e,t,n){return dk("#"+hk(e)+hk(t)+hk(n))}function KO(e,t,n){return L0(e,t,n,kne)}function YO(e,t,n){if(typeof e=="number"&&typeof t=="number"&&typeof n=="number")return dk("#"+yc(e)+yc(t)+yc(n));if(typeof e=="object"&&t===void 0&&n===void 0)return dk("#"+yc(e.red)+yc(e.green)+yc(e.blue));throw new _a(6)}function D0(e,t,n,r){if(typeof e=="object"&&t===void 0&&n===void 0&&r===void 0)return e.alpha>=1?YO(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")";throw new _a(7)}var xne=function(e){return typeof e.red=="number"&&typeof e.green=="number"&&typeof e.blue=="number"&&(typeof e.alpha!="number"||e.alpha===void 0)},_ne=function(e){return typeof e.red=="number"&&typeof e.green=="number"&&typeof e.blue=="number"&&typeof e.alpha=="number"},Tne=function(e){return typeof e.hue=="number"&&typeof e.saturation=="number"&&typeof e.lightness=="number"&&(typeof e.alpha!="number"||e.alpha===void 0)},Sne=function(e){return typeof e.hue=="number"&&typeof e.saturation=="number"&&typeof e.lightness=="number"&&typeof e.alpha=="number"};function bl(e){if(typeof e!="object")throw new _a(8);if(_ne(e))return D0(e);if(xne(e))return YO(e);if(Sne(e))return function(t,n,r,o){if(typeof t=="object"&&n===void 0&&r===void 0&&o===void 0)return t.alpha>=1?KO(t.hue,t.saturation,t.lightness):"rgba("+L0(t.hue,t.saturation,t.lightness)+","+t.alpha+")";throw new _a(2)}(e);if(Tne(e))return function(t,n,r){if(typeof t=="object"&&n===void 0&&r===void 0)return KO(t.hue,t.saturation,t.lightness);throw new _a(1)}(e);throw new _a(8)}function QO(e,t,n){return function(){var r=n.concat(Array.prototype.slice.call(arguments));return r.length>=t?e.apply(this,r):QO(e,t,r)}}function Wo(e){return QO(e,e.length,[])}function md(e,t,n){return Math.max(e,Math.min(t,n))}Wo(function(e,t){if(t==="transparent")return t;var n=vl(t);return bl(jr({},n,{hue:n.hue+parseFloat(e)}))});var Ene=Wo(function(e,t){if(t==="transparent")return t;var n=vl(t);return bl(jr({},n,{lightness:md(0,1,n.lightness-parseFloat(e))}))}),Cne=Ene;Wo(function(e,t){if(t==="transparent")return t;var n=vl(t);return bl(jr({},n,{saturation:md(0,1,n.saturation-parseFloat(e))}))});var One=Wo(function(e,t){if(t==="transparent")return t;var n=vl(t);return bl(jr({},n,{lightness:md(0,1,n.lightness+parseFloat(e))}))}),Pne=One,Ane=Wo(function(e,t,n){if(t==="transparent")return n;if(n==="transparent")return t;if(e===0)return n;var r=pd(t),o=jr({},r,{alpha:typeof r.alpha=="number"?r.alpha:1}),i=pd(n),a=jr({},i,{alpha:typeof i.alpha=="number"?i.alpha:1}),s=o.alpha-a.alpha,l=2*parseFloat(e)-1,c=((l*s==-1?l:l+s)/(1+l*s)+1)/2,u=1-c;return D0({red:Math.floor(o.red*c+a.red*u),green:Math.floor(o.green*c+a.green*u),blue:Math.floor(o.blue*c+a.blue*u),alpha:o.alpha*parseFloat(e)+a.alpha*(1-parseFloat(e))})}),XO=Ane;function Di(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function yl(e){return!!e&&!!e[Pn]}function bs(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var o=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return o===Object||typeof o=="function"&&Function.toString.call(o)===Dne}(e)||Array.isArray(e)||!!e[sP]||!((t=e.constructor)===null||t===void 0||!t[sP])||pk(e)||mk(e))}function wc(e,t,n){n===void 0&&(n=!1),fd(e)===0?(n?Object.keys:vd)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,o){return t(o,r,e)})}function fd(e){var t=e[Pn];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:pk(e)?2:mk(e)?3:0}function gd(e,t){return fd(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function JO(e,t,n){var r=fd(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function ZO(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function pk(e){return Mne&&e instanceof Map}function mk(e){return Lne&&e instanceof Set}function kc(e){return e.o||e.t}function fk(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=lP(e);delete t[Pn];for(var n=vd(t),r=0;r<n.length;r++){var o=n[r],i=t[o];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function gk(e,t){return t===void 0&&(t=!1),vk(e)||yl(e)||!bs(e)||(fd(e)>1&&(e.set=e.add=e.clear=e.delete=Nne),Object.freeze(e),t&&wc(e,function(n,r){return gk(r,!0)},!0)),e}function Nne(){Di(2)}function vk(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Ta(e){var t=Ek[e];return t||Di(18,e),t}function bk(){return K1}function yk(e,t){t&&(Ta("Patches"),e.u=[],e.s=[],e.v=t)}function j0(e){wk(e),e.p.forEach(Rne),e.p=null}function wk(e){e===K1&&(K1=e.l)}function eP(e){return K1={p:[],l:K1,h:e,m:!0,_:0}}function Rne(e){var t=e[Pn];t.i===0||t.i===1?t.j():t.g=!0}function kk(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||Ta("ES5").S(t,e,r),r?(n[Pn].P&&(j0(t),Di(4)),bs(e)&&(e=z0(t,e),t.l||F0(t,e)),t.u&&Ta("Patches").M(n[Pn].t,e,t.u,t.s)):e=z0(t,n,[]),j0(t),t.u&&t.v(t.u,t.s),e!==aP?e:void 0}function z0(e,t,n){if(vk(t))return t;var r=t[Pn];if(!r)return wc(t,function(s,l){return tP(e,r,t,s,l,n)},!0),t;if(r.A!==e)return t;if(!r.P)return F0(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=r.i===4||r.i===5?r.o=fk(r.k):r.o,i=o,a=!1;r.i===3&&(i=new Set(o),o.clear(),a=!0),wc(i,function(s,l){return tP(e,r,o,s,l,n,a)}),F0(e,o,!1),n&&e.u&&Ta("Patches").N(r,n,e.u,e.s)}return r.o}function tP(e,t,n,r,o,i,a){if(yl(o)){var s=z0(e,o,i&&t&&t.i!==3&&!gd(t.R,r)?i.concat(r):void 0);if(JO(n,r,s),!yl(s))return;e.m=!1}else a&&n.add(o);if(bs(o)&&!vk(o)){if(!e.h.D&&e._<1)return;z0(e,o),t&&t.A.l||F0(e,o)}}function F0(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&gk(t,n)}function xk(e,t){var n=e[Pn];return(n?kc(n):e)[t]}function nP(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function wl(e){e.P||(e.P=!0,e.l&&wl(e.l))}function _k(e){e.o||(e.o=fk(e.t))}function Tk(e,t,n){var r=pk(t)?Ta("MapSet").F(t,n):mk(t)?Ta("MapSet").T(t,n):e.O?function(o,i){var a=Array.isArray(o),s={i:a?1:0,A:i?i.A:bk(),P:!1,I:!1,R:{},l:i,t:o,k:null,o:null,j:null,C:!1},l=s,c=Y1;a&&(l=[s],c=Q1);var u=Proxy.revocable(l,c),h=u.revoke,p=u.proxy;return s.k=p,s.j=h,p}(t,n):Ta("ES5").J(t,n);return(n?n.A:bk()).p.push(r),r}function Ine(e){return yl(e)||Di(22,e),function t(n){if(!bs(n))return n;var r,o=n[Pn],i=fd(n);if(o){if(!o.P&&(o.i<4||!Ta("ES5").K(o)))return o.t;o.I=!0,r=rP(n,i),o.I=!1}else r=rP(n,i);return wc(r,function(a,s){o&&function(l,c){return fd(l)===2?l.get(c):l[c]}(o.t,a)===s||JO(r,a,t(s))}),i===3?new Set(r):r}(e)}function rP(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return fk(e)}Wo(function(e,t){if(t==="transparent")return t;var n=pd(t);return D0(jr({},n,{alpha:md(0,1,(100*(typeof n.alpha=="number"?n.alpha:1)+100*parseFloat(e))/100)}))}),Wo(function(e,t){if(t==="transparent")return t;var n=vl(t);return bl(jr({},n,{saturation:md(0,1,n.saturation+parseFloat(e))}))}),Wo(function(e,t){return t==="transparent"?t:bl(jr({},vl(t),{hue:parseFloat(e)}))}),Wo(function(e,t){return t==="transparent"?t:bl(jr({},vl(t),{lightness:parseFloat(e)}))}),Wo(function(e,t){return t==="transparent"?t:bl(jr({},vl(t),{saturation:parseFloat(e)}))}),Wo(function(e,t){return t==="transparent"?t:XO(parseFloat(e),"rgb(0, 0, 0)",t)}),Wo(function(e,t){return t==="transparent"?t:XO(parseFloat(e),"rgb(255, 255, 255)",t)}),Wo(function(e,t){if(t==="transparent")return t;var n=pd(t);return D0(jr({},n,{alpha:md(0,1,+(100*(typeof n.alpha=="number"?n.alpha:1)-100*parseFloat(e)).toFixed(2)/100)}))});var oP,K1,Sk=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Mne=typeof Map<"u",Lne=typeof Set<"u",iP=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",aP=Sk?Symbol.for("immer-nothing"):((oP={})["immer-nothing"]=!0,oP),sP=Sk?Symbol.for("immer-draftable"):"__$immer_draftable",Pn=Sk?Symbol.for("immer-state"):"__$immer_state",Dne=""+Object.prototype.constructor,vd=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,lP=Object.getOwnPropertyDescriptors||function(e){var t={};return vd(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},Ek={},Y1={get:function(e,t){if(t===Pn)return e;var n=kc(e);if(!gd(n,t))return function(o,i,a){var s,l=nP(i,a);return l?"value"in l?l.value:(s=l.get)===null||s===void 0?void 0:s.call(o.k):void 0}(e,n,t);var r=n[t];return e.I||!bs(r)?r:r===xk(e.t,t)?(_k(e),e.o[t]=Tk(e.A.h,r,e)):r},has:function(e,t){return t in kc(e)},ownKeys:function(e){return Reflect.ownKeys(kc(e))},set:function(e,t,n){var r=nP(kc(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=xk(kc(e),t),i=o==null?void 0:o[Pn];if(i&&i.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(ZO(n,o)&&(n!==void 0||gd(e.t,t)))return!0;_k(e),wl(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return xk(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,_k(e),wl(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=kc(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Di(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Di(12)}},Q1={};wc(Y1,function(e,t){Q1[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Q1.deleteProperty=function(e,t){return Q1.set.call(this,e,t,void 0)},Q1.set=function(e,t,n){return Y1.set.call(this,e[0],t,n,e[0])};var jne=function(){function e(n){var r=this;this.O=iP,this.D=!0,this.produce=function(o,i,a){if(typeof o=="function"&&typeof i!="function"){var s=i;i=o;var l=r;return function(g){var m=this;g===void 0&&(g=s);for(var v=arguments.length,y=Array(v>1?v-1:0),b=1;b<v;b++)y[b-1]=arguments[b];return l.produce(g,function(w){var k;return(k=i).call.apply(k,[m,w].concat(y))})}}var c;if(typeof i!="function"&&Di(6),a!==void 0&&typeof a!="function"&&Di(7),bs(o)){var u=eP(r),h=Tk(r,o,void 0),p=!0;try{c=i(h),p=!1}finally{p?j0(u):wk(u)}return typeof Promise<"u"&&c instanceof Promise?c.then(function(g){return yk(u,a),kk(g,u)},function(g){throw j0(u),g}):(yk(u,a),kk(c,u))}if(!o||typeof o!="object"){if((c=i(o))===void 0&&(c=o),c===aP&&(c=void 0),r.D&&gk(c,!0),a){var d=[],f=[];Ta("Patches").M(o,c,d,f),a(d,f)}return c}Di(21,o)},this.produceWithPatches=function(o,i){if(typeof o=="function")return function(c){for(var u=arguments.length,h=Array(u>1?u-1:0),p=1;p<u;p++)h[p-1]=arguments[p];return r.produceWithPatches(c,function(d){return o.apply(void 0,[d].concat(h))})};var a,s,l=r.produce(o,i,function(c,u){a=c,s=u});return typeof Promise<"u"&&l instanceof Promise?l.then(function(c){return[c,a,s]}):[l,a,s]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){bs(n)||Di(8),yl(n)&&(n=Ine(n));var r=eP(this),o=Tk(this,n,void 0);return o[Pn].C=!0,wk(r),o},t.finishDraft=function(n,r){var o=(n&&n[Pn]).A;return yk(o,r),kk(void 0,o)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!iP&&Di(20),this.O=n},t.applyPatches=function(n,r){var o;for(o=r.length-1;o>=0;o--){var i=r[o];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}o>-1&&(r=r.slice(o+1));var a=Ta("Patches").$;return yl(n)?a(n,r):this.produce(n,function(s){return a(s,r)})},e}(),Go=new jne,cP=Go.produce;function X1(e){return X1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X1(e)}function zne(e){var t=function(n,r){if(X1(n)!="object"||!n)return n;var o=n[Symbol.toPrimitive];if(o!==void 0){var i=o.call(n,r);if(X1(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(e,"string");return X1(t)=="symbol"?t:t+""}function Fne(e,t,n){return(t=zne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function dP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uP(Object(n),!0).forEach(function(r){Fne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zr(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}Go.produceWithPatches.bind(Go),Go.setAutoFreeze.bind(Go),Go.setUseProxies.bind(Go),Go.applyPatches.bind(Go),Go.createDraft.bind(Go),Go.finishDraft.bind(Go);var hP=typeof Symbol=="function"&&Symbol.observable||"@@observable",Ck=function(){return Math.random().toString(36).substring(7).split("").join(".")},B0={INIT:"@@redux/INIT"+Ck(),REPLACE:"@@redux/REPLACE"+Ck(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ck()}};function pP(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(zr(0));if(typeof t=="function"&&n===void 0&&(n=t,t=void 0),n!==void 0){if(typeof n!="function")throw new Error(zr(1));return n(pP)(e,t)}if(typeof e!="function")throw new Error(zr(2));var o=e,i=t,a=[],s=a,l=!1;function c(){s===a&&(s=a.slice())}function u(){if(l)throw new Error(zr(3));return i}function h(d){if(typeof d!="function")throw new Error(zr(4));if(l)throw new Error(zr(5));var f=!0;return c(),s.push(d),function(){if(f){if(l)throw new Error(zr(6));f=!1,c();var g=s.indexOf(d);s.splice(g,1),a=null}}}function p(d){if(!function(m){if(typeof m!="object"||m===null)return!1;for(var v=m;Object.getPrototypeOf(v)!==null;)v=Object.getPrototypeOf(v);return Object.getPrototypeOf(m)===v}(d))throw new Error(zr(7));if(d.type===void 0)throw new Error(zr(8));if(l)throw new Error(zr(9));try{l=!0,i=o(i,d)}finally{l=!1}for(var f=a=s,g=0;g<f.length;g++)(0,f[g])();return d}return p({type:B0.INIT}),r={dispatch:p,subscribe:h,getState:u,replaceReducer:function(d){if(typeof d!="function")throw new Error(zr(10));o=d,p({type:B0.REPLACE})}},r[hP]=function(){var d,f=h;return d={subscribe:function(g){if(typeof g!="object"||g===null)throw new Error(zr(11));function m(){g.next&&g.next(u())}return m(),{unsubscribe:f(m)}}},d[hP]=function(){return this},d},r}function Bne(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];typeof e[o]=="function"&&(n[o]=e[o])}var i,a=Object.keys(n);try{(function(s){Object.keys(s).forEach(function(l){var c=s[l];if(c(void 0,{type:B0.INIT})===void 0)throw new Error(zr(12));if(c(void 0,{type:B0.PROBE_UNKNOWN_ACTION()})===void 0)throw new Error(zr(13))})})(n)}catch(s){i=s}return function(s,l){if(s===void 0&&(s={}),i)throw i;for(var c=!1,u={},h=0;h<a.length;h++){var p=a[h],d=n[p],f=s[p],g=d(f,l);if(g===void 0)throw l&&l.type,new Error(zr(14));u[p]=g,c=c||g!==f}return(c=c||a.length!==Object.keys(s).length)?u:s}}function U0(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,o){return function(){return r(o.apply(void 0,arguments))}})}function Une(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var o=r.apply(void 0,arguments),i=function(){throw new Error(zr(15))},a={getState:o.getState,dispatch:function(){return i.apply(void 0,arguments)}},s=t.map(function(l){return l(a)});return i=U0.apply(void 0,s)(o.dispatch),dP(dP({},o),{},{dispatch:i})}}}var H0="NOT_FOUND",Hne=function(e,t){return e===t};function Vne(e,t){var n=typeof t=="object"?t:{equalityCheck:t},r=n.equalityCheck,o=r===void 0?Hne:r,i=n.maxSize,a=i===void 0?1:i,s=n.resultEqualityCheck,l=function(h){return function(p,d){if(p===null||d===null||p.length!==d.length)return!1;for(var f=p.length,g=0;g<f;g++)if(!h(p[g],d[g]))return!1;return!0}}(o),c=a===1?function(h){var p;return{get:function(d){return p&&h(p.key,d)?p.value:H0},put:function(d,f){p={key:d,value:f}},getEntries:function(){return p?[p]:[]},clear:function(){p=void 0}}}(l):function(h,p){var d=[];function f(g){var m=d.findIndex(function(y){return p(g,y.key)});if(m>-1){var v=d[m];return m>0&&(d.splice(m,1),d.unshift(v)),v.value}return H0}return{get:f,put:function(g,m){f(g)===H0&&(d.unshift({key:g,value:m}),d.length>h&&d.pop())},getEntries:function(){return d},clear:function(){d=[]}}}(a,l);function u(){var h=c.get(arguments);if(h===H0){if(h=e.apply(null,arguments),s){var p=c.getEntries().find(function(d){return s(d.value,h)});p&&(h=p.value)}c.put(arguments,h)}return h}return u.clearCache=function(){return c.clear()},u}function $ne(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var s,l=0,c={memoizeOptions:void 0},u=i.pop();if(typeof u=="object"&&(c=u,u=i.pop()),typeof u!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof u+"]");var h=c.memoizeOptions,p=h===void 0?n:h,d=Array.isArray(p)?p:[p],f=function(v){var y=Array.isArray(v[0])?v[0]:v;if(!y.every(function(w){return typeof w=="function"})){var b=y.map(function(w){return typeof w=="function"?"function "+(w.name||"unnamed")+"()":typeof w}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+b+"]")}return y}(i),g=e.apply(void 0,[function(){return l++,u.apply(null,arguments)}].concat(d)),m=e(function(){for(var v=[],y=f.length,b=0;b<y;b++)v.push(f[b].apply(null,arguments));return s=g.apply(null,v)});return Object.assign(m,{resultFunc:u,memoizedResultFunc:g,dependencies:f,lastResult:function(){return s},recomputations:function(){return l},resetRecomputations:function(){return l=0}}),m}}var mP=$ne(Vne);function fP(e){return function(t){var n=t.dispatch,r=t.getState;return function(o){return function(i){return typeof i=="function"?i(n,r,e):o(i)}}}}var Ok=fP();Ok.withExtraArgument=fP;var gP=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),qne=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function s(l){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){a=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(u[0]===6&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(h){u=[6,h],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([l,c])}}},bd=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},Wne=Object.defineProperty,Gne=Object.defineProperties,Kne=Object.getOwnPropertyDescriptors,vP=Object.getOwnPropertySymbols,Yne=Object.prototype.hasOwnProperty,Qne=Object.prototype.propertyIsEnumerable,bP=function(e,t,n){return t in e?Wne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},kl=function(e,t){for(var n in t||(t={}))Yne.call(t,n)&&bP(e,n,t[n]);if(vP)for(var r=0,o=vP(t);r<o.length;r++)n=o[r],Qne.call(t,n)&&bP(e,n,t[n]);return e},Pk=function(e,t){return Gne(e,Kne(t))},Xne=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?U0:U0.apply(null,arguments)};function xl(e,t){function n(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(t){var i=t.apply(void 0,r);if(!i)throw new Error("prepareAction did not return an object");return kl(kl({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}var Jne=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.apply(this,n)||this;return Object.setPrototypeOf(o,t.prototype),o}return gP(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,bd([void 0],n[0].concat(this)))):new(t.bind.apply(t,bd([void 0],n.concat(this))))},t}(Array),Zne=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.apply(this,n)||this;return Object.setPrototypeOf(o,t.prototype),o}return gP(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,bd([void 0],n[0].concat(this)))):new(t.bind.apply(t,bd([void 0],n.concat(this))))},t}(Array);function Ak(e){return bs(e)?cP(e,function(){}):e}function ere(){return function(e){return function(t){t===void 0&&(t={});var n=t.thunk,r=n===void 0||n;t.immutableCheck,t.serializableCheck,t.actionCreatorCheck;var o=new Jne;return r&&(function(i){return typeof i=="boolean"}(r)?o.push(Ok):o.push(Ok.withExtraArgument(r.extraArgument))),o}(e)}}function yP(e){var t,n={},r=[],o={addCase:function(i,a){var s=typeof i=="string"?i:i.type;if(!s)throw new Error("`builder.addCase` cannot be called with an empty action type");if(s in n)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return n[s]=a,o},addMatcher:function(i,a){return r.push({matcher:i,reducer:a}),o},addDefaultCase:function(i){return t=i,o}};return e(o),[n,r,t]}function V0(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r=typeof e.initialState=="function"?e.initialState:Ak(e.initialState),o=e.reducers||{},i=Object.keys(o),a={},s={},l={};function c(){var u=typeof e.extraReducers=="function"?yP(e.extraReducers):[e.extraReducers],h=u[0],p=h===void 0?{}:h,d=u[1],f=d===void 0?[]:d,g=u[2],m=g===void 0?void 0:g,v=kl(kl({},p),s);return function(y,b,w,k){w===void 0&&(w=[]);var _,O=typeof b=="function"?yP(b):[b,w,k],E=O[0],C=O[1],N=O[2];if(function(H){return typeof H=="function"}(y))_=function(){return Ak(y())};else{var L=Ak(y);_=function(){return L}}function j(H,F){H===void 0&&(H=_());var z=bd([E[F.type]],C.filter(function(B){return(0,B.matcher)(F)}).map(function(B){return B.reducer}));return z.filter(function(B){return!!B}).length===0&&(z=[N]),z.reduce(function(B,V){if(V){var U;if(yl(B))return(U=V(B,F))===void 0?B:U;if(bs(B))return cP(B,function(S){return V(S,F)});if((U=V(B,F))===void 0){if(B===null)return B;throw Error("A case reducer on a non-draftable value must not return undefined")}return U}return B},H)}return j.getInitialState=_,j}(r,function(y){for(var b in v)y.addCase(b,v[b]);for(var w=0,k=f;w<k.length;w++){var _=k[w];y.addMatcher(_.matcher,_.reducer)}m&&y.addDefaultCase(m)})}return i.forEach(function(u){var h,p,d=o[u],f=function(g,m){return g+"/"+m}(t,u);"reducer"in d?(h=d.reducer,p=d.prepare):h=d,a[u]=h,s[f]=h,l[u]=p?xl(f,p):xl(f)}),{name:t,reducer:function(u,h){return n||(n=c()),n(u,h)},actions:l,caseReducers:a,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}var tre=["name","message","stack","code"],Nk=function(){return function(e,t){this.payload=e,this.meta=t}}(),wP=function(){return function(e,t){this.payload=e,this.meta=t}}(),nre=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=tre;n<r.length;n++){var o=r[n];typeof e[o]=="string"&&(t[o]=e[o])}return t}return{message:String(e)}},_l=function(){function e(t,n,r){var o=xl(t+"/fulfilled",function(l,c,u,h){return{payload:l,meta:Pk(kl({},h||{}),{arg:u,requestId:c,requestStatus:"fulfilled"})}}),i=xl(t+"/pending",function(l,c,u){return{payload:void 0,meta:Pk(kl({},u||{}),{arg:c,requestId:l,requestStatus:"pending"})}}),a=xl(t+"/rejected",function(l,c,u,h,p){return{payload:h,error:(r&&r.serializeError||nre)(l||"Rejected"),meta:Pk(kl({},p||{}),{arg:u,requestId:c,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),s=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();return Object.assign(function(l){return function(c,u,h){var p,d=r!=null&&r.idGenerator?r.idGenerator(l):function(v){v===void 0&&(v=21);for(var y="",b=v;b--;)y+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return y}(),f=new s;function g(v){p=v,f.abort()}var m=function(){return function(v,y,b){return new Promise(function(w,k){var _=function(C){try{E(b.next(C))}catch(N){k(N)}},O=function(C){try{E(b.throw(C))}catch(N){k(N)}},E=function(C){return C.done?w(C.value):Promise.resolve(C.value).then(_,O)};E((b=b.apply(v,y)).next())})}(this,null,function(){var v,y,b,w,k,_;return qne(this,function(O){switch(O.label){case 0:return O.trys.push([0,4,,5]),function(E){return E!==null&&typeof E=="object"&&typeof E.then=="function"}(w=(v=r==null?void 0:r.condition)==null?void 0:v.call(r,l,{getState:u,extra:h}))?[4,w]:[3,2];case 1:w=O.sent(),O.label=2;case 2:if(w===!1||f.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return k=new Promise(function(E,C){return f.signal.addEventListener("abort",function(){return C({name:"AbortError",message:p||"Aborted"})})}),c(i(d,l,(y=r==null?void 0:r.getPendingMeta)==null?void 0:y.call(r,{requestId:d,arg:l},{getState:u,extra:h}))),[4,Promise.race([k,Promise.resolve(n(l,{dispatch:c,getState:u,extra:h,requestId:d,signal:f.signal,abort:g,rejectWithValue:function(E,C){return new Nk(E,C)},fulfillWithValue:function(E,C){return new wP(E,C)}})).then(function(E){if(E instanceof Nk)throw E;return E instanceof wP?o(E.payload,d,l,E.meta):o(E,d,l)})])];case 3:return b=O.sent(),[3,5];case 4:return _=O.sent(),b=_ instanceof Nk?a(null,d,l,_.payload,_.meta):a(_,d,l),[3,5];case 5:return r&&!r.dispatchConditionRejection&&a.match(b)&&b.meta.condition||c(b),[2,b]}})})}();return Object.assign(m,{abort:g,requestId:d,arg:l,unwrap:function(){return m.then(rre)}})}},{pending:i,rejected:a,fulfilled:o,typePrefix:t})}return e.withTypes=function(){return e},e}();function rre(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var Rk="listenerMiddleware";xl(Rk+"/add"),xl(Rk+"/removeAll"),xl(Rk+"/remove"),typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis),function(){function e(i,a){var s=o[i];return s?s.enumerable=a:o[i]=s={configurable:!0,enumerable:a,get:function(){var l=this[Pn];return Y1.get(l,i)},set:function(l){var c=this[Pn];Y1.set(c,i,l)}},s}function t(i){for(var a=i.length-1;a>=0;a--){var s=i[a][Pn];if(!s.P)switch(s.i){case 5:r(s)&&wl(s);break;case 4:n(s)&&wl(s)}}}function n(i){for(var a=i.t,s=i.k,l=vd(s),c=l.length-1;c>=0;c--){var u=l[c];if(u!==Pn){var h=a[u];if(h===void 0&&!gd(a,u))return!0;var p=s[u],d=p&&p[Pn];if(d?d.t!==h:!ZO(p,h))return!0}}var f=!!a[Pn];return l.length!==vd(a).length+(f?0:1)}function r(i){var a=i.k;if(a.length!==i.t.length)return!0;var s=Object.getOwnPropertyDescriptor(a,a.length-1);if(s&&!s.get)return!0;for(var l=0;l<a.length;l++)if(!a.hasOwnProperty(l))return!0;return!1}var o={};(function(i,a){Ek[i]||(Ek[i]=a)})("ES5",{J:function(i,a){var s=Array.isArray(i),l=function(u,h){if(u){for(var p=Array(h.length),d=0;d<h.length;d++)Object.defineProperty(p,""+d,e(d,!0));return p}var f=lP(h);delete f[Pn];for(var g=vd(f),m=0;m<g.length;m++){var v=g[m];f[v]=e(v,u||!!f[v].enumerable)}return Object.create(Object.getPrototypeOf(h),f)}(s,i),c={i:s?5:4,A:a?a.A:bk(),P:!1,I:!1,R:{},l:a,t:i,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,Pn,{value:c,writable:!0}),l},S:function(i,a,s){s?yl(a)&&a[Pn].A===i&&t(i.p):(i.u&&function l(c){if(c&&typeof c=="object"){var u=c[Pn];if(u){var h=u.t,p=u.k,d=u.R,f=u.i;if(f===4)wc(p,function(b){b!==Pn&&(h[b]!==void 0||gd(h,b)?d[b]||l(p[b]):(d[b]=!0,wl(u)))}),wc(h,function(b){p[b]!==void 0||gd(p,b)||(d[b]=!1,wl(u))});else if(f===5){if(r(u)&&(wl(u),d.length=!0),p.length<h.length)for(var g=p.length;g<h.length;g++)d[g]=!1;else for(var m=h.length;m<p.length;m++)d[m]=!0;for(var v=Math.min(p.length,h.length),y=0;y<v;y++)p.hasOwnProperty(y)||(d[y]=!0),d[y]===void 0&&l(p[y])}}}}(i.p[0]),t(i.p))},K:function(i){return i.i===4?n(i):r(i)}})}();const kP={autoScrollToBottom:!0,enableClose:!0,showAgreement:!1,expiredTime:1800,style:{width:400,height:650}};var xP=typeof global=="object"&&global&&global.Object===Object&&global,ore=typeof self=="object"&&self&&self.Object===Object&&self,Sa=xP||ore||Function("return this")(),Ea=Sa.Symbol,_P=Object.prototype,ire=_P.hasOwnProperty,are=_P.toString,J1=Ea?Ea.toStringTag:void 0,sre=Object.prototype.toString,lre="[object Null]",cre="[object Undefined]",TP=Ea?Ea.toStringTag:void 0;function xc(e){return e==null?e===void 0?cre:lre:TP&&TP in Object(e)?function(t){var n=ire.call(t,J1),r=t[J1];try{t[J1]=void 0;var o=!0}catch{}var i=are.call(t);return o&&(n?t[J1]=r:delete t[J1]),i}(e):function(t){return sre.call(t)}(e)}function Ca(e){return e!=null&&typeof e=="object"}var ure="[object Symbol]";function Ik(e){return typeof e=="symbol"||Ca(e)&&xc(e)==ure}function SP(e,t){for(var n=-1,r=e==null?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var yr=Array.isArray,EP=Ea?Ea.prototype:void 0,CP=EP?EP.toString:void 0;function OP(e){if(typeof e=="string")return e;if(yr(e))return SP(e,OP)+"";if(Ik(e))return CP?CP.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function hi(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Mk(e){return e}var dre="[object AsyncFunction]",hre="[object Function]",pre="[object GeneratorFunction]",mre="[object Proxy]";function $0(e){if(!hi(e))return!1;var t=xc(e);return t==hre||t==pre||t==dre||t==mre}var Lk=Sa["__core-js_shared__"],PP=function(){var e=/[^.]+$/.exec(Lk&&Lk.keys&&Lk.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),fre=Function.prototype.toString;function _c(e){if(e!=null){try{return fre.call(e)}catch{}try{return e+""}catch{}}return""}var gre=/^\[object .+?Constructor\]$/,vre=Function.prototype,bre=Object.prototype,yre=vre.toString,wre=bre.hasOwnProperty,kre=RegExp("^"+yre.call(wre).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xre(e){return!(!hi(e)||function(t){return!!PP&&PP in t}(e))&&($0(e)?kre:gre).test(_c(e))}function Tc(e,t){var n=function(r,o){return r==null?void 0:r[o]}(e,t);return xre(n)?n:void 0}var Dk=Tc(Sa,"WeakMap"),AP=Object.create,NP=function(){function e(){}return function(t){if(!hi(t))return{};if(AP)return AP(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),_re=Date.now;function Tre(e){return function(){return e}}var q0=function(){try{var e=Tc(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Sre=q0?function(e,t){return q0(e,"toString",{configurable:!0,enumerable:!1,value:Tre(t),writable:!0})}:Mk,Ere=function(e){var t=0,n=0;return function(){var r=_re(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(Sre);function RP(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var Cre=9007199254740991,Ore=/^(?:0|[1-9]\d*)$/;function W0(e,t){var n=typeof e;return!!(t=t??Cre)&&(n=="number"||n!="symbol"&&Ore.test(e))&&e>-1&&e%1==0&&e<t}function jk(e,t,n){t=="__proto__"&&q0?q0(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Z1(e,t){return e===t||e!=e&&t!=t}var Pre=Object.prototype.hasOwnProperty;function zk(e,t,n){var r=e[t];(!Pre.call(e,t)||!Z1(r,n)||n===void 0&&!(t in e))&&jk(e,t,n)}var IP=Math.max;function Are(e,t){return Ere(function(n,r,o){return r=IP(r===void 0?n.length-1:r,0),function(){for(var i=arguments,a=-1,s=IP(i.length-r,0),l=Array(s);++a<s;)l[a]=i[r+a];a=-1;for(var c=Array(r+1);++a<r;)c[a]=i[a];return c[r]=o(l),function(u,h,p){switch(p.length){case 0:return u.call(h);case 1:return u.call(h,p[0]);case 2:return u.call(h,p[0],p[1]);case 3:return u.call(h,p[0],p[1],p[2])}return u.apply(h,p)}(n,this,c)}}(e,t,Mk),e+"")}var Nre=9007199254740991;function Fk(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Nre}function ep(e){return e!=null&&Fk(e.length)&&!$0(e)}var Rre=Object.prototype;function G0(e){var t=e&&e.constructor;return e===(typeof t=="function"&&t.prototype||Rre)}function MP(e){return Ca(e)&&xc(e)=="[object Arguments]"}var LP=Object.prototype,Ire=LP.hasOwnProperty,Mre=LP.propertyIsEnumerable,tp=MP(function(){return arguments}())?MP:function(e){return Ca(e)&&Ire.call(e,"callee")&&!Mre.call(e,"callee")},DP=typeof exports=="object"&&exports&&!exports.nodeType&&exports,jP=DP&&typeof module=="object"&&module&&!module.nodeType&&module,zP=jP&&jP.exports===DP?Sa.Buffer:void 0,Sc=(zP?zP.isBuffer:void 0)||function(){return!1},xn={};function Bk(e){return function(t){return e(t)}}xn["[object Float32Array]"]=xn["[object Float64Array]"]=xn["[object Int8Array]"]=xn["[object Int16Array]"]=xn["[object Int32Array]"]=xn["[object Uint8Array]"]=xn["[object Uint8ClampedArray]"]=xn["[object Uint16Array]"]=xn["[object Uint32Array]"]=!0,xn["[object Arguments]"]=xn["[object Array]"]=xn["[object ArrayBuffer]"]=xn["[object Boolean]"]=xn["[object DataView]"]=xn["[object Date]"]=xn["[object Error]"]=xn["[object Function]"]=xn["[object Map]"]=xn["[object Number]"]=xn["[object Object]"]=xn["[object RegExp]"]=xn["[object Set]"]=xn["[object String]"]=xn["[object WeakMap]"]=!1;var FP=typeof exports=="object"&&exports&&!exports.nodeType&&exports,np=FP&&typeof module=="object"&&module&&!module.nodeType&&module,Uk=np&&np.exports===FP&&xP.process,yd=function(){try{return np&&np.require&&np.require("util").types||Uk&&Uk.binding&&Uk.binding("util")}catch{}}(),BP=yd&&yd.isTypedArray,rp=BP?Bk(BP):function(e){return Ca(e)&&Fk(e.length)&&!!xn[xc(e)]},Lre=Object.prototype.hasOwnProperty;function UP(e,t){var n=yr(e),r=!n&&tp(e),o=!n&&!r&&Sc(e),i=!n&&!r&&!o&&rp(e),a=n||r||o||i,s=a?function(u,h){for(var p=-1,d=Array(u);++p<u;)d[p]=h(p);return d}(e.length,String):[],l=s.length;for(var c in e)(t||Lre.call(e,c))&&(!a||!(c=="length"||o&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||W0(c,l)))&&s.push(c);return s}function HP(e,t){return function(n){return e(t(n))}}var Dre=HP(Object.keys,Object),jre=Object.prototype.hasOwnProperty;function VP(e){if(!G0(e))return Dre(e);var t=[];for(var n in Object(e))jre.call(e,n)&&n!="constructor"&&t.push(n);return t}function Hk(e){return ep(e)?UP(e):VP(e)}var zre=Object.prototype.hasOwnProperty;function Fre(e){if(!hi(e))return function(o){var i=[];if(o!=null)for(var a in Object(o))i.push(a);return i}(e);var t=G0(e),n=[];for(var r in e)r=="constructor"&&(t||!zre.call(e,r))||n.push(r);return n}function Vk(e){return ep(e)?UP(e,!0):Fre(e)}var Bre=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ure=/^\w*$/;function $k(e,t){if(yr(e))return!1;var n=typeof e;return!(n!="number"&&n!="symbol"&&n!="boolean"&&e!=null&&!Ik(e))||Ure.test(e)||!Bre.test(e)||t!=null&&e in Object(t)}var op=Tc(Object,"create"),Hre=Object.prototype.hasOwnProperty,Vre=Object.prototype.hasOwnProperty;function Ec(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function K0(e,t){for(var n=e.length;n--;)if(Z1(e[n][0],t))return n;return-1}Ec.prototype.clear=function(){this.__data__=op?op(null):{},this.size=0},Ec.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ec.prototype.get=function(e){var t=this.__data__;if(op){var n=t[e];return n==="__lodash_hash_undefined__"?void 0:n}return Hre.call(t,e)?t[e]:void 0},Ec.prototype.has=function(e){var t=this.__data__;return op?t[e]!==void 0:Vre.call(t,e)},Ec.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=op&&t===void 0?"__lodash_hash_undefined__":t,this};var $re=Array.prototype.splice;function ys(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ys.prototype.clear=function(){this.__data__=[],this.size=0},ys.prototype.delete=function(e){var t=this.__data__,n=K0(t,e);return!(n<0)&&(n==t.length-1?t.pop():$re.call(t,n,1),--this.size,!0)},ys.prototype.get=function(e){var t=this.__data__,n=K0(t,e);return n<0?void 0:t[n][1]},ys.prototype.has=function(e){return K0(this.__data__,e)>-1},ys.prototype.set=function(e,t){var n=this.__data__,r=K0(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var ip=Tc(Sa,"Map");function Y0(e,t){var n=e.__data__;return function(r){var o=typeof r;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?r!=="__proto__":r===null}(t)?n[typeof t=="string"?"string":"hash"]:n.map}function ws(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ws.prototype.clear=function(){this.size=0,this.__data__={hash:new Ec,map:new(ip||ys),string:new Ec}},ws.prototype.delete=function(e){var t=Y0(this,e).delete(e);return this.size-=t?1:0,t},ws.prototype.get=function(e){return Y0(this,e).get(e)},ws.prototype.has=function(e){return Y0(this,e).has(e)},ws.prototype.set=function(e,t){var n=Y0(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var qre="Expected a function";function qk(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(qre);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(qk.Cache||ws),n}qk.Cache=ws;var Wre=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Gre=/\\(\\)?/g,Kre=function(e){var t=qk(e,function(r){return n.size===500&&n.clear(),r}),n=t.cache;return t}(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Wre,function(n,r,o,i){t.push(o?i.replace(Gre,"$1"):r||n)}),t});function Q0(e,t){return yr(e)?e:$k(e,t)?[e]:Kre(function(n){return n==null?"":OP(n)}(e))}function ap(e){if(typeof e=="string"||Ik(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Wk(e,t){for(var n=0,r=(t=Q0(t,e)).length;e!=null&&n<r;)e=e[ap(t[n++])];return n&&n==r?e:void 0}function $P(e,t,n){var r=e==null?void 0:Wk(e,t);return r===void 0?n:r}function qP(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var X0=HP(Object.getPrototypeOf,Object),Yre="[object Object]",Qre=Function.prototype,Xre=Object.prototype,WP=Qre.toString,Jre=Xre.hasOwnProperty,Zre=WP.call(Object);function ji(e){var t=this.__data__=new ys(e);this.size=t.size}ji.prototype.clear=function(){this.__data__=new ys,this.size=0},ji.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ji.prototype.get=function(e){return this.__data__.get(e)},ji.prototype.has=function(e){return this.__data__.has(e)},ji.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ys){var r=n.__data__;if(!ip||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ws(r)}return n.set(e,t),this.size=n.size,this};var GP=typeof exports=="object"&&exports&&!exports.nodeType&&exports,KP=GP&&typeof module=="object"&&module&&!module.nodeType&&module,YP=KP&&KP.exports===GP?Sa.Buffer:void 0,QP=YP?YP.allocUnsafe:void 0;function XP(e,t){if(t)return e.slice();var n=e.length,r=QP?QP(n):new e.constructor(n);return e.copy(r),r}function JP(){return[]}var eoe=Object.prototype.propertyIsEnumerable,ZP=Object.getOwnPropertySymbols,eA=ZP?function(e){return e==null?[]:(e=Object(e),function(t,n){for(var r=-1,o=t==null?0:t.length,i=0,a=[];++r<o;){var s=t[r];n(s,r,t)&&(a[i++]=s)}return a}(ZP(e),function(t){return eoe.call(e,t)}))}:JP,toe=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)qP(t,eA(e)),e=X0(e);return t}:JP;function tA(e,t,n){var r=t(e);return yr(e)?r:qP(r,n(e))}function Gk(e){return tA(e,Hk,eA)}var Kk=Tc(Sa,"DataView"),Yk=Tc(Sa,"Promise"),Qk=Tc(Sa,"Set"),nA="[object Map]",rA="[object Promise]",oA="[object Set]",iA="[object WeakMap]",aA="[object DataView]",noe=_c(Kk),roe=_c(ip),ooe=_c(Yk),ioe=_c(Qk),aoe=_c(Dk),pi=xc;(Kk&&pi(new Kk(new ArrayBuffer(1)))!=aA||ip&&pi(new ip)!=nA||Yk&&pi(Yk.resolve())!=rA||Qk&&pi(new Qk)!=oA||Dk&&pi(new Dk)!=iA)&&(pi=function(e){var t=xc(e),n=t=="[object Object]"?e.constructor:void 0,r=n?_c(n):"";if(r)switch(r){case noe:return aA;case roe:return nA;case ooe:return rA;case ioe:return oA;case aoe:return iA}return t});var soe=Object.prototype.hasOwnProperty,J0=Sa.Uint8Array;function Xk(e){var t=new e.constructor(e.byteLength);return new J0(t).set(new J0(e)),t}var loe=/\w*$/,sA=Ea?Ea.prototype:void 0,lA=sA?sA.valueOf:void 0;function cA(e,t){var n=t?Xk(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var coe="[object Boolean]",uoe="[object Date]",doe="[object Map]",hoe="[object Number]",poe="[object RegExp]",moe="[object Set]",foe="[object String]",goe="[object Symbol]",voe="[object ArrayBuffer]",boe="[object DataView]",yoe="[object Float32Array]",woe="[object Float64Array]",koe="[object Int8Array]",xoe="[object Int16Array]",_oe="[object Int32Array]",Toe="[object Uint8Array]",Soe="[object Uint8ClampedArray]",Eoe="[object Uint16Array]",Coe="[object Uint32Array]";function Ooe(e,t,n){var r=e.constructor;switch(t){case voe:return Xk(e);case coe:case uoe:return new r(+e);case boe:return function(o,i){var a=Xk(o.buffer);return new o.constructor(a,o.byteOffset,o.byteLength)}(e);case yoe:case woe:case koe:case xoe:case _oe:case Toe:case Soe:case Eoe:case Coe:return cA(e,n);case doe:return new r;case hoe:case foe:return new r(e);case poe:return function(o){var i=new o.constructor(o.source,loe.exec(o));return i.lastIndex=o.lastIndex,i}(e);case moe:return new r;case goe:return function(o){return lA?Object(lA.call(o)):{}}(e)}}function uA(e){return typeof e.constructor!="function"||G0(e)?{}:NP(X0(e))}var dA=yd&&yd.isMap,Poe=dA?Bk(dA):function(e){return Ca(e)&&pi(e)=="[object Map]"},hA=yd&&yd.isSet,Aoe=hA?Bk(hA):function(e){return Ca(e)&&pi(e)=="[object Set]"},Noe=1,pA="[object Arguments]",mA="[object Function]",Roe="[object GeneratorFunction]",fA="[object Object]",vn={};function Z0(e,t,n,r,o,i){var a,s=t&Noe;if(a!==void 0)return a;if(!hi(e))return e;var l=yr(e);if(l)a=function(d){var f=d.length,g=new d.constructor(f);return f&&typeof d[0]=="string"&&soe.call(d,"index")&&(g.index=d.index,g.input=d.input),g}(e);else{var c=pi(e),u=c==mA||c==Roe;if(Sc(e))return XP(e,s);if(c==fA||c==pA||u&&!o)a=u?{}:uA(e);else{if(!vn[c])return o?e:{};a=Ooe(e,c,s)}}i||(i=new ji);var h=i.get(e);if(h)return h;i.set(e,a),Aoe(e)?e.forEach(function(d){a.add(Z0(d,t,n,d,e,i))}):Poe(e)&&e.forEach(function(d,f){a.set(f,Z0(d,t,n,f,e,i))});var p=l?void 0:Gk(e);return RP(p||e,function(d,f){p&&(d=e[f=d]),zk(a,f,Z0(d,t,n,f,e,i))}),a}vn[pA]=vn["[object Array]"]=vn["[object ArrayBuffer]"]=vn["[object DataView]"]=vn["[object Boolean]"]=vn["[object Date]"]=vn["[object Float32Array]"]=vn["[object Float64Array]"]=vn["[object Int8Array]"]=vn["[object Int16Array]"]=vn["[object Int32Array]"]=vn["[object Map]"]=vn["[object Number]"]=vn[fA]=vn["[object RegExp]"]=vn["[object Set]"]=vn["[object String]"]=vn["[object Symbol]"]=vn["[object Uint8Array]"]=vn["[object Uint8ClampedArray]"]=vn["[object Uint16Array]"]=vn["[object Uint32Array]"]=!0,vn["[object Error]"]=vn[mA]=vn["[object WeakMap]"]=!1;function zi(e){return Z0(e,5)}function eg(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new ws;++t<n;)this.add(e[t])}function Ioe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function Moe(e,t){return e.has(t)}eg.prototype.add=eg.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},eg.prototype.has=function(e){return this.__data__.has(e)};var Loe=1,Doe=2;function gA(e,t,n,r,o,i){var a=n&Loe,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;var h=-1,p=!0,d=n&Doe?new eg:void 0;for(i.set(e,t),i.set(t,e);++h<s;){var f=e[h],g=t[h];if(r)var m=a?r(g,f,h,t,e,i):r(f,g,h,e,t,i);if(m!==void 0){if(m)continue;p=!1;break}if(d){if(!Ioe(t,function(v,y){if(!Moe(d,y)&&(f===v||o(f,v,n,r,i)))return d.push(y)})){p=!1;break}}else if(f!==g&&!o(f,g,n,r,i)){p=!1;break}}return i.delete(e),i.delete(t),p}function joe(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n}function zoe(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Foe=1,Boe=2,Uoe="[object Boolean]",Hoe="[object Date]",Voe="[object Error]",$oe="[object Map]",qoe="[object Number]",Woe="[object RegExp]",Goe="[object Set]",Koe="[object String]",Yoe="[object Symbol]",Qoe="[object ArrayBuffer]",Xoe="[object DataView]",vA=Ea?Ea.prototype:void 0,Jk=vA?vA.valueOf:void 0,Joe=1,Zoe=Object.prototype.hasOwnProperty,eie=1,bA="[object Arguments]",yA="[object Array]",tg="[object Object]",wA=Object.prototype.hasOwnProperty;function tie(e,t,n,r,o,i){var a=yr(e),s=yr(t),l=a?yA:pi(e),c=s?yA:pi(t),u=(l=l==bA?tg:l)==tg,h=(c=c==bA?tg:c)==tg,p=l==c;if(p&&Sc(e)){if(!Sc(t))return!1;a=!0,u=!1}if(p&&!u)return i||(i=new ji),a||rp(e)?gA(e,t,n,r,o,i):function(v,y,b,w,k,_,O){switch(b){case Xoe:if(v.byteLength!=y.byteLength||v.byteOffset!=y.byteOffset)return!1;v=v.buffer,y=y.buffer;case Qoe:return!(v.byteLength!=y.byteLength||!_(new J0(v),new J0(y)));case Uoe:case Hoe:case qoe:return Z1(+v,+y);case Voe:return v.name==y.name&&v.message==y.message;case Woe:case Koe:return v==y+"";case $oe:var E=joe;case Goe:var C=w&Foe;if(E||(E=zoe),v.size!=y.size&&!C)return!1;var N=O.get(v);if(N)return N==y;w|=Boe,O.set(v,y);var L=gA(E(v),E(y),w,k,_,O);return O.delete(v),L;case Yoe:if(Jk)return Jk.call(v)==Jk.call(y)}return!1}(e,t,l,n,r,o,i);if(!(n&eie)){var d=u&&wA.call(e,"__wrapped__"),f=h&&wA.call(t,"__wrapped__");if(d||f){var g=d?e.value():e,m=f?t.value():t;return i||(i=new ji),o(g,m,n,r,i)}}return!!p&&(i||(i=new ji),function(v,y,b,w,k,_){var O=b&Joe,E=Gk(v),C=E.length;if(C!=Gk(y).length&&!O)return!1;for(var N=C;N--;){var L=E[N];if(!(O?L in y:Zoe.call(y,L)))return!1}var j=_.get(v),H=_.get(y);if(j&&H)return j==y&&H==v;var F=!0;_.set(v,y),_.set(y,v);for(var z=O;++N<C;){var B=v[L=E[N]],V=y[L];if(w)var U=O?w(V,B,L,y,v,_):w(B,V,L,v,y,_);if(!(U===void 0?B===V||k(B,V,b,w,_):U)){F=!1;break}z||(z=L=="constructor")}if(F&&!z){var S=v.constructor,q=y.constructor;S!=q&&"constructor"in v&&"constructor"in y&&!(typeof S=="function"&&S instanceof S&&typeof q=="function"&&q instanceof q)&&(F=!1)}return _.delete(v),_.delete(y),F}(e,t,n,r,o,i))}function Zk(e,t,n,r,o){return e===t||(e==null||t==null||!Ca(e)&&!Ca(t)?e!=e&&t!=t:tie(e,t,n,r,Zk,o))}var nie=1,rie=2;function kA(e){return e==e&&!hi(e)}function xA(e,t){return function(n){return n!=null&&n[e]===t&&(t!==void 0||e in Object(n))}}function oie(e){var t=function(n){for(var r=Hk(n),o=r.length;o--;){var i=r[o],a=n[i];r[o]=[i,a,kA(a)]}return r}(e);return t.length==1&&t[0][2]?xA(t[0][0],t[0][1]):function(n){return n===e||function(r,o,i,a){var s=i.length,l=s;if(r==null)return!l;for(r=Object(r);s--;){var c=i[s];if(c[2]?c[1]!==r[c[0]]:!(c[0]in r))return!1}for(;++s<l;){var u=(c=i[s])[0],h=r[u],p=c[1];if(c[2]){if(h===void 0&&!(u in r))return!1}else{var d=new ji;if(!Zk(p,h,nie|rie,a,d))return!1}}return!0}(n,0,t)}}function iie(e,t){return e!=null&&t in Object(e)}function aie(e,t){return e!=null&&function(n,r,o){for(var i=-1,a=(r=Q0(r,n)).length,s=!1;++i<a;){var l=ap(r[i]);if(!(s=n!=null&&o(n,l)))break;n=n[l]}return s||++i!=a?s:!!(a=n==null?0:n.length)&&Fk(a)&&W0(l,a)&&(yr(n)||tp(n))}(e,t,iie)}var sie=1,lie=2;function cie(e){return $k(e)?function(t){return function(n){return n==null?void 0:n[t]}}(ap(e)):function(t){return function(n){return Wk(n,t)}}(e)}function e9(e){return typeof e=="function"?e:e==null?Mk:typeof e=="object"?yr(e)?function(t,n){return $k(t)&&kA(n)?xA(ap(t),n):function(r){var o=$P(r,t);return o===void 0&&o===n?aie(r,t):Zk(n,o,sie|lie)}}(e[0],e[1]):oie(e):cie(e)}var _A=function(e,t,n){for(var r=-1,o=Object(e),i=n(e),a=i.length;a--;){var s=i[++r];if(t(o[s],s,o)===!1)break}return e};function uie(e,t){return e&&_A(e,t,Hk)}function t9(e,t,n){(n!==void 0&&!Z1(e[t],n)||n===void 0&&!(t in e))&&jk(e,t,n)}function n9(e,t){if((t!=="constructor"||typeof e[t]!="function")&&t!="__proto__")return e[t]}function die(e){return function(t,n,r,o){var i=!r;r||(r={});for(var a=-1,s=n.length;++a<s;){var l=n[a],c=void 0;c===void 0&&(c=t[l]),i?jk(r,l,c):zk(r,l,c)}return r}(e,Vk(e))}function hie(e,t,n,r,o,i,a){var s=n9(e,n),l=n9(t,n),c=a.get(l);if(c)t9(e,n,c);else{var u=i?i(s,l,n+"",e,t,a):void 0,h=u===void 0;if(h){var p=yr(l),d=!p&&Sc(l),f=!p&&!d&&rp(l);u=l,p||d||f?yr(s)?u=s:function(g){return Ca(g)&&ep(g)}(s)?u=function(g,m){var v=-1,y=g.length;for(m||(m=Array(y));++v<y;)m[v]=g[v];return m}(s):d?(h=!1,u=XP(l,!0)):f?(h=!1,u=cA(l,!0)):u=[]:function(g){if(!Ca(g)||xc(g)!=Yre)return!1;var m=X0(g);if(m===null)return!0;var v=Jre.call(m,"constructor")&&m.constructor;return typeof v=="function"&&v instanceof v&&WP.call(v)==Zre}(l)||tp(l)?(u=s,tp(s)?u=die(s):(!hi(s)||$0(s))&&(u=uA(l))):h=!1}h&&(a.set(l,u),o(u,l,r,i,a),a.delete(l)),t9(e,n,u)}}function TA(e,t,n,r,o){e!==t&&_A(t,function(i,a){if(o||(o=new ji),hi(i))hie(e,t,a,n,TA,r,o);else{var s=r?r(n9(e,a),i,a+"",e,t,o):void 0;s===void 0&&(s=i),t9(e,a,s)}},Vk)}function r9(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var pie="[object Map]",mie="[object Set]",fie=Object.prototype.hasOwnProperty;function ht(e){if(e==null)return!0;if(ep(e)&&(yr(e)||typeof e=="string"||typeof e.splice=="function"||Sc(e)||rp(e)||tp(e)))return!e.length;var t=pi(e);if(t==pie||t==mie)return!e.size;if(G0(e))return!VP(e).length;for(var n in e)if(fie.call(e,n))return!1;return!0}function SA(e){return e==null}var mi=function(e){return Are(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&typeof i=="function"?(o--,i):void 0,a&&function(l,c,u){if(!hi(u))return!1;var h=typeof c;return!!(h=="number"?ep(u)&&W0(c,u.length):h=="string"&&c in u)&&Z1(u[c],l)}(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var s=n[r];s&&e(t,s,r,i)}return t})}(function(e,t,n){TA(e,t,n)}),gie="Expected a function";function EA(e,t,n,r){if(!hi(e))return e;for(var o=-1,i=(t=Q0(t,e)).length,a=i-1,s=e;s!=null&&++o<i;){var l=ap(t[o]),c=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(o!=a){var u=s[l];(c=void 0)==void 0&&(c=hi(u)?u:W0(t[o+1])?[]:{})}zk(s,l,c),s=s[l]}return e}function CA(e,t){if(e==null)return{};var n=SP(function(r){return tA(r,Vk,toe)}(e),function(r){return[r]});return t=e9(t),function(r,o,i){for(var a=-1,s=o.length,l={};++a<s;){var c=o[a],u=Wk(r,c);i(u,c)&&EA(l,Q0(c,r),u)}return l}(e,n,function(r,o){return t(r,o[0])})}function OA(e,t){return CA(e,function(n){if(typeof n!="function")throw new TypeError(gie);return function(){var r=arguments;switch(r.length){case 0:return!n.call(this);case 1:return!n.call(this,r[0]);case 2:return!n.call(this,r[0],r[1]);case 3:return!n.call(this,r[0],r[1],r[2])}return!n.apply(this,r)}}(e9(t)))}function o9(e,t,n){return e==null?e:EA(e,t,n)}function vie(e,t,n){var r=yr(e),o=r||Sc(e)||rp(e);if(t=e9(t),n==null){var i=e&&e.constructor;n=o?r?new i:[]:hi(e)&&$0(i)?NP(X0(e)):{}}return(o?RP:uie)(e,function(a,s,l){return t(n,a,s,l)}),n}var bie=Object.defineProperty,yie=Object.defineProperties,wie=Object.getOwnPropertyDescriptors,PA=Object.getOwnPropertySymbols,kie=Object.prototype.hasOwnProperty,xie=Object.prototype.propertyIsEnumerable,AA=(e,t,n)=>t in e?bie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const NA=[{code:"en",title:"English",selected:!1},{code:"es",title:"Español",selected:!1},{code:"de",title:"Deutsch",selected:!1},{code:"fr",title:"Français",selected:!1},{code:"zh",title:"简体中文",selected:!1},{code:"hi",title:"हिंदी",selected:!1},{code:"ko",title:"한국어",selected:!1},{code:"ja",title:"日本語",selected:!1},{code:"zh-TW",title:"繁体中文",selected:!1}].sort((e,t)=>e.title.localeCompare(t.title)),_ie={en:{translation:{typeYourMessage:"Type your message...",thinking:"Thinking...",listening:"Listening...",poweredBy:"Powered by <0/>",response_length:"Response Length",response_length_short:"Concise",response_length_medium:"Standard",response_length_long:"Verbose",wanted_something_else:"Wanted something else",incorrect_answer:"Incorrect answer",bad_style_tone:"Bad style/tone",tell_us_more:"Tell us more",confirm_close_view_title:"Are you sure you want to close the conversation?",confirm_close_view_comment_label:"Add your comment",confirm_close_view_comment_placeholder:"Write your thoughts here...",confirm_close_view_yes:"Yes",confirm_close_view_no:"No",proceed_cancel_button:"Cancel Now",proceed_pause_button:"Pause Now",cancel:"Cancel",submit:"Submit",tell_us_what_went_wrong:"Tell us what went wrong...",bad_response:"Bad response",good_response:"Good response",unanswered_question:"Unanswered question",keyboard:"Keyboard",mic:"Mic",end_chat:"End Chat",speaker:"Speaker",voice_mode:"Voice mode",disable_bot_voice:"Disable bot voice",enable_bot_voice:"Enable bot voice",stop:"Stop",send:"Send",conversation_mode:"Conversation Mode",voice_chat:"Voice Chat",click_to_chat:"Click to chat",loading:"Loading...",select_microphone:"Select Microphone",no_microphones_found:"No microphones found",could_not_get_session:"Could not get a session.",language:"Language",new_chat:"New Chat",share:"Share",share_public_link:"Share public link",chat_link:"Chat Link",copied:"Copied!",copy:"Copy"}},hi:{translation:{typeYourMessage:"यहाँ अपना संदेश टाइप करें...",thinking:"सोच रहे है...",listening:"सुन रहे है...",poweredBy:"संचालित द्वारा <0/>",response_length:"उत्तर की लंबाई",response_length_short:"संक्षिप्त",response_length_medium:"मानक",response_length_long:"विस्तृत",wanted_something_else:"कुछ और चाहते थे",incorrect_answer:"गलत उत्तर",bad_style_tone:"खराब शैली/टोन",tell_us_more:"हमें और बताएं",confirm_close_view_title:"क्या आप वाकई बातचीत बंद करना चाहते हैं?",confirm_close_view_comment_label:"अपनी टिप्पणी जोड़ें",confirm_close_view_comment_placeholder:"अपने विचार यहां लिखें...",confirm_close_view_yes:"हां",confirm_close_view_no:"नहीं",proceed_cancel_button:"अभी रद्द करें",cancel:"रद्द करें",submit:"सुनिश्चित करें",tell_us_what_went_wrong:"हमें बताइये क्या ग़लत हुआ...",bad_response:"खराब उत्तर",good_response:"अच्छा उत्तर",unanswered_question:"अनुत्तरित प्रश्न",keyboard:"कीबोर्ड",mic:"माइक",end_chat:"चैट समाप्त करें",speaker:"स्पीकर",voice_mode:"वॉइस मोड",disable_bot_voice:"बॉट वॉइस अक्षम करें",enable_bot_voice:"बॉट वॉइस सक्षम करें",stop:"रोकें",send:"भेजें",conversation_mode:"बातचीत मोड",voice_chat:"वॉइस चैट",click_to_chat:"चैट करने के लिए क्लिक करें",loading:"लोड हो रहा है...",select_microphone:"माइक्रोफोन चुनें",no_microphones_found:"कोई माइक्रोफोन नहीं मिला",could_not_get_session:"सत्र प्राप्त नहीं कर सका।",language:"भाषा",new_chat:"नया चैट",share:"शेयर",share_public_link:"सार्वजनिक लिंक साझा करें",chat_link:"चैट लिंक",copied:"कॉपी किया गया!",copy:"कॉपी करें"}},ko:{translation:{typeYourMessage:"메시지를 입력하세요...",thinking:"생각 중...",listening:"듣고 있습니다...",poweredBy:"<0/> 제공",response_length:"응답 길이",response_length_short:"간결하게",response_length_medium:"표준",response_length_long:"상세하게",wanted_something_else:"다른 것을 원했습니다",incorrect_answer:"잘못된 답변",bad_style_tone:"스타일/톤이 좋지 않음",tell_us_more:"더 자세히 알려주세요",confirm_close_view_title:"정말로 대화를 종료하시겠습니까?",confirm_close_view_comment_label:"의견을 추가하세요",confirm_close_view_comment_placeholder:"여기에 생각을 작성하세요...",confirm_close_view_yes:"예",confirm_close_view_no:"아니오",proceed_cancel_button:"지금 취소",cancel:"취소",submit:"제출",tell_us_what_went_wrong:"무엇이 잘못되었습니까?",bad_response:"나쁜 응답",good_response:"좋은 응답",unanswered_question:"미답변 질문",keyboard:"키보드",mic:"마이크",end_chat:"채팅 종료",speaker:"스피커",voice_mode:"음성 모드",disable_bot_voice:"봇 음성 비활성화",enable_bot_voice:"봇 음성 활성화",stop:"중지",send:"보내기",conversation_mode:"대화 모드",voice_chat:"음성 채팅",click_to_chat:"채팅하려면 클릭하세요",loading:"로딩 중...",select_microphone:"마이크 선택",no_microphones_found:"마이크를 찾을 수 없습니다",could_not_get_session:"세션을 가져올 수 없습니다.",language:"언어",new_chat:"새 채팅",share:"공유",share_public_link:"공개 링크 공유",chat_link:"채팅 링크",copied:"복사되었습니다!",copy:"복사"}},zh:{translation:{typeYourMessage:"输入您的消息...",thinking:"思考中...",listening:"倾听中...",poweredBy:"<0/> 驱动",response_length:"回复长度",response_length_short:"简洁",response_length_medium:"标准",response_length_long:"详细",wanted_something_else:"想要其他内容",incorrect_answer:"回答不正确",bad_style_tone:"风格/语调不佳",tell_us_more:"告诉我们更多",confirm_close_view_title:"确定要关闭对话吗？",confirm_close_view_comment_label:"添加您的评论",confirm_close_view_comment_placeholder:"在此处写下您的想法...",confirm_close_view_yes:"是",confirm_close_view_no:"否",proceed_cancel_button:"立即取消",cancel:"取消",submit:"提交",tell_us_what_went_wrong:"告诉我们出了什么问题...",bad_response:"不良回复",good_response:"良好回复",unanswered_question:"未回答的问题",keyboard:"键盘",mic:"麦克风",end_chat:"结束聊天",speaker:"扬声器",voice_mode:"语音模式",disable_bot_voice:"禁用机器人语音",enable_bot_voice:"启用机器人语音",stop:"停止",send:"发送",conversation_mode:"对话模式",voice_chat:"语音聊天",click_to_chat:"点击聊天",loading:"加载中...",select_microphone:"选择麦克风",no_microphones_found:"未找到麦克风",could_not_get_session:"无法获取会话。",language:"语言",new_chat:"新聊天",share:"分享",share_public_link:"分享公开链接",chat_link:"聊天链接",copied:"已复制!",copy:"复制"}},es:{translation:{typeYourMessage:"Escribe tu mensaje...",thinking:"Pensando...",listening:"Escuchando...",poweredBy:"Desarrollado por <0/>",response_length:"Longitud de respuesta",response_length_short:"Concisa",response_length_medium:"Estándar",response_length_long:"Detallada",wanted_something_else:"Quería algo diferente",incorrect_answer:"Respuesta incorrecta",bad_style_tone:"Mal estilo/tono",tell_us_more:"Cuéntanos más",confirm_close_view_title:"¿Estás seguro de que quieres cerrar la conversación?",confirm_close_view_comment_label:"Añade tu comentario",confirm_close_view_comment_placeholder:"Escribe tus pensamientos aquí...",confirm_close_view_yes:"Sí",confirm_close_view_no:"No",proceed_cancel_button:"Cancelar ahora",cancel:"Cancelar",submit:"Enviar",tell_us_what_went_wrong:"Cuéntanos qué salió mal...",bad_response:"Respuesta mala",good_response:"Respuesta buena",unanswered_question:"Pregunta sin respuesta",keyboard:"Teclado",mic:"Micrófono",end_chat:"Terminar Chat",speaker:"Altavoz",voice_mode:"Modo voz",disable_bot_voice:"Desactivar voz del bot",enable_bot_voice:"Activar voz del bot",stop:"Detener",send:"Enviar",conversation_mode:"Modo conversación",voice_chat:"Chat de Voz",click_to_chat:"Haz clic para chatear",loading:"Cargando...",select_microphone:"Seleccionar Micrófono",no_microphones_found:"No se encontraron micrófonos",could_not_get_session:"No se pudo obtener una sesión.",language:"Idioma",new_chat:"Nuevo Chat",share:"Compartir",share_public_link:"Compartir enlace público",chat_link:"Enlace de chat",copied:"Copiado!",copy:"Copiar"}},de:{translation:{typeYourMessage:"Geben Sie Ihre Nachricht ein...",thinking:"Denken...",listening:"Zuhören...",poweredBy:"Unterstützt von <0/>",response_length:"Antwortlänge",response_length_short:"Kurz",response_length_medium:"Standard",response_length_long:"Ausführlich",wanted_something_else:"Etwas anderes gewünscht",incorrect_answer:"Falsche Antwort",bad_style_tone:"Schlechter Stil/Ton",tell_us_more:"Erzählen Sie uns mehr",confirm_close_view_title:"Sind Sie sicher, dass Sie das Gespräch beenden möchten?",confirm_close_view_comment_label:"Fügen Sie Ihren Kommentar hinzu",confirm_close_view_comment_placeholder:"Schreiben Sie hier Ihre Gedanken...",confirm_close_view_yes:"Ja",confirm_close_view_no:"Nein",proceed_cancel_button:"Jetzt abbrechen",cancel:"Abbrechen",submit:"Senden",tell_us_what_went_wrong:"Was ist schief gelaufen?",bad_response:"Schlechte Antwort",good_response:"Gute Antwort",unanswered_question:"Unbeantwortete Frage",keyboard:"Tastatur",mic:"Mikrofon",end_chat:"Chat beenden",speaker:"Lautsprecher",voice_mode:"Sprachmodus",disable_bot_voice:"Bot-Stimme deaktivieren",enable_bot_voice:"Bot-Stimme aktivieren",stop:"Stopp",send:"Senden",conversation_mode:"Gesprächsmodus",voice_chat:"Sprach-Chat",click_to_chat:"Klicken Sie zum Chatten",loading:"Lädt...",select_microphone:"Mikrofon auswählen",no_microphones_found:"Keine Mikrofone gefunden",could_not_get_session:"Konnte keine Sitzung erhalten.",language:"Sprache",new_chat:"Neues Gespräch",share:"Teilen",share_public_link:"Öffentliche Link teilen",chat_link:"Chat-Link",copied:"Kopiert!",copy:"Kopieren"}},ja:{translation:{typeYourMessage:"メッセージを入力...",thinking:"考え中...",listening:"聞いています...",poweredBy:"提供: <0/>",response_length:"レスポンスの長さ",response_length_short:"簡潔",response_length_medium:"標準",response_length_long:"詳細",wanted_something_else:"他のものを探しています",incorrect_answer:"間違った回答",bad_style_tone:"スタイル/トーンが悪い",tell_us_more:"もっと教えてください",confirm_close_view_title:"本当に会話を閉じますか？",confirm_close_view_comment_label:"コメントを追加してください",confirm_close_view_comment_placeholder:"ここにあなたの考えを書いてください...",confirm_close_view_yes:"はい",confirm_close_view_no:"いいえ",proceed_cancel_button:"今すぐキャンセル",proceed_pause_button:"一時停止",cancel:"キャンセル",submit:"提出",tell_us_what_went_wrong:"何がおかしいか教えてください...",bad_response:"悪い回答",good_response:"良い回答",unanswered_question:"未回答の質問",keyboard:"キーボード",mic:"マイク",end_chat:"チャット終了",speaker:"スピーカー",voice_mode:"音声モード",disable_bot_voice:"ボット音声を無効化",enable_bot_voice:"ボット音声を有効化",stop:"停止",send:"送信",conversation_mode:"会話モード",voice_chat:"音声チャット",click_to_chat:"チャットするにはクリック",loading:"読み込み中...",select_microphone:"マイクを選択",no_microphones_found:"マイクが見つかりません",could_not_get_session:"セッションを取得できませんでした。",language:"言語",new_chat:"新しいチャット",share:"共有",share_public_link:"公開リンクを共有",chat_link:"チャットリンク",copied:"コピーしました!",copy:"コピー"}},"zh-TW":{translation:{typeYourMessage:"請輸入訊息...",thinking:"思考中...",listening:"聆聽中...",poweredBy:"技術支援 <0/>",response_length:"回應長度",response_length_short:"簡潔",response_length_medium:"標準",response_length_long:"詳細",wanted_something_else:"想要其他內容",incorrect_answer:"回答不正確",bad_style_tone:"風格/語調不佳",tell_us_more:"告訴我們更多",confirm_close_view_title:"確定要關閉對話嗎？",confirm_close_view_comment_label:"添加您的評論",confirm_close_view_comment_placeholder:"在此處寫下您的想法...",confirm_close_view_yes:"是",confirm_close_view_no:"否",proceed_cancel_button:"立即取消",cancel:"取消",submit:"提交",tell_us_what_went_wrong:"告訴我們出了什麼問題...",bad_response:"不良回應",good_response:"良好回應",unanswered_question:"未回答的問題",keyboard:"鍵盤",mic:"麥克風",end_chat:"結束聊天",speaker:"揚聲器",voice_mode:"語音模式",disable_bot_voice:"禁用機器人語音",enable_bot_voice:"啟用機器人語音",stop:"停止",send:"發送",conversation_mode:"對話模式",voice_chat:"語音聊天",click_to_chat:"點擊聊天",loading:"載入中...",select_microphone:"選擇麥克風",no_microphones_found:"未找到麥克風",could_not_get_session:"無法獲取會話。",language:"語言",new_chat:"新聊天",share:"分享",share_public_link:"分享公開鏈接",chat_link:"聊天鏈接",copied:"已複製!",copy:"複製"}},fr:{translation:{typeYourMessage:"Tapez votre message...",thinking:"Réflexion...",listening:"Écoute...",poweredBy:"Propulsé par <0/>",response_length:"Longueur de réponse",response_length_short:"Concis",response_length_medium:"Standard",response_length_long:"Verbose",wanted_something_else:"Voulait autre chose",incorrect_answer:"Réponse incorrecte",bad_style_tone:"Mauvais style/ton",tell_us_more:"Dites-nous plus",confirm_close_view_title:"Êtes-vous sûr de vouloir fermer la conversation ?",confirm_close_view_comment_label:"Ajoutez votre commentaire",confirm_close_view_comment_placeholder:"Écrivez vos pensées ici...",confirm_close_view_yes:"Oui",confirm_close_view_no:"Non",proceed_cancel_button:"Annuler maintenant",proceed_pause_button:"Pause maintenant",cancel:"Annuler",submit:"Soumettre",tell_us_what_went_wrong:"Dites-nous ce qui s'est mal passé...",bad_response:"Mauvaise réponse",good_response:"Bonne réponse",unanswered_question:"Question sans réponse",keyboard:"Clavier",mic:"Micro",end_chat:"Terminer le chat",speaker:"Haut-parleur",voice_mode:"Mode vocal",disable_bot_voice:"Désactiver la voix du bot",enable_bot_voice:"Activer la voix du bot",stop:"Arrêter",send:"Envoyer",conversation_mode:"Mode conversation",voice_chat:"Chat vocal",click_to_chat:"Cliquez pour discuter",loading:"Chargement...",select_microphone:"Sélectionner le microphone",no_microphones_found:"Aucun microphone trouvé",could_not_get_session:"Impossible d'obtenir une session.",language:"Langue",new_chat:"Nouveau chat",share:"Partager",share_public_link:"Partager le lien public",chat_link:"Lien de chat",copied:"Copié !",copy:"Copier"}}},ng="en",RA="livex_chat_language_code",IA=e=>(e=(e==="auto"?(t=>{if(t==="zh-TW")return"zh-TW";let n=t.split("-")[0];return NA.some(r=>r.code===n)||(n=ng),n})(navigator.language):e)||ng,i8(RA,e)),Tie=e=>{const t=IA(e);return NA.map(n=>n.code===t?((r,o)=>yie(r,wie(o)))(((r,o)=>{for(var i in o||(o={}))kie.call(o,i)&&AA(r,i,o[i]);if(PA)for(var i of PA(o))xie.call(o,i)&&AA(r,i,o[i]);return r})({},n),{selected:!0}):n)},MA=(e,t)=>{const n=localStorage.getItem(e);if(n){if(typeof t=="number")try{const r=parseInt(n);if(isNaN(r))throw new Error("NaN value");return r}catch(r){window.console.error("Error parsing local value for key:",e,"Error:",r),localStorage.removeItem(e)}return n}return t},i9=()=>{var e;return(e=document.querySelector("iframe#livex-chatbox-iframe"))==null?void 0:e.contentWindow},Ht=e=>e==="avataiToggle"||e==="avataiWebRtc"||e==="avataiOnly",LA=e=>!!e&&/\S+\s+\S+/.test(e),Cc={},a9=e=>{const t=Cc[e];t&&t.forEach(n=>n())},DA={avatarSessionError:null,isAvatarSessionPending:!1,isUploadingFile:!1,isUploadingImage:!1,bestSuggestionsActiveIndex:-1},jA=V0({name:"hookState",initialState:DA,reducers:{setAvatarSessionError:(e,t)=>{e.avatarSessionError=t.payload},setAvatarSessionPending:(e,t)=>{e.isAvatarSessionPending=t.payload},setIsUploadingFile:(e,t)=>{e.isUploadingFile=t.payload},setIsUploadingImage:(e,t)=>{e.isUploadingImage=t.payload},setBestSuggestionsActiveIndex:(e,t)=>{e.bestSuggestionsActiveIndex=t.payload},resetHookState:()=>DA}}),{setAvatarSessionError:rg,setAvatarSessionPending:s9,setIsUploadingFile:zA,setIsUploadingImage:FA,setBestSuggestionsActiveIndex:Oc,resetHookState:I3e}=jA.actions;function BA(e,t){return function(){return e.apply(t,arguments)}}const{toString:Sie}=Object.prototype,{getPrototypeOf:l9}=Object,{iterator:og,toStringTag:UA}=Symbol,ig=(e=>t=>{const n=Sie.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Fi=e=>(e=e.toLowerCase(),t=>ig(t)===e),ag=e=>t=>typeof t===e,{isArray:wd}=Array,sp=ag("undefined"),HA=Fi("ArrayBuffer"),Eie=ag("string"),uo=ag("function"),VA=ag("number"),sg=e=>e!==null&&typeof e=="object",lg=e=>{if(ig(e)!=="object")return!1;const t=l9(e);return!(t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null||UA in e||og in e)},Cie=Fi("Date"),Oie=Fi("File"),Pie=Fi("Blob"),Aie=Fi("FileList"),Nie=Fi("URLSearchParams"),[Rie,Iie,Mie,Lie]=["ReadableStream","Request","Response","Headers"].map(Fi);function lp(e,t,{allOwnKeys:n=!1}={}){if(e==null)return;let r,o;if(typeof e!="object"&&(e=[e]),wd(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let s;for(r=0;r<a;r++)s=i[r],t.call(null,e[s],s,e)}}function $A(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,o=n.length;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const Pc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,qA=e=>!sp(e)&&e!==Pc,Die=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&l9(Uint8Array)),jie=Fi("HTMLFormElement"),WA=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),zie=Fi("RegExp"),GA=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};lp(n,(o,i)=>{let a;(a=t(o,i,e))!==!1&&(r[i]=a||o)}),Object.defineProperties(e,r)},Fie=Fi("AsyncFunction"),KA=((e,t)=>e?setImmediate:t?((n,r)=>(Pc.addEventListener("message",({source:o,data:i})=>{o===Pc&&i===n&&r.length&&r.shift()()},!1),o=>{r.push(o),Pc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",uo(Pc.postMessage)),Bie=typeof queueMicrotask<"u"?queueMicrotask.bind(Pc):typeof process<"u"&&process.nextTick||KA,ve={isArray:wd,isArrayBuffer:HA,isBuffer:function(e){return e!==null&&!sp(e)&&e.constructor!==null&&!sp(e.constructor)&&uo(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||uo(e.append)&&((t=ig(e))==="formdata"||t==="object"&&uo(e.toString)&&e.toString()==="[object FormData]"))},isArrayBufferView:function(e){let t;return t=typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&HA(e.buffer),t},isString:Eie,isNumber:VA,isBoolean:e=>e===!0||e===!1,isObject:sg,isPlainObject:lg,isReadableStream:Rie,isRequest:Iie,isResponse:Mie,isHeaders:Lie,isUndefined:sp,isDate:Cie,isFile:Oie,isBlob:Pie,isRegExp:zie,isFunction:uo,isStream:e=>sg(e)&&uo(e.pipe),isURLSearchParams:Nie,isTypedArray:Die,isFileList:Aie,forEach:lp,merge:function e(){const{caseless:t}=qA(this)&&this||{},n={},r=(o,i)=>{const a=t&&$A(n,i)||i;lg(n[a])&&lg(o)?n[a]=e(n[a],o):lg(o)?n[a]=e({},o):wd(o)?n[a]=o.slice():n[a]=o};for(let o=0,i=arguments.length;o<i;o++)arguments[o]&&lp(arguments[o],r);return n},extend:(e,t,n,{allOwnKeys:r}={})=>(lp(t,(o,i)=>{n&&uo(o)?e[i]=BA(o,n):e[i]=o},{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let o,i,a;const s={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)a=o[i],(!r||r(a,e,t))&&!s[a]&&(t[a]=e[a],s[a]=!0);e=n!==!1&&l9(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:ig,kindOfTest:Fi,endsWith:(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},toArray:e=>{if(!e)return null;if(wd(e))return e;let t=e.length;if(!VA(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[og]).call(e);let r;for(;(r=n.next())&&!r.done;){const o=r.value;t.call(e,o[0],o[1])}},matchAll:(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},isHTMLForm:jie,hasOwnProperty:WA,hasOwnProp:WA,reduceDescriptors:GA,freezeMethods:e=>{GA(e,(t,n)=>{if(uo(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(uo(r)){if(t.enumerable=!1,"writable"in t)return void(t.writable=!1);t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},toObjectSet:(e,t)=>{const n={},r=o=>{o.forEach(i=>{n[i]=!0})};return wd(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,r){return n.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,findKey:$A,global:Pc,isContextDefined:qA,isSpecCompliantForm:function(e){return!!(e&&uo(e.append)&&e[UA]==="FormData"&&e[og])},toJSONObject:e=>{const t=new Array(10),n=(r,o)=>{if(sg(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[o]=r;const i=wd(r)?[]:{};return lp(r,(a,s)=>{const l=n(a,o+1);!sp(l)&&(i[s]=l)}),t[o]=void 0,i}}return r};return n(e,0)},isAsyncFn:Fie,isThenable:e=>e&&(sg(e)||uo(e))&&uo(e.then)&&uo(e.catch),setImmediate:KA,asap:Bie,isIterable:e=>e!=null&&uo(e[og])};function Ot(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}ve.inherits(Ot,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ve.toJSONObject(this.config),code:this.code,status:this.status}}});const YA=Ot.prototype,QA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{QA[e]={value:e}}),Object.defineProperties(Ot,QA),Object.defineProperty(YA,"isAxiosError",{value:!0}),Ot.from=(e,t,n,r,o,i)=>{const a=Object.create(YA);return ve.toFlatObject(e,a,function(s){return s!==Error.prototype},s=>s!=="isAxiosError"),Ot.call(a,e.message,t,n,r,o),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};function c9(e){return ve.isPlainObject(e)||ve.isArray(e)}function XA(e){return ve.endsWith(e,"[]")?e.slice(0,-2):e}function JA(e,t,n){return e?e.concat(t).map(function(r,o){return r=XA(r),!n&&o?"["+r+"]":r}).join(n?".":""):t}const Uie=ve.toFlatObject(ve,{},null,function(e){return/^is[A-Z]/.test(e)});function cg(e,t,n){if(!ve.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=ve.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,d){return!ve.isUndefined(d[p])});const r=n.metaTokens,o=n.visitor||c,i=n.dots,a=n.indexes,s=(n.Blob||typeof Blob<"u"&&Blob)&&ve.isSpecCompliantForm(t);if(!ve.isFunction(o))throw new TypeError("visitor must be a function");function l(p){if(p===null)return"";if(ve.isDate(p))return p.toISOString();if(!s&&ve.isBlob(p))throw new Ot("Blob is not supported. Use a Buffer instead.");return ve.isArrayBuffer(p)||ve.isTypedArray(p)?s&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function c(p,d,f){let g=p;if(p&&!f&&typeof p=="object"){if(ve.endsWith(d,"{}"))d=r?d:d.slice(0,-2),p=JSON.stringify(p);else if(ve.isArray(p)&&function(m){return ve.isArray(m)&&!m.some(c9)}(p)||(ve.isFileList(p)||ve.endsWith(d,"[]"))&&(g=ve.toArray(p)))return d=XA(d),g.forEach(function(m,v){!ve.isUndefined(m)&&m!==null&&t.append(a===!0?JA([d],v,i):a===null?d:d+"[]",l(m))}),!1}return!!c9(p)||(t.append(JA(f,d,i),l(p)),!1)}const u=[],h=Object.assign(Uie,{defaultVisitor:c,convertValue:l,isVisitable:c9});if(!ve.isObject(e))throw new TypeError("data must be an object");return function p(d,f){if(!ve.isUndefined(d)){if(u.indexOf(d)!==-1)throw Error("Circular reference detected in "+f.join("."));u.push(d),ve.forEach(d,function(g,m){(!(ve.isUndefined(g)||g===null)&&o.call(t,g,ve.isString(m)?m.trim():m,f,h))===!0&&p(g,f?f.concat(m):[m])}),u.pop()}}(e),t}function ZA(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function u9(e,t){this._pairs=[],e&&cg(e,this,t)}const eN=u9.prototype;function Hie(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function tN(e,t,n){if(!t)return e;const r=n&&n.encode||Hie;ve.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let i;if(i=o?o(t,n):ve.isURLSearchParams(t)?t.toString():new u9(t,n).toString(r),i){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}eN.append=function(e,t){this._pairs.push([e,t])},eN.toString=function(e){const t=e?function(n){return e.call(this,n,ZA)}:ZA;return this._pairs.map(function(n){return t(n[0])+"="+t(n[1])},"").join("&")};class nN{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ve.forEach(this.handlers,function(n){n!==null&&t(n)})}}const rN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Vie={isBrowser:!0,classes:{URLSearchParams:typeof URLSearchParams<"u"?URLSearchParams:u9,FormData:typeof FormData<"u"?FormData:null,Blob:typeof Blob<"u"?Blob:null},protocols:["http","https","file","blob","url","data"]},d9=typeof window<"u"&&typeof document<"u",h9=typeof navigator=="object"&&navigator||void 0,$ie=d9&&(!h9||["ReactNative","NativeScript","NS"].indexOf(h9.product)<0),qie=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Wie=d9&&window.location.href||"http://localhost",Gie=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:d9,hasStandardBrowserEnv:$ie,hasStandardBrowserWebWorkerEnv:qie,navigator:h9,origin:Wie},Symbol.toStringTag,{value:"Module"})),Fr=A(A({},Gie),Vie);function oN(e){function t(n,r,o,i){let a=n[i++];if(a==="__proto__")return!0;const s=Number.isFinite(+a),l=i>=n.length;return a=!a&&ve.isArray(o)?o.length:a,l?(ve.hasOwnProp(o,a)?o[a]=[o[a],r]:o[a]=r,!s):((!o[a]||!ve.isObject(o[a]))&&(o[a]=[]),t(n,r,o[a],i)&&ve.isArray(o[a])&&(o[a]=function(c){const u={},h=Object.keys(c);let p;const d=h.length;let f;for(p=0;p<d;p++)f=h[p],u[f]=c[f];return u}(o[a])),!s)}if(ve.isFormData(e)&&ve.isFunction(e.entries)){const n={};return ve.forEachEntry(e,(r,o)=>{t(function(i){return ve.matchAll(/\w+|\[(\w*)]/g,i).map(a=>a[0]==="[]"?"":a[1]||a[0])}(r),o,n,0)}),n}return null}const cp={transitional:rN,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=ve.isObject(e);if(o&&ve.isHTMLForm(e)&&(e=new FormData(e)),ve.isFormData(e))return r?JSON.stringify(oN(e)):e;if(ve.isArrayBuffer(e)||ve.isBuffer(e)||ve.isStream(e)||ve.isFile(e)||ve.isBlob(e)||ve.isReadableStream(e))return e;if(ve.isArrayBufferView(e))return e.buffer;if(ve.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(a,s){return cg(a,new Fr.classes.URLSearchParams,Object.assign({visitor:function(l,c,u,h){return Fr.isNode&&ve.isBuffer(l)?(this.append(c,l.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)}},s))}(e,this.formSerializer).toString();if((i=ve.isFileList(e))||n.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return cg(i?{"files[]":e}:e,a&&new a,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),function(a,s,l){if(ve.isString(a))try{return(s||JSON.parse)(a),ve.trim(a)}catch(c){if(c.name!=="SyntaxError")throw c}return(l||JSON.stringify)(a)}(e)):e}],transformResponse:[function(e){const t=this.transitional||cp.transitional,n=t&&t.forcedJSONParsing,r=this.responseType==="json";if(ve.isResponse(e)||ve.isReadableStream(e))return e;if(e&&ve.isString(e)&&(n&&!this.responseType||r)){const o=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(i){if(o)throw i.name==="SyntaxError"?Ot.from(i,Ot.ERR_BAD_RESPONSE,this,null,this.response):i}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fr.classes.FormData,Blob:Fr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ve.forEach(["delete","get","head","post","put","patch"],e=>{cp.headers[e]={}});const Kie=ve.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),iN=Symbol("internals");function up(e){return e&&String(e).trim().toLowerCase()}function ug(e){return e===!1||e==null?e:ve.isArray(e)?e.map(ug):String(e)}function p9(e,t,n,r,o){if(ve.isFunction(r))return r.call(this,t,n);if(o&&(t=n),ve.isString(t)){if(ve.isString(r))return t.indexOf(r)!==-1;if(ve.isRegExp(r))return r.test(t)}}let ho=class{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(a,s,l){const c=up(s);if(!c)throw new Error("header name must be a non-empty string");const u=ve.findKey(r,c);(!u||r[u]===void 0||l===!0||l===void 0&&r[u]!==!1)&&(r[u||s]=ug(a))}const i=(a,s)=>ve.forEach(a,(l,c)=>o(l,c,s));if(ve.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(ve.isString(e)&&(e=e.trim())&&!(a=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(a.trim()))(e))i((a=>{const s={};let l,c,u;return a&&a.split(`
`).forEach(function(h){u=h.indexOf(":"),l=h.substring(0,u).trim().toLowerCase(),c=h.substring(u+1).trim(),!(!l||s[l]&&Kie[l])&&(l==="set-cookie"?s[l]?s[l].push(c):s[l]=[c]:s[l]=s[l]?s[l]+", "+c:c)}),s})(e),t);else if(ve.isObject(e)&&ve.isIterable(e)){let a,s,l={};for(const c of e){if(!ve.isArray(c))throw TypeError("Object iterator must return a key-value pair");l[s=c[0]]=(a=l[s])?ve.isArray(a)?[...a,c[1]]:[a,c[1]]:c[1]}i(l,t)}else e!=null&&o(t,e,n);return this}get(e,t){if(e=up(e)){const n=ve.findKey(this,e);if(n){const r=this[n];if(!t)return r;if(t===!0)return function(o){const i=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=a.exec(o);)i[s[1]]=s[2];return i}(r);if(ve.isFunction(t))return t.call(this,r,n);if(ve.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=up(e)){const n=ve.findKey(this,e);return!(!n||this[n]===void 0||t&&!p9(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function o(i){if(i=up(i)){const a=ve.findKey(n,i);a&&(!t||p9(0,n[a],a,t))&&(delete n[a],r=!0)}}return ve.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const o=t[n];(!e||p9(0,this[o],o,e,!0))&&(delete this[o],r=!0)}return r}normalize(e){const t=this,n={};return ve.forEach(this,(r,o)=>{const i=ve.findKey(n,o);if(i)return t[i]=ug(r),void delete t[o];const a=e?function(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(l,c,u)=>c.toUpperCase()+u)}(o):String(o).trim();a!==o&&delete t[o],t[a]=ug(r),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ve.forEach(this,(n,r)=>{n!=null&&n!==!1&&(t[r]=e&&ve.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(r=>n.set(r)),n}static accessor(e){const t=(this[iN]=this[iN]={accessors:{}}).accessors,n=this.prototype;function r(o){const i=up(o);t[i]||(function(a,s){const l=ve.toCamelCase(" "+s);["get","set","has"].forEach(c=>{Object.defineProperty(a,c+l,{value:function(u,h,p){return this[c].call(this,s,u,h,p)},configurable:!0})})}(n,o),t[i]=!0)}return ve.isArray(e)?e.forEach(r):r(e),this}};function m9(e,t){const n=this||cp,r=t||n,o=ho.from(r.headers);let i=r.data;return ve.forEach(e,function(a){i=a.call(n,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function aN(e){return!(!e||!e.__CANCEL__)}function kd(e,t,n){Ot.call(this,e??"canceled",Ot.ERR_CANCELED,t,n),this.name="CanceledError"}function sN(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Ot("Request failed with status code "+n.status,[Ot.ERR_BAD_REQUEST,Ot.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}ho.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ve.reduceDescriptors(ho.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}}),ve.freezeMethods(ho),ve.inherits(kd,Ot,{__CANCEL__:!0});const dg=(e,t,n=3)=>{let r=0;const o=function(i,a){i=i||10;const s=new Array(i),l=new Array(i);let c,u=0,h=0;return a=a!==void 0?a:1e3,function(p){const d=Date.now(),f=l[h];c||(c=d),s[u]=p,l[u]=d;let g=h,m=0;for(;g!==u;)m+=s[g++],g%=i;if(u=(u+1)%i,u===h&&(h=(h+1)%i),d-c<a)return;const v=f&&d-f;return v?Math.round(1e3*m/v):void 0}}(50,250);return function(i,a){let s,l,c=0,u=1e3/a;const h=(p,d=Date.now())=>{c=d,s=null,l&&(clearTimeout(l),l=null),i.apply(null,p)};return[(...p)=>{const d=Date.now(),f=d-c;f>=u?h(p,d):(s=p,l||(l=setTimeout(()=>{l=null,h(s)},u-f)))},()=>s&&h(s)]}(i=>{const a=i.loaded,s=i.lengthComputable?i.total:void 0,l=a-r,c=o(l);r=a,e({loaded:a,total:s,progress:s?a/s:void 0,bytes:l,rate:c||void 0,estimated:c&&s&&a<=s?(s-a)/c:void 0,event:i,lengthComputable:s!=null,[t?"download":"upload"]:!0})},n)},lN=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},cN=e=>(...t)=>ve.asap(()=>e(...t)),Yie=Fr.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Fr.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Fr.origin),Fr.navigator&&/(msie|trident)/i.test(Fr.navigator.userAgent)):()=>!0,Qie=Fr.hasStandardBrowserEnv?{write(e,t,n,r,o,i){const a=[e+"="+encodeURIComponent(t)];ve.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),ve.isString(r)&&a.push("path="+r),ve.isString(o)&&a.push("domain="+o),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function uN(e,t,n){let r=!function(o){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(o)}(t);return e&&(r||n==0)?function(o,i){return i?o.replace(/\/?\/$/,"")+"/"+i.replace(/^\/+/,""):o}(e,t):t}const dN=e=>e instanceof ho?A({},e):e;function Ac(e,t){t=t||{};const n={};function r(c,u,h,p){return ve.isPlainObject(c)&&ve.isPlainObject(u)?ve.merge.call({caseless:p},c,u):ve.isPlainObject(u)?ve.merge({},u):ve.isArray(u)?u.slice():u}function o(c,u,h,p){return ve.isUndefined(u)?ve.isUndefined(c)?void 0:r(void 0,c,0,p):r(c,u,0,p)}function i(c,u){if(!ve.isUndefined(u))return r(void 0,u)}function a(c,u){return ve.isUndefined(u)?ve.isUndefined(c)?void 0:r(void 0,c):r(void 0,u)}function s(c,u,h){return h in t?r(c,u):h in e?r(void 0,c):void 0}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(c,u,h)=>o(dN(c),dN(u),0,!0)};return ve.forEach(Object.keys(Object.assign({},e,t)),function(c){const u=l[c]||o,h=u(e[c],t[c],c);ve.isUndefined(h)&&u!==s||(n[c]=h)}),n}const hN=e=>{const t=Ac({},e);let n,{data:r,withXSRFToken:o,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:l}=t;if(t.headers=s=ho.from(s),t.url=tN(uN(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),ve.isFormData(r)){if(Fr.hasStandardBrowserEnv||Fr.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((n=s.getContentType())!==!1){const[c,...u]=n?n.split(";").map(h=>h.trim()).filter(Boolean):[];s.setContentType([c||"multipart/form-data",...u].join("; "))}}if(Fr.hasStandardBrowserEnv&&(o&&ve.isFunction(o)&&(o=o(t)),o||o!==!1&&Yie(t.url))){const c=i&&a&&Qie.read(a);c&&s.set(i,c)}return t},Xie=typeof XMLHttpRequest<"u"&&function(e){return new Promise(function(t,n){const r=hN(e);let o=r.data;const i=ho.from(r.headers).normalize();let a,s,l,c,u,{responseType:h,onUploadProgress:p,onDownloadProgress:d}=r;function f(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let g=new XMLHttpRequest;function m(){if(!g)return;const y=ho.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());sN(function(b){t(b),f()},function(b){n(b),f()},{data:h&&h!=="text"&&h!=="json"?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:y,config:e,request:g}),g=null}g.open(r.method.toUpperCase(),r.url,!0),g.timeout=r.timeout,"onloadend"in g?g.onloadend=m:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&(!g.responseURL||g.responseURL.indexOf("file:")!==0)||setTimeout(m)},g.onabort=function(){g&&(n(new Ot("Request aborted",Ot.ECONNABORTED,e,g)),g=null)},g.onerror=function(){n(new Ot("Network Error",Ot.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let y=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const b=r.transitional||rN;r.timeoutErrorMessage&&(y=r.timeoutErrorMessage),n(new Ot(y,b.clarifyTimeoutError?Ot.ETIMEDOUT:Ot.ECONNABORTED,e,g)),g=null},o===void 0&&i.setContentType(null),"setRequestHeader"in g&&ve.forEach(i.toJSON(),function(y,b){g.setRequestHeader(b,y)}),ve.isUndefined(r.withCredentials)||(g.withCredentials=!!r.withCredentials),h&&h!=="json"&&(g.responseType=r.responseType),d&&([l,u]=dg(d,!0),g.addEventListener("progress",l)),p&&g.upload&&([s,c]=dg(p),g.upload.addEventListener("progress",s),g.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=y=>{g&&(n(!y||y.type?new kd(null,e,g):y),g.abort(),g=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const v=function(y){const b=/^([-+\w]{1,25})(:?\/\/|:)/.exec(y);return b&&b[1]||""}(r.url);v&&Fr.protocols.indexOf(v)===-1?n(new Ot("Unsupported protocol "+v+":",Ot.ERR_BAD_REQUEST,e)):g.send(o||null)})},Jie=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r,o=new AbortController;const i=function(c){if(!r){r=!0,s();const u=c instanceof Error?c:this.reason;o.abort(u instanceof Ot?u:new kd(u instanceof Error?u.message:u))}};let a=t&&setTimeout(()=>{a=null,i(new Ot(`timeout ${t} of ms exceeded`,Ot.ETIMEDOUT))},t);const s=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:l}=o;return l.unsubscribe=()=>ve.asap(s),l}},Zie=function*(e,t){let n=e.byteLength;if(n<t)return void(yield e);let r,o=0;for(;o<n;)r=o+t,yield e.slice(o,r),o=r},eae=function(e,t){return G7(this,null,function*(){try{for(var n,r,o,i=((a,s,l)=>(s=a[ld("asyncIterator")])?s.call(a):(a=a[ld("iterator")](),s={},l=(c,u)=>(u=a[c])&&(s[c]=h=>new Promise((p,d,f)=>(h=u.call(a,h),f=h.done,Promise.resolve(h.value).then(g=>p({value:g,done:f}),d)))),l("next"),l("return"),s))(tae(e));n=!(r=yield new cd(i.next())).done;n=!1){const a=r.value;yield*K7(Zie(a,t))}}catch(a){o=[a]}finally{try{n&&(r=i.return)&&(yield new cd(r.call(i)))}finally{if(o)throw o[0]}}})},tae=function(e){return G7(this,null,function*(){if(e[Symbol.asyncIterator])return void(yield*K7(e));const t=e.getReader();try{for(;;){const{done:n,value:r}=yield new cd(t.read());if(n)break;yield r}}finally{yield new cd(t.cancel())}})},pN=(e,t,n,r)=>{const o=eae(e,t);let i,a=0,s=l=>{i||(i=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await o.next();if(c)return s(),void l.close();let h=u.byteLength;if(n){let p=a+=h;n(p)}l.enqueue(new Uint8Array(u))}catch(c){throw s(c),c}},cancel:l=>(s(l),o.return())},{highWaterMark:2})},hg=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",mN=hg&&typeof ReadableStream=="function",nae=hg&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),fN=(e,...t)=>{try{return!!e(...t)}catch{return!1}},rae=mN&&fN(()=>{let e=!1;const t=new Request(Fr.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),f9=mN&&fN(()=>ve.isReadableStream(new Response("").body)),pg={stream:f9&&(e=>e.body)};hg&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!pg[t]&&(pg[t]=ve.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new Ot(`Response type '${t}' is not supported`,Ot.ERR_NOT_SUPPORT,r)})})})(new Response);const oae=async(e,t)=>{const n=ve.toFiniteNumber(e.getContentLength());return n??(async r=>r==null?0:ve.isBlob(r)?r.size:ve.isSpecCompliantForm(r)?(await new Request(Fr.origin,{method:"POST",body:r}).arrayBuffer()).byteLength:ve.isArrayBufferView(r)||ve.isArrayBuffer(r)?r.byteLength:(ve.isURLSearchParams(r)&&(r+=""),ve.isString(r)?(await nae(r)).byteLength:void 0))(t)},iae=hg&&(async e=>{let{url:t,method:n,data:r,signal:o,cancelToken:i,timeout:a,onDownloadProgress:s,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:p}=hN(e);c=c?(c+"").toLowerCase():"text";let d,f=Jie([o,i&&i.toAbortSignal()],a);const g=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let m;try{if(l&&rae&&n!=="get"&&n!=="head"&&(m=await oae(u,r))!==0){let k,_=new Request(t,{method:"POST",body:r,duplex:"half"});if(ve.isFormData(r)&&(k=_.headers.get("content-type"))&&u.setContentType(k),_.body){const[O,E]=lN(m,dg(cN(l)));r=pN(_.body,65536,O,E)}}ve.isString(h)||(h=h?"include":"omit");const v="credentials"in Request.prototype;d=new Request(t,K(A({},p),{signal:f,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:v?h:void 0}));let y=await fetch(d);const b=f9&&(c==="stream"||c==="response");if(f9&&(s||b&&g)){const k={};["status","statusText","headers"].forEach(C=>{k[C]=y[C]});const _=ve.toFiniteNumber(y.headers.get("content-length")),[O,E]=s&&lN(_,dg(cN(s),!0))||[];y=new Response(pN(y.body,65536,O,()=>{E&&E(),g&&g()}),k)}c=c||"text";let w=await pg[ve.findKey(pg,c)||"text"](y,e);return!b&&g&&g(),await new Promise((k,_)=>{sN(k,_,{data:w,headers:ho.from(y.headers),status:y.status,statusText:y.statusText,config:e,request:d})})}catch(v){throw g&&g(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new Ot("Network Error",Ot.ERR_NETWORK,e,d),{cause:v.cause||v}):Ot.from(v,v&&v.code,e,d)}}),gN={http:null,xhr:Xie,fetch:iae};ve.forEach(gN,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const vN=e=>`- ${e}`,aae=e=>ve.isFunction(e)||e===null||e===!1,bN=e=>{e=ve.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let i=0;i<t;i++){let a;if(n=e[i],r=n,!aae(n)&&(r=gN[(a=String(n)).toLowerCase()],r===void 0))throw new Ot(`Unknown adapter '${a}'`);if(r)break;o[a||"#"+i]=r}if(!r){const i=Object.entries(o).map(([a,s])=>`adapter ${a} `+(s===!1?"is not supported by the environment":"is not available in the build"));throw new Ot("There is no suitable adapter to dispatch the request "+(t?i.length>1?`since :
`+i.map(vN).join(`
`):" "+vN(i[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return r};function g9(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new kd(null,e)}function yN(e){return g9(e),e.headers=ho.from(e.headers),e.data=m9.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),bN(e.adapter||cp.adapter)(e).then(function(t){return g9(e),t.data=m9.call(e,e.transformResponse,t),t.headers=ho.from(t.headers),t},function(t){return aN(t)||(g9(e),t&&t.response&&(t.response.data=m9.call(e,e.transformResponse,t.response),t.response.headers=ho.from(t.response.headers))),Promise.reject(t)})}const sae="1.9.0",mg={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{mg[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const wN={};mg.transitional=function(e,t,n){return(r,o,i)=>{if(e===!1)throw new Ot(function(a,s){return"[Axios v1.9.0] Transitional option '"+a+"'"+s+(n?". "+n:"")}(o," has been removed"+(t?" in "+t:"")),Ot.ERR_DEPRECATED);return t&&!wN[o]&&(wN[o]=!0),!e||e(r,o,i)}},mg.spelling=function(e){return(t,n)=>!0};const fg={assertOptions:function(e,t,n){if(typeof e!="object")throw new Ot("options must be an object",Ot.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],a=t[i];if(a){const s=e[i],l=s===void 0||a(s,i,e);if(l!==!0)throw new Ot("option "+i+" must be "+l,Ot.ERR_BAD_OPTION_VALUE)}else if(n!==!0)throw new Ot("Unknown option "+i,Ot.ERR_BAD_OPTION)}},validators:mg},Oa=fg.validators;let Nc=class{constructor(e){this.defaults=e||{},this.interceptors={request:new nN,response:new nN}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{}).url=e:t=e||{},t=Ac(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;n!==void 0&&fg.assertOptions(n,{silentJSONParsing:Oa.transitional(Oa.boolean),forcedJSONParsing:Oa.transitional(Oa.boolean),clarifyTimeoutError:Oa.transitional(Oa.boolean)},!1),r!=null&&(ve.isFunction(r)?t.paramsSerializer={serialize:r}:fg.assertOptions(r,{encode:Oa.function,serialize:Oa.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),fg.assertOptions(t,{baseUrl:Oa.spelling("baseURL"),withXsrfToken:Oa.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=o&&ve.merge(o.common,o[t.method]);o&&ve.forEach(["delete","get","head","post","put","patch","common"],d=>{delete o[d]}),t.headers=ho.concat(i,o);const a=[];let s=!0;this.interceptors.request.forEach(function(d){typeof d.runWhen=="function"&&d.runWhen(t)===!1||(s=s&&d.synchronous,a.unshift(d.fulfilled,d.rejected))});const l=[];this.interceptors.response.forEach(function(d){l.push(d.fulfilled,d.rejected)});let c,u,h=0;if(!s){const d=[yN.bind(this),void 0];for(d.unshift.apply(d,a),d.push.apply(d,l),u=d.length,c=Promise.resolve(t);h<u;)c=c.then(d[h++],d[h++]);return c}u=a.length;let p=t;for(h=0;h<u;){const d=a[h++],f=a[h++];try{p=d(p)}catch(g){f.call(this,g);break}}try{c=yN.call(this,p)}catch(d){return Promise.reject(d)}for(h=0,u=l.length;h<u;)c=c.then(l[h++],l[h++]);return c}getUri(e){return tN(uN((e=Ac(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}};ve.forEach(["delete","get","head","options"],function(e){Nc.prototype[e]=function(t,n){return this.request(Ac(n||{},{method:e,url:t,data:(n||{}).data}))}}),ve.forEach(["post","put","patch"],function(e){function t(n){return function(r,o,i){return this.request(Ac(i||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}Nc.prototype[e]=t(),Nc.prototype[e+"Form"]=t(!0)});const v9={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(v9).forEach(([e,t])=>{v9[t]=e});const Mt=function e(t){const n=new Nc(t),r=BA(Nc.prototype.request,n);return ve.extend(r,Nc.prototype,n,{allOwnKeys:!0}),ve.extend(r,n,null,{allOwnKeys:!0}),r.create=function(o){return e(Ac(t,o))},r}(cp);Mt.Axios=Nc,Mt.CanceledError=kd,Mt.CancelToken=class MZ{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(o=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](o);r._listeners=null}),this.promise.then=o=>{let i;const a=new Promise(s=>{r.subscribe(s),i=s}).then(o);return a.cancel=function(){r.unsubscribe(i)},a},t(function(o,i,a){r.reason||(r.reason=new kd(o,i,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new MZ(function(n){t=n}),cancel:t}}},Mt.isCancel=aN,Mt.VERSION=sae,Mt.toFormData=cg,Mt.AxiosError=Ot,Mt.Cancel=Mt.CanceledError,Mt.all=function(e){return Promise.all(e)},Mt.spread=function(e){return function(t){return e.apply(null,t)}},Mt.isAxiosError=function(e){return ve.isObject(e)&&e.isAxiosError===!0},Mt.mergeConfig=Ac,Mt.AxiosHeaders=ho,Mt.formToJSON=e=>oN(ve.isHTMLForm(e)?new FormData(e):e),Mt.getAdapter=bN,Mt.HttpStatusCode=v9,Mt.default=Mt;var xd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Rc=typeof window>"u"||"Deno"in globalThis;function Er(){}function b9(e){return typeof e=="number"&&e>=0&&e!==1/0}function kN(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Tl(e,t){return typeof e=="function"?e(t):e}function Bi(e,t){return typeof e=="function"?e(t):e}function xN(e,t){const{type:n="all",exact:r,fetchStatus:o,predicate:i,queryKey:a,stale:s}=e;if(a){if(r){if(t.queryHash!==y9(a,t.options))return!1}else if(!dp(t.queryKey,a))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof s=="boolean"&&t.isStale()!==s||o&&o!==t.state.fetchStatus||i&&!i(t))}function _N(e,t){const{exact:n,status:r,predicate:o,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Ic(t.options.mutationKey)!==Ic(i))return!1}else if(!dp(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||o&&!o(t))}function y9(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ic)(e)}function Ic(e){return JSON.stringify(e,(t,n)=>w9(n)?Object.keys(n).sort().reduce((r,o)=>(r[o]=n[o],r),{}):n)}function dp(e,t){return e===t||typeof e==typeof t&&!(!e||!t||typeof e!="object"||typeof t!="object")&&Object.keys(t).every(n=>dp(e[n],t[n]))}function TN(e,t){if(e===t)return e;const n=SN(e)&&SN(t);if(n||w9(e)&&w9(t)){const r=n?e:Object.keys(e),o=r.length,i=n?t:Object.keys(t),a=i.length,s=n?[]:{},l=new Set(r);let c=0;for(let u=0;u<a;u++){const h=n?u:i[u];(!n&&l.has(h)||n)&&e[h]===void 0&&t[h]===void 0?(s[h]=void 0,c++):(s[h]=TN(e[h],t[h]),s[h]===e[h]&&e[h]!==void 0&&c++)}return o===a&&c===o?e:s}return t}function gg(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function SN(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function w9(e){if(!EN(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!EN(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function EN(e){return Object.prototype.toString.call(e)==="[object Object]"}function k9(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?TN(e,t):t}function lae(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function cae(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var x9=Symbol();function CN(e,t){return!e.queryFn&&t!=null&&t.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==x9?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}function ON(e,t){return typeof e=="function"?e(...t):!!e}var _d,Mc,hp,PN,pp,Lc,mp,AN,uae=(PN=class extends xd{constructor(){super(),gt(this,_d),gt(this,Mc),gt(this,hp),ot(this,hp,e=>{if(!Rc&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){J(this,Mc)||this.setEventListener(J(this,hp))}onUnsubscribe(){var e;this.hasListeners()||((e=J(this,Mc))==null||e.call(this),ot(this,Mc,void 0))}setEventListener(e){var t;ot(this,hp,e),(t=J(this,Mc))==null||t.call(this),ot(this,Mc,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){J(this,_d)!==e&&(ot(this,_d,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof J(this,_d)=="boolean"?J(this,_d):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},_d=new WeakMap,Mc=new WeakMap,hp=new WeakMap,PN),_9=new uae,dae=(AN=class extends xd{constructor(){super(),gt(this,pp,!0),gt(this,Lc),gt(this,mp),ot(this,mp,e=>{if(!Rc&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}})}onSubscribe(){J(this,Lc)||this.setEventListener(J(this,mp))}onUnsubscribe(){var e;this.hasListeners()||((e=J(this,Lc))==null||e.call(this),ot(this,Lc,void 0))}setEventListener(e){var t;ot(this,mp,e),(t=J(this,Lc))==null||t.call(this),ot(this,Lc,e(this.setOnline.bind(this)))}setOnline(e){J(this,pp)!==e&&(ot(this,pp,e),this.listeners.forEach(t=>{t(e)}))}isOnline(){return J(this,pp)}},pp=new WeakMap,Lc=new WeakMap,mp=new WeakMap,AN),vg=new dae;function T9(){let e,t;const n=new Promise((o,i)=>{e=o,t=i});function r(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.status="pending",n.catch(()=>{}),n.resolve=o=>{r({status:"fulfilled",value:o}),e(o)},n.reject=o=>{r({status:"rejected",reason:o}),t(o)},n}function hae(e){return Math.min(1e3*2**e,3e4)}function NN(e){return(e??"online")!=="online"||vg.isOnline()}var RN=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function S9(e){return e instanceof RN}function IN(e){let t,n=!1,r=0,o=!1;const i=T9(),a=()=>_9.isFocused()&&(e.networkMode==="always"||vg.isOnline())&&e.canRun(),s=()=>NN(e.networkMode)&&e.canRun(),l=p=>{var d;o||(o=!0,(d=e.onSuccess)==null||d.call(e,p),t==null||t(),i.resolve(p))},c=p=>{var d;o||(o=!0,(d=e.onError)==null||d.call(e,p),t==null||t(),i.reject(p))},u=()=>new Promise(p=>{var d;t=f=>{(o||a())&&p(f)},(d=e.onPause)==null||d.call(e)}).then(()=>{var p;t=void 0,o||(p=e.onContinue)==null||p.call(e)}),h=()=>{if(o)return;let p;const d=r===0?e.initialPromise:void 0;try{p=d??e.fn()}catch(f){p=Promise.reject(f)}Promise.resolve(p).then(l).catch(f=>{var g,m,v;if(o)return;const y=(g=e.retry)!=null?g:Rc?0:3,b=(m=e.retryDelay)!=null?m:hae,w=typeof b=="function"?b(r,f):b,k=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,f);!n&&k?(r++,(v=e.onFail)==null||v.call(e,r,f),function(_){return new Promise(O=>{setTimeout(O,_)})}(w).then(()=>a()?void 0:u()).then(()=>{n?c(f):h()})):c(f)})};return{promise:i,cancel:p=>{var d;o||(c(new RN(p)),(d=e.abort)==null||d.call(e))},continue:()=>(t==null||t(),i),cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1},canStart:s,start:()=>(s()?h():u().then(h),i)}}var pae=e=>setTimeout(e,0),Td,MN,fp,gp,Ui,Sd,Jr,bg,Ed,Pa,ks,LN,dr=function(){let e=[],t=0,n=a=>{a()},r=a=>{a()},o=pae;const i=a=>{t?e.push(a):o(()=>{n(a)})};return{batch:a=>{let s;t++;try{s=a()}finally{t--,t||(()=>{const l=e;e=[],l.length&&o(()=>{r(()=>{l.forEach(c=>{n(c)})})})})()}return s},batchCalls:a=>(...s)=>{i(()=>{a(...s)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{o=a}}}(),DN=(MN=class{constructor(){gt(this,Td)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),b9(this.gcTime)&&ot(this,Td,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Rc?1/0:3e5))}clearGcTimeout(){J(this,Td)&&(clearTimeout(J(this,Td)),ot(this,Td,void 0))}},Td=new WeakMap,MN),mae=(LN=class extends DN{constructor(e){var t;super(),gt(this,Pa),gt(this,fp),gt(this,gp),gt(this,Ui),gt(this,Sd),gt(this,Jr),gt(this,bg),gt(this,Ed),ot(this,Ed,!1),ot(this,bg,e.defaultOptions),this.setOptions(e.options),this.observers=[],ot(this,Sd,e.client),ot(this,Ui,J(this,Sd).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ot(this,fp,function(n){const r=typeof n.initialData=="function"?n.initialData():n.initialData,o=r!==void 0,i=o?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:o?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:o?"success":"pending",fetchStatus:"idle"}}(this.options)),this.state=(t=e.state)!=null?t:J(this,fp),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=J(this,Jr))==null?void 0:e.promise}setOptions(e){this.options=A(A({},J(this,bg)),e),this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&J(this,Ui).remove(this)}setData(e,t){const n=k9(this.state.data,e,this.options);return Nt(this,Pa,ks).call(this,{data:n,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),n}setState(e,t){Nt(this,Pa,ks).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var t,n;const r=(t=J(this,Jr))==null?void 0:t.promise;return(n=J(this,Jr))==null||n.cancel(e),r?r.then(Er).catch(Er):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(J(this,fp))}isActive(){return this.observers.some(e=>Bi(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===x9||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>Tl(e.options.staleTime,this)==="static")}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0||e!=="static"&&(!!this.state.isInvalidated||!kN(this.state.dataUpdatedAt,e))}onFocus(){var e;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(e=J(this,Jr))==null||e.continue()}onOnline(){var e;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(e=J(this,Jr))==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),J(this,Ui).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(J(this,Jr)&&(J(this,Ed)?J(this,Jr).cancel({revert:!0}):J(this,Jr).cancelRetry()),this.scheduleGc()),J(this,Ui).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Nt(this,Pa,ks).call(this,{type:"invalidate"})}fetch(e,t){var n,r,o;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t!=null&&t.cancelRefetch)this.cancel({silent:!0});else if(J(this,Jr))return J(this,Jr).continueRetry(),J(this,Jr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const u=this.observers.find(h=>h.options.queryFn);u&&this.setOptions(u.options)}const i=new AbortController,a=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(ot(this,Ed,!0),i.signal)})},s=()=>{const u=CN(this.options,t),h=(()=>{const p={client:J(this,Sd),queryKey:this.queryKey,meta:this.meta};return a(p),p})();return ot(this,Ed,!1),this.options.persister?this.options.persister(u,h,this):u(h)},l=(()=>{const u={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:J(this,Sd),state:this.state,fetchFn:s};return a(u),u})();(n=this.options.behavior)==null||n.onFetch(l,this),ot(this,gp,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((r=l.fetchOptions)==null?void 0:r.meta))&&Nt(this,Pa,ks).call(this,{type:"fetch",meta:(o=l.fetchOptions)==null?void 0:o.meta});const c=u=>{var h,p,d,f;S9(u)&&u.silent||Nt(this,Pa,ks).call(this,{type:"error",error:u}),S9(u)||((p=(h=J(this,Ui).config).onError)==null||p.call(h,u,this),(f=(d=J(this,Ui).config).onSettled)==null||f.call(d,this.state.data,u,this)),this.scheduleGc()};return ot(this,Jr,IN({initialPromise:t==null?void 0:t.initialPromise,fn:l.fetchFn,abort:i.abort.bind(i),onSuccess:u=>{var h,p,d,f;if(u!==void 0){try{this.setData(u)}catch(g){return void c(g)}(p=(h=J(this,Ui).config).onSuccess)==null||p.call(h,u,this),(f=(d=J(this,Ui).config).onSettled)==null||f.call(d,u,this.state.error,this),this.scheduleGc()}else c(new Error(`${this.queryHash} data is undefined`))},onError:c,onFail:(u,h)=>{Nt(this,Pa,ks).call(this,{type:"failed",failureCount:u,error:h})},onPause:()=>{Nt(this,Pa,ks).call(this,{type:"pause"})},onContinue:()=>{Nt(this,Pa,ks).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),J(this,Jr).start()}},fp=new WeakMap,gp=new WeakMap,Ui=new WeakMap,Sd=new WeakMap,Jr=new WeakMap,bg=new WeakMap,Ed=new WeakMap,Pa=new WeakSet,ks=function(e){this.state=(t=>{var n,r;switch(e.type){case"failed":return K(A({},t),{fetchFailureCount:e.failureCount,fetchFailureReason:e.error});case"pause":return K(A({},t),{fetchStatus:"paused"});case"continue":return K(A({},t),{fetchStatus:"fetching"});case"fetch":return K(A(A({},t),jN(t.data,this.options)),{fetchMeta:(n=e.meta)!=null?n:null});case"success":return A(K(A({},t),{data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:(r=e.dataUpdatedAt)!=null?r:Date.now(),error:null,isInvalidated:!1,status:"success"}),!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null});case"error":const o=e.error;return S9(o)&&o.revert&&J(this,gp)?K(A({},J(this,gp)),{fetchStatus:"idle"}):K(A({},t),{error:o,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"});case"invalidate":return K(A({},t),{isInvalidated:!0});case"setState":return A(A({},t),e.state)}})(this.state),dr.batch(()=>{this.observers.forEach(t=>{t.onQueryUpdate()}),J(this,Ui).notify({query:this,type:"updated",action:e})})},LN);function jN(e,t){return A({fetchFailureCount:0,fetchFailureReason:null,fetchStatus:NN(t.networkMode)?"fetching":"paused"},e===void 0&&{error:null,status:"pending"})}var xs,zN,_s,po,Cd,Ts,Sl,FN,fae=(zN=class extends xd{constructor(e={}){super(),gt(this,xs),this.config=e,ot(this,xs,new Map)}build(e,t,n){var r;const o=t.queryKey,i=(r=t.queryHash)!=null?r:y9(o,t);let a=this.get(i);return a||(a=new mae({client:e,queryKey:o,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(o)}),this.add(a)),a}add(e){J(this,xs).has(e.queryHash)||(J(this,xs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=J(this,xs).get(e.queryHash);t&&(e.destroy(),t===e&&J(this,xs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){dr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return J(this,xs).get(e)}getAll(){return[...J(this,xs).values()]}find(e){const t=A({exact:!0},e);return this.getAll().find(n=>xN(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>xN(e,n)):t}notify(e){dr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){dr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){dr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},xs=new WeakMap,zN),gae=(FN=class extends DN{constructor(e){super(),gt(this,Ts),gt(this,_s),gt(this,po),gt(this,Cd),this.mutationId=e.mutationId,ot(this,po,e.mutationCache),ot(this,_s,[]),this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){J(this,_s).includes(e)||(J(this,_s).push(e),this.clearGcTimeout(),J(this,po).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ot(this,_s,J(this,_s).filter(t=>t!==e)),this.scheduleGc(),J(this,po).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){J(this,_s).length||(this.state.status==="pending"?this.scheduleGc():J(this,po).remove(this))}continue(){var e,t;return(t=(e=J(this,Cd))==null?void 0:e.continue())!=null?t:this.execute(this.state.variables)}async execute(e){var t,n,r,o,i,a,s,l,c,u,h,p,d,f,g,m,v,y,b,w,k;const _=()=>{Nt(this,Ts,Sl).call(this,{type:"continue"})};ot(this,Cd,IN({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(C,N)=>{Nt(this,Ts,Sl).call(this,{type:"failed",failureCount:C,error:N})},onPause:()=>{Nt(this,Ts,Sl).call(this,{type:"pause"})},onContinue:_,retry:(t=this.options.retry)!=null?t:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>J(this,po).canRun(this)}));const O=this.state.status==="pending",E=!J(this,Cd).canStart();try{if(O)_();else{Nt(this,Ts,Sl).call(this,{type:"pending",variables:e,isPaused:E}),await((r=(n=J(this,po).config).onMutate)==null?void 0:r.call(n,e,this));const N=await((i=(o=this.options).onMutate)==null?void 0:i.call(o,e));N!==this.state.context&&Nt(this,Ts,Sl).call(this,{type:"pending",context:N,variables:e,isPaused:E})}const C=await J(this,Cd).start();return await((s=(a=J(this,po).config).onSuccess)==null?void 0:s.call(a,C,e,this.state.context,this)),await((c=(l=this.options).onSuccess)==null?void 0:c.call(l,C,e,this.state.context)),await((h=(u=J(this,po).config).onSettled)==null?void 0:h.call(u,C,null,this.state.variables,this.state.context,this)),await((d=(p=this.options).onSettled)==null?void 0:d.call(p,C,null,e,this.state.context)),Nt(this,Ts,Sl).call(this,{type:"success",data:C}),C}catch(C){try{throw await((g=(f=J(this,po).config).onError)==null?void 0:g.call(f,C,e,this.state.context,this)),await((v=(m=this.options).onError)==null?void 0:v.call(m,C,e,this.state.context)),await((b=(y=J(this,po).config).onSettled)==null?void 0:b.call(y,void 0,C,this.state.variables,this.state.context,this)),await((k=(w=this.options).onSettled)==null?void 0:k.call(w,void 0,C,e,this.state.context)),C}finally{Nt(this,Ts,Sl).call(this,{type:"error",error:C})}}finally{J(this,po).runNext(this)}}},_s=new WeakMap,po=new WeakMap,Cd=new WeakMap,Ts=new WeakSet,Sl=function(e){this.state=(t=>{switch(e.type){case"failed":return K(A({},t),{failureCount:e.failureCount,failureReason:e.error});case"pause":return K(A({},t),{isPaused:!0});case"continue":return K(A({},t),{isPaused:!1});case"pending":return K(A({},t),{context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()});case"success":return K(A({},t),{data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1});case"error":return K(A({},t),{data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"})}})(this.state),dr.batch(()=>{J(this,_s).forEach(t=>{t.onMutationUpdate(e)}),J(this,po).notify({mutation:this,type:"updated",action:e})})},FN),El,Aa,yg,BN,vae=(BN=class extends xd{constructor(e={}){super(),gt(this,El),gt(this,Aa),gt(this,yg),this.config=e,ot(this,El,new Set),ot(this,Aa,new Map),ot(this,yg,0)}build(e,t,n){const r=new gae({mutationCache:this,mutationId:++q2(this,yg)._,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){J(this,El).add(e);const t=wg(e);if(typeof t=="string"){const n=J(this,Aa).get(t);n?n.push(e):J(this,Aa).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(J(this,El).delete(e)){const t=wg(e);if(typeof t=="string"){const n=J(this,Aa).get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&J(this,Aa).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=wg(e);if(typeof t=="string"){const n=J(this,Aa).get(t),r=n==null?void 0:n.find(o=>o.state.status==="pending");return!r||r===e}return!0}runNext(e){var t,n;const r=wg(e);if(typeof r=="string"){const o=(t=J(this,Aa).get(r))==null?void 0:t.find(i=>i!==e&&i.state.isPaused);return(n=o==null?void 0:o.continue())!=null?n:Promise.resolve()}return Promise.resolve()}clear(){dr.batch(()=>{J(this,El).forEach(e=>{this.notify({type:"removed",mutation:e})}),J(this,El).clear(),J(this,Aa).clear()})}getAll(){return Array.from(J(this,El))}find(e){const t=A({exact:!0},e);return this.getAll().find(n=>_N(t,n))}findAll(e={}){return this.getAll().filter(t=>_N(e,t))}notify(e){dr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return dr.batch(()=>Promise.all(e.map(t=>t.continue().catch(Er))))}},El=new WeakMap,Aa=new WeakMap,yg=new WeakMap,BN);function wg(e){var t;return(t=e.options.scope)==null?void 0:t.id}function UN(e){return{onFetch:(t,n)=>{var r,o,i,a,s;const l=t.options,c=(i=(o=(r=t.fetchOptions)==null?void 0:r.meta)==null?void 0:o.fetchMore)==null?void 0:i.direction,u=((a=t.state.data)==null?void 0:a.pages)||[],h=((s=t.state.data)==null?void 0:s.pageParams)||[];let p={pages:[],pageParams:[]},d=0;const f=async()=>{var g;let m=!1;const v=CN(t.options,t.fetchOptions),y=async(b,w,k)=>{if(m)return Promise.reject();if(w==null&&b.pages.length)return Promise.resolve(b);const _=(()=>{const N={client:t.client,queryKey:t.queryKey,pageParam:w,direction:k?"backward":"forward",meta:t.options.meta};return(L=>{Object.defineProperty(L,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})})(N),N})(),O=await v(_),{maxPages:E}=t.options,C=k?cae:lae;return{pages:C(b.pages,O,E),pageParams:C(b.pageParams,w,E)}};if(c&&u.length){const b=c==="backward",w={pages:u,pageParams:h},k=(b?bae:HN)(l,w);p=await y(w,k,b)}else{const b=e??u.length;do{const w=d===0?(g=h[0])!=null?g:l.initialPageParam:HN(l,p);if(d>0&&w==null)break;p=await y(p,w),d++}while(d<b)}return p};t.options.persister?t.fetchFn=()=>{var g,m;return(m=(g=t.options).persister)==null?void 0:m.call(g,f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=f}}}function HN(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function bae(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Yn,Dc,jc,vp,bp,zc,yp,wp,VN,Ko,Vt,kg,mo,Od,kp,Fc,Bc,xg,xp,_p,Pd,Ad,Uc,Tp,Qn,Sp,E9,C9,O9,P9,A9,N9,R9,$N,qN,yae=(VN=class{constructor(e={}){gt(this,Yn),gt(this,Dc),gt(this,jc),gt(this,vp),gt(this,bp),gt(this,zc),gt(this,yp),gt(this,wp),ot(this,Yn,e.queryCache||new fae),ot(this,Dc,e.mutationCache||new vae),ot(this,jc,e.defaultOptions||{}),ot(this,vp,new Map),ot(this,bp,new Map),ot(this,zc,0)}mount(){q2(this,zc)._++,J(this,zc)===1&&(ot(this,yp,_9.subscribe(async e=>{e&&(await this.resumePausedMutations(),J(this,Yn).onFocus())})),ot(this,wp,vg.subscribe(async e=>{e&&(await this.resumePausedMutations(),J(this,Yn).onOnline())})))}unmount(){var e,t;q2(this,zc)._--,J(this,zc)===0&&((e=J(this,yp))==null||e.call(this),ot(this,yp,void 0),(t=J(this,wp))==null||t.call(this),ot(this,wp,void 0))}isFetching(e){return J(this,Yn).findAll(K(A({},e),{fetchStatus:"fetching"})).length}isMutating(e){return J(this,Dc).findAll(K(A({},e),{status:"pending"})).length}getQueryData(e){var t;const n=this.defaultQueryOptions({queryKey:e});return(t=J(this,Yn).get(n.queryHash))==null?void 0:t.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=J(this,Yn).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Tl(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return J(this,Yn).findAll(e).map(({queryKey:t,state:n})=>[t,n.data])}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=J(this,Yn).get(r.queryHash),i=function(a,s){return typeof a=="function"?a(s):a}(t,o==null?void 0:o.state.data);if(i!==void 0)return J(this,Yn).build(this,r).setData(i,K(A({},n),{manual:!0}))}setQueriesData(e,t,n){return dr.batch(()=>J(this,Yn).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var t;const n=this.defaultQueryOptions({queryKey:e});return(t=J(this,Yn).get(n.queryHash))==null?void 0:t.state}removeQueries(e){const t=J(this,Yn);dr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=J(this,Yn);return dr.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries(A({type:"active"},e),t)))}cancelQueries(e,t={}){const n=A({revert:!0},t),r=dr.batch(()=>J(this,Yn).findAll(e).map(o=>o.cancel(n)));return Promise.all(r).then(Er).catch(Er)}invalidateQueries(e,t={}){return dr.batch(()=>{var n,r;return J(this,Yn).findAll(e).forEach(o=>{o.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries(K(A({},e),{type:(r=(n=e==null?void 0:e.refetchType)!=null?n:e==null?void 0:e.type)!=null?r:"active"}),t)})}refetchQueries(e,t={}){var n;const r=K(A({},t),{cancelRefetch:(n=t.cancelRefetch)==null||n}),o=dr.batch(()=>J(this,Yn).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(Er)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(o).then(Er)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=J(this,Yn).build(this,t);return n.isStaleByTime(Tl(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Er).catch(Er)}fetchInfiniteQuery(e){return e.behavior=UN(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Er).catch(Er)}ensureInfiniteQueryData(e){return e.behavior=UN(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return vg.isOnline()?J(this,Dc).resumePausedMutations():Promise.resolve()}getQueryCache(){return J(this,Yn)}getMutationCache(){return J(this,Dc)}getDefaultOptions(){return J(this,jc)}setDefaultOptions(e){ot(this,jc,e)}setQueryDefaults(e,t){J(this,vp).set(Ic(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...J(this,vp).values()],n={};return t.forEach(r=>{dp(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){J(this,bp).set(Ic(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...J(this,bp).values()],n={};return t.forEach(r=>{dp(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t=K(A(A(A({},J(this,jc).queries),this.getQueryDefaults(e.queryKey)),e),{_defaulted:!0});return t.queryHash||(t.queryHash=y9(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===x9&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:K(A(A(A({},J(this,jc).mutations),(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey)),e),{_defaulted:!0})}clear(){J(this,Yn).clear(),J(this,Dc).clear()}},Yn=new WeakMap,Dc=new WeakMap,jc=new WeakMap,vp=new WeakMap,bp=new WeakMap,zc=new WeakMap,yp=new WeakMap,wp=new WeakMap,VN),wae=(qN=class extends xd{constructor(e,t){super(),gt(this,Qn),gt(this,Ko),gt(this,Vt),gt(this,kg),gt(this,mo),gt(this,Od),gt(this,kp),gt(this,Fc),gt(this,Bc),gt(this,xg),gt(this,xp),gt(this,_p),gt(this,Pd),gt(this,Ad),gt(this,Uc),gt(this,Tp,new Set),this.options=t,ot(this,Ko,e),ot(this,Bc,null),ot(this,Fc,T9()),this.options.experimental_prefetchInRender||J(this,Fc).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(J(this,Vt).addObserver(this),WN(J(this,Vt),this.options)?Nt(this,Qn,Sp).call(this):this.updateResult(),Nt(this,Qn,P9).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return I9(J(this,Vt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return I9(J(this,Vt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Nt(this,Qn,A9).call(this),Nt(this,Qn,N9).call(this),J(this,Vt).removeObserver(this)}setOptions(e){const t=this.options,n=J(this,Vt);if(this.options=J(this,Ko).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Bi(this.options.enabled,J(this,Vt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Nt(this,Qn,R9).call(this),J(this,Vt).setOptions(this.options),t._defaulted&&!gg(this.options,t)&&J(this,Ko).getQueryCache().notify({type:"observerOptionsUpdated",query:J(this,Vt),observer:this});const r=this.hasListeners();r&&GN(J(this,Vt),n,this.options,t)&&Nt(this,Qn,Sp).call(this),this.updateResult(),r&&(J(this,Vt)!==n||Bi(this.options.enabled,J(this,Vt))!==Bi(t.enabled,J(this,Vt))||Tl(this.options.staleTime,J(this,Vt))!==Tl(t.staleTime,J(this,Vt)))&&Nt(this,Qn,E9).call(this);const o=Nt(this,Qn,C9).call(this);r&&(J(this,Vt)!==n||Bi(this.options.enabled,J(this,Vt))!==Bi(t.enabled,J(this,Vt))||o!==J(this,Uc))&&Nt(this,Qn,O9).call(this,o)}getOptimisticResult(e){const t=J(this,Ko).getQueryCache().build(J(this,Ko),e),n=this.createResult(t,e);return function(r,o){return!gg(r.getCurrentResult(),o)}(this,n)&&(ot(this,mo,n),ot(this,kp,this.options),ot(this,Od,J(this,Vt).state)),n}getCurrentResult(){return J(this,mo)}trackResult(e,t){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),t==null||t(r),Reflect.get(n,r))})}trackProp(e){J(this,Tp).add(e)}getCurrentQuery(){return J(this,Vt)}refetch(e={}){var t=xe(e,[]);return this.fetch(A({},t))}fetchOptimistic(e){const t=J(this,Ko).defaultQueryOptions(e),n=J(this,Ko).getQueryCache().build(J(this,Ko),t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){var t;return Nt(this,Qn,Sp).call(this,K(A({},e),{cancelRefetch:(t=e.cancelRefetch)==null||t})).then(()=>(this.updateResult(),J(this,mo)))}createResult(e,t){var n;const r=J(this,Vt),o=this.options,i=J(this,mo),a=J(this,Od),s=J(this,kp),l=e!==r?e.state:J(this,kg),{state:c}=e;let u,h=A({},c),p=!1;if(t._optimisticResults){const O=this.hasListeners(),E=!O&&WN(e,t),C=O&&GN(e,r,t,o);(E||C)&&(h=A(A({},h),jN(c.data,e.options))),t._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:d,errorUpdatedAt:f,status:g}=h;u=h.data;let m=!1;if(t.placeholderData!==void 0&&u===void 0&&g==="pending"){let O;i!=null&&i.isPlaceholderData&&t.placeholderData===(s==null?void 0:s.placeholderData)?(O=i.data,m=!0):O=typeof t.placeholderData=="function"?t.placeholderData((n=J(this,_p))==null?void 0:n.state.data,J(this,_p)):t.placeholderData,O!==void 0&&(g="success",u=k9(i==null?void 0:i.data,O,t),p=!0)}if(t.select&&u!==void 0&&!m)if(i&&u===(a==null?void 0:a.data)&&t.select===J(this,xg))u=J(this,xp);else try{ot(this,xg,t.select),u=t.select(u),u=k9(i==null?void 0:i.data,u,t),ot(this,xp,u),ot(this,Bc,null)}catch(O){ot(this,Bc,O)}J(this,Bc)&&(d=J(this,Bc),u=J(this,xp),f=Date.now(),g="error");const v=h.fetchStatus==="fetching",y=g==="pending",b=g==="error",w=y&&v,k=u!==void 0,_={status:g,fetchStatus:h.fetchStatus,isPending:y,isSuccess:g==="success",isError:b,isInitialLoading:w,isLoading:w,data:u,dataUpdatedAt:h.dataUpdatedAt,error:d,errorUpdatedAt:f,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>l.dataUpdateCount||h.errorUpdateCount>l.errorUpdateCount,isFetching:v,isRefetching:v&&!y,isLoadingError:b&&!k,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:b&&k,isStale:M9(e,t),refetch:this.refetch,promise:J(this,Fc)};if(this.options.experimental_prefetchInRender){const O=N=>{_.status==="error"?N.reject(_.error):_.data!==void 0&&N.resolve(_.data)},E=()=>{const N=ot(this,Fc,_.promise=T9());O(N)},C=J(this,Fc);switch(C.status){case"pending":e.queryHash===r.queryHash&&O(C);break;case"fulfilled":(_.status==="error"||_.data!==C.value)&&E();break;case"rejected":(_.status!=="error"||_.error!==C.reason)&&E()}}return _}updateResult(){const e=J(this,mo),t=this.createResult(J(this,Vt),this.options);ot(this,Od,J(this,Vt).state),ot(this,kp,this.options),J(this,Od).data!==void 0&&ot(this,_p,J(this,Vt)),!gg(t,e)&&(ot(this,mo,t),Nt(this,Qn,$N).call(this,{listeners:(()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,r=typeof n=="function"?n():n;if(r==="all"||!r&&!J(this,Tp).size)return!0;const o=new Set(r??J(this,Tp));return this.options.throwOnError&&o.add("error"),Object.keys(J(this,mo)).some(i=>{const a=i;return J(this,mo)[a]!==e[a]&&o.has(a)})})()}))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Nt(this,Qn,P9).call(this)}},Ko=new WeakMap,Vt=new WeakMap,kg=new WeakMap,mo=new WeakMap,Od=new WeakMap,kp=new WeakMap,Fc=new WeakMap,Bc=new WeakMap,xg=new WeakMap,xp=new WeakMap,_p=new WeakMap,Pd=new WeakMap,Ad=new WeakMap,Uc=new WeakMap,Tp=new WeakMap,Qn=new WeakSet,Sp=function(e){Nt(this,Qn,R9).call(this);let t=J(this,Vt).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(Er)),t},E9=function(){Nt(this,Qn,A9).call(this);const e=Tl(this.options.staleTime,J(this,Vt));if(Rc||J(this,mo).isStale||!b9(e))return;const t=kN(J(this,mo).dataUpdatedAt,e)+1;ot(this,Pd,setTimeout(()=>{J(this,mo).isStale||this.updateResult()},t))},C9=function(){var e;return(e=typeof this.options.refetchInterval=="function"?this.options.refetchInterval(J(this,Vt)):this.options.refetchInterval)!=null&&e},O9=function(e){Nt(this,Qn,N9).call(this),ot(this,Uc,e),!Rc&&Bi(this.options.enabled,J(this,Vt))!==!1&&b9(J(this,Uc))&&J(this,Uc)!==0&&ot(this,Ad,setInterval(()=>{(this.options.refetchIntervalInBackground||_9.isFocused())&&Nt(this,Qn,Sp).call(this)},J(this,Uc)))},P9=function(){Nt(this,Qn,E9).call(this),Nt(this,Qn,O9).call(this,Nt(this,Qn,C9).call(this))},A9=function(){J(this,Pd)&&(clearTimeout(J(this,Pd)),ot(this,Pd,void 0))},N9=function(){J(this,Ad)&&(clearInterval(J(this,Ad)),ot(this,Ad,void 0))},R9=function(){const e=J(this,Ko).getQueryCache().build(J(this,Ko),this.options);if(e===J(this,Vt))return;const t=J(this,Vt);ot(this,Vt,e),ot(this,kg,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},$N=function(e){dr.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(J(this,mo))}),J(this,Ko).getQueryCache().notify({query:J(this,Vt),type:"observerResultsUpdated"})})},qN);function WN(e,t){return function(n,r){return Bi(r.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&r.retryOnMount===!1)}(e,t)||e.state.data!==void 0&&I9(e,t,t.refetchOnMount)}function I9(e,t,n){if(Bi(t.enabled,e)!==!1&&Tl(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&M9(e,t)}return!1}function GN(e,t,n,r){return(e!==t||Bi(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&M9(e,n)}function M9(e,t){return Bi(t.enabled,e)!==!1&&e.isStaleByTime(Tl(t.staleTime,e))}var Hc,Vc,Yo,Cl,$c,_g,L9,KN,kae=(KN=class extends xd{constructor(e,t){super(),gt(this,$c),gt(this,Hc),gt(this,Vc),gt(this,Yo),gt(this,Cl),ot(this,Hc,e),this.setOptions(t),this.bindMethods(),Nt(this,$c,_g).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var t;const n=this.options;this.options=J(this,Hc).defaultMutationOptions(e),gg(this.options,n)||J(this,Hc).getMutationCache().notify({type:"observerOptionsUpdated",mutation:J(this,Yo),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Ic(n.mutationKey)!==Ic(this.options.mutationKey)?this.reset():((t=J(this,Yo))==null?void 0:t.state.status)==="pending"&&J(this,Yo).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=J(this,Yo))==null||e.removeObserver(this)}onMutationUpdate(e){Nt(this,$c,_g).call(this),Nt(this,$c,L9).call(this,e)}getCurrentResult(){return J(this,Vc)}reset(){var e;(e=J(this,Yo))==null||e.removeObserver(this),ot(this,Yo,void 0),Nt(this,$c,_g).call(this),Nt(this,$c,L9).call(this)}mutate(e,t){var n;return ot(this,Cl,t),(n=J(this,Yo))==null||n.removeObserver(this),ot(this,Yo,J(this,Hc).getMutationCache().build(J(this,Hc),this.options)),J(this,Yo).addObserver(this),J(this,Yo).execute(e)}},Hc=new WeakMap,Vc=new WeakMap,Yo=new WeakMap,Cl=new WeakMap,$c=new WeakSet,_g=function(){var e,t;const n=(t=(e=J(this,Yo))==null?void 0:e.state)!=null?t:{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0};ot(this,Vc,K(A({},n),{isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset}))},L9=function(e){dr.batch(()=>{var t,n,r,o,i,a,s,l;if(J(this,Cl)&&this.hasListeners()){const c=J(this,Vc).variables,u=J(this,Vc).context;(e==null?void 0:e.type)==="success"?((n=(t=J(this,Cl)).onSuccess)==null||n.call(t,e.data,c,u),(o=(r=J(this,Cl)).onSettled)==null||o.call(r,e.data,null,c,u)):(e==null?void 0:e.type)==="error"&&((a=(i=J(this,Cl)).onError)==null||a.call(i,e.error,c,u),(l=(s=J(this,Cl)).onSettled)==null||l.call(s,void 0,e.error,c,u))}this.listeners.forEach(c=>{c(J(this,Vc))})})},KN);function YN(e){return e}function xae(e){return A(A({mutationKey:e.options.mutationKey,state:e.state},e.options.scope&&{scope:e.options.scope}),e.meta&&{meta:e.meta})}function _ae(e,t,n){var r;return A(A({dehydratedAt:Date.now(),state:A(A({},e.state),e.state.data!==void 0&&{data:t(e.state.data)}),queryKey:e.queryKey,queryHash:e.queryHash},e.state.status==="pending"&&{promise:(r=e.promise)==null?void 0:r.then(t).catch(o=>n(o)?Promise.reject(new Error("redacted")):Promise.reject(o))}),e.meta&&{meta:e.meta})}function Tae(e){return e.state.isPaused}function Sae(e){return e.state.status==="success"}function Eae(e){return!0}function Cae(e,t={}){var n,r,o,i,a,s,l,c,u,h,p,d;const f=(o=(r=t.shouldDehydrateMutation)!=null?r:(n=e.getDefaultOptions().dehydrate)==null?void 0:n.shouldDehydrateMutation)!=null?o:Tae,g=e.getMutationCache().getAll().flatMap(w=>f(w)?[xae(w)]:[]),m=(s=(a=t.shouldDehydrateQuery)!=null?a:(i=e.getDefaultOptions().dehydrate)==null?void 0:i.shouldDehydrateQuery)!=null?s:Sae,v=(u=(c=t.shouldRedactErrors)!=null?c:(l=e.getDefaultOptions().dehydrate)==null?void 0:l.shouldRedactErrors)!=null?u:Eae,y=(d=(p=t.serializeData)!=null?p:(h=e.getDefaultOptions().dehydrate)==null?void 0:h.serializeData)!=null?d:YN,b=e.getQueryCache().getAll().flatMap(w=>m(w)?[_ae(w,y,v)]:[]);return{mutations:g,queries:b}}function Oae(e,t,n){var r,o,i,a;if(typeof t!="object"||t===null)return;const s=e.getMutationCache(),l=e.getQueryCache(),c=(a=(i=(r=n==null?void 0:n.defaultOptions)==null?void 0:r.deserializeData)!=null?i:(o=e.getDefaultOptions().hydrate)==null?void 0:o.deserializeData)!=null?a:YN,u=t.mutations||[],h=t.queries||[];u.forEach(p=>{var d,f,g=p,{state:m}=g,v=xe(g,["state"]);s.build(e,A(A(A({},(d=e.getDefaultOptions().hydrate)==null?void 0:d.mutations),(f=n==null?void 0:n.defaultOptions)==null?void 0:f.mutations),v),m)}),h.forEach(({queryKey:p,state:d,queryHash:f,meta:g,promise:m,dehydratedAt:v})=>{var y,b;const w=m?function(N){var L;let j;if((L=N.then(H=>(j=H,H),Er))==null||L.catch(Er),j!==void 0)return{data:j}}(m):void 0,k=d.data===void 0?w==null?void 0:w.data:d.data,_=k===void 0?k:c(k);let O=l.get(f);const E=(O==null?void 0:O.state.status)==="pending",C=(O==null?void 0:O.state.fetchStatus)==="fetching";if(O){const N=w&&v!==void 0&&v>O.state.dataUpdatedAt;if(d.dataUpdatedAt>O.state.dataUpdatedAt||N){const L=xe(d,["fetchStatus"]);O.setState(K(A({},L),{data:_}))}}else O=l.build(e,K(A(A({},(y=e.getDefaultOptions().hydrate)==null?void 0:y.queries),(b=n==null?void 0:n.defaultOptions)==null?void 0:b.queries),{queryKey:p,queryHash:f,meta:g}),K(A({},d),{data:_,fetchStatus:"idle",status:_!==void 0?"success":d.status}));m&&!E&&!C&&(v===void 0||v>O.state.dataUpdatedAt)&&O.fetch(void 0,{initialPromise:Promise.resolve(m).then(c)})})}var QN=x.createContext(void 0),D9=e=>{const t=x.useContext(QN);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Pae=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),Y.jsx(QN.Provider,{value:e,children:t})),XN=x.createContext(!1),Aae=()=>x.useContext(XN),Nae=XN.Provider,Rae=x.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),Iae=()=>x.useContext(Rae),Mae=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Lae=e=>{x.useEffect(()=>{e.clearReset()},[e])},Dae=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:o})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(o&&e.data===void 0||ON(n,[e.error,r])),jae=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},zae=(e,t)=>e.isLoading&&e.isFetching&&!t,Fae=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,JN=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function ZN(e,t){return function(n,r,o){var i,a,s,l,c;const u=Aae(),h=Iae(),p=D9(),d=p.defaultQueryOptions(n);(a=(i=p.getDefaultOptions().queries)==null?void 0:i._experimental_beforeQuery)==null||a.call(i,d),d._optimisticResults=u?"isRestoring":"optimistic",jae(d),Mae(d,h),Lae(h);const f=!p.getQueryCache().get(d.queryHash),[g]=x.useState(()=>new r(p,d)),m=g.getOptimisticResult(d),v=!u&&n.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(y=>{const b=v?g.subscribe(dr.batchCalls(y)):Er;return g.updateResult(),b},[g,v]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),x.useEffect(()=>{g.setOptions(d)},[d,g]),Fae(d,m))throw JN(d,g,h);if(Dae({result:m,errorResetBoundary:h,throwOnError:d.throwOnError,query:p.getQueryCache().get(d.queryHash),suspense:d.suspense}))throw m.error;if((l=(s=p.getDefaultOptions().queries)==null?void 0:s._experimental_afterQuery)==null||l.call(s,d,m),d.experimental_prefetchInRender&&!Rc&&zae(m,u)){const y=f?JN(d,g,h):(c=p.getQueryCache().get(d.queryHash))==null?void 0:c.promise;y==null||y.catch(Er).finally(()=>{g.updateResult()})}return d.notifyOnChangeProps?m:g.trackResult(m)}(e,wae)}function Zr(e,t){const n=D9(),[r]=x.useState(()=>new kae(n,e));x.useEffect(()=>{r.setOptions(e)},[r,e]);const o=x.useSyncExternalStore(x.useCallback(a=>r.subscribe(dr.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=x.useCallback((a,s)=>{r.mutate(a,s).catch(Er)},[r]);if(o.error&&ON(r.options.throwOnError,[o.error]))throw o.error;return K(A({},o),{mutate:i,mutateAsync:o.mutate})}function Ep(e="mantine-"){return`${e}${Math.random().toString(36).slice(2,11)}`}function qc(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Wc(e,t){const n=typeof t=="number"?t:t.delay,r=typeof t!="number"&&t.flushOnUnmount,o=qc(e),i=x.useRef(0),a=x.useRef(()=>{}),s=Object.assign(x.useCallback((...l)=>{window.clearTimeout(i.current);const c=()=>{i.current!==0&&(i.current=0,o(...l))};a.current=c,s.flush=c,i.current=window.setTimeout(c,n)},[o,n]),{flush:a.current});return x.useEffect(()=>()=>{window.clearTimeout(i.current),r&&s.flush()},[s,r]),s}const eR=["mousedown","touchstart"];function Bae({timeout:e=2e3}={}){const[t,n]=x.useState(null),[r,o]=x.useState(!1),[i,a]=x.useState(null);return{copy:s=>{"clipboard"in navigator?navigator.clipboard.writeText(s).then(()=>(l=>{window.clearTimeout(i),a(window.setTimeout(()=>o(!1),e)),o(l)})(!0)).catch(l=>n(l)):n(new Error("useClipboard: navigator.clipboard is not supported"))},reset:()=>{o(!1),n(null),window.clearTimeout(i)},error:t,copied:r}}function Uae(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,o]=x.useState(n?t:function(a,s){return typeof window<"u"&&"matchMedia"in window&&window.matchMedia(a).matches}(e)),i=x.useRef(null);return x.useEffect(()=>{if("matchMedia"in window)return i.current=window.matchMedia(e),o(i.current.matches),function(a,s){try{return a.addEventListener("change",s),()=>a.removeEventListener("change",s)}catch{return a.addListener(s),()=>a.removeListener(s)}}(i.current,a=>o(a.matches))},[e]),r}const Nd=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Ss(e,t){const n=x.useRef(!1);x.useEffect(()=>()=>{n.current=!1},[]),x.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function tR({opened:e,shouldReturnFocus:t=!0}){const n=x.useRef(null),r=()=>{var o;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((o=n.current)==null||o.focus({preventScroll:!0}))};return Ss(()=>{let o=-1;const i=a=>{a.key==="Tab"&&window.clearTimeout(o)};return document.addEventListener("keydown",i),e?n.current=document.activeElement:t&&(o=window.setTimeout(r,10)),()=>{window.clearTimeout(o),document.removeEventListener("keydown",i)}},[e,t]),r}const Hae=/input|select|textarea|button|object/,nR="a, input, select, textarea, button, object, [tabindex]";function Vae(e){return e.style.display==="none"}function rR(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function j9(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(rR(e));return(Hae.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&function(r){if(r.getAttribute("aria-hidden")||r.getAttribute("hidden")||r.getAttribute("type")==="hidden")return!1;let o=r;for(;o&&o!==document.body&&o.nodeType!==11;){if(Vae(o))return!1;o=o.parentNode}return!0}(e)}function oR(e){const t=rR(e);return(Number.isNaN(t)||t>=0)&&j9(e)}function $ae(e,t){const n=function(l){return Array.from(l.querySelectorAll(nR)).filter(oR)}(e);if(!n.length)return void t.preventDefault();const r=n[t.shiftKey?0:n.length-1],o=e.getRootNode();let i=r===o.activeElement||e===o.activeElement;const a=o.activeElement;if(a.tagName==="INPUT"&&a.getAttribute("type")==="radio"&&(i=n.filter(l=>l.getAttribute("type")==="radio"&&l.getAttribute("name")===a.getAttribute("name")).includes(r)),!i)return;t.preventDefault();const s=n[t.shiftKey?n.length-1:0];s&&s.focus()}const qae=fn.useId||(()=>{});function Cp(e){const t=function(){const o=qae();return o?`mantine-${o.replace(/:/g,"")}`:""}(),[n,r]=x.useState(t);return Nd(()=>{r(Ep())},[]),typeof e=="string"?e:typeof window>"u"?t:n}function Op(e,t,n){x.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function Wae(e){try{return e&&JSON.parse(e)}catch{return e}}function Gae(e,t){const n="mantine-local-storage",{getItem:r,setItem:o,removeItem:i}=function(a){return{getItem:s=>{try{return window[a].getItem(s)}catch{return null}},setItem:(s,l)=>{try{window[a].setItem(s,l)}catch{}},removeItem:s=>{try{window[a].removeItem(s)}catch{}}}}(e);return function({key:a,defaultValue:s,getInitialValueInEffect:l=!0,sync:c=!0,deserialize:u=Wae,serialize:h=p=>function(d,f="use-local-storage"){try{return JSON.stringify(d)}catch{throw new Error(`@mantine/hooks ${f}: Failed to serialize the value`)}}(p,t)}){const p=x.useCallback(v=>{let y;try{y=typeof window>"u"||!(e in window)||window[e]===null||!!v}catch{y=!0}if(y)return s;const b=r(a);return b!==null?u(b):s},[a,s]),[d,f]=x.useState(p(l)),g=x.useCallback(v=>{v instanceof Function?f(y=>{const b=v(y);return o(a,h(b)),window.dispatchEvent(new CustomEvent(n,{detail:{key:a,value:v(y)}})),b}):(o(a,h(v)),window.dispatchEvent(new CustomEvent(n,{detail:{key:a,value:v}})),f(v))},[a]),m=x.useCallback(()=>{i(a),window.dispatchEvent(new CustomEvent(n,{detail:{key:a,value:s}}))},[]);return Op("storage",v=>{var y;c&&v.storageArea===window[e]&&v.key===a&&f(u((y=v.newValue)!=null?y:void 0))}),Op(n,v=>{c&&v.detail.key===a&&f(v.detail.value)}),x.useEffect(()=>{s!==void 0&&d===void 0&&g(s)},[s,d,g]),x.useEffect(()=>{const v=p();v!==void 0&&g(v)},[a]),[d===void 0?s:d,g,m]}}function iR(e){return Gae("localStorage","use-local-storage")(e)}function z9(e,t){if(typeof e=="function")return e(t);typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function aR(...e){const t=new Map;return n=>{if(e.forEach(r=>{const o=z9(r,n);o&&t.set(r,o)}),t.size>0)return()=>{e.forEach(r=>{const o=t.get(r);o?o():z9(r,null)}),t.clear()}}}function Qo(...e){return x.useCallback(aR(...e),e)}function F9({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[o,i]=x.useState(t!==void 0?t:n);return e!==void 0?[e,r,!0]:[o,(a,...s)=>{i(a),r==null||r(a,...s)},!1]}function B9(e,t){return Uae("(prefers-reduced-motion: reduce)",e,t)}const Kae={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function sR(e){const t=x.useRef(0),n=x.useRef(null),[r,o]=x.useState(Kae),i=x.useMemo(()=>typeof window<"u"?new ResizeObserver(a=>{const s=a[0];s&&(cancelAnimationFrame(t.current),t.current=requestAnimationFrame(()=>{var l,c;if(n.current){const u=((l=s.borderBoxSize)==null?void 0:l[0])||((c=s.contentBoxSize)==null?void 0:c[0]);if(u){const h=u.inlineSize,p=u.blockSize;o({width:h,height:p,x:s.contentRect.x,y:s.contentRect.y,top:s.contentRect.top,left:s.contentRect.left,bottom:s.contentRect.bottom,right:s.contentRect.right})}else o(s.contentRect)}}))}):null,[]);return x.useEffect(()=>(n.current&&(i==null||i.observe(n.current,e)),()=>{i==null||i.disconnect(),t.current&&cancelAnimationFrame(t.current)}),[n.current]),[n,r]}const lR={passive:!0};var cR,uR,it={},Tg={exports:{}},Yae=Tg.exports;function Qae(){return cR||(cR=1,function(e,t){(function(n,r){var o="function",i="undefined",a="object",s="string",l="major",c="model",u="name",h="type",p="vendor",d="version",f="architecture",g="console",m="mobile",v="tablet",y="smarttv",b="wearable",w="embedded",k="Amazon",_="Apple",O="ASUS",E="BlackBerry",C="Browser",N="Chrome",L="Firefox",j="Google",H="Huawei",F="LG",z="Microsoft",B="Motorola",V="Opera",U="Samsung",S="Sharp",q="Sony",P="Xiaomi",Q="Zebra",re="Facebook",_e="Chromium OS",se="Mac OS",ue=" Browser",fe=function(Oe){for(var ke={},Me=0;Me<Oe.length;Me++)ke[Oe[Me].toUpperCase()]=Oe[Me];return ke},je=function(Oe,ke){return typeof Oe===s&&Qe(ke).indexOf(Qe(Oe))!==-1},Qe=function(Oe){return Oe.toLowerCase()},Xe=function(Oe,ke){if(typeof Oe===s)return Oe=Oe.replace(/^\s\s*/,""),typeof ke===i?Oe:Oe.substring(0,500)},ie=function(Oe,ke){for(var Me,Le,Ge,Ye,ct,Re,ze=0;ze<ke.length&&!ct;){var He=ke[ze],et=ke[ze+1];for(Me=Le=0;Me<He.length&&!ct&&He[Me];)if(ct=He[Me++].exec(Oe))for(Ge=0;Ge<et.length;Ge++)Re=ct[++Le],typeof(Ye=et[Ge])===a&&Ye.length>0?Ye.length===2?typeof Ye[1]==o?this[Ye[0]]=Ye[1].call(this,Re):this[Ye[0]]=Ye[1]:Ye.length===3?typeof Ye[1]!==o||Ye[1].exec&&Ye[1].test?this[Ye[0]]=Re?Re.replace(Ye[1],Ye[2]):r:this[Ye[0]]=Re?Ye[1].call(this,Re,Ye[2]):r:Ye.length===4&&(this[Ye[0]]=Re?Ye[3].call(this,Re.replace(Ye[1],Ye[2])):r):this[Ye]=Re||r;ze+=2}},Se=function(Oe,ke){for(var Me in ke)if(typeof ke[Me]===a&&ke[Me].length>0){for(var Le=0;Le<ke[Me].length;Le++)if(je(ke[Me][Le],Oe))return Me==="?"?r:Me}else if(je(ke[Me],Oe))return Me==="?"?r:Me;return ke.hasOwnProperty("*")?ke["*"]:Oe},ae={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},pe={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[d,[u,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[d,[u,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[u,d],[/opios[\/ ]+([\w\.]+)/i],[d,[u,V+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[d,[u,V+" GX"]],[/\bopr\/([\w\.]+)/i],[d,[u,V]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[d,[u,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[d,[u,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[u,d],[/quark(?:pc)?\/([-\w\.]+)/i],[d,[u,"Quark"]],[/\bddg\/([\w\.]+)/i],[d,[u,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[d,[u,"UC"+C]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[d,[u,"WeChat"]],[/konqueror\/([\w\.]+)/i],[d,[u,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[d,[u,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[d,[u,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[d,[u,"Smart Lenovo "+C]],[/(avast|avg)\/([\w\.]+)/i],[[u,/(.+)/,"$1 Secure "+C],d],[/\bfocus\/([\w\.]+)/i],[d,[u,L+" Focus"]],[/\bopt\/([\w\.]+)/i],[d,[u,V+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[d,[u,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[d,[u,"Dolphin"]],[/coast\/([\w\.]+)/i],[d,[u,V+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[d,[u,"MIUI"+ue]],[/fxios\/([\w\.-]+)/i],[d,[u,L]],[/\bqihoobrowser\/?([\w\.]*)/i],[d,[u,"360"]],[/\b(qq)\/([\w\.]+)/i],[[u,/(.+)/,"$1Browser"],d],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[u,/(.+)/,"$1"+ue],d],[/samsungbrowser\/([\w\.]+)/i],[d,[u,U+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[d,[u,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[u,"Sogou Mobile"],d],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[u,d],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[u],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[d,u],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[u,re],d],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[u,d],[/\bgsa\/([\w\.]+) .*safari\//i],[d,[u,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[d,[u,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[d,[u,N+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[u,N+" WebView"],d],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[d,[u,"Android "+C]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[u,d],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[d,[u,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[d,u],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[u,[d,Se,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[u,d],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[u,"Netscape"],d],[/(wolvic|librewolf)\/([\w\.]+)/i],[u,d],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[d,[u,L+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[u,[d,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[u,[d,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[f,"amd64"]],[/(ia32(?=;))/i],[[f,Qe]],[/((?:i[346]|x)86)[;\)]/i],[[f,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[f,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[f,"armhf"]],[/windows (ce|mobile); ppc;/i],[[f,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[f,/ower/,"",Qe]],[/(sun4\w)[;\)]/i],[[f,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[f,Qe]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[c,[p,U],[h,v]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[c,[p,U],[h,m]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[c,[p,_],[h,m]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[c,[p,_],[h,v]],[/(macintosh);/i],[c,[p,_]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[c,[p,S],[h,m]],[/(?:honor)([-\w ]+)[;\)]/i],[c,[p,"Honor"],[h,m]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[c,[p,H],[h,v]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[c,[p,H],[h,m]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[c,/_/g," "],[p,P],[h,m]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[c,/_/g," "],[p,P],[h,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[c,[p,"OPPO"],[h,m]],[/\b(opd2\d{3}a?) bui/i],[c,[p,"OPPO"],[h,v]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[c,[p,"Vivo"],[h,m]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[c,[p,"Realme"],[h,m]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[c,[p,B],[h,m]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[c,[p,B],[h,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[c,[p,F],[h,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[c,[p,F],[h,m]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[c,[p,"Lenovo"],[h,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[c,/_/g," "],[p,"Nokia"],[h,m]],[/(pixel c)\b/i],[c,[p,j],[h,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[c,[p,j],[h,m]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[p,q],[h,m]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[c,"Xperia Tablet"],[p,q],[h,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[c,[p,"OnePlus"],[h,m]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[c,[p,k],[h,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[c,/(.+)/g,"Fire Phone $1"],[p,k],[h,m]],[/(playbook);[-\w\),; ]+(rim)/i],[c,p,[h,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[c,[p,E],[h,m]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[c,[p,O],[h,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[c,[p,O],[h,m]],[/(nexus 9)/i],[c,[p,"HTC"],[h,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[c,/_/g," "],[h,m]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[c,[p,"TCL"],[h,v]],[/(itel) ((\w+))/i],[[p,Qe],c,[h,Se,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[c,[p,"Acer"],[h,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[c,[p,"Meizu"],[h,m]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[c,[p,"Ulefone"],[h,m]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[c,[p,"Energizer"],[h,m]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[c,[p,"Cat"],[h,m]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[c,[p,"Smartfren"],[h,m]],[/droid.+; (a(?:015|06[35]|142p?))/i],[c,[p,"Nothing"],[h,m]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,c,[h,m]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,c,[h,v]],[/(surface duo)/i],[c,[p,z],[h,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[c,[p,"Fairphone"],[h,m]],[/(u304aa)/i],[c,[p,"AT&T"],[h,m]],[/\bsie-(\w*)/i],[c,[p,"Siemens"],[h,m]],[/\b(rct\w+) b/i],[c,[p,"RCA"],[h,v]],[/\b(venue[\d ]{2,7}) b/i],[c,[p,"Dell"],[h,v]],[/\b(q(?:mv|ta)\w+) b/i],[c,[p,"Verizon"],[h,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[c,[p,"Barnes & Noble"],[h,v]],[/\b(tm\d{3}\w+) b/i],[c,[p,"NuVision"],[h,v]],[/\b(k88) b/i],[c,[p,"ZTE"],[h,v]],[/\b(nx\d{3}j) b/i],[c,[p,"ZTE"],[h,m]],[/\b(gen\d{3}) b.+49h/i],[c,[p,"Swiss"],[h,m]],[/\b(zur\d{3}) b/i],[c,[p,"Swiss"],[h,v]],[/\b((zeki)?tb.*\b) b/i],[c,[p,"Zeki"],[h,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],c,[h,v]],[/\b(ns-?\w{0,9}) b/i],[c,[p,"Insignia"],[h,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[c,[p,"NextBook"],[h,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],c,[h,m]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],c,[h,m]],[/\b(ph-1) /i],[c,[p,"Essential"],[h,m]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[c,[p,"Envizen"],[h,v]],[/\b(trio[-\w\. ]+) b/i],[c,[p,"MachSpeed"],[h,v]],[/\btu_(1491) b/i],[c,[p,"Rotor"],[h,v]],[/(shield[\w ]+) b/i],[c,[p,"Nvidia"],[h,v]],[/(sprint) (\w+)/i],[p,c,[h,m]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[p,z],[h,m]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[c,[p,Q],[h,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[c,[p,Q],[h,m]],[/smart-tv.+(samsung)/i],[p,[h,y]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[p,U],[h,y]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,F],[h,y]],[/(apple) ?tv/i],[p,[c,_+" TV"],[h,y]],[/crkey/i],[[c,N+"cast"],[p,j],[h,y]],[/droid.+aft(\w+)( bui|\))/i],[c,[p,k],[h,y]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[c,[p,S],[h,y]],[/(bravia[\w ]+)( bui|\))/i],[c,[p,q],[h,y]],[/(mitv-\w{5}) bui/i],[c,[p,P],[h,y]],[/Hbbtv.*(technisat) (.*);/i],[p,c,[h,y]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[p,Xe],[c,Xe],[h,y]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,c,[h,g]],[/droid.+; (shield) bui/i],[c,[p,"Nvidia"],[h,g]],[/(playstation [345portablevi]+)/i],[c,[p,q],[h,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[c,[p,z],[h,g]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[c,[p,U],[h,b]],[/((pebble))app/i],[p,c,[h,b]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[c,[p,_],[h,b]],[/droid.+; (glass) \d/i],[c,[p,j],[h,b]],[/droid.+; (wt63?0{2,3})\)/i],[c,[p,Q],[h,b]],[/droid.+; (glass) \d/i],[c,[p,j],[h,b]],[/(pico) (4|neo3(?: link|pro)?)/i],[p,c,[h,b]],[/; (quest( \d| pro)?)/i],[c,[p,re],[h,b]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[h,w]],[/(aeobc)\b/i],[c,[p,k],[h,w]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[c,[h,m]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[c,[h,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[h,m]],[/(android[-\w\. ]{0,9});.+buil/i],[c,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[d,[u,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[u,d],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[d,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[u,d],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[d,u]],os:[[/microsoft (windows) (vista|xp)/i],[u,d],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[u,[d,Se,ae]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,Se,ae],[u,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[d,/_/g,"."],[u,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[u,se],[d,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[d,u],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[u,d],[/\(bb(10);/i],[d,[u,E]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[d,[u,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[d,[u,L+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[d,[u,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[d,[u,"watchOS"]],[/crkey\/([\d\.]+)/i],[d,[u,N+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[u,_e],d],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[u,d],[/(sunos) ?([\w\.\d]*)/i],[[u,"Solaris"],d],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[u,d]]},Te=function(Oe,ke){if(typeof Oe===a&&(ke=Oe,Oe=r),!(this instanceof Te))return new Te(Oe,ke).getResult();var Me=typeof n!==i&&n.navigator?n.navigator:r,Le=Oe||(Me&&Me.userAgent?Me.userAgent:""),Ge=Me&&Me.userAgentData?Me.userAgentData:r,Ye=ke?function(Re,ze){var He={};for(var et in Re)ze[et]&&ze[et].length%2==0?He[et]=ze[et].concat(Re[et]):He[et]=Re[et];return He}(pe,ke):pe,ct=Me&&Me.userAgent==Le;return this.getBrowser=function(){var Re={};return Re[u]=r,Re[d]=r,ie.call(Re,Le,Ye.browser),Re[l]=function(ze){return typeof ze===s?ze.replace(/[^\d\.]/g,"").split(".")[0]:r}(Re[d]),ct&&Me&&Me.brave&&typeof Me.brave.isBrave==o&&(Re[u]="Brave"),Re},this.getCPU=function(){var Re={};return Re[f]=r,ie.call(Re,Le,Ye.cpu),Re},this.getDevice=function(){var Re={};return Re[p]=r,Re[c]=r,Re[h]=r,ie.call(Re,Le,Ye.device),ct&&!Re[h]&&Ge&&Ge.mobile&&(Re[h]=m),ct&&Re[c]=="Macintosh"&&Me&&typeof Me.standalone!==i&&Me.maxTouchPoints&&Me.maxTouchPoints>2&&(Re[c]="iPad",Re[h]=v),Re},this.getEngine=function(){var Re={};return Re[u]=r,Re[d]=r,ie.call(Re,Le,Ye.engine),Re},this.getOS=function(){var Re={};return Re[u]=r,Re[d]=r,ie.call(Re,Le,Ye.os),ct&&!Re[u]&&Ge&&Ge.platform&&Ge.platform!="Unknown"&&(Re[u]=Ge.platform.replace(/chrome os/i,_e).replace(/macos/i,se)),Re},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Le},this.setUA=function(Re){return Le=typeof Re===s&&Re.length>500?Xe(Re,500):Re,this},this.setUA(Le),this};Te.VERSION="1.0.40",Te.BROWSER=fe([u,d,l]),Te.CPU=fe([f]),Te.DEVICE=fe([c,p,h,g,m,y,v,b,w]),Te.ENGINE=Te.OS=fe([u,d]),e.exports&&(t=e.exports=Te),t.UAParser=Te;var be=typeof n!==i&&(n.jQuery||n.Zepto);if(be&&!be.ua){var we=new Te;be.ua=we.getResult(),be.ua.get=function(){return we.getUA()},be.ua.set=function(Oe){we.setUA(Oe);var ke=we.getResult();for(var Me in ke)be.ua[Me]=ke[Me]}}})(typeof window=="object"?window:Yae)}(Tg,Tg.exports)),Tg.exports}var dR=function(){if(uR)return it;uR=1,Object.defineProperty(it,"__esModule",{value:!0});var e=fn,t=function(Z){return Z&&typeof Z=="object"&&"default"in Z?Z.default:Z}(e),n=Qae(),r=new n,o=r.getBrowser(),i=r.getCPU(),a=r.getDevice(),s=r.getEngine(),l=r.getOS(),c=r.getUA(),u=function(Z){return r.setUA(Z)},h=function(Z){if(Z){var ge=new n(Z);return{UA:ge,browser:ge.getBrowser(),cpu:ge.getCPU(),device:ge.getDevice(),engine:ge.getEngine(),os:ge.getOS(),ua:ge.getUA(),setUserAgent:function(Ie){return ge.setUA(Ie)}}}},p=Object.freeze({ClientUAInstance:r,browser:o,cpu:i,device:a,engine:s,os:l,ua:c,setUa:u,parseUserAgent:h});function d(Z,ge){var Ie=Object.keys(Z);if(Object.getOwnPropertySymbols){var qe=Object.getOwnPropertySymbols(Z);ge&&(qe=qe.filter(function(rt){return Object.getOwnPropertyDescriptor(Z,rt).enumerable})),Ie.push.apply(Ie,qe)}return Ie}function f(Z){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ge){return typeof ge}:function(ge){return ge&&typeof Symbol=="function"&&ge.constructor===Symbol&&ge!==Symbol.prototype?"symbol":typeof ge},f(Z)}function g(Z,ge,Ie){return ge&&function(qe,rt){for(var Kt=0;Kt<rt.length;Kt++){var At=rt[Kt];At.enumerable=At.enumerable||!1,At.configurable=!0,"value"in At&&(At.writable=!0),Object.defineProperty(qe,At.key,At)}}(Z.prototype,ge),Z}function m(Z,ge,Ie){return ge in Z?Object.defineProperty(Z,ge,{value:Ie,enumerable:!0,configurable:!0,writable:!0}):Z[ge]=Ie,Z}function v(){return v=Object.assign||function(Z){for(var ge=1;ge<arguments.length;ge++){var Ie=arguments[ge];for(var qe in Ie)Object.prototype.hasOwnProperty.call(Ie,qe)&&(Z[qe]=Ie[qe])}return Z},v.apply(this,arguments)}function y(Z){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(ge){return ge.__proto__||Object.getPrototypeOf(ge)},y(Z)}function b(Z,ge){return b=Object.setPrototypeOf||function(Ie,qe){return Ie.__proto__=qe,Ie},b(Z,ge)}function w(Z,ge){if(Z==null)return{};var Ie,qe,rt=function(At,cr){if(At==null)return{};var ua,Ys,Xh={},hf=Object.keys(At);for(Ys=0;Ys<hf.length;Ys++)ua=hf[Ys],!(cr.indexOf(ua)>=0)&&(Xh[ua]=At[ua]);return Xh}(Z,ge);if(Object.getOwnPropertySymbols){var Kt=Object.getOwnPropertySymbols(Z);for(qe=0;qe<Kt.length;qe++)Ie=Kt[qe],!(ge.indexOf(Ie)>=0)&&Object.prototype.propertyIsEnumerable.call(Z,Ie)&&(rt[Ie]=Z[Ie])}return rt}function k(Z){if(Z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z}function _(Z,ge){return function(Ie){if(Array.isArray(Ie))return Ie}(Z)||function(Ie,qe){var rt=Ie==null?null:typeof Symbol<"u"&&Ie[Symbol.iterator]||Ie["@@iterator"];if(rt!=null){var Kt,At,cr=[],ua=!0,Ys=!1;try{for(rt=rt.call(Ie);!(ua=(Kt=rt.next()).done)&&(cr.push(Kt.value),!qe||cr.length!==qe);ua=!0);}catch(Xh){Ys=!0,At=Xh}finally{try{!ua&&rt.return!=null&&rt.return()}finally{if(Ys)throw At}}return cr}}(Z,ge)||function(Ie,qe){if(Ie){if(typeof Ie=="string")return O(Ie,qe);var rt=Object.prototype.toString.call(Ie).slice(8,-1);if(rt==="Object"&&Ie.constructor&&(rt=Ie.constructor.name),rt==="Map"||rt==="Set")return Array.from(Ie);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return O(Ie,qe)}}(Z,ge)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function O(Z,ge){(ge==null||ge>Z.length)&&(ge=Z.length);for(var Ie=0,qe=new Array(ge);Ie<ge;Ie++)qe[Ie]=Z[Ie];return qe}var E="mobile",C="tablet",N="smarttv",L="console",j="wearable",H="embedded",F=void 0,z={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},B={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},V={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},U=function(Z){return Z||(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none")},S=function(){return!(typeof window>"u"||!window.navigator&&!navigator)&&(window.navigator||navigator)},q=function(Z){var ge=S();return ge&&ge.platform&&(ge.platform.indexOf(Z)!==-1||ge.platform==="MacIntel"&&ge.maxTouchPoints>1&&!window.MSStream)},P=function(Z,ge,Ie,qe){return function(rt){for(var Kt=1;Kt<arguments.length;Kt++){var At=arguments[Kt]!=null?arguments[Kt]:{};Kt%2?d(Object(At),!0).forEach(function(cr){m(rt,cr,At[cr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rt,Object.getOwnPropertyDescriptors(At)):d(Object(At)).forEach(function(cr){Object.defineProperty(rt,cr,Object.getOwnPropertyDescriptor(At,cr))})}return rt}({},Z,{vendor:U(ge.vendor),model:U(ge.model),os:U(Ie.name),osVersion:U(Ie.version),ua:U(qe)})},Q=function(Z){return Z.type===E},re=function(Z){return Z.type===C},_e=function(Z){var ge=Z.type;return ge===E||ge===C},se=function(Z){return Z.type===N},ue=function(Z){return Z.type===F},fe=function(Z){return Z.type===j},je=function(Z){return Z.type===L},Qe=function(Z){return Z.type===H},Xe=function(Z){var ge=Z.vendor;return U(ge)},ie=function(Z){var ge=Z.model;return U(ge)},Se=function(Z){var ge=Z.type;return U(ge,"browser")},ae=function(Z){return Z.name===B.Android},pe=function(Z){return Z.name===B.Windows},Te=function(Z){return Z.name===B.MAC_OS},be=function(Z){return Z.name===B.WindowsPhone},we=function(Z){return Z.name===B.IOS},Oe=function(Z){var ge=Z.version;return U(ge)},ke=function(Z){var ge=Z.name;return U(ge)},Me=function(Z){return Z.name===z.Chrome},Le=function(Z){return Z.name===z.Firefox},Ge=function(Z){return Z.name===z.Chromium},Ye=function(Z){return Z.name===z.Edge},ct=function(Z){return Z.name===z.Yandex},Re=function(Z){var ge=Z.name;return ge===z.Safari||ge===z.MobileSafari},ze=function(Z){return Z.name===z.MobileSafari},He=function(Z){return Z.name===z.Opera},et=function(Z){var ge=Z.name;return ge===z.InternetExplorer||ge===z.Ie},oe=function(Z){return Z.name===z.MIUI},X=function(Z){return Z.name===z.SamsungBrowser},de=function(Z){var ge=Z.version;return U(ge)},he=function(Z){var ge=Z.major;return U(ge)},Ee=function(Z){var ge=Z.name;return U(ge)},$e=function(Z){var ge=Z.name;return U(ge)},Je=function(Z){var ge=Z.version;return U(ge)},at=function(){var Z=S(),ge=Z&&Z.userAgent&&Z.userAgent.toLowerCase();return typeof ge=="string"&&/electron/.test(ge)},We=function(Z){return typeof Z=="string"&&Z.indexOf("Edg/")!==-1},bt=function(){var Z=S();return Z&&(/iPad|iPhone|iPod/.test(Z.platform)||Z.platform==="MacIntel"&&Z.maxTouchPoints>1)&&!window.MSStream},ft=function(){return q("iPad")},ut=function(){return q("iPhone")},St=function(){return q("iPod")},yt=function(Z){return U(Z)};function Ct(Z){var ge=Z||p,Ie=ge.device,qe=ge.browser,rt=ge.os,Kt=ge.engine,At=ge.ua;return{isSmartTV:se(Ie),isConsole:je(Ie),isWearable:fe(Ie),isEmbedded:Qe(Ie),isMobileSafari:ze(qe)||ft(),isChromium:Ge(qe),isMobile:_e(Ie)||ft(),isMobileOnly:Q(Ie),isTablet:re(Ie)||ft(),isBrowser:ue(Ie),isDesktop:ue(Ie),isAndroid:ae(rt),isWinPhone:be(rt),isIOS:we(rt)||ft(),isChrome:Me(qe),isFirefox:Le(qe),isSafari:Re(qe),isOpera:He(qe),isIE:et(qe),osVersion:Oe(rt),osName:ke(rt),fullBrowserVersion:de(qe),browserVersion:he(qe),browserName:Ee(qe),mobileVendor:Xe(Ie),mobileModel:ie(Ie),engineName:$e(Kt),engineVersion:Je(Kt),getUA:yt(At),isEdge:Ye(qe)||We(At),isYandex:ct(qe),deviceType:Se(Ie),isIOS13:bt(),isIPad13:ft(),isIPhone13:ut(),isIPod13:St(),isElectron:at(),isEdgeChromium:We(At),isLegacyEdge:Ye(qe)&&!We(At),isWindows:pe(rt),isMacOs:Te(rt),isMIUI:oe(qe),isSamsungBrowser:X(qe)}}var jt=se(a),sr=je(a),ln=fe(a),dn=Qe(a),wn=ze(o)||ft(),Gn=Ge(o),Mn=_e(a)||ft(),It=Q(a),tr=re(a)||ft(),lr=ue(a),Mo=ue(a),Lo=ae(l),Gs=be(l),oc=we(l)||ft(),Ks=Me(o),ca=Le(o),T=Re(o),I=He(o),M=et(o),$=Oe(l),G=ke(l),D=de(o),te=he(o),le=Ee(o),Fe=Xe(a),st=ie(a),cn=$e(s),En=Je(s),Wr=yt(c),Qh=Ye(o)||We(c),w3e=ct(o),k3e=Se(a),x3e=bt(),_3e=ft(),T3e=ut(),S3e=St(),E3e=at(),C3e=We(c),O3e=Ye(o)&&!We(c),P3e=pe(l),A3e=Te(l),N3e=oe(o),R3e=X(o);function AZ(Z){var ge=Z||window.navigator.userAgent;return h(ge)}return it.AndroidView=function(Z){var ge=Z.renderWithFragment,Ie=Z.children,qe=w(Z,["renderWithFragment","children"]);return Lo?ge?t.createElement(e.Fragment,null,Ie):t.createElement("div",qe,Ie):null},it.BrowserTypes=z,it.BrowserView=function(Z){var ge=Z.renderWithFragment,Ie=Z.children,qe=w(Z,["renderWithFragment","children"]);return lr?ge?t.createElement(e.Fragment,null,Ie):t.createElement("div",qe,Ie):null},it.ConsoleView=function(Z){var ge=Z.renderWithFragment,Ie=Z.children,qe=w(Z,["renderWithFragment","children"]);return sr?ge?t.createElement(e.Fragment,null,Ie):t.createElement("div",qe,Ie):null},it.CustomView=function(Z){var ge=Z.renderWithFragment,Ie=Z.children;Z.viewClassName,Z.style;var qe=Z.condition,rt=w(Z,["renderWithFragment","children","viewClassName","style","condition"]);return qe?ge?t.createElement(e.Fragment,null,Ie):t.createElement("div",rt,Ie):null},it.IEView=function(Z){var ge=Z.renderWithFragment,Ie=Z.children,qe=w(Z,["renderWithFragment","children"]);return M?ge?t.createElement(e.Fragment,null,Ie):t.createElement("div",qe,Ie):null},it.IOSView=function(Z){var ge=Z.renderWithFragment,Ie=Z.children,qe=w(Z,["renderWithFragment","children"]);return oc?ge?t.createElement(e.Fragment,null,Ie):t.createElement("div",qe,Ie):null},it.MobileOnlyView=function(Z){var ge=Z.renderWithFragment,Ie=Z.children;Z.viewClassName,Z.style;var qe=w(Z,["renderWithFragment","children","viewClassName","style"]);return It?ge?t.createElement(e.Fragment,null,Ie):t.createElement("div",qe,Ie):null},it.MobileView=function(Z){var ge=Z.renderWithFragment,Ie=Z.children,qe=w(Z,["renderWithFragment","children"]);return Mn?ge?t.createElement(e.Fragment,null,Ie):t.createElement("div",qe,Ie):null},it.OsTypes=B,it.SmartTVView=function(Z){var ge=Z.renderWithFragment,Ie=Z.children,qe=w(Z,["renderWithFragment","children"]);return jt?ge?t.createElement(e.Fragment,null,Ie):t.createElement("div",qe,Ie):null},it.TabletView=function(Z){var ge=Z.renderWithFragment,Ie=Z.children,qe=w(Z,["renderWithFragment","children"]);return tr?ge?t.createElement(e.Fragment,null,Ie):t.createElement("div",qe,Ie):null},it.WearableView=function(Z){var ge=Z.renderWithFragment,Ie=Z.children,qe=w(Z,["renderWithFragment","children"]);return ln?ge?t.createElement(e.Fragment,null,Ie):t.createElement("div",qe,Ie):null},it.WinPhoneView=function(Z){var ge=Z.renderWithFragment,Ie=Z.children,qe=w(Z,["renderWithFragment","children"]);return Gs?ge?t.createElement(e.Fragment,null,Ie):t.createElement("div",qe,Ie):null},it.browserName=le,it.browserVersion=te,it.deviceDetect=function(Z){var ge=Z?h(Z):p,Ie=ge.device,qe=ge.browser,rt=ge.engine,Kt=ge.os,At=ge.ua,cr=function(da){switch(da){case E:return{isMobile:!0};case C:return{isTablet:!0};case N:return{isSmartTV:!0};case L:return{isConsole:!0};case j:return{isWearable:!0};case F:return{isBrowser:!0};case H:return{isEmbedded:!0};default:return V}}(Ie.type),ua=cr.isBrowser,Ys=cr.isMobile,Xh=cr.isTablet,hf=cr.isSmartTV,NZ=cr.isConsole,RZ=cr.isWearable,IZ=cr.isEmbedded;return ua?function(da,oo,Do,ha,vE){return{isBrowser:da,browserMajorVersion:U(oo.major),browserFullVersion:U(oo.version),browserName:U(oo.name),engineName:U(Do.name),engineVersion:U(Do.version),osName:U(ha.name),osVersion:U(ha.version),userAgent:U(vE)}}(ua,qe,rt,Kt,At):hf?function(da,oo,Do,ha){return{isSmartTV:da,engineName:U(oo.name),engineVersion:U(oo.version),osName:U(Do.name),osVersion:U(Do.version),userAgent:U(ha)}}(hf,rt,Kt,At):NZ?function(da,oo,Do,ha){return{isConsole:da,engineName:U(oo.name),engineVersion:U(oo.version),osName:U(Do.name),osVersion:U(Do.version),userAgent:U(ha)}}(NZ,rt,Kt,At):Ys||Xh?P(cr,Ie,Kt,At):RZ?function(da,oo,Do,ha){return{isWearable:da,engineName:U(oo.name),engineVersion:U(oo.version),osName:U(Do.name),osVersion:U(Do.version),userAgent:U(ha)}}(RZ,rt,Kt,At):IZ?function(da,oo,Do,ha,vE){return{isEmbedded:da,vendor:U(oo.vendor),model:U(oo.model),engineName:U(Do.name),engineVersion:U(Do.version),osName:U(ha.name),osVersion:U(ha.version),userAgent:U(vE)}}(IZ,Ie,rt,Kt,At):void 0},it.deviceType=k3e,it.engineName=cn,it.engineVersion=En,it.fullBrowserVersion=D,it.getSelectorsByUserAgent=function(Z){if(Z&&typeof Z=="string"){var ge=h(Z);return Ct({device:ge.device,browser:ge.browser,os:ge.os,engine:ge.engine,ua:ge.ua})}},it.getUA=Wr,it.isAndroid=Lo,it.isBrowser=lr,it.isChrome=Ks,it.isChromium=Gn,it.isConsole=sr,it.isDesktop=Mo,it.isEdge=Qh,it.isEdgeChromium=C3e,it.isElectron=E3e,it.isEmbedded=dn,it.isFirefox=ca,it.isIE=M,it.isIOS=oc,it.isIOS13=x3e,it.isIPad13=_3e,it.isIPhone13=T3e,it.isIPod13=S3e,it.isLegacyEdge=O3e,it.isMIUI=N3e,it.isMacOs=A3e,it.isMobile=Mn,it.isMobileOnly=It,it.isMobileSafari=wn,it.isOpera=I,it.isSafari=T,it.isSamsungBrowser=R3e,it.isSmartTV=jt,it.isTablet=tr,it.isWearable=ln,it.isWinPhone=Gs,it.isWindows=P3e,it.isYandex=w3e,it.mobileModel=st,it.mobileVendor=Fe,it.osName=G,it.osVersion=$,it.parseUserAgent=h,it.setUserAgent=function(Z){return u(Z)},it.useDeviceData=AZ,it.useDeviceSelectors=function(Z){var ge=AZ(Z||window.navigator.userAgent);return[Ct(ge),ge]},it.useMobileOrientation=function(){var Z=_(e.useState(function(){var rt=window.innerWidth>window.innerHeight?90:0;return{isPortrait:rt===0,isLandscape:rt===90,orientation:rt===0?"portrait":"landscape"}}),2),ge=Z[0],Ie=Z[1],qe=e.useCallback(function(){var rt=window.innerWidth>window.innerHeight?90:0,Kt={isPortrait:rt===0,isLandscape:rt===90,orientation:rt===0?"portrait":"landscape"};ge.orientation!==Kt.orientation&&Ie(Kt)},[ge.orientation]);return e.useEffect(function(){return(typeof window>"u"?"undefined":f(window))!==void 0&&Mn&&(qe(),window.addEventListener("load",qe,!1),window.addEventListener("resize",qe,!1)),function(){window.removeEventListener("resize",qe,!1),window.removeEventListener("load",qe,!1)}},[qe]),ge},it.withOrientationChange=function(Z){return function(ge){function Ie(qe){var rt;return function(Kt,At){if(!(Kt instanceof At))throw new TypeError("Cannot call a class as a function")}(this,Ie),rt=function(Kt,At){if(At&&(typeof At=="object"||typeof At=="function"))return At;if(At!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k(Kt)}(this,y(Ie).call(this,qe)),rt.isEventListenerAdded=!1,rt.handleOrientationChange=rt.handleOrientationChange.bind(k(rt)),rt.onOrientationChange=rt.onOrientationChange.bind(k(rt)),rt.onPageLoad=rt.onPageLoad.bind(k(rt)),rt.state={isLandscape:!1,isPortrait:!1},rt}return function(qe,rt){if(typeof rt!="function"&&rt!==null)throw new TypeError("Super expression must either be null or a function");qe.prototype=Object.create(rt&&rt.prototype,{constructor:{value:qe,writable:!0,configurable:!0}}),rt&&b(qe,rt)}(Ie,ge),g(Ie,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var qe=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:qe===0,isLandscape:qe===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":f(window))!==void 0&&Mn&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return t.createElement(Z,v({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),Ie}(t.Component)},it}();const Xae=["localhost","127.0.0.1","10.1.10.232","10.1.10.233","192.168.7.206"],Ol=()=>{let e=Xae.includes(window.location.hostname);return window.location.hostname.endsWith("ngrok-free.app")&&(e=!0),localStorage.getItem("enable_livex_dev_mode")==="true"&&(e=!0),e},hR=(e,t)=>{if(e)return vie(e,(n,r,o)=>{t.includes(o)?n[o]=parseInt(`${r}`):n[o]=r},{})},_t=dR.isMobile&&!dR.isTablet;var Jae=Object.defineProperty,Zae=Object.defineProperties,ese=Object.getOwnPropertyDescriptors,pR=Object.getOwnPropertySymbols,tse=Object.prototype.hasOwnProperty,nse=Object.prototype.propertyIsEnumerable,mR=(e,t,n)=>t in e?Jae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fR=(e,t)=>{for(var n in t||(t={}))tse.call(t,n)&&mR(e,n,t[n]);if(pR)for(var n of pR(t))nse.call(t,n)&&mR(e,n,t[n]);return e};const gR=_t?20:30,Rd=()=>{const e=mt(),{horizontalOffset:t,verticalOffset:n}=((c,u)=>{var h;const p=mt();let d=(h=p==null?void 0:p.config)==null?void 0:h.style;return _t&&(d=mi({},d,d==null?void 0:d.mobile)),{verticalOffset:parseInt((d==null?void 0:d.vertical_offset)||gR.toString()),horizontalOffset:parseInt((d==null?void 0:d.horizontal_offset)||gR.toString())}})(),[r,o]=iR({key:"chatbot-position",defaultValue:{}}),i=x.useMemo(()=>({right:t,bottom:n,left:t,top:n}),[t,n]),a=x.useCallback((c,u,h,p)=>{if(e==null||!e.id)return;const d={right:Math.max(0,c),bottom:Math.max(0,u),left:Math.max(0,h),top:Math.max(0,p)};o(f=>((g,m)=>Zae(g,ese(m)))(fR({},f),{[e.id]:d}))},[o,e==null?void 0:e.id]),s=x.useCallback(()=>{o({})},[o]),l=x.useCallback(()=>{o(c=>{const u=fR({},c);return u[(e==null?void 0:e.id)||""]=i,u})},[o,e==null?void 0:e.id,i]);return{position:(r==null?void 0:r[(e==null?void 0:e.id)||""])||i,setPosition:a,resetPosition:l,resetAllPosition:s}},vR=()=>{var e,t;return{windowWidth:((e=window.visualViewport)==null?void 0:e.width)||window.innerWidth,windowHeight:((t=window.visualViewport)==null?void 0:t.height)||window.innerHeight}},Sg=()=>{var e;const{position:t}=Rd(),n=W(h=>h.chatBox.agent),r=(e=n==null?void 0:n.config)==null?void 0:e.style,{vertical:o,horizontal:i,enable_draggable_button:a}=r??{},{windowWidth:s,windowHeight:l}=vR(),c=o==="top"?t.top:l-t.bottom,u=i==="left"?t.left:s-t.right;return{isTop:a?c<l/2:o==="top",isLeft:a?u<s/2:i==="left"}},bR="rgba(0, 0, 0, 0.24) 0px 3px 8px",mt=()=>W(e=>e.chatBox.agent),Gc=()=>{var e;const t=mt();return(e=t==null?void 0:t.config)==null?void 0:e.style},Br=()=>{var e;const t=mt();return(e=t==null?void 0:t.config)==null?void 0:e.custom_style},Id=()=>{const e=Gc();return(e==null?void 0:e.box_shadow)||bR},U9=()=>{const e=mt();return e==null?void 0:e.config},yR=()=>{var e;const t=mt();return(e=t==null?void 0:t.config)==null?void 0:e.avatai},wR=()=>{var e;const t=mt();return((e=t==null?void 0:t.config)==null?void 0:e.navigation_items)||{}},H9=()=>wR().items||{},rse=["playground","chatbox","zendeskAssist"],kR=e=>{const t=jn.getState(),{botMode:n,source:r,agent:o}=t.chatBox;if(!r||!rse.includes(r))return;const i=Tt(t),a={event_name:Lt.LinkClick,source:r,bot_mode:n,chatbot_id:o==null?void 0:o.id,conversation_id:i,message_id:null,link_clicked:e};Xo(a)},ose=(e,t)=>{var n,r;const o=((n=t.payload)==null?void 0:n.source)||e.chatBox.source,i=((r=t.payload)==null?void 0:r.agent)||e.chatBox.agent,a=((u,h)=>{switch(u){case"chatBox/setShowChatBox":return h?Lt.ChatbotOpen:Lt.ChatbotClose;case"chatBox/setExpanded":return h?Lt.ChatbotMaximize:Lt.ChatbotMinimize;case"chatBox/initSetting":return Lt.ChatbotLoaded;case"chatBox/setShowSearchBar":return h?Lt.ChatbotSearchBarOpen:Lt.ChatbotSearchBarClose;default:return}})(t.type,t.payload);if(!o||!i||!a)return;const s=Tt(e),l=Ja(e),c={event_name:a,source:o,bot_mode:e.chatBox.botMode,chatbot_id:i.id,conversation_id:s,message_id:l};Xo(c)},xR="0.4.30",ise=xR,Lt=(e=>e.reduce((t,n)=>(t[n]=n,t),{}))(["ChatbotError","ChatbotBeforeUnload","ChatbotLoaded","ChatbotOpen","ChatbotClose","ChatbotSearchBarOpen","ChatbotSearchBarClose","ChatbotMaximize","ChatbotMinimize","ConversationStart","ConversationEnd","MessageSent","ButtonClicked","VoiceInputStart","VoiceInputClose","VoiceInputCancel","FeedbackLike","FeedbackLikeCancel","FeedbackDislike","FeedbackDislikeCancel","PromotionItemLinkClick","LinkClick","LivexAddToCart","WebsiteAddToCart","BuyNow","BuyWithShopPay","BuyWithPrime","ChurnCancelNow","ChurnWindowFunctionCallNotFound","ChurnWindowFunctionCallError","ChurnWindowFunctionCallSuccess","OriginalCancellationFlowCancelled","OriginalCancellationFlowLaunched","SetDataValidationError"]),Xo=async e=>{var t;const{event_name:n,source:r,chatbot_id:o,conversation_id:i,bot_mode:a,message_id:s,link_clicked:l,note:c}=e;if(!r||!o)return;const u=s!=null?`${s}`:null,h=new URL(window.location.href),p={visitor_id:(t=Kc(r))!=null?t:"",domain:window.location.origin,url:h.origin+h.pathname,source:r,bot_mode:a,chatbot_id:o,link_clicked:l??null,conversation_id:i??null,message_id:u,event_name:n,timestamp:new Date().toISOString(),note:c??null,chatbot_version:xR};let d=!1;const f=`${Bt.gatewayHost}/api/v1/chatbot-event`,g=navigator.brave!==void 0;if(navigator.sendBeacon&&!g){const m=JSON.stringify(p),v=new Blob([m],{type:"application/json"});d=navigator.sendBeacon(f,v)}else{if((await Mt.post(f,p,{headers:{"Content-Type":"application/json"}})).data.status!==200)return;d=!0}return d},V9=({event_name:e,link_clicked:t,note:n})=>{const r=jn.getState(),o=r.chatBox.source,i=r.chatBox.botMode,a=r.chatBox.agent,s=Tt(r),l=Ja(r);return Xo({event_name:e,source:o,bot_mode:i,chatbot_id:a==null?void 0:a.id,conversation_id:s,message_id:l,link_clicked:t,note:n})},fi=()=>{const e=mt(),t=W(i=>i.chatBox.source),n=W(i=>i.chatBox.botMode),r=W(Tt),o=W(Ja);return Zr({mutationFn:({event_name:i,link_clicked:a,note:s})=>Xo({event_name:i,source:t,bot_mode:n,chatbot_id:e==null?void 0:e.id,conversation_id:r,message_id:o,link_clicked:a,note:s})})};var ase=Object.defineProperty,_R=(e,t,n)=>((r,o,i)=>o in r?ase(r,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[o]=i)(e,typeof t!="symbol"?t+"":t,n);class TR{constructor(t,n){_R(this,"openapiHost"),_R(this,"openapiToken"),this.openapiHost=t,this.openapiToken=n}async fetchApi(t,n,r){const o=await(await fetch(`${this.openapiHost}${t}`,{method:n,headers:{Authorization:`Bearer ${this.openapiToken}`,"Content-Type":"application/json"},body:r?JSON.stringify(r):void 0})).json();if(o.code!=1e3)throw new Error(o.msg);return o.data}async createSession(t){return this.fetchApi("/api/open/v4/liveAvatar/session/create","POST",t)}async closeSession(t){return this.fetchApi("/api/open/v4/liveAvatar/session/close","POST",{id:t})}async getLangList(){const t=await this.fetchApi("/api/open/v3/language/list","GET");return t==null?void 0:t.lang_list}async getVoiceList(){return this.fetchApi("/api/open/v3/voice/list","GET")}async getAvatarList(){const t=await this.fetchApi("/api/open/v4/liveAvatar/avatar/list?page=1&size=100","GET");return t==null?void 0:t.result}async getAllSessions(t=1,n=10,r){const o=new URLSearchParams({page:t.toString(),size:n.toString()});r!==void 0&&o.append("status",r.toString());const i=await this.fetchApi(`/api/open/v4/liveAvatar/session/list?${o.toString()}`,"GET");return i==null?void 0:i.result}}const SR=void 0;var sse=Object.defineProperty,ER=Object.getOwnPropertySymbols,lse=Object.prototype.hasOwnProperty,cse=Object.prototype.propertyIsEnumerable,CR=(e,t,n)=>t in e?sse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const hr={messagesSent:0,totalBytesSent:0,connectionState:"DISCONNECTED",lastMessageTime:0,errors:[]},Na=()=>Ol()||localStorage.getItem("enable_livex_logger")==="true",ee=(()=>{const e=window.console;return{error:(...t)=>e.error(...t),warn:(...t)=>Na()?e.warn(...t):void 0,info:(...t)=>Na()?e.info(...t):void 0,table:(...t)=>Na()?e.table(...t):void 0,debug:(...t)=>Na()?e.debug(...t):void 0,log:(...t)=>Na()?e.log(...t):void 0,network:(...t)=>{Na()&&t.length>0&&typeof t[0]=="string"&&((n,r)=>{n==="message_sent"?(hr.messagesSent++,hr.totalBytesSent+=(r==null?void 0:r.bytes)||0,hr.lastMessageTime=Date.now()):n==="connection_change"?hr.connectionState=(r==null?void 0:r.state)||"UNKNOWN":n==="error"&&(hr.errors.push({timestamp:Date.now(),error:(r==null?void 0:r.message)||"Unknown error",context:r==null?void 0:r.context}),hr.errors.length>10&&hr.errors.shift())})(t[0],t[1])},isLivexLoggerEnabled:Na,enableNetworkLogging:()=>{localStorage.setItem("enable_livex_logger","true"),e.log("[Logger] Network logging enabled. Refresh page to see logs.")},disableNetworkLogging:()=>{localStorage.removeItem("enable_livex_logger"),e.log("[Logger] Network logging disabled.")}}})(),OR=()=>((e,t)=>{for(var n in t||(t={}))lse.call(t,n)&&CR(e,n,t[n]);if(ER)for(var n of ER(t))cse.call(t,n)&&CR(e,n,t[n]);return e})({},hr);typeof window<"u"&&Object.assign(window,{livexDebug:{status:()=>{var e;if(!Na())return;const t=(e=window.AgoraRTC)!=null&&e.createClient?window.AgoraRTC.createClient({mode:"rtc"}):null;ee.table([{"Connection State":(t==null?void 0:t.connectionState)||"NOT_INITIALIZED","Messages Sent":hr.messagesSent,"Total Bytes":`${(hr.totalBytesSent/1024).toFixed(1)}KB`,"Last Message":hr.lastMessageTime?new Date(hr.lastMessageTime).toLocaleString():"Never","Recent Errors":hr.errors.length}]),hr.errors.length>0&&ee.log("Recent Errors:",hr.errors.slice(-3))},enableLogs:()=>ee.enableNetworkLogging(),disableLogs:()=>ee.disableNetworkLogging(),getMetrics:()=>OR(),isLivexLoggerEnabled:Na,clearMetrics:()=>{hr.messagesSent=0,hr.totalBytesSent=0,hr.lastMessageTime=0,hr.errors=[],ee.log("[Network] Metrics cleared")}},getLivexMetrics:OR}),new TR("https://openapi.akool.com",SR);const $9={avatar_id:"dvp_alina_bg_st01_1080P",voice_id:"cgSgspJ2msm6clMCkdW9"};var PR,AR,q9,NR,use=function(){if(NR)return q9;NR=1;var e=(AR||(AR=1,PR={}),PR);return q9=e.ndjsonStream=function(t){var n,r=!1;return new ReadableStream({start:function(o){var i=t.getReader();n=i;var a=new TextDecoder,s="";i.read().then(function l(c){if(!c.done){for(var u=a.decode(c.value,{stream:!0}),h=(s+=u).split(`
`),p=0;p<h.length-1;++p){var d=h[p].trim();if(d.length>0)try{var f=JSON.parse(d);o.enqueue(f)}catch(m){return o.error(m),r=!0,void i.cancel()}}return s=h[h.length-1],i.read().then(l)}if(!r){if((s=s.trim()).length!==0)try{var g=JSON.parse(s);o.enqueue(g)}catch(m){return void o.error(m)}o.close()}})},cancel:function(o){r=!0,n.cancel()}})},q9}();const RR=Li(use);var dse=Object.defineProperty,Pp=(e,t,n)=>((r,o,i)=>o in r?dse(r,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[o]=i)(e,typeof t!="symbol"?t+"":t,n);const IR=class pf{constructor(){Pp(this,"queue",[]),Pp(this,"isPlaying",!1),Pp(this,"currentAudio",null),Pp(this,"dispatch",null)}static get instance(){return pf._instance||(pf._instance=new pf),pf._instance}init(t){this.dispatch=t}async addToQueue(t){this.queue.push(t),this.isPlaying||this.playNext()}async playNext(){var t,n;if(!jn.getState().chatBox.botVoiceEnabled)return;if(this.queue.length===0)return this.isPlaying=!1,this.currentAudio=null,void((t=this.dispatch)==null||t.call(this,xi(!1)));this.isPlaying=!0,(n=this.dispatch)==null||n.call(this,xi(!0));const r=this.queue.shift();try{const o=atob(r),i=new Array(o.length);for(let u=0;u<o.length;u++)i[u]=o.charCodeAt(u);const a=new Uint8Array(i),s=new Blob([a],{type:"audio/mp3"}),l=URL.createObjectURL(s),c=new Audio(l);this.currentAudio=c,c.onended=()=>{URL.revokeObjectURL(l),this.playNext()},c.onerror=u=>{URL.revokeObjectURL(l),this.playNext()},await c.play()}catch{this.playNext()}}stop(){var t;De.shouldAbort=!0,this.queue=[],this.currentAudio&&(this.currentAudio.pause(),this.currentAudio.src="",this.currentAudio=null),this.isPlaying=!1,(t=this.dispatch)==null||t.call(this,xi(!1))}};Pp(IR,"_instance",null);let Ra=IR;const hse=()=>(t=>{const n=document.cookie.split("; ");for(const r of n){const[o,i]=r.split("=");if(o===t)return i}return null})("copilot_debug_code")||null;var pse=Object.defineProperty,MR=(e,t,n)=>((r,o,i)=>o in r?pse(r,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[o]=i)(e,typeof t!="symbol"?t+"":t,n);const LR=class mf{constructor(){MR(this,"controllers",[])}static getInstance(){return mf.instance||(mf.instance=new mf),mf.instance}createController(){const t=new AbortController;return this.controllers.push(t),t}abort(t){try{t.abort()}catch{}this.removeController(t)}abortAll(){this.controllers.forEach(t=>{try{t.abort()}catch{}}),this.controllers=[]}removeController(t){const n=this.controllers.indexOf(t);n>-1&&this.controllers.splice(n,1)}getControllerCount(){return this.controllers.length}hasActiveControllers(){return this.controllers.length>0}};MR(LR,"instance");const Ia=LR.getInstance();var mse=Object.defineProperty,fse=Object.defineProperties,gse=Object.getOwnPropertyDescriptors,DR=Object.getOwnPropertySymbols,vse=Object.prototype.hasOwnProperty,bse=Object.prototype.propertyIsEnumerable,jR=(e,t,n)=>t in e?mse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const yse=async(e,t,n,r)=>{let o,i,a;if(r!=null&&r.testResponse){const s=Date.now(),l=r.testResponse.map(u=>({done:u.done||!1,value:{conversation_id:u.conversation_id,id:s,json_response:{format:u.json_response.format,text:u.json_response.text,incremental_text:u.json_response.incremental_text||{d:0,a:0},buttons:u.json_response.buttons||[]},time:u.time||new Date().toISOString()}}));let c=0;a={getReader:()=>({read:async()=>{if(c<l.length){const u=l[c];return c++,await new Promise(h=>setTimeout(h,3)),u}return{done:!0,value:void 0}}})},i=a.getReader()}else{if(o=await fetch(`${Bt.chatHost}${t}`,((s,l)=>fse(s,gse(l)))(((s,l)=>{for(var c in l||(l={}))vse.call(l,c)&&jR(s,c,l[c]);if(DR)for(var c of DR(l))bse.call(l,c)&&jR(s,c,l[c]);return s})({},n),{signal:e})),!o.ok)throw new Error("Network response was not ok");a=RR(o.body),i=a.getReader()}return i},Pl=()=>{const e=Br();return{isV4:(e==null?void 0:e.akool_avatar_version)==="v4"}};new TR("https://openapi.akool.com",SR);var wse=Object.defineProperty,kse=Object.defineProperties,xse=Object.getOwnPropertyDescriptors,zR=Object.getOwnPropertySymbols,_se=Object.prototype.hasOwnProperty,Tse=Object.prototype.propertyIsEnumerable,FR=(e,t,n)=>t in e?wse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const BR=e=>{if(!e)return!0;try{const t=new Date(e.created_at).getTime();return new Date().getTime()-t>6e5}catch(t){return window.console.error("Error checking if stream is expired:",t," streamDetails: ",e),!0}};let UR;const Sse=()=>{const e=dt(),t=W(_i),[n,r]=iR({key:"streamDetailsMap",defaultValue:{},getInitialValueInEffect:!1}),o=x.useCallback(a=>{const{conversation_id:s,stream_details:l}=a,c=((u,h)=>kse(u,xse(h)))(((u,h)=>{for(var p in h||(h={}))_se.call(h,p)&&FR(u,p,h[p]);if(zR)for(var p of zR(h))Tse.call(h,p)&&FR(u,p,h[p]);return u})({},l),{created_at:new Date().toISOString()});r(u=>{const h=zi(u);return o9(h,s,c),h}),e(Sm(c))},[r,e]),i=x.useCallback(async a=>{if(!a)return null;const s=n[a],l=BR(s);return s&&!l?s:null},[n]);return x.useEffect(()=>{(async()=>{if(UR===(t==null?void 0:t.id))return;if(UR=t==null?void 0:t.id,t==null||!t.id)return void e(Sm(null));const a=zi(n);let s=!1;if(Object.entries(a).forEach(([c,u])=>{u&&BR(u)&&(delete a[c],s=!0)}),s)return void r(a);const l=await i(t==null?void 0:t.id);e(Sm(l))})()},[e,i,r,n,t==null?void 0:t.id]),{saveStreamDetails:o}};let Hi=null;const Md=()=>{var e,t;const n=jn.getState(),r=n.chatBox.agent,o=n.chatBox.streamDetails;if(o==null||!o.agora_channel)return ee.log("canUseAgora streamDetails?.agora_channel is missing: ",o),!1;const i=(t=(e=r==null?void 0:r.config)==null?void 0:e.avatai)==null?void 0:t.disable_lip_sync;return!i||(ee.log("canUseAgora disableLipSync is true: ",i),!1)},Xn=()=>{if(ee.log("getSharedAgoraClient called"),!Md())return ee.log("canUseAgora is false, skipping getSharedAgoraClient"),null;if(!window.AgoraRTC)throw new Error("AgoraRTC is not loaded");return localStorage.getItem("agora_debug")||window.AgoraRTC.setLogLevel(4),Hi||(Hi=window.AgoraRTC.createClient({mode:"rtc",codec:"vp8"})),Na()&&Hi&&(Hi.on("connection-state-change",e=>{ee.network("connection_change",{state:e})}),Hi.on("exception",e=>{ee.network("error",{message:`Agora exception: ${e.code}`,context:"agora_exception",event:e})})),Hi};let Al=null,W9=!1;const G9=async e=>{if(Md()){if(!W9){W9=!0;try{if((await navigator.permissions.query({name:"microphone"})).state==="denied")throw new Error("Microphone permission denied");if(Al)return;ee.log("startMicrophone getSharedAgoraClient");const t=Xn();if(!t||!window.AgoraRTC)throw new Error("Agora client not initialized");let n=0;const r=10;for(;t.connectionState!=="CONNECTED"&&n<r;)window.console.log("Agora client not connected yet, retrying...",n+1),await new Promise(i=>setTimeout(i,300)),n++;if(n>=r)throw new Error("startMicrophone failed after 10 retries");const o={encoderConfig:"speech_low_quality",AEC:!0,ANS:!0,AGC:!0};e&&(o.microphoneId=e),Al=await window.AgoraRTC.createMicrophoneAudioTrack(o),await t.publish(Al)}catch(t){window.console.error("Failed to initialize local audio track:",t)}finally{W9=!1}}}else ee.log("canUseAgora is false, skipping startMicrophone")},K9=async()=>{if(!Al)return;ee.log("stopMicrophone getSharedAgoraClient");const e=Xn();if(e){try{await Al.stop(),await Al.close(),await e.unpublish(Al)}catch(t){window.console.error("stopMicrophone error:",t)}Al=null}else window.console.error("stopMicrophone agoraClient is null")};window.startMicrophone=G9,window.stopMicrophone=K9;async function Ap(){ee.log("interruptResponse getSharedAgoraClient");const e=Xn();if(!e)throw new Error("Agora client not initialized");const t={v:2,type:"command",mid:`msg-${Date.now()}`,pld:{cmd:"interrupt"}},n=JSON.stringify(t);return e.sendStreamMessage(n,!1)}const HR=async(e,t)=>{ee.log("sendMessageToAvatar getSharedAgoraClient");const n=Xn();if(!n)throw new Error("Agora client not initialized");ee.log("sendMessageToAvatar text:",e," command:",t);const r=performance.now(),o=new TextEncoder().encode(e).length;ee.network("message_start",{textLength:e.length,messageSize:o,timestamp:r});const i=(p,d,f,g)=>{const m={v:2,type:"chat",mid:`user-${Date.now()}`,idx:d,fin:f,pld:{text:p,from:"user",command:g}};return new TextEncoder().encode(JSON.stringify(m))};if(!e)throw new Error("Content cannot be empty");const a=i("",0,!1,t),s=Math.floor((950-a.length)/4),l=[];let c=e,u=0;for(;c.length>0;){let p=c.slice(0,s),d=i(p,u,!1);for(;d.length>950&&p.length>1;)p=p.slice(0,Math.ceil(p.length/2)),d=i(p,u,!1);if(d.length>950)throw new Error("Message encoding failed: content too large for chunking");l.push(p),c=c.slice(p.length),u++}for(let p=0;p<l.length;p++){const d=p===l.length-1,f=i(l[p],p,d),g=f.length,m=Math.ceil(1e3*g/6e3),v=Date.now();try{await n.sendStreamMessage(f,!1),ee.network("chunk_sent",{chunkIndex:p+1,totalChunks:l.length,chunkSize:g})}catch(y){throw ee.network("error",{message:`Failed to send chunk ${p+1}: ${y instanceof Error?y.message:"Unknown error"}`,context:"send_chunk",chunkIndex:p+1}),new Error(`Failed to send chunk ${p+1}: ${y instanceof Error?y.message:"Unknown error"}`)}if(!d){const y=Date.now()-v,b=Math.max(0,m-y);b>0&&await new Promise(w=>setTimeout(w,b))}}const h=performance.now();ee.network("message_sent",{bytes:o,duration:h-r,chunks:l.length})},Ld={expirationInterval:void 0,sessionStartTime:0,lastVisibleTime:0,wasDocumentHidden:!1,visibilityChangeHandler:null,streamDetails:null,clearSession:async function(){var e;const t=jn.getState(),n=(e=t.chatBox.agent)==null?void 0:e.id,r=Tt(t);this.expirationInterval&&(clearInterval(this.expirationInterval),this.expirationInterval=void 0),this.visibilityChangeHandler&&(document.removeEventListener("visibilitychange",this.visibilityChangeHandler),this.visibilityChangeHandler=null),this.sessionStartTime=0,this.lastVisibleTime=0,this.wasDocumentHidden=!1;const o=this.streamDetails;if(jn.dispatch(Sm(null)),o&&n&&r)try{await(async()=>{if(Hi)try{Hi.removeAllListeners();try{await Hi.leave()}catch{}Hi=null}catch{Hi=null}})(),await new Promise(i=>setTimeout(i,100)),await(async(i,a)=>{if(!i||!a)throw new Error("chatbot_id and conversation_id are required");const s=`${Bt.chatHost}/api/v1/live_avatar/close_session`,l={chatbot_id:i,conversation_id:a},c=await Mt.post(s,l);if(c.data.status!==200)throw new Error(`An error occurred, code: ${c.status}, msg: ${c.data.msg}`);return c.data})(n,r),(i=>{if(i!=null&&i.agora_app_id&&i!=null&&i.agora_channel)try{const a=localStorage.getItem("streamDetailsMap");if(!a)return;const s=zi(JSON.parse(a));let l=!1;Object.entries(s).forEach(([c,u])=>{u&&u.agora_app_id===i.agora_app_id&&u.agora_channel===i.agora_channel&&(delete s[c],l=!0)}),l&&localStorage.setItem("streamDetailsMap",JSON.stringify(s))}catch(a){window.console.error("Error removing session by Agora details:",a)}})(o),this.streamDetails=null}catch{this.streamDetails=null}},startSessionMonitoring:function(e){if(this.streamDetails=e,e.created_at)try{const t=new Date(e.created_at).getTime();this.sessionStartTime=t}catch(t){return void window.console.error("Error parsing createdAt:",t)}else this.sessionStartTime=Date.now();this.lastVisibleTime=Date.now(),this.wasDocumentHidden=document.hidden,this.visibilityChangeHandler=()=>{document.hidden?(this.wasDocumentHidden=!0,this.lastVisibleTime=Date.now()):this.wasDocumentHidden=!1},document.addEventListener("visibilitychange",this.visibilityChangeHandler),this.expirationInterval=setInterval(()=>{const t=Date.now(),n=1e3*(window.sessionDuration||600),r=t-this.sessionStartTime>n,o=window.lastVisibleDuration||3e4,i=this.wasDocumentHidden&&t-this.lastVisibleTime>o;(r||i)&&this.clearSession()},1e4)}};var Ese=Object.defineProperty,VR=Object.getOwnPropertySymbols,Cse=Object.prototype.hasOwnProperty,Ose=Object.prototype.propertyIsEnumerable,$R=(e,t,n)=>t in e?Ese(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qR=(e,t)=>{for(var n in t||(t={}))Cse.call(t,n)&&$R(e,n,t[n]);if(VR)for(var n of VR(t))Ose.call(t,n)&&$R(e,n,t[n]);return e};const Bt={chatHost:"https://chat.dv.copilot.livex.ai",gatewayHost:"https://dv.copilot.livex.ai",frontendHost:"https://chat.dv.copilot.livex.ai",thread:{getMessages:(e,t)=>`/api/v1/chat_history/${e}/${t}`,stream:"/api/v1/chat_stream"},threads:{new:"/api/v1/new_conversation",load:"/api/v1/conversation",close:"/api/v1/close_conversation"}},Y9=async(e,t,n,r,o)=>{const i=((s,l)=>l.startsWith("http")?l:`${s.replace(/\/$/,"")}${l}`)(e,t),a=await Mt.post(i,n,qR({headers:qR({"Content-Type":"application/json"},r)},o));return a.status!==200?null:a.data};function Pse(){const e=localStorage.getItem("lvxcplt-visitor-id");if(!e){const t="0"+Date.now().toString(16)+function(n){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let o="";for(let i=0;i<n;i++)o+=r.charAt(Math.floor(62*Math.random()));return o}(12);return localStorage.setItem("lvxcplt-visitor-id",t),t}return e}const Kc=e=>{var t,n,r,o;if(e&&e==="playground"){const a=localStorage.getItem("livex_current_user");if(a)return(t=JSON.parse(a))==null?void 0:t.email}const i=sessionStorage.getItem("currentUser");return i?(o=(r=(n=JSON.parse(i))==null?void 0:n.employee)==null?void 0:r.id)!=null?o:"":Pse()},Q9=()=>{const e=new URL(window.location.href);return e.origin+e.pathname},Ase=Y9,Nse=async(e,t)=>{var n;const r=jn.getState().chatBox.initialBotMode;let o=Bt.threads.new;const i=Kc(t),a={source:t,host_page_url:Q9(),visitor_id:i,chatbot_id:e.id,bot_mode:r};if(Ht(r)&&r!=="avataiOnly"){o="/api/v1/create_live_avatar_session";const s=zi((n=e.config)==null?void 0:n.avatai)||$9;(r==="avataiWebRtc"||r==="avataiToggle")&&(a.stream_mode="agora");const{avatar_id:l,voice_id:c}=s;a.avatar_id=l,a.voice_id=c}return await Y9(Bt.chatHost,o,a)},WR=async(e,t)=>{if(!e)return;const n=jn.getState(),{source:r,botMode:o,agent:i}=n.chatBox;if(!i)throw new Error("Should have agent here");const a=Ja(n);let s=Bt.threads.close;const l={conversation_id:e,chatbot_id:i.id};if(Ht(o)){if(o==="avataiOnly"&&t)return;s="/api/v1/close_live_avatar_session",Ld.clearSession()}try{if(t&&navigator.sendBeacon){const c=new Blob([JSON.stringify(l)],{type:"application/json"});navigator.sendBeacon(Bt.chatHost+s,c)}else await Y9(Bt.chatHost,s,l)}catch{}Xo({event_name:Lt.ConversationEnd,source:r,bot_mode:o,chatbot_id:i==null?void 0:i.id,conversation_id:e,message_id:a})},Rse=async({agentId:e,threadId:t,message:n,command:r,agentConfig:o,onData:i,imageGcsUri:a,languageCode:s,responseLength:l,options:c})=>{var u,h,p,d,f;const g=performance.now(),m=jn.getState(),v=_i(m),y=(v==null?void 0:v.stream_details)||m.chatBox.streamDetails,b={chatbot_id:e,conversation_id:t,question:n,command:r,stream:!0,language_code:s};a&&(b.image_gcs_uri=a),o&&(b.agent_config=o),l&&(b.response_length=l);const w=(h=(u=m.chatBox.agent)==null?void 0:u.config)==null?void 0:h.avatai,k=hse();k&&(b.debug_code=k);const _={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)},O=m.chatBox.botMode;let E=Bt.thread.stream,C=5;Ht(O)&&(E="/api/v1/live_avatar_chat_stream",(w!=null&&w.disable_lip_sync||!y)&&(E="/api/v1/live_avatar/audio_stream"),C=50);const N=Ia.createController(),{signal:L}=N,j=await yse(L,E,_,c);let H={},F=await j.read();const z=performance.now();let B=t;const V=[],U=()=>{for(;V.length>0;){const Q=V.shift();Q&&i(Q)}};let S=0,q=!1;for(;!F.done;){const Q=(p=F.value)==null?void 0:p.streaming_done;if(De.shouldAbort){Ia.abort(N),q=!0;break}const re=jn.getState();if(B=Tt(re),t!==B)break;(d=F.value)!=null&&d.audio&&Ra.instance.addToQueue(F.value.audio),V.push(F),(!F.done||ht(H))&&(H=F),(S===0||S%C==0||Q)&&U(),S+=1;try{F=await j.read()}catch(_e){ee.error("Error reading stream:",_e);break}}U();const P=performance.now();if(k||window.location.hostname==="localhost"){const Q=(f=F.value)==null?void 0:f.id;window.livexChatbotLatencies=window.livexChatbotLatencies||[];const re={messageId:Q,toFirstTokenInMs:z-g,fromFirstTokenToLastTokenInMs:P-z,fromSentToLastTokenInMs:P-g};window.livexChatbotLatencies.push(re)}t===B&&(Ia.removeController(N),i({done:!0,value:H.value,stoppedByUser:q}))};var Ise=Object.defineProperty,Mse=Object.defineProperties,Lse=Object.getOwnPropertyDescriptors,GR=Object.getOwnPropertySymbols,Dse=Object.prototype.hasOwnProperty,jse=Object.prototype.propertyIsEnumerable,KR=(e,t,n)=>t in e?Ise(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,X9=(e,t)=>{for(var n in t||(t={}))Dse.call(t,n)&&KR(e,n,t[n]);if(GR)for(var n of GR(t))jse.call(t,n)&&KR(e,n,t[n]);return e},J9=(e,t)=>Mse(e,Lse(t));const Eg=()=>{const e=W(Tt),t=mt(),n=dt(),r=W(i=>i.hookState.isUploadingImage),o=Zr({mutationFn:i=>(async a=>{const{image:s,onUploadProgress:l,chatbot_id:c,conversation_id:u,return_product:h}=a;if(!c||!u||!s.file)throw new Error("chatbot_id, conversation_id or image is missing");const p=new FormData;p.append("file",s.file),p.append("chatbot_id",c),p.append("conversation_id",u),p.append("return_product",h?"true":"false");const d={onUploadProgress:l,headers:{"Content-Type":"multipart/form-data"}},f=`${Bt.chatHost}/api/v1/image_upload`;return(await Mt.post(f,p,d)).data})(J9(X9({},i),{chatbot_id:t==null?void 0:t.id,conversation_id:e})),onMutate:()=>{n(FA(!0))},onSettled:()=>{n(FA(!1))}});return J9(X9({},o),{isUploadingImage:r})};let Np={};const YR=V0({name:"searchBar",initialState:{userQuestion:"",query:"",isWaitingForReply:!1,fileImages:[],processingImageStatus:"idle",products:[],searchResults:[]},reducers:{setUserQuestion:(e,t)=>{e.userQuestion=t.payload},setQuery:(e,t)=>{e.query=t.payload},setIsWaitingForReply:(e,t)=>{e.isWaitingForReply=t.payload},setProducts:(e,t)=>{e.products=t.payload},setFileImages:(e,t)=>{e.fileImages=t.payload},removeFileImage:(e,t)=>{t.payload&&(e.fileImages=e.fileImages.filter(n=>{var r;return((r=n.file)==null?void 0:r.name)!==t.payload}))},setSearchResults:(e,t)=>{e.searchResults=t.payload},setProcessingImageStatus:(e,t)=>{e.processingImageStatus=t.payload}}}),{setUserQuestion:Dd,setQuery:Cg,setIsWaitingForReply:Og,setProducts:zse,setFileImages:Pg,removeFileImage:Fse,setProcessingImageStatus:Z9,setSearchResults:Rp}=YR.actions,Bse=e=>e.searchBar.fileImages.map(t=>{var n;return Np[((n=t.file)==null?void 0:n.name)||""]});var Use=Object.defineProperty,Hse=Object.defineProperties,Vse=Object.getOwnPropertyDescriptors,QR=Object.getOwnPropertySymbols,$se=Object.prototype.hasOwnProperty,qse=Object.prototype.propertyIsEnumerable,XR=(e,t,n)=>t in e?Use(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Wse=async e=>{const t=((r,o)=>Hse(r,Vse(o)))(((r,o)=>{for(var i in o||(o={}))$se.call(o,i)&&XR(r,i,o[i]);if(QR)for(var i of QR(o))qse.call(o,i)&&XR(r,i,o[i]);return r})({},e),{requester:"",requester_type:"user"}),n=`${Bt.chatHost}/api/live_chat_end`;return(await Mt.post(n,t)).data},Gse="idle",Yc="loading",Ag="succeeded",Ng="failed",Rg=_l("chat/updateThreadStateThunk",async(e,{getState:t,dispatch:n})=>{const r=t(),{agent:o,source:i,botMode:a}=r.chatBox;if(!o||(o==null?void 0:o.id)==="loading"||!i)return;const{conversation_id:s,stream_details:l,kind:c,updatedThread:u}=e,h=zi(r.chat.threads);switch(c){case"remove":delete h[s];break;case"update":u&&h[s]&&(h[s]=mi({},h[s],u));break;case"new":{const p={id:s,agentId:o.id,messages:[],createdAt:new Date().toISOString(),stream_details:l};h[p.id]=p;const d=Ja(r);Xo({event_name:Lt.ConversationStart,source:i,bot_mode:a,chatbot_id:o==null?void 0:o.id,conversation_id:p.id,message_id:d});const f=r.chatBox.initialBotMode;Ht(f)&&f!=="avataiOnly"&&l&&(Ol(),n(Ph(l?f:void 0)));break}}n(Fge(h)),Ql(h)}),fo=_l("chat/closeThreadThunk",async({threadId:e,keepOpen:t=!1,keepOpenSearchBar:n=!1},{dispatch:r,getState:o})=>{try{Ia.abortAll(),r(Rg({conversation_id:e,kind:"remove"}));const i=De.avatarPlayer;i&&i.destroy();const a=o(),{agent:s,source:l,initialBotMode:c,botMode:u}=a.chatBox;if(!s||!l)return;t||r(ia(!1)),r(ZT(!1)),r(TU(!1)),r(Em(!1)),r(_U(null));try{await WR(e)}catch(h){window.console.error("Error closing thread API:",h),V9({event_name:Lt.ChatbotError,note:`Error in closeThread API: ${JSON.stringify(h)}`})}if(r(QT(!1)),r(t8(!0)),r(kge(null)),a.chatBox.chatAgentType==="liveChat")try{Wse({conversation_id:e,chatbot_id:s.id})}catch(h){window.console.error("Error closing live chat:",h),V9({event_name:Lt.ChatbotError,note:`Error closing live chat: ${JSON.stringify(h)}`})}return r(YT("ai")),r(Og(!1)),u==="searchBar"&&(r(bu({showSearchBar:n})),r(Dd("")),r(Pg([])),n||r(Ph(c))),Ra.instance.stop(),{success:!0}}catch(i){throw window.console.error("Error in closeThreadThunk:",i),V9({event_name:Lt.ChatbotError,note:`Error in closeThreadThunk: ${JSON.stringify(i)}`}),i}}),Ig=()=>{const e=dt(),t=W(Tt);return Zr({mutationFn:async n=>{t&&await e(fo({threadId:t,keepOpenSearchBar:n.keepOpenSearchBar}))}})},Nl=()=>{const e=Br(),t=(e==null?void 0:e.message_composer_version)||"v1";return{isV1:t==="v1",isV2:t==="v2",isV2Avatar:t==="v2-avatar"}},Mg={},JR=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,ZR=e=>"init"in e,ex=e=>!!e.write,eI=e=>"v"in e||"e"in e,Lg=e=>{if("e"in e)throw e.e;if((Mg?"production":void 0)!=="production"&&!("v"in e))throw new Error("[Bug] atom state is not initialized");return e.v},Dg=new WeakMap,tI=e=>{var t;return jg(e)&&!((t=Dg.get(e))==null||!t[0])},nI=(e,t)=>{let n=Dg.get(e);if(!n){n=[!0,new Set],Dg.set(e,n);const r=()=>{n[0]=!1};e.then(r,r)}n[1].add(t)},jg=e=>typeof(e==null?void 0:e.then)=="function",rI=(e,t,n)=>{n.p.has(e)||(n.p.add(e),t.then(()=>{n.p.delete(e)},()=>{n.p.delete(e)}))},tx=(e,t,n)=>{const r=n(e),o="v"in r,i=r.v;if(jg(t))for(const a of r.d.keys())rI(e,t,n(a));r.v=t,delete r.e,(!o||!Object.is(i,r.v))&&(++r.n,jg(i)&&(a=>{const s=Dg.get(a);s!=null&&s[0]&&(s[0]=!1,s[1].forEach(l=>l()))})(i))},oI=(e,t,n)=>{var r;const o=new Set;for(const i of((r=n.get(e))==null?void 0:r.t)||[])n.has(i)&&o.add(i);for(const i of t.p)o.add(i);return o},nx=()=>{const e={},t=new WeakMap,n=r=>{var o,i;(o=t.get(e))==null||o.forEach(a=>a(r)),(i=t.get(r))==null||i.forEach(a=>a())};return n.add=(r,o)=>{const i=r||e,a=(t.has(i)?t:t.set(i,new Set)).get(i);return a.add(o),()=>{a==null||a.delete(o),a.size||t.delete(i)}},n},Kse=Symbol(),iI=(e=new WeakMap,t=new WeakMap,n=new WeakMap,r=new Set,o=new Set,i=new Set,a={},s=(p,...d)=>p.read(...d),l=(p,...d)=>p.write(...d),c=(p,d)=>{var f;return(f=p.unstable_onInit)==null?void 0:f.call(p,d)},u=(p,d)=>{var f;return(f=p.onMount)==null?void 0:f.call(p,d)},...h)=>{const p=h[0]||(O=>{if((Mg?"production":void 0)!=="production"&&!O)throw new Error("Atom is undefined or null");let E=e.get(O);return E||(E={d:new Map,p:new Set,n:0},e.set(O,E),c==null||c(O,_)),E}),d=h[1]||(()=>{const O=[],E=C=>{try{C()}catch(N){O.push(N)}};do{a.f&&E(a.f);const C=new Set,N=C.add.bind(C);r.forEach(L=>{var j;return(j=t.get(L))==null?void 0:j.l.forEach(N)}),r.clear(),i.forEach(N),i.clear(),o.forEach(N),o.clear(),C.forEach(E),r.size&&f()}while(r.size||i.size||o.size);if(O.length)throw new AggregateError(O)}),f=h[2]||(()=>{const O=[],E=new WeakSet,C=new WeakSet,N=Array.from(r);for(;N.length;){const L=N[N.length-1],j=p(L);if(C.has(L))N.pop();else if(E.has(L)){if(n.get(L)===j.n)O.push([L,j]);else if((Mg?"production":void 0)!=="production"&&n.has(L))throw new Error("[Bug] invalidated atom exists");C.add(L),N.pop()}else{E.add(L);for(const H of oI(L,j,t))E.has(H)||N.push(H)}}for(let L=O.length-1;L>=0;--L){const[j,H]=O[L];let F=!1;for(const z of H.d.keys())if(z!==j&&r.has(z)){F=!0;break}F&&(g(j),y(j)),n.delete(j)}}),g=h[3]||(O=>{var E;const C=p(O);if(eI(C)&&(t.has(O)&&n.get(O)!==C.n||Array.from(C.d).every(([V,U])=>g(V).n===U)))return C;C.d.clear();let N=!0;const L=()=>{t.has(O)&&(y(O),f(),d())},j=V=>{var U;if(JR(O,V)){const q=p(V);if(!eI(q)){if(!ZR(V))throw new Error("no atom init");tx(V,V.init,p)}return Lg(q)}const S=g(V);try{return Lg(S)}finally{C.d.set(V,S.n),tI(C.v)&&rI(O,C.v,S),(U=t.get(V))==null||U.t.add(O),N||L()}};let H,F;const z={get signal(){return H||(H=new AbortController),H.signal},get setSelf(){return(Mg?"production":void 0)!=="production"&&ex(O),!F&&ex(O)&&(F=(...V)=>{if(!N)try{return v(O,...V)}finally{f(),d()}}),F}},B=C.n;try{const V=s(O,j,z);return tx(O,V,p),jg(V)&&(nI(V,()=>H==null?void 0:H.abort()),V.then(L,L)),C}catch(V){return delete C.v,C.e=V,++C.n,C}finally{N=!1,B!==C.n&&n.get(O)===B&&(n.set(O,C.n),r.add(O),(E=a.c)==null||E.call(a,O))}}),m=h[4]||(O=>{const E=[O];for(;E.length;){const C=E.pop(),N=p(C);for(const L of oI(C,N,t)){const j=p(L);n.set(L,j.n),E.push(L)}}}),v=h[5]||((O,...E)=>{let C=!0;const N=j=>Lg(g(j)),L=(j,...H)=>{var F;const z=p(j);try{if(JR(O,j)){if(!ZR(j))throw new Error("atom not writable");const B=z.n,V=H[0];return tx(j,V,p),y(j),void(B!==z.n&&(r.add(j),(F=a.c)==null||F.call(a,j),m(j)))}return v(j,...H)}finally{C||(f(),d())}};try{return l(O,N,L,...E)}finally{C=!1}}),y=h[6]||(O=>{var E;const C=p(O),N=t.get(O);if(N&&!tI(C.v)){for(const[L,j]of C.d)if(!N.d.has(L)){const H=p(L);b(L).t.add(O),N.d.add(L),j!==H.n&&(r.add(L),(E=a.c)==null||E.call(a,L),m(L))}for(const L of N.d||[])if(!C.d.has(L)){N.d.delete(L);const j=w(L);j==null||j.t.delete(O)}}}),b=h[7]||(O=>{var E;const C=p(O);let N=t.get(O);if(!N){g(O);for(const L of C.d.keys())b(L).t.add(O);if(N={l:new Set,d:new Set(C.d.keys()),t:new Set},t.set(O,N),(E=a.m)==null||E.call(a,O),ex(O)){const L=()=>{let j=!0;const H=(...F)=>{try{return v(O,...F)}finally{j||(f(),d())}};try{const F=u(O,H);F&&(N.u=()=>{j=!0;try{F()}finally{j=!1}})}finally{j=!1}};o.add(L)}}return N}),w=h[8]||(O=>{var E;const C=p(O);let N=t.get(O);if(!N||N.l.size||Array.from(N.t).some(L=>{var j;return(j=t.get(L))==null?void 0:j.d.has(O)}))return N;N.u&&i.add(N.u),N=void 0,t.delete(O),(E=a.u)==null||E.call(a,O);for(const L of C.d.keys()){const j=w(L);j==null||j.t.delete(O)}}),k=[e,t,n,r,o,i,a,s,l,c,u,p,d,f,g,m,v,y,b,w],_={get:O=>Lg(g(O)),set:(O,...E)=>{try{return v(O,...E)}finally{f(),d()}},sub:(O,E)=>{const C=b(O).l;return C.add(E),d(),()=>{C.delete(E),w(O),d()}}};return Object.defineProperty(_,Kse,{value:k}),_},Yse=e=>(e.c||(e.c=nx()),e.m||(e.m=nx()),e.u||(e.u=nx()),e.f||(e.f=(()=>{const t=new Set,n=()=>{t.forEach(r=>r())};return n.add=r=>(t.add(r),()=>{t.delete(r)}),n})()),e),aI=nI,rx={};let Qse=0;function go(e,t){const n="atom"+ ++Qse,r={toString(){return(rx?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof e=="function"?r.read=e:(r.init=e,r.read=Xse,r.write=Jse),r}function Xse(e){return e(this)}function Jse(e,t,n){return t(this,typeof n=="function"?n(e(this)):n)}const Zse=()=>{let e=0;const t=Yse({}),n=new WeakMap,r=new WeakMap,o=iI(n,r,void 0,void 0,void 0,void 0,t,void 0,(a,s,l,...c)=>e?l(a,...c):a.write(s,l,...c)),i=new Set;return t.m.add(void 0,a=>{i.add(a),n.get(a).m=r.get(a)}),t.u.add(void 0,a=>{i.delete(a),delete n.get(a).m}),Object.assign(o,{dev4_get_internal_weak_map:()=>n,dev4_get_mounted_atoms:()=>i,dev4_restore_atoms:a=>{const s={read:()=>null,write:(l,c)=>{++e;try{for(const[u,h]of a)"init"in u&&c(u,h)}finally{--e}}};o.set(s)}})};let zg;function ele(){return zg||(zg=(rx?"production":void 0)!=="production"?Zse():iI(),(rx?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=zg),globalThis.__JOTAI_DEFAULT_STORE__)),zg}const tle={},nle=x.createContext(void 0);function sI(e){return x.useContext(nle)||ele()}const ox=e=>typeof(e==null?void 0:e.then)=="function",ix=e=>{e.status||(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}))},rle=fn.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(ix(e),e)}),ax=new WeakMap,lI=(e,t)=>{let n=ax.get(e);return n||(n=new Promise((r,o)=>{let i=e;const a=c=>u=>{i===c&&r(u)},s=c=>u=>{i===c&&o(u)},l=()=>{try{const c=t();ox(c)?(ax.set(c,n),i=c,c.then(a(c),s(c)),aI(c,l)):r(c)}catch(c){o(c)}};e.then(a(e),s(e)),aI(e,l)}),ax.set(e,n)),n};function sx(e,t){const{delay:n,unstable_promiseStatus:r=!fn.use}={},o=sI(),[[i,a,s],l]=x.useReducer(u=>{const h=o.get(e);return Object.is(u[0],h)&&u[1]===o&&u[2]===e?u:[h,o,e]},void 0,()=>[o.get(e),o,e]);let c=i;if((a!==o||s!==e)&&(l(),c=o.get(e)),x.useEffect(()=>{const u=o.sub(e,()=>{if(r)try{const h=o.get(e);ox(h)&&ix(lI(h,()=>o.get(e)))}catch{}typeof n!="number"?l():setTimeout(l,n)});return l(),u},[o,e,n,r]),x.useDebugValue(c),ox(c)){const u=lI(c,()=>o.get(e));return r&&ix(u),rle(u)}return c}function ole(e,t){const n=sI();return x.useCallback((...r)=>{if((tle?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return n.set(e,...r)},[n,e])}function An(e,t){return[sx(e),ole(e)]}function ile(e,t){return t.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in e)){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(e)}var ale=Object.defineProperty,cI=(e,t,n)=>((r,o,i)=>o in r?ale(r,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[o]=i)(e,typeof t!="symbol"?t+"":t,n);let vo=class{constructor(){cI(this,"_locking"),cI(this,"_locks"),this._locking=Promise.resolve(),this._locks=0}isLocked(){return this._locks>0}lock(){let e;this._locks+=1;const t=new Promise(r=>e=()=>{this._locks-=1,r()}),n=this._locking.then(()=>e);return this._locking=this._locking.then(()=>t),n}};function Un(e,t){if(!e)throw new Error(t)}const sle=34028234663852886e22,lle=-34028234663852886e22,cle=4294967295,ule=2147483647,dle=-2147483648;function Fg(e){if(typeof e!="number")throw new Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>ule||e<dle)throw new Error("invalid int 32: "+e)}function lx(e){if(typeof e!="number")throw new Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>cle||e<0)throw new Error("invalid uint 32: "+e)}function uI(e){if(typeof e!="number")throw new Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>sle||e<lle))throw new Error("invalid float 32: "+e)}const dI=Symbol("@bufbuild/protobuf/enum-type");function hle(e){const t=e[dI];return Un(t,"missing enum type on enum object"),t}function hI(e,t,n,r){e[dI]=pI(t,n.map(o=>({no:o.no,name:o.name,localName:e[o.no]})))}function pI(e,t,n){const r=Object.create(null),o=Object.create(null),i=[];for(const a of t){const s=mI(a);i.push(s),r[a.name]=s,o[a.no]=s}return{typeName:e,values:i,findName:a=>r[a],findNumber:a=>o[a]}}function ple(e,t,n){const r={};for(const o of t){const i=mI(o);r[i.localName]=i.no,r[i.no]=i.localName}return hI(r,e,t),r}function mI(e){return"localName"in e?e:Object.assign(Object.assign({},e),{localName:e.name})}class cx{equals(t){return this.getType().runtime.util.equals(this.getType(),this,t)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(t,n){const r=this.getType().runtime.bin,o=r.makeReadOptions(n);return r.readMessage(this,o.readerFactory(t),t.byteLength,o),this}fromJson(t,n){const r=this.getType(),o=r.runtime.json,i=o.makeReadOptions(n);return o.readMessage(r,t,i,this),this}fromJsonString(t,n){let r;try{r=JSON.parse(t)}catch(o){throw new Error("cannot decode ".concat(this.getType().typeName," from JSON: ").concat(o instanceof Error?o.message:String(o)))}return this.fromJson(r,n)}toBinary(t){const n=this.getType().runtime.bin,r=n.makeWriteOptions(t),o=r.writerFactory();return n.writeMessage(this,o,r),o.finish()}toJson(t){const n=this.getType().runtime.json,r=n.makeWriteOptions(t);return n.writeMessage(this,r)}toJsonString(t){var n;const r=this.toJson(t);return JSON.stringify(r,null,(n=t==null?void 0:t.prettySpaces)!==null&&n!==void 0?n:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function mle(){let e=0,t=0;for(let r=0;r<28;r+=7){let o=this.buf[this.pos++];if(e|=(127&o)<<r,(128&o)==0)return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(15&n)<<28,t=(112&n)>>4,(128&n)==0)return this.assertBounds(),[e,t];for(let r=3;r<=31;r+=7){let o=this.buf[this.pos++];if(t|=(127&o)<<r,(128&o)==0)return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function ux(e,t,n){for(let i=0;i<28;i+=7){const a=e>>>i,s=!(!(a>>>7)&&t==0),l=255&(s?128|a:a);if(n.push(l),!s)return}const r=e>>>28&15|(7&t)<<4,o=t>>3!=0;if(n.push(255&(o?128|r:r)),o){for(let i=3;i<31;i+=7){const a=t>>>i,s=!!(a>>>7),l=255&(s?128|a:a);if(n.push(l),!s)return}n.push(t>>>31&1)}}const Bg=4294967296;function fI(e){const t=e[0]==="-";t&&(e=e.slice(1));const n=1e6;let r=0,o=0;function i(a,s){const l=Number(e.slice(a,s));o*=n,r=r*n+l,r>=Bg&&(o+=r/Bg|0,r%=Bg)}return i(-24,-18),i(-18,-12),i(-12,-6),i(-6),t?vI(r,o):dx(r,o)}function gI(e,t){if({lo:e,hi:t}=function(l,c){return{lo:l>>>0,hi:c>>>0}}(e,t),t<=2097151)return String(Bg*t+e);const n=16777215&(e>>>24|t<<8),r=t>>16&65535;let o=(16777215&e)+6777216*n+6710656*r,i=n+8147497*r,a=2*r;const s=1e7;return o>=s&&(i+=Math.floor(o/s),o%=s),i>=s&&(a+=Math.floor(i/s),i%=s),a.toString()+bI(i)+bI(o)}function dx(e,t){return{lo:0|e,hi:0|t}}function vI(e,t){return t=~t,e?e=1+~e:t+=1,dx(e,t)}const bI=e=>{const t=String(e);return"0000000".slice(t.length)+t};function yI(e,t){if(e>=0){for(;e>127;)t.push(127&e|128),e>>>=7;t.push(e)}else{for(let n=0;n<9;n++)t.push(127&e|128),e>>=7;t.push(1)}}function fle(){let e=this.buf[this.pos++],t=127&e;if(!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<7,(128&e)==0)return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<14,(128&e)==0)return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<21,(128&e)==0)return this.assertBounds(),t;e=this.buf[this.pos++],t|=(15&e)<<28;for(let n=5;128&e&&n<10;n++)e=this.buf[this.pos++];if(128&e)throw new Error("invalid varint");return this.assertBounds(),t>>>0}const Nn=function(){const e=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof e.getBigInt64=="function"&&typeof e.getBigUint64=="function"&&typeof e.setBigInt64=="function"&&typeof e.setBigUint64=="function"&&(typeof process!="object"||typeof process.env!="object"||{}.BUF_BIGINT_DISABLE!=="1")){const r=BigInt("-9223372036854775808"),o=BigInt("9223372036854775807"),i=BigInt("0"),a=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(s){const l=typeof s=="bigint"?s:BigInt(s);if(l>o||l<r)throw new Error("int64 invalid: ".concat(s));return l},uParse(s){const l=typeof s=="bigint"?s:BigInt(s);if(l>a||l<i)throw new Error("uint64 invalid: ".concat(s));return l},enc(s){return e.setBigInt64(0,this.parse(s),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(s){return e.setBigInt64(0,this.uParse(s),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec:(s,l)=>(e.setInt32(0,s,!0),e.setInt32(4,l,!0),e.getBigInt64(0,!0)),uDec:(s,l)=>(e.setInt32(0,s,!0),e.setInt32(4,l,!0),e.getBigUint64(0,!0))}}const t=r=>Un(/^-?[0-9]+$/.test(r),"int64 invalid: ".concat(r)),n=r=>Un(/^[0-9]+$/.test(r),"uint64 invalid: ".concat(r));return{zero:"0",supported:!1,parse:r=>(typeof r!="string"&&(r=r.toString()),t(r),r),uParse:r=>(typeof r!="string"&&(r=r.toString()),n(r),r),enc:r=>(typeof r!="string"&&(r=r.toString()),t(r),fI(r)),uEnc:r=>(typeof r!="string"&&(r=r.toString()),n(r),fI(r)),dec:(r,o)=>function(i,a){let s=dx(i,a);const l=2147483648&s.hi;l&&(s=vI(s.lo,s.hi));const c=gI(s.lo,s.hi);return l?"-"+c:c}(r,o),uDec:(r,o)=>gI(r,o)}}();var Ne,Rl,Jn;function Il(e,t,n){if(t===n)return!0;if(e==Ne.BYTES){if(!(t instanceof Uint8Array&&n instanceof Uint8Array&&t.length===n.length))return!1;for(let r=0;r<t.length;r++)if(t[r]!==n[r])return!1;return!0}switch(e){case Ne.UINT64:case Ne.FIXED64:case Ne.INT64:case Ne.SFIXED64:case Ne.SINT64:return t==n}return!1}function jd(e,t){switch(e){case Ne.BOOL:return!1;case Ne.UINT64:case Ne.FIXED64:case Ne.INT64:case Ne.SFIXED64:case Ne.SINT64:return t==0?Nn.zero:"0";case Ne.DOUBLE:case Ne.FLOAT:return 0;case Ne.BYTES:return new Uint8Array(0);case Ne.STRING:return"";default:return 0}}function wI(e,t){switch(e){case Ne.BOOL:return t===!1;case Ne.STRING:return t==="";case Ne.BYTES:return t instanceof Uint8Array&&!t.byteLength;default:return t==0}}(function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"})(Ne||(Ne={})),function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING"}(Rl||(Rl={})),function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"}(Jn||(Jn={}));class gle{constructor(t){this.stack=[],this.textEncoder=t??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let t=0;for(let o=0;o<this.chunks.length;o++)t+=this.chunks[o].length;let n=new Uint8Array(t),r=0;for(let o=0;o<this.chunks.length;o++)n.set(this.chunks[o],r),r+=this.chunks[o].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let t=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(t.byteLength),this.raw(t)}tag(t,n){return this.uint32((t<<3|n)>>>0)}raw(t){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(t),this}uint32(t){for(lx(t);t>127;)this.buf.push(127&t|128),t>>>=7;return this.buf.push(t),this}int32(t){return Fg(t),yI(t,this.buf),this}bool(t){return this.buf.push(t?1:0),this}bytes(t){return this.uint32(t.byteLength),this.raw(t)}string(t){let n=this.textEncoder.encode(t);return this.uint32(n.byteLength),this.raw(n)}float(t){uI(t);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,t,!0),this.raw(n)}double(t){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,t,!0),this.raw(n)}fixed32(t){lx(t);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t,!0),this.raw(n)}sfixed32(t){Fg(t);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,t,!0),this.raw(n)}sint32(t){return Fg(t),yI(t=(t<<1^t>>31)>>>0,this.buf),this}sfixed64(t){let n=new Uint8Array(8),r=new DataView(n.buffer),o=Nn.enc(t);return r.setInt32(0,o.lo,!0),r.setInt32(4,o.hi,!0),this.raw(n)}fixed64(t){let n=new Uint8Array(8),r=new DataView(n.buffer),o=Nn.uEnc(t);return r.setInt32(0,o.lo,!0),r.setInt32(4,o.hi,!0),this.raw(n)}int64(t){let n=Nn.enc(t);return ux(n.lo,n.hi,this.buf),this}sint64(t){let n=Nn.enc(t),r=n.hi>>31;return ux(n.lo<<1^r,(n.hi<<1|n.lo>>>31)^r,this.buf),this}uint64(t){let n=Nn.uEnc(t);return ux(n.lo,n.hi,this.buf),this}}class vle{constructor(t,n){this.varint64=mle,this.uint32=fle,this.buf=t,this.len=t.length,this.pos=0,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.textDecoder=n??new TextDecoder}tag(){let t=this.uint32(),n=t>>>3,r=7&t;if(n<=0||r<0||r>5)throw new Error("illegal tag: field no "+n+" wire type "+r);return[n,r]}skip(t,n){let r=this.pos;switch(t){case Jn.Varint:for(;128&this.buf[this.pos++];);break;case Jn.Bit64:this.pos+=4;case Jn.Bit32:this.pos+=4;break;case Jn.LengthDelimited:let o=this.uint32();this.pos+=o;break;case Jn.StartGroup:for(;;){const[i,a]=this.tag();if(a===Jn.EndGroup){if(n!==void 0&&i!==n)throw new Error("invalid end group tag");break}this.skip(a,i)}break;default:throw new Error("cant skip wire type "+t)}return this.assertBounds(),this.buf.subarray(r,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return 0|this.uint32()}sint32(){let t=this.uint32();return t>>>1^-(1&t)}int64(){return Nn.dec(...this.varint64())}uint64(){return Nn.uDec(...this.varint64())}sint64(){let[t,n]=this.varint64(),r=-(1&t);return t=(t>>>1|(1&n)<<31)^r,n=n>>>1^r,Nn.dec(t,n)}bool(){let[t,n]=this.varint64();return t!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return Nn.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return Nn.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let t=this.uint32(),n=this.pos;return this.pos+=t,this.assertBounds(),this.buf.subarray(n,n+t)}string(){return this.textDecoder.decode(this.bytes())}}function kI(e){const t=e.field.localName,n=Object.create(null);return n[t]=function(r){const o=r.field;if(o.repeated)return[];if(o.default!==void 0)return o.default;switch(o.kind){case"enum":return o.T.values[0].no;case"scalar":return jd(o.T,o.L);case"message":const i=o.T,a=new i;return i.fieldWrapper?i.fieldWrapper.unwrapField(a):a;case"map":throw"map fields are not allowed to be extensions"}}(e),[n,()=>n[t]]}let Es="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Ug=[];for(let e=0;e<Es.length;e++)Ug[Es[e].charCodeAt(0)]=e;Ug[45]=Es.indexOf("+"),Ug[95]=Es.indexOf("/");const xI={dec(e){let t=3*e.length/4;e[e.length-2]=="="?t-=2:e[e.length-1]=="="&&(t-=1);let n,r=new Uint8Array(t),o=0,i=0,a=0;for(let s=0;s<e.length;s++){if(n=Ug[e.charCodeAt(s)],n===void 0)switch(e[s]){case"=":i=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(i){case 0:a=n,i=1;break;case 1:r[o++]=a<<2|(48&n)>>4,a=n,i=2;break;case 2:r[o++]=(15&a)<<4|(60&n)>>2,a=n,i=3;break;case 3:r[o++]=(3&a)<<6|n,i=0}}if(i==1)throw Error("invalid base64 string.");return r.subarray(0,o)},enc(e){let t,n="",r=0,o=0;for(let i=0;i<e.length;i++)switch(t=e[i],r){case 0:n+=Es[t>>2],o=(3&t)<<4,r=1;break;case 1:n+=Es[o|t>>4],o=(15&t)<<2,r=2;break;case 2:n+=Es[o|t>>6],n+=Es[63&t],r=0}return r&&(n+=Es[o],n+="=",r==1&&(n+="=")),n}};function ble(e,t,n){TI(t,e);const r=t.runtime.bin.makeReadOptions(n),o=function(s,l){if(!l.repeated&&(l.kind=="enum"||l.kind=="scalar")){for(let c=s.length-1;c>=0;--c)if(s[c].no==l.no)return[s[c]];return[]}return s.filter(c=>c.no===l.no)}(e.getType().runtime.bin.listUnknownFields(e),t.field),[i,a]=kI(t);for(const s of o)t.runtime.bin.readField(i,r.readerFactory(s.data),t.field,s.wireType,r);return a()}function yle(e,t,n,r){TI(t,e);const o=t.runtime.bin.makeReadOptions(r),i=t.runtime.bin.makeWriteOptions(r);if(_I(e,t)){const c=e.getType().runtime.bin.listUnknownFields(e).filter(u=>u.no!=t.field.no);e.getType().runtime.bin.discardUnknownFields(e);for(const u of c)e.getType().runtime.bin.onUnknownField(e,u.no,u.wireType,u.data)}const a=i.writerFactory();let s=t.field;!s.opt&&!s.repeated&&(s.kind=="enum"||s.kind=="scalar")&&(s=Object.assign(Object.assign({},t.field),{opt:!0})),t.runtime.bin.writeField(s,n,a,i);const l=o.readerFactory(a.finish());for(;l.pos<l.len;){const[c,u]=l.tag(),h=l.skip(u,c);e.getType().runtime.bin.onUnknownField(e,c,u,h)}}function _I(e,t){const n=e.getType();return t.extendee.typeName===n.typeName&&!!n.runtime.bin.listUnknownFields(e).find(r=>r.no==t.field.no)}function TI(e,t){Un(e.extendee.typeName==t.getType().typeName,"extension ".concat(e.typeName," can only be applied to message ").concat(e.extendee.typeName))}function SI(e,t){const n=e.localName;if(e.repeated)return t[n].length>0;if(e.oneof)return t[e.oneof.localName].case===n;switch(e.kind){case"enum":case"scalar":return e.opt||e.req?t[n]!==void 0:e.kind=="enum"?t[n]!==e.T.values[0].no:!wI(e.T,t[n]);case"message":return t[n]!==void 0;case"map":return Object.keys(t[n]).length>0}}function EI(e,t){const n=e.localName,r=!e.opt&&!e.req;if(e.repeated)t[n]=[];else if(e.oneof)t[e.oneof.localName]={case:void 0};else switch(e.kind){case"map":t[n]={};break;case"enum":t[n]=r?e.T.values[0].no:void 0;break;case"scalar":t[n]=r?jd(e.T,e.L):void 0;break;case"message":t[n]=void 0}}function Qc(e,t){if(e===null||typeof e!="object"||!Object.getOwnPropertyNames(cx.prototype).every(r=>r in e&&typeof e[r]=="function"))return!1;const n=e.getType();return n!==null&&typeof n=="function"&&"typeName"in n&&typeof n.typeName=="string"&&(t===void 0||n.typeName==t.typeName)}function CI(e,t){return Qc(t)||!e.fieldWrapper?t:e.fieldWrapper.wrapField(t)}Ne.DOUBLE,Ne.FLOAT,Ne.INT64,Ne.UINT64,Ne.INT32,Ne.UINT32,Ne.BOOL,Ne.STRING,Ne.BYTES;const OI={ignoreUnknownFields:!1},PI={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function wle(e){return e?Object.assign(Object.assign({},OI),e):OI}function kle(e){return e?Object.assign(Object.assign({},PI),e):PI}const Hg=Symbol(),Vg=Symbol();function Ma(e){if(e===null)return"null";switch(typeof e){case"object":return Array.isArray(e)?"array":"object";case"string":return e.length>100?"string":'"'.concat(e.split('"').join('\\"'),'"');default:return String(e)}}function AI(e,t,n,r,o){let i=n.localName;if(n.repeated){if(Un(n.kind!="map"),t===null)return;if(!Array.isArray(t))throw new Error("cannot decode field ".concat(o.typeName,".").concat(n.name," from JSON: ").concat(Ma(t)));const a=e[i];for(const s of t){if(s===null)throw new Error("cannot decode field ".concat(o.typeName,".").concat(n.name," from JSON: ").concat(Ma(s)));switch(n.kind){case"message":a.push(n.T.fromJson(s,r));break;case"enum":const l=hx(n.T,s,r.ignoreUnknownFields,!0);l!==Vg&&a.push(l);break;case"scalar":try{a.push(Ip(n.T,s,n.L,!0))}catch(c){let u="cannot decode field ".concat(o.typeName,".").concat(n.name," from JSON: ").concat(Ma(s));throw c instanceof Error&&c.message.length>0&&(u+=": ".concat(c.message)),new Error(u)}}}}else if(n.kind=="map"){if(t===null)return;if(typeof t!="object"||Array.isArray(t))throw new Error("cannot decode field ".concat(o.typeName,".").concat(n.name," from JSON: ").concat(Ma(t)));const a=e[i];for(const[s,l]of Object.entries(t)){if(l===null)throw new Error("cannot decode field ".concat(o.typeName,".").concat(n.name," from JSON: map value null"));let c;try{c=xle(n.K,s)}catch(u){let h="cannot decode map key for field ".concat(o.typeName,".").concat(n.name," from JSON: ").concat(Ma(t));throw u instanceof Error&&u.message.length>0&&(h+=": ".concat(u.message)),new Error(h)}switch(n.V.kind){case"message":a[c]=n.V.T.fromJson(l,r);break;case"enum":const u=hx(n.V.T,l,r.ignoreUnknownFields,!0);u!==Vg&&(a[c]=u);break;case"scalar":try{a[c]=Ip(n.V.T,l,Rl.BIGINT,!0)}catch(h){let p="cannot decode map value for field ".concat(o.typeName,".").concat(n.name," from JSON: ").concat(Ma(t));throw h instanceof Error&&h.message.length>0&&(p+=": ".concat(h.message)),new Error(p)}}}}else switch(n.oneof&&(e=e[n.oneof.localName]={case:i},i="value"),n.kind){case"message":const a=n.T;if(t===null&&a.typeName!="google.protobuf.Value")return;let s=e[i];Qc(s)?s.fromJson(t,r):(e[i]=s=a.fromJson(t,r),a.fieldWrapper&&!n.oneof&&(e[i]=a.fieldWrapper.unwrapField(s)));break;case"enum":const l=hx(n.T,t,r.ignoreUnknownFields,!1);switch(l){case Hg:EI(n,e);break;case Vg:break;default:e[i]=l}break;case"scalar":try{const c=Ip(n.T,t,n.L,!1);c===Hg?EI(n,e):e[i]=c}catch(c){let u="cannot decode field ".concat(o.typeName,".").concat(n.name," from JSON: ").concat(Ma(t));throw c instanceof Error&&c.message.length>0&&(u+=": ".concat(c.message)),new Error(u)}}}function xle(e,t){if(e===Ne.BOOL)switch(t){case"true":t=!0;break;case"false":t=!1}return Ip(e,t,Rl.BIGINT,!0).toString()}function Ip(e,t,n,r){if(t===null)return r?jd(e,n):Hg;switch(e){case Ne.DOUBLE:case Ne.FLOAT:if(t==="NaN")return Number.NaN;if(t==="Infinity")return Number.POSITIVE_INFINITY;if(t==="-Infinity")return Number.NEGATIVE_INFINITY;if(t===""||typeof t=="string"&&t.trim().length!==t.length||typeof t!="string"&&typeof t!="number")break;const o=Number(t);if(Number.isNaN(o)||!Number.isFinite(o))break;return e==Ne.FLOAT&&uI(o),o;case Ne.INT32:case Ne.FIXED32:case Ne.SFIXED32:case Ne.SINT32:case Ne.UINT32:let i;if(typeof t=="number"?i=t:typeof t=="string"&&t.length>0&&t.trim().length===t.length&&(i=Number(t)),i===void 0)break;return e==Ne.UINT32||e==Ne.FIXED32?lx(i):Fg(i),i;case Ne.INT64:case Ne.SFIXED64:case Ne.SINT64:if(typeof t!="number"&&typeof t!="string")break;const a=Nn.parse(t);return n?a.toString():a;case Ne.FIXED64:case Ne.UINT64:if(typeof t!="number"&&typeof t!="string")break;const s=Nn.uParse(t);return n?s.toString():s;case Ne.BOOL:if(typeof t!="boolean")break;return t;case Ne.STRING:if(typeof t!="string")break;try{encodeURIComponent(t)}catch{throw new Error("invalid UTF8")}return t;case Ne.BYTES:if(t==="")return new Uint8Array(0);if(typeof t!="string")break;return xI.dec(t)}throw new Error}function hx(e,t,n,r){if(t===null)return e.typeName=="google.protobuf.NullValue"?0:r?e.values[0].no:Hg;switch(typeof t){case"number":if(Number.isInteger(t))return t;break;case"string":const o=e.findName(t);if(o!==void 0)return o.no;if(n)return Vg}throw new Error("cannot decode enum ".concat(e.typeName," from JSON: ").concat(Ma(t)))}function _le(e){return!(!e.repeated&&e.kind!="map")||!(e.oneof||e.kind=="message"||e.opt||e.req)}function NI(e,t,n){if(e.kind=="map"){Un(typeof t=="object"&&t!=null);const r={},o=Object.entries(t);switch(e.V.kind){case"scalar":for(const[a,s]of o)r[a.toString()]=$g(e.V.T,s);break;case"message":for(const[a,s]of o)r[a.toString()]=s.toJson(n);break;case"enum":const i=e.V.T;for(const[a,s]of o)r[a.toString()]=px(i,s,n.enumAsInteger)}return n.emitDefaultValues||o.length>0?r:void 0}if(e.repeated){Un(Array.isArray(t));const r=[];switch(e.kind){case"scalar":for(let o=0;o<t.length;o++)r.push($g(e.T,t[o]));break;case"enum":for(let o=0;o<t.length;o++)r.push(px(e.T,t[o],n.enumAsInteger));break;case"message":for(let o=0;o<t.length;o++)r.push(t[o].toJson(n))}return n.emitDefaultValues||r.length>0?r:void 0}switch(e.kind){case"scalar":return $g(e.T,t);case"enum":return px(e.T,t,n.enumAsInteger);case"message":return CI(e.T,t).toJson(n)}}function px(e,t,n){var r;if(Un(typeof t=="number"),e.typeName=="google.protobuf.NullValue")return null;if(n)return t;const o=e.findNumber(t);return(r=o==null?void 0:o.name)!==null&&r!==void 0?r:t}function $g(e,t){switch(e){case Ne.INT32:case Ne.SFIXED32:case Ne.SINT32:case Ne.FIXED32:case Ne.UINT32:return Un(typeof t=="number"),t;case Ne.FLOAT:case Ne.DOUBLE:return Un(typeof t=="number"),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":t;case Ne.STRING:return Un(typeof t=="string"),t;case Ne.BOOL:return Un(typeof t=="boolean"),t;case Ne.UINT64:case Ne.FIXED64:case Ne.INT64:case Ne.SFIXED64:case Ne.SINT64:return Un(typeof t=="bigint"||typeof t=="string"||typeof t=="number"),t.toString();case Ne.BYTES:return Un(t instanceof Uint8Array),xI.enc(t)}}const zd=Symbol("@bufbuild/protobuf/unknown-fields"),RI={readUnknownFields:!0,readerFactory:e=>new vle(e)},II={writeUnknownFields:!0,writerFactory:()=>new gle};function Tle(e){return e?Object.assign(Object.assign({},RI),e):RI}function Sle(e){return e?Object.assign(Object.assign({},II),e):II}function MI(e,t,n,r,o){let{repeated:i,localName:a}=n;switch(n.oneof&&((e=e[n.oneof.localName]).case!=a&&delete e.value,e.case=a,a="value"),n.kind){case"scalar":case"enum":const s=n.kind=="enum"?Ne.INT32:n.T;let l=Wg;if(n.kind=="scalar"&&n.L>0&&(l=Ele),i){let p=e[a];if(r==Jn.LengthDelimited&&s!=Ne.STRING&&s!=Ne.BYTES){let d=t.uint32()+t.pos;for(;t.pos<d;)p.push(l(t,s))}else p.push(l(t,s))}else e[a]=l(t,s);break;case"message":const c=n.T;i?e[a].push(qg(t,new c,o,n)):Qc(e[a])?qg(t,e[a],o,n):(e[a]=qg(t,new c,o,n),c.fieldWrapper&&!n.oneof&&!n.repeated&&(e[a]=c.fieldWrapper.unwrapField(e[a])));break;case"map":let[u,h]=function(p,d,f){const g=d.uint32(),m=d.pos+g;let v,y;for(;d.pos<m;){const[b]=d.tag();switch(b){case 1:v=Wg(d,p.K);break;case 2:switch(p.V.kind){case"scalar":y=Wg(d,p.V.T);break;case"enum":y=d.int32();break;case"message":y=qg(d,new p.V.T,f,void 0)}}}if(v===void 0&&(v=jd(p.K,Rl.BIGINT)),typeof v!="string"&&typeof v!="number"&&(v=v.toString()),y===void 0)switch(p.V.kind){case"scalar":y=jd(p.V.T,Rl.BIGINT);break;case"enum":y=p.V.T.values[0].no;break;case"message":y=new p.V.T}return[v,y]}(n,t,o);e[a][u]=h}}function qg(e,t,n,r){const o=t.getType().runtime.bin,i=r==null?void 0:r.delimited;return o.readMessage(t,e,i?r.no:e.uint32(),n,i),t}function Ele(e,t){const n=Wg(e,t);return typeof n=="bigint"?n.toString():n}function Wg(e,t){switch(t){case Ne.STRING:return e.string();case Ne.BOOL:return e.bool();case Ne.DOUBLE:return e.double();case Ne.FLOAT:return e.float();case Ne.INT32:return e.int32();case Ne.INT64:return e.int64();case Ne.UINT64:return e.uint64();case Ne.FIXED64:return e.fixed64();case Ne.BYTES:return e.bytes();case Ne.FIXED32:return e.fixed32();case Ne.SFIXED32:return e.sfixed32();case Ne.SFIXED64:return e.sfixed64();case Ne.SINT64:return e.sint64();case Ne.UINT32:return e.uint32();case Ne.SINT32:return e.sint32()}}function LI(e,t,n,r){Un(t!==void 0);const o=e.repeated;switch(e.kind){case"scalar":case"enum":let i=e.kind=="enum"?Ne.INT32:e.T;if(o)if(Un(Array.isArray(t)),e.packed)(function(a,s,l,c){if(!c.length)return;a.tag(l,Jn.LengthDelimited).fork();let[,u]=jI(s);for(let h=0;h<c.length;h++)a[u](c[h]);a.join()})(n,i,e.no,t);else for(const a of t)Mp(n,i,e.no,a);else Mp(n,i,e.no,t);break;case"message":if(o){Un(Array.isArray(t));for(const a of t)DI(n,r,e,a)}else DI(n,r,e,t);break;case"map":Un(typeof t=="object"&&t!=null);for(const[a,s]of Object.entries(t))Cle(n,r,e,a,s)}}function Cle(e,t,n,r,o){e.tag(n.no,Jn.LengthDelimited),e.fork();let i=r;switch(n.K){case Ne.INT32:case Ne.FIXED32:case Ne.UINT32:case Ne.SFIXED32:case Ne.SINT32:i=Number.parseInt(r);break;case Ne.BOOL:Un(r=="true"||r=="false"),i=r=="true"}switch(Mp(e,n.K,1,i),n.V.kind){case"scalar":Mp(e,n.V.T,2,o);break;case"enum":Mp(e,Ne.INT32,2,o);break;case"message":Un(o!==void 0),e.tag(2,Jn.LengthDelimited).bytes(o.toBinary(t))}e.join()}function DI(e,t,n,r){const o=CI(n.T,r);n.delimited?e.tag(n.no,Jn.StartGroup).raw(o.toBinary(t)).tag(n.no,Jn.EndGroup):e.tag(n.no,Jn.LengthDelimited).bytes(o.toBinary(t))}function Mp(e,t,n,r){Un(r!==void 0);let[o,i]=jI(t);e.tag(n,o)[i](r)}function jI(e){let t=Jn.Varint;switch(e){case Ne.BYTES:case Ne.STRING:t=Jn.LengthDelimited;break;case Ne.DOUBLE:case Ne.FIXED64:case Ne.SFIXED64:t=Jn.Bit64;break;case Ne.FIXED32:case Ne.SFIXED32:case Ne.FLOAT:t=Jn.Bit32}return[t,Ne[e].toLowerCase()]}function Gg(e){if(e===void 0)return e;if(Qc(e))return e.clone();if(e instanceof Uint8Array){const t=new Uint8Array(e.byteLength);return t.set(e),t}return e}function Lp(e){return e instanceof Uint8Array?e:new Uint8Array(e)}class Ole{constructor(t,n){this._fields=t,this._normalizer=n}findJsonName(t){if(!this.jsonNames){const n={};for(const r of this.list())n[r.jsonName]=n[r.name]=r;this.jsonNames=n}return this.jsonNames[t]}find(t){if(!this.numbers){const n={};for(const r of this.list())n[r.no]=r;this.numbers=n}return this.numbers[t]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((t,n)=>t.no-n.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const t=this.members;let n;for(const r of this.list())r.oneof?r.oneof!==n&&(n=r.oneof,t.push(n)):t.push(r)}return this.members}}function zI(e,t){const n=FI(e);return t?n:Ile(Rle(n))}const Ple=FI;function FI(e){let t=!1;const n=[];for(let r=0;r<e.length;r++){let o=e.charAt(r);switch(o){case"_":t=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(o),t=!1;break;default:t&&(t=!1,o=o.toUpperCase()),n.push(o)}}return n.join("")}const Ale=new Set(["constructor","toString","toJSON","valueOf"]),Nle=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),BI=e=>"".concat(e,"$"),Rle=e=>Nle.has(e)?BI(e):e,Ile=e=>Ale.has(e)?BI(e):e;class Mle{constructor(t){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=t,this.localName=function(n){return zI(n,!1)}(t)}addField(t){Un(t.oneof===this,"field ".concat(t.name," not one of ").concat(this.name)),this.fields.push(t)}findField(t){if(!this._lookup){this._lookup=Object.create(null);for(let n=0;n<this.fields.length;n++)this._lookup[this.fields[n].localName]=this.fields[n]}return this._lookup[t]}}const me=function(e,t,n){return{syntax:e,json:{makeReadOptions:wle,makeWriteOptions:kle,readMessage(r,o,i,a){if(o==null||Array.isArray(o)||typeof o!="object")throw new Error("cannot decode message ".concat(r.typeName," from JSON: ").concat(Ma(o)));a=a??new r;const s=new Map,l=i.typeRegistry;for(const[c,u]of Object.entries(o)){const h=r.fields.findJsonName(c);if(h){if(h.oneof){if(u===null&&h.kind=="scalar")continue;const p=s.get(h.oneof);if(p!==void 0)throw new Error("cannot decode message ".concat(r.typeName,' from JSON: multiple keys for oneof "').concat(h.oneof.name,'" present: "').concat(p,'", "').concat(c,'"'));s.set(h.oneof,c)}AI(a,u,h,i,r)}else{let p=!1;if(l!=null&&l.findExtension&&c.startsWith("[")&&c.endsWith("]")){const d=l.findExtension(c.substring(1,c.length-1));if(d&&d.extendee.typeName==r.typeName){p=!0;const[f,g]=kI(d);AI(f,u,d.field,i,d),yle(a,d,g(),i)}}if(!p&&!i.ignoreUnknownFields)throw new Error("cannot decode message ".concat(r.typeName,' from JSON: key "').concat(c,'" is unknown'))}}return a},writeMessage(r,o){const i=r.getType(),a={};let s;try{for(s of i.fields.byNumber()){if(!SI(s,r)){if(s.req)throw"required field not set";if(!o.emitDefaultValues||!_le(s))continue}const c=NI(s,s.oneof?r[s.oneof.localName].value:r[s.localName],o);c!==void 0&&(a[o.useProtoFieldName?s.name:s.jsonName]=c)}const l=o.typeRegistry;if(l!=null&&l.findExtensionFor)for(const c of i.runtime.bin.listUnknownFields(r)){const u=l.findExtensionFor(i.typeName,c.no);if(u&&_I(r,u)){const h=ble(r,u,o),p=NI(u.field,h,o);p!==void 0&&(a[u.field.jsonName]=p)}}}catch(l){const c=s?"cannot encode field ".concat(i.typeName,".").concat(s.name," to JSON"):"cannot encode message ".concat(i.typeName," to JSON"),u=l instanceof Error?l.message:String(l);throw new Error(c+(u.length>0?": ".concat(u):""))}return a},readScalar:(r,o,i)=>Ip(r,o,i??Rl.BIGINT,!0),writeScalar(r,o,i){if(o!==void 0&&(i||wI(r,o)))return $g(r,o)},debug:Ma},bin:{makeReadOptions:Tle,makeWriteOptions:Sle,listUnknownFields(r){var o;return(o=r[zd])!==null&&o!==void 0?o:[]},discardUnknownFields(r){delete r[zd]},writeUnknownFields(r,o){const i=r[zd];if(i)for(const a of i)o.tag(a.no,a.wireType).raw(a.data)},onUnknownField(r,o,i,a){const s=r;Array.isArray(s[zd])||(s[zd]=[]),s[zd].push({no:o,wireType:i,data:a})},readMessage(r,o,i,a,s){const l=r.getType(),c=s?o.len:o.pos+i;let u,h;for(;o.pos<c&&([u,h]=o.tag(),s!==!0||h!=Jn.EndGroup);){const p=l.fields.find(u);if(p)MI(r,o,p,h,a);else{const d=o.skip(h,u);a.readUnknownFields&&this.onUnknownField(r,u,h,d)}}if(s&&(h!=Jn.EndGroup||u!==i))throw new Error("invalid end group tag")},readField:MI,writeMessage(r,o,i){const a=r.getType();for(const s of a.fields.byNumber())if(SI(s,r))LI(s,s.oneof?r[s.oneof.localName].value:r[s.localName],o,i);else if(s.req)throw new Error("cannot encode field ".concat(a.typeName,".").concat(s.name," to binary: required field not set"));return i.writeUnknownFields&&this.writeUnknownFields(r,o),o},writeField(r,o,i,a){o!==void 0&&LI(r,o,i,a)}},util:Object.assign(Object.assign({},{setEnumType:hI,initPartial(r,o){if(r===void 0)return;const i=o.getType();for(const a of i.fields.byMember()){const s=a.localName,l=o,c=r;if(c[s]!=null)switch(a.kind){case"oneof":const u=c[s].case;if(u===void 0)continue;const h=a.findField(u);let p=c[s].value;h&&h.kind=="message"&&!Qc(p,h.T)?p=new h.T(p):h&&h.kind==="scalar"&&h.T===Ne.BYTES&&(p=Lp(p)),l[s]={case:u,value:p};break;case"scalar":case"enum":let d=c[s];a.T===Ne.BYTES&&(d=a.repeated?d.map(Lp):Lp(d)),l[s]=d;break;case"map":switch(a.V.kind){case"scalar":case"enum":if(a.V.T===Ne.BYTES)for(const[m,v]of Object.entries(c[s]))l[s][m]=Lp(v);else Object.assign(l[s],c[s]);break;case"message":const g=a.V.T;for(const m of Object.keys(c[s])){let v=c[s][m];g.fieldWrapper||(v=new g(v)),l[s][m]=v}}break;case"message":const f=a.T;if(a.repeated)l[s]=c[s].map(g=>Qc(g,f)?g:new f(g));else{const g=c[s];f.fieldWrapper?f.typeName==="google.protobuf.BytesValue"?l[s]=Lp(g):l[s]=g:l[s]=Qc(g,f)?g:new f(g)}}}},equals:(r,o,i)=>o===i||!(!o||!i)&&r.fields.byMember().every(a=>{const s=o[a.localName],l=i[a.localName];if(a.repeated){if(s.length!==l.length)return!1;switch(a.kind){case"message":return s.every((c,u)=>a.T.equals(c,l[u]));case"scalar":return s.every((c,u)=>Il(a.T,c,l[u]));case"enum":return s.every((c,u)=>Il(Ne.INT32,c,l[u]))}throw new Error("repeated cannot contain ".concat(a.kind))}switch(a.kind){case"message":return a.T.equals(s,l);case"enum":return Il(Ne.INT32,s,l);case"scalar":return Il(a.T,s,l);case"oneof":if(s.case!==l.case)return!1;const c=a.findField(s.case);if(c===void 0)return!0;switch(c.kind){case"message":return c.T.equals(s.value,l.value);case"enum":return Il(Ne.INT32,s.value,l.value);case"scalar":return Il(c.T,s.value,l.value)}throw new Error("oneof cannot contain ".concat(c.kind));case"map":const u=Object.keys(s).concat(Object.keys(l));switch(a.V.kind){case"message":const h=a.V.T;return u.every(d=>h.equals(s[d],l[d]));case"enum":return u.every(d=>Il(Ne.INT32,s[d],l[d]));case"scalar":const p=a.V.T;return u.every(d=>Il(p,s[d],l[d]))}}}),clone(r){const o=r.getType(),i=new o,a=i;for(const s of o.fields.byMember()){const l=r[s.localName];let c;if(s.repeated)c=l.map(Gg);else if(s.kind=="map"){c=a[s.localName];for(const[u,h]of Object.entries(l))c[u]=Gg(h)}else c=s.kind=="oneof"?s.findField(l.case)?{case:l.case,value:Gg(l.value)}:{case:void 0}:Gg(l);a[s.localName]=c}for(const s of o.runtime.bin.listUnknownFields(r))o.runtime.bin.onUnknownField(a,s.no,s.wireType,s.data);return i}}),{newFieldList:t,initFields:n}),makeMessageType(r,o,i){return function(a,s,l,c){var u;const h=(u=c==null?void 0:c.localName)!==null&&u!==void 0?u:s.substring(s.lastIndexOf(".")+1),p={[h]:function(d){a.util.initFields(this),a.util.initPartial(d,this)}}[h];return Object.setPrototypeOf(p.prototype,new cx),Object.assign(p,{runtime:a,typeName:s,fields:a.util.newFieldList(l),fromBinary:(d,f)=>new p().fromBinary(d,f),fromJson:(d,f)=>new p().fromJson(d,f),fromJsonString:(d,f)=>new p().fromJsonString(d,f),equals:(d,f)=>a.util.equals(p,d,f)}),p}(this,r,o,i)},makeEnum:ple,makeEnumType:pI,getEnumType:hle,makeExtension(r,o,i){return function(a,s,l,c){let u;return{typeName:s,extendee:l,get field(){if(!u){const h=typeof c=="function"?c():c;h.name=s.split(".").pop(),h.jsonName="[".concat(s,"]"),u=a.util.newFieldList([h]).list()[0]}return u},runtime:a}}(this,r,o,i)}}}("proto3",e=>new Ole(e,t=>function(n,r){var o,i,a,s,l,c;const u=[];let h;for(const p of typeof n=="function"?n():n){const d=p;if(d.localName=zI(p.name,p.oneof!==void 0),d.jsonName=(o=p.jsonName)!==null&&o!==void 0?o:Ple(p.name),d.repeated=(i=p.repeated)!==null&&i!==void 0&&i,p.kind=="scalar"&&(d.L=(a=p.L)!==null&&a!==void 0?a:Rl.BIGINT),d.delimited=(s=p.delimited)!==null&&s!==void 0&&s,d.req=(l=p.req)!==null&&l!==void 0&&l,d.opt=(c=p.opt)!==null&&c!==void 0&&c,p.packed===void 0&&(d.packed=p.kind=="enum"||p.kind=="scalar"&&p.T!=Ne.BYTES&&p.T!=Ne.STRING),p.oneof!==void 0){const f=typeof p.oneof=="string"?p.oneof:p.oneof.name;(!h||h.name!=f)&&(h=new Mle(f)),d.oneof=h,h.addField(d)}u.push(d)}return u}(t)),e=>{for(const t of e.getType().fields.byMember()){if(t.opt)continue;const n=t.localName,r=e;if(t.repeated)r[n]=[];else switch(t.kind){case"oneof":r[n]={case:void 0};break;case"enum":r[n]=0;break;case"map":r[n]={};break;case"scalar":r[n]=jd(t.T,t.L)}}});class bo extends cx{constructor(t){super(),this.seconds=Nn.zero,this.nanos=0,me.util.initPartial(t,this)}fromJson(t,n){if(typeof t!="string")throw new Error("cannot decode google.protobuf.Timestamp from JSON: ".concat(me.json.debug(t)));const r=t.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!r)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const o=Date.parse(r[1]+"-"+r[2]+"-"+r[3]+"T"+r[4]+":"+r[5]+":"+r[6]+(r[8]?r[8]:"Z"));if(Number.isNaN(o))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(o<Date.parse("0001-01-01T00:00:00Z")||o>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=Nn.parse(o/1e3),this.nanos=0,r[7]&&(this.nanos=parseInt("1"+r[7]+"0".repeat(9-r[7].length))-1e9),this}toJson(t){const n=1e3*Number(this.seconds);if(n<Date.parse("0001-01-01T00:00:00Z")||n>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let r="Z";if(this.nanos>0){const o=(this.nanos+1e9).toString().substring(1);r=o.substring(3)==="000000"?"."+o.substring(0,3)+"Z":o.substring(6)==="000"?"."+o.substring(0,6)+"Z":"."+o+"Z"}return new Date(n).toISOString().replace(".000Z",r)}toDate(){return new Date(1e3*Number(this.seconds)+Math.ceil(this.nanos/1e6))}static now(){return bo.fromDate(new Date)}static fromDate(t){const n=t.getTime();return new bo({seconds:Nn.parse(Math.floor(n/1e3)),nanos:n%1e3*1e6})}static fromBinary(t,n){return new bo().fromBinary(t,n)}static fromJson(t,n){return new bo().fromJson(t,n)}static fromJsonString(t,n){return new bo().fromJsonString(t,n)}static equals(t,n){return me.util.equals(bo,t,n)}}bo.runtime=me,bo.typeName="google.protobuf.Timestamp",bo.fields=me.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);const Lle=me.makeMessageType("livekit.MetricsBatch",()=>[{no:1,name:"timestamp_ms",kind:"scalar",T:3},{no:2,name:"normalized_timestamp",kind:"message",T:bo},{no:3,name:"str_data",kind:"scalar",T:9,repeated:!0},{no:4,name:"time_series",kind:"message",T:Dle,repeated:!0},{no:5,name:"events",kind:"message",T:zle,repeated:!0}]),Dle=me.makeMessageType("livekit.TimeSeriesMetric",()=>[{no:1,name:"label",kind:"scalar",T:13},{no:2,name:"participant_identity",kind:"scalar",T:13},{no:3,name:"track_sid",kind:"scalar",T:13},{no:4,name:"samples",kind:"message",T:jle,repeated:!0},{no:5,name:"rid",kind:"scalar",T:13}]),jle=me.makeMessageType("livekit.MetricSample",()=>[{no:1,name:"timestamp_ms",kind:"scalar",T:3},{no:2,name:"normalized_timestamp",kind:"message",T:bo},{no:3,name:"value",kind:"scalar",T:2}]),zle=me.makeMessageType("livekit.EventMetric",()=>[{no:1,name:"label",kind:"scalar",T:13},{no:2,name:"participant_identity",kind:"scalar",T:13},{no:3,name:"track_sid",kind:"scalar",T:13},{no:4,name:"start_timestamp_ms",kind:"scalar",T:3},{no:5,name:"end_timestamp_ms",kind:"scalar",T:3,opt:!0},{no:6,name:"normalized_start_timestamp",kind:"message",T:bo},{no:7,name:"normalized_end_timestamp",kind:"message",T:bo,opt:!0},{no:8,name:"metadata",kind:"scalar",T:9},{no:9,name:"rid",kind:"scalar",T:13}]),UI=me.makeEnum("livekit.BackupCodecPolicy",[{no:0,name:"PREFER_REGRESSION"},{no:1,name:"SIMULCAST"},{no:2,name:"REGRESSION"}]),Vi=me.makeEnum("livekit.TrackType",[{no:0,name:"AUDIO"},{no:1,name:"VIDEO"},{no:2,name:"DATA"}]),ir=me.makeEnum("livekit.TrackSource",[{no:0,name:"UNKNOWN"},{no:1,name:"CAMERA"},{no:2,name:"MICROPHONE"},{no:3,name:"SCREEN_SHARE"},{no:4,name:"SCREEN_SHARE_AUDIO"}]),Fd=me.makeEnum("livekit.VideoQuality",[{no:0,name:"LOW"},{no:1,name:"MEDIUM"},{no:2,name:"HIGH"},{no:3,name:"OFF"}]),Dp=me.makeEnum("livekit.ConnectionQuality",[{no:0,name:"POOR"},{no:1,name:"GOOD"},{no:2,name:"EXCELLENT"},{no:3,name:"LOST"}]),jp=me.makeEnum("livekit.ClientConfigSetting",[{no:0,name:"UNSET"},{no:1,name:"DISABLED"},{no:2,name:"ENABLED"}]),$i=me.makeEnum("livekit.DisconnectReason",[{no:0,name:"UNKNOWN_REASON"},{no:1,name:"CLIENT_INITIATED"},{no:2,name:"DUPLICATE_IDENTITY"},{no:3,name:"SERVER_SHUTDOWN"},{no:4,name:"PARTICIPANT_REMOVED"},{no:5,name:"ROOM_DELETED"},{no:6,name:"STATE_MISMATCH"},{no:7,name:"JOIN_FAILURE"},{no:8,name:"MIGRATION"},{no:9,name:"SIGNAL_CLOSE"},{no:10,name:"ROOM_CLOSED"},{no:11,name:"USER_UNAVAILABLE"},{no:12,name:"USER_REJECTED"},{no:13,name:"SIP_TRUNK_FAILURE"}]),Bd=me.makeEnum("livekit.ReconnectReason",[{no:0,name:"RR_UNKNOWN"},{no:1,name:"RR_SIGNAL_DISCONNECTED"},{no:2,name:"RR_PUBLISHER_FAILED"},{no:3,name:"RR_SUBSCRIBER_FAILED"},{no:4,name:"RR_SWITCH_CANDIDATE"}]),Fle=me.makeEnum("livekit.SubscriptionError",[{no:0,name:"SE_UNKNOWN"},{no:1,name:"SE_CODEC_UNSUPPORTED"},{no:2,name:"SE_TRACK_NOTFOUND"}]),La=me.makeEnum("livekit.AudioTrackFeature",[{no:0,name:"TF_STEREO"},{no:1,name:"TF_NO_DTX"},{no:2,name:"TF_AUTO_GAIN_CONTROL"},{no:3,name:"TF_ECHO_CANCELLATION"},{no:4,name:"TF_NOISE_SUPPRESSION"},{no:5,name:"TF_ENHANCED_NOISE_CANCELLATION"}]),mx=me.makeMessageType("livekit.Room",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"empty_timeout",kind:"scalar",T:13},{no:14,name:"departure_timeout",kind:"scalar",T:13},{no:4,name:"max_participants",kind:"scalar",T:13},{no:5,name:"creation_time",kind:"scalar",T:3},{no:15,name:"creation_time_ms",kind:"scalar",T:3},{no:6,name:"turn_password",kind:"scalar",T:9},{no:7,name:"enabled_codecs",kind:"message",T:Kg,repeated:!0},{no:8,name:"metadata",kind:"scalar",T:9},{no:9,name:"num_participants",kind:"scalar",T:13},{no:11,name:"num_publishers",kind:"scalar",T:13},{no:10,name:"active_recording",kind:"scalar",T:8},{no:13,name:"version",kind:"message",T:ZI}]),Kg=me.makeMessageType("livekit.Codec",()=>[{no:1,name:"mime",kind:"scalar",T:9},{no:2,name:"fmtp_line",kind:"scalar",T:9}]),Ble=me.makeMessageType("livekit.ParticipantPermission",()=>[{no:1,name:"can_subscribe",kind:"scalar",T:8},{no:2,name:"can_publish",kind:"scalar",T:8},{no:3,name:"can_publish_data",kind:"scalar",T:8},{no:9,name:"can_publish_sources",kind:"enum",T:me.getEnumType(ir),repeated:!0},{no:7,name:"hidden",kind:"scalar",T:8},{no:8,name:"recorder",kind:"scalar",T:8},{no:10,name:"can_update_metadata",kind:"scalar",T:8},{no:11,name:"agent",kind:"scalar",T:8},{no:12,name:"can_subscribe_metrics",kind:"scalar",T:8}]),zp=me.makeMessageType("livekit.ParticipantInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"identity",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:me.getEnumType(fx)},{no:4,name:"tracks",kind:"message",T:Hd,repeated:!0},{no:5,name:"metadata",kind:"scalar",T:9},{no:6,name:"joined_at",kind:"scalar",T:3},{no:17,name:"joined_at_ms",kind:"scalar",T:3},{no:9,name:"name",kind:"scalar",T:9},{no:10,name:"version",kind:"scalar",T:13},{no:11,name:"permission",kind:"message",T:Ble},{no:12,name:"region",kind:"scalar",T:9},{no:13,name:"is_publisher",kind:"scalar",T:8},{no:14,name:"kind",kind:"enum",T:me.getEnumType(Ud)},{no:15,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:16,name:"disconnect_reason",kind:"enum",T:me.getEnumType($i)},{no:18,name:"kind_details",kind:"enum",T:me.getEnumType(Ule),repeated:!0}]),fx=me.makeEnum("livekit.ParticipantInfo.State",[{no:0,name:"JOINING"},{no:1,name:"JOINED"},{no:2,name:"ACTIVE"},{no:3,name:"DISCONNECTED"}]),Ud=me.makeEnum("livekit.ParticipantInfo.Kind",[{no:0,name:"STANDARD"},{no:1,name:"INGRESS"},{no:2,name:"EGRESS"},{no:3,name:"SIP"},{no:4,name:"AGENT"}]),Ule=me.makeEnum("livekit.ParticipantInfo.KindDetail",[{no:0,name:"CLOUD_AGENT"},{no:1,name:"FORWARDED"}]),Jo=me.makeEnum("livekit.Encryption.Type",[{no:0,name:"NONE"},{no:1,name:"GCM"},{no:2,name:"CUSTOM"}]),Hle=me.makeMessageType("livekit.SimulcastCodecInfo",()=>[{no:1,name:"mime_type",kind:"scalar",T:9},{no:2,name:"mid",kind:"scalar",T:9},{no:3,name:"cid",kind:"scalar",T:9},{no:4,name:"layers",kind:"message",T:Xc,repeated:!0}]),Hd=me.makeMessageType("livekit.TrackInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:me.getEnumType(Vi)},{no:3,name:"name",kind:"scalar",T:9},{no:4,name:"muted",kind:"scalar",T:8},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"simulcast",kind:"scalar",T:8},{no:8,name:"disable_dtx",kind:"scalar",T:8},{no:9,name:"source",kind:"enum",T:me.getEnumType(ir)},{no:10,name:"layers",kind:"message",T:Xc,repeated:!0},{no:11,name:"mime_type",kind:"scalar",T:9},{no:12,name:"mid",kind:"scalar",T:9},{no:13,name:"codecs",kind:"message",T:Hle,repeated:!0},{no:14,name:"stereo",kind:"scalar",T:8},{no:15,name:"disable_red",kind:"scalar",T:8},{no:16,name:"encryption",kind:"enum",T:me.getEnumType(Jo)},{no:17,name:"stream",kind:"scalar",T:9},{no:18,name:"version",kind:"message",T:ZI},{no:19,name:"audio_features",kind:"enum",T:me.getEnumType(La),repeated:!0},{no:20,name:"backup_codec_policy",kind:"enum",T:me.getEnumType(UI)}]),Xc=me.makeMessageType("livekit.VideoLayer",()=>[{no:1,name:"quality",kind:"enum",T:me.getEnumType(Fd)},{no:2,name:"width",kind:"scalar",T:13},{no:3,name:"height",kind:"scalar",T:13},{no:4,name:"bitrate",kind:"scalar",T:13},{no:5,name:"ssrc",kind:"scalar",T:13}]),yo=me.makeMessageType("livekit.DataPacket",()=>[{no:1,name:"kind",kind:"enum",T:me.getEnumType(Wt)},{no:4,name:"participant_identity",kind:"scalar",T:9},{no:5,name:"destination_identities",kind:"scalar",T:9,repeated:!0},{no:2,name:"user",kind:"message",T:VI,oneof:"value"},{no:3,name:"speaker",kind:"message",T:Vle,oneof:"value"},{no:6,name:"sip_dtmf",kind:"message",T:$I,oneof:"value"},{no:7,name:"transcription",kind:"message",T:$le,oneof:"value"},{no:8,name:"metrics",kind:"message",T:Lle,oneof:"value"},{no:9,name:"chat_message",kind:"message",T:gx,oneof:"value"},{no:10,name:"rpc_request",kind:"message",T:qI,oneof:"value"},{no:11,name:"rpc_ack",kind:"message",T:WI,oneof:"value"},{no:12,name:"rpc_response",kind:"message",T:GI,oneof:"value"},{no:13,name:"stream_header",kind:"message",T:bx,oneof:"value"},{no:14,name:"stream_chunk",kind:"message",T:yx,oneof:"value"},{no:15,name:"stream_trailer",kind:"message",T:wx,oneof:"value"}]),Wt=me.makeEnum("livekit.DataPacket.Kind",[{no:0,name:"RELIABLE"},{no:1,name:"LOSSY"}]),Vle=me.makeMessageType("livekit.ActiveSpeakerUpdate",()=>[{no:1,name:"speakers",kind:"message",T:HI,repeated:!0}]),HI=me.makeMessageType("livekit.SpeakerInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"level",kind:"scalar",T:2},{no:3,name:"active",kind:"scalar",T:8}]),VI=me.makeMessageType("livekit.UserPacket",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:5,name:"participant_identity",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12},{no:3,name:"destination_sids",kind:"scalar",T:9,repeated:!0},{no:6,name:"destination_identities",kind:"scalar",T:9,repeated:!0},{no:4,name:"topic",kind:"scalar",T:9,opt:!0},{no:8,name:"id",kind:"scalar",T:9,opt:!0},{no:9,name:"start_time",kind:"scalar",T:4,opt:!0},{no:10,name:"end_time",kind:"scalar",T:4,opt:!0},{no:11,name:"nonce",kind:"scalar",T:12}]),$I=me.makeMessageType("livekit.SipDTMF",()=>[{no:3,name:"code",kind:"scalar",T:13},{no:4,name:"digit",kind:"scalar",T:9}]),$le=me.makeMessageType("livekit.Transcription",()=>[{no:2,name:"transcribed_participant_identity",kind:"scalar",T:9},{no:3,name:"track_id",kind:"scalar",T:9},{no:4,name:"segments",kind:"message",T:qle,repeated:!0}]),qle=me.makeMessageType("livekit.TranscriptionSegment",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"text",kind:"scalar",T:9},{no:3,name:"start_time",kind:"scalar",T:4},{no:4,name:"end_time",kind:"scalar",T:4},{no:5,name:"final",kind:"scalar",T:8},{no:6,name:"language",kind:"scalar",T:9}]),gx=me.makeMessageType("livekit.ChatMessage",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"timestamp",kind:"scalar",T:3},{no:3,name:"edit_timestamp",kind:"scalar",T:3,opt:!0},{no:4,name:"message",kind:"scalar",T:9},{no:5,name:"deleted",kind:"scalar",T:8},{no:6,name:"generated",kind:"scalar",T:8}]),qI=me.makeMessageType("livekit.RpcRequest",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"method",kind:"scalar",T:9},{no:3,name:"payload",kind:"scalar",T:9},{no:4,name:"response_timeout_ms",kind:"scalar",T:13},{no:5,name:"version",kind:"scalar",T:13}]),WI=me.makeMessageType("livekit.RpcAck",()=>[{no:1,name:"request_id",kind:"scalar",T:9}]),GI=me.makeMessageType("livekit.RpcResponse",()=>[{no:1,name:"request_id",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:9,oneof:"value"},{no:3,name:"error",kind:"message",T:KI,oneof:"value"}]),KI=me.makeMessageType("livekit.RpcError",()=>[{no:1,name:"code",kind:"scalar",T:13},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"data",kind:"scalar",T:9}]),YI=me.makeMessageType("livekit.ParticipantTracks",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sids",kind:"scalar",T:9,repeated:!0}]),Wle=me.makeMessageType("livekit.ServerInfo",()=>[{no:1,name:"edition",kind:"enum",T:me.getEnumType(Gle)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"region",kind:"scalar",T:9},{no:5,name:"node_id",kind:"scalar",T:9},{no:6,name:"debug_info",kind:"scalar",T:9},{no:7,name:"agent_protocol",kind:"scalar",T:5}]),Gle=me.makeEnum("livekit.ServerInfo.Edition",[{no:0,name:"Standard"},{no:1,name:"Cloud"}]),Kle=me.makeMessageType("livekit.ClientInfo",()=>[{no:1,name:"sdk",kind:"enum",T:me.getEnumType(QI)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"os",kind:"scalar",T:9},{no:5,name:"os_version",kind:"scalar",T:9},{no:6,name:"device_model",kind:"scalar",T:9},{no:7,name:"browser",kind:"scalar",T:9},{no:8,name:"browser_version",kind:"scalar",T:9},{no:9,name:"address",kind:"scalar",T:9},{no:10,name:"network",kind:"scalar",T:9},{no:11,name:"other_sdks",kind:"scalar",T:9}]),QI=me.makeEnum("livekit.ClientInfo.SDK",[{no:0,name:"UNKNOWN"},{no:1,name:"JS"},{no:2,name:"SWIFT"},{no:3,name:"ANDROID"},{no:4,name:"FLUTTER"},{no:5,name:"GO"},{no:6,name:"UNITY"},{no:7,name:"REACT_NATIVE"},{no:8,name:"RUST"},{no:9,name:"PYTHON"},{no:10,name:"CPP"},{no:11,name:"UNITY_WEB"},{no:12,name:"NODE"}]),XI=me.makeMessageType("livekit.ClientConfiguration",()=>[{no:1,name:"video",kind:"message",T:JI},{no:2,name:"screen",kind:"message",T:JI},{no:3,name:"resume_connection",kind:"enum",T:me.getEnumType(jp)},{no:4,name:"disabled_codecs",kind:"message",T:Yle},{no:5,name:"force_relay",kind:"enum",T:me.getEnumType(jp)}]),JI=me.makeMessageType("livekit.VideoConfiguration",()=>[{no:1,name:"hardware_encoder",kind:"enum",T:me.getEnumType(jp)}]),Yle=me.makeMessageType("livekit.DisabledCodecs",()=>[{no:1,name:"codecs",kind:"message",T:Kg,repeated:!0},{no:2,name:"publish",kind:"message",T:Kg,repeated:!0}]),ZI=me.makeMessageType("livekit.TimedVersion",()=>[{no:1,name:"unix_micro",kind:"scalar",T:3},{no:2,name:"ticks",kind:"scalar",T:5}]),vx=me.makeEnum("livekit.DataStream.OperationType",[{no:0,name:"CREATE"},{no:1,name:"UPDATE"},{no:2,name:"DELETE"},{no:3,name:"REACTION"}]),eM=me.makeMessageType("livekit.DataStream.TextHeader",()=>[{no:1,name:"operation_type",kind:"enum",T:me.getEnumType(vx)},{no:2,name:"version",kind:"scalar",T:5},{no:3,name:"reply_to_stream_id",kind:"scalar",T:9},{no:4,name:"attached_stream_ids",kind:"scalar",T:9,repeated:!0},{no:5,name:"generated",kind:"scalar",T:8}],{localName:"DataStream_TextHeader"}),tM=me.makeMessageType("livekit.DataStream.ByteHeader",()=>[{no:1,name:"name",kind:"scalar",T:9}],{localName:"DataStream_ByteHeader"}),bx=me.makeMessageType("livekit.DataStream.Header",()=>[{no:1,name:"stream_id",kind:"scalar",T:9},{no:2,name:"timestamp",kind:"scalar",T:3},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"mime_type",kind:"scalar",T:9},{no:5,name:"total_length",kind:"scalar",T:4,opt:!0},{no:7,name:"encryption_type",kind:"enum",T:me.getEnumType(Jo)},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:9,name:"text_header",kind:"message",T:eM,oneof:"content_header"},{no:10,name:"byte_header",kind:"message",T:tM,oneof:"content_header"}],{localName:"DataStream_Header"}),yx=me.makeMessageType("livekit.DataStream.Chunk",()=>[{no:1,name:"stream_id",kind:"scalar",T:9},{no:2,name:"chunk_index",kind:"scalar",T:4},{no:3,name:"content",kind:"scalar",T:12},{no:4,name:"version",kind:"scalar",T:5},{no:5,name:"iv",kind:"scalar",T:12,opt:!0}],{localName:"DataStream_Chunk"}),wx=me.makeMessageType("livekit.DataStream.Trailer",()=>[{no:1,name:"stream_id",kind:"scalar",T:9},{no:2,name:"reason",kind:"scalar",T:9},{no:3,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}}],{localName:"DataStream_Trailer"}),qi=me.makeEnum("livekit.SignalTarget",[{no:0,name:"PUBLISHER"},{no:1,name:"SUBSCRIBER"}]),kx=me.makeEnum("livekit.StreamState",[{no:0,name:"ACTIVE"},{no:1,name:"PAUSED"}]),Qle=me.makeEnum("livekit.CandidateProtocol",[{no:0,name:"UDP"},{no:1,name:"TCP"},{no:2,name:"TLS"}]),Xle=me.makeMessageType("livekit.SignalRequest",()=>[{no:1,name:"offer",kind:"message",T:Jc,oneof:"message"},{no:2,name:"answer",kind:"message",T:Jc,oneof:"message"},{no:3,name:"trickle",kind:"message",T:Tx,oneof:"message"},{no:4,name:"add_track",kind:"message",T:_x,oneof:"message"},{no:5,name:"mute",kind:"message",T:Sx,oneof:"message"},{no:6,name:"subscription",kind:"message",T:Yg,oneof:"message"},{no:7,name:"track_setting",kind:"message",T:rM,oneof:"message"},{no:8,name:"leave",kind:"message",T:Qg,oneof:"message"},{no:10,name:"update_layers",kind:"message",T:iM,oneof:"message"},{no:11,name:"subscription_permission",kind:"message",T:cM,oneof:"message"},{no:12,name:"sync_state",kind:"message",T:uM,oneof:"message"},{no:13,name:"simulate",kind:"message",T:Da,oneof:"message"},{no:14,name:"ping",kind:"scalar",T:3,oneof:"message"},{no:15,name:"update_metadata",kind:"message",T:aM,oneof:"message"},{no:16,name:"ping_req",kind:"message",T:hM,oneof:"message"},{no:17,name:"update_audio_track",kind:"message",T:oM,oneof:"message"},{no:18,name:"update_video_track",kind:"message",T:nce,oneof:"message"}]),nM=me.makeMessageType("livekit.SignalResponse",()=>[{no:1,name:"join",kind:"message",T:Jle,oneof:"message"},{no:2,name:"answer",kind:"message",T:Jc,oneof:"message"},{no:3,name:"offer",kind:"message",T:Jc,oneof:"message"},{no:4,name:"trickle",kind:"message",T:Tx,oneof:"message"},{no:5,name:"update",kind:"message",T:tce,oneof:"message"},{no:6,name:"track_published",kind:"message",T:Ex,oneof:"message"},{no:8,name:"leave",kind:"message",T:Qg,oneof:"message"},{no:9,name:"mute",kind:"message",T:Sx,oneof:"message"},{no:10,name:"speakers_changed",kind:"message",T:rce,oneof:"message"},{no:11,name:"room_update",kind:"message",T:oce,oneof:"message"},{no:12,name:"connection_quality",kind:"message",T:ace,oneof:"message"},{no:13,name:"stream_state_update",kind:"message",T:lce,oneof:"message"},{no:14,name:"subscribed_quality_update",kind:"message",T:uce,oneof:"message"},{no:15,name:"subscription_permission_update",kind:"message",T:dce,oneof:"message"},{no:16,name:"refresh_token",kind:"scalar",T:9,oneof:"message"},{no:17,name:"track_unpublished",kind:"message",T:ece,oneof:"message"},{no:18,name:"pong",kind:"scalar",T:3,oneof:"message"},{no:19,name:"reconnect",kind:"message",T:Zle,oneof:"message"},{no:20,name:"pong_resp",kind:"message",T:hce,oneof:"message"},{no:21,name:"subscription_response",kind:"message",T:fce,oneof:"message"},{no:22,name:"request_response",kind:"message",T:gce,oneof:"message"},{no:23,name:"track_subscribed",kind:"message",T:vce,oneof:"message"}]),xx=me.makeMessageType("livekit.SimulcastCodec",()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"cid",kind:"scalar",T:9}]),_x=me.makeMessageType("livekit.AddTrackRequest",()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:me.getEnumType(Vi)},{no:4,name:"width",kind:"scalar",T:13},{no:5,name:"height",kind:"scalar",T:13},{no:6,name:"muted",kind:"scalar",T:8},{no:7,name:"disable_dtx",kind:"scalar",T:8},{no:8,name:"source",kind:"enum",T:me.getEnumType(ir)},{no:9,name:"layers",kind:"message",T:Xc,repeated:!0},{no:10,name:"simulcast_codecs",kind:"message",T:xx,repeated:!0},{no:11,name:"sid",kind:"scalar",T:9},{no:12,name:"stereo",kind:"scalar",T:8},{no:13,name:"disable_red",kind:"scalar",T:8},{no:14,name:"encryption",kind:"enum",T:me.getEnumType(Jo)},{no:15,name:"stream",kind:"scalar",T:9},{no:16,name:"backup_codec_policy",kind:"enum",T:me.getEnumType(UI)}]),Tx=me.makeMessageType("livekit.TrickleRequest",()=>[{no:1,name:"candidateInit",kind:"scalar",T:9},{no:2,name:"target",kind:"enum",T:me.getEnumType(qi)},{no:3,name:"final",kind:"scalar",T:8}]),Sx=me.makeMessageType("livekit.MuteTrackRequest",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"muted",kind:"scalar",T:8}]),Jle=me.makeMessageType("livekit.JoinResponse",()=>[{no:1,name:"room",kind:"message",T:mx},{no:2,name:"participant",kind:"message",T:zp},{no:3,name:"other_participants",kind:"message",T:zp,repeated:!0},{no:4,name:"server_version",kind:"scalar",T:9},{no:5,name:"ice_servers",kind:"message",T:sM,repeated:!0},{no:6,name:"subscriber_primary",kind:"scalar",T:8},{no:7,name:"alternative_url",kind:"scalar",T:9},{no:8,name:"client_configuration",kind:"message",T:XI},{no:9,name:"server_region",kind:"scalar",T:9},{no:10,name:"ping_timeout",kind:"scalar",T:5},{no:11,name:"ping_interval",kind:"scalar",T:5},{no:12,name:"server_info",kind:"message",T:Wle},{no:13,name:"sif_trailer",kind:"scalar",T:12},{no:14,name:"enabled_publish_codecs",kind:"message",T:Kg,repeated:!0},{no:15,name:"fast_publish",kind:"scalar",T:8}]),Zle=me.makeMessageType("livekit.ReconnectResponse",()=>[{no:1,name:"ice_servers",kind:"message",T:sM,repeated:!0},{no:2,name:"client_configuration",kind:"message",T:XI}]),Ex=me.makeMessageType("livekit.TrackPublishedResponse",()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"track",kind:"message",T:Hd}]),ece=me.makeMessageType("livekit.TrackUnpublishedResponse",()=>[{no:1,name:"track_sid",kind:"scalar",T:9}]),Jc=me.makeMessageType("livekit.SessionDescription",()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"sdp",kind:"scalar",T:9}]),tce=me.makeMessageType("livekit.ParticipantUpdate",()=>[{no:1,name:"participants",kind:"message",T:zp,repeated:!0}]),Yg=me.makeMessageType("livekit.UpdateSubscription",()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:2,name:"subscribe",kind:"scalar",T:8},{no:3,name:"participant_tracks",kind:"message",T:YI,repeated:!0}]),rM=me.makeMessageType("livekit.UpdateTrackSettings",()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:3,name:"disabled",kind:"scalar",T:8},{no:4,name:"quality",kind:"enum",T:me.getEnumType(Fd)},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"fps",kind:"scalar",T:13},{no:8,name:"priority",kind:"scalar",T:13}]),oM=me.makeMessageType("livekit.UpdateLocalAudioTrack",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"features",kind:"enum",T:me.getEnumType(La),repeated:!0}]),nce=me.makeMessageType("livekit.UpdateLocalVideoTrack",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"width",kind:"scalar",T:13},{no:3,name:"height",kind:"scalar",T:13}]),Qg=me.makeMessageType("livekit.LeaveRequest",()=>[{no:1,name:"can_reconnect",kind:"scalar",T:8},{no:2,name:"reason",kind:"enum",T:me.getEnumType($i)},{no:3,name:"action",kind:"enum",T:me.getEnumType(Vd)},{no:4,name:"regions",kind:"message",T:pce}]),Vd=me.makeEnum("livekit.LeaveRequest.Action",[{no:0,name:"DISCONNECT"},{no:1,name:"RESUME"},{no:2,name:"RECONNECT"}]),iM=me.makeMessageType("livekit.UpdateVideoLayers",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"layers",kind:"message",T:Xc,repeated:!0}]),aM=me.makeMessageType("livekit.UpdateParticipantMetadata",()=>[{no:1,name:"metadata",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:4,name:"request_id",kind:"scalar",T:13}]),sM=me.makeMessageType("livekit.ICEServer",()=>[{no:1,name:"urls",kind:"scalar",T:9,repeated:!0},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"credential",kind:"scalar",T:9}]),rce=me.makeMessageType("livekit.SpeakersChanged",()=>[{no:1,name:"speakers",kind:"message",T:HI,repeated:!0}]),oce=me.makeMessageType("livekit.RoomUpdate",()=>[{no:1,name:"room",kind:"message",T:mx}]),ice=me.makeMessageType("livekit.ConnectionQualityInfo",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"quality",kind:"enum",T:me.getEnumType(Dp)},{no:3,name:"score",kind:"scalar",T:2}]),ace=me.makeMessageType("livekit.ConnectionQualityUpdate",()=>[{no:1,name:"updates",kind:"message",T:ice,repeated:!0}]),sce=me.makeMessageType("livekit.StreamStateInfo",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sid",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:me.getEnumType(kx)}]),lce=me.makeMessageType("livekit.StreamStateUpdate",()=>[{no:1,name:"stream_states",kind:"message",T:sce,repeated:!0}]),Cx=me.makeMessageType("livekit.SubscribedQuality",()=>[{no:1,name:"quality",kind:"enum",T:me.getEnumType(Fd)},{no:2,name:"enabled",kind:"scalar",T:8}]),cce=me.makeMessageType("livekit.SubscribedCodec",()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"qualities",kind:"message",T:Cx,repeated:!0}]),uce=me.makeMessageType("livekit.SubscribedQualityUpdate",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"subscribed_qualities",kind:"message",T:Cx,repeated:!0},{no:3,name:"subscribed_codecs",kind:"message",T:cce,repeated:!0}]),lM=me.makeMessageType("livekit.TrackPermission",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"all_tracks",kind:"scalar",T:8},{no:3,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:4,name:"participant_identity",kind:"scalar",T:9}]),cM=me.makeMessageType("livekit.SubscriptionPermission",()=>[{no:1,name:"all_participants",kind:"scalar",T:8},{no:2,name:"track_permissions",kind:"message",T:lM,repeated:!0}]),dce=me.makeMessageType("livekit.SubscriptionPermissionUpdate",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sid",kind:"scalar",T:9},{no:3,name:"allowed",kind:"scalar",T:8}]),uM=me.makeMessageType("livekit.SyncState",()=>[{no:1,name:"answer",kind:"message",T:Jc},{no:2,name:"subscription",kind:"message",T:Yg},{no:3,name:"publish_tracks",kind:"message",T:Ex,repeated:!0},{no:4,name:"data_channels",kind:"message",T:dM,repeated:!0},{no:5,name:"offer",kind:"message",T:Jc},{no:6,name:"track_sids_disabled",kind:"scalar",T:9,repeated:!0}]),dM=me.makeMessageType("livekit.DataChannelInfo",()=>[{no:1,name:"label",kind:"scalar",T:9},{no:2,name:"id",kind:"scalar",T:13},{no:3,name:"target",kind:"enum",T:me.getEnumType(qi)}]),Da=me.makeMessageType("livekit.SimulateScenario",()=>[{no:1,name:"speaker_update",kind:"scalar",T:5,oneof:"scenario"},{no:2,name:"node_failure",kind:"scalar",T:8,oneof:"scenario"},{no:3,name:"migration",kind:"scalar",T:8,oneof:"scenario"},{no:4,name:"server_leave",kind:"scalar",T:8,oneof:"scenario"},{no:5,name:"switch_candidate_protocol",kind:"enum",T:me.getEnumType(Qle),oneof:"scenario"},{no:6,name:"subscriber_bandwidth",kind:"scalar",T:3,oneof:"scenario"},{no:7,name:"disconnect_signal_on_resume",kind:"scalar",T:8,oneof:"scenario"},{no:8,name:"disconnect_signal_on_resume_no_messages",kind:"scalar",T:8,oneof:"scenario"},{no:9,name:"leave_request_full_reconnect",kind:"scalar",T:8,oneof:"scenario"}]),hM=me.makeMessageType("livekit.Ping",()=>[{no:1,name:"timestamp",kind:"scalar",T:3},{no:2,name:"rtt",kind:"scalar",T:3}]),hce=me.makeMessageType("livekit.Pong",()=>[{no:1,name:"last_ping_timestamp",kind:"scalar",T:3},{no:2,name:"timestamp",kind:"scalar",T:3}]),pce=me.makeMessageType("livekit.RegionSettings",()=>[{no:1,name:"regions",kind:"message",T:mce,repeated:!0}]),mce=me.makeMessageType("livekit.RegionInfo",()=>[{no:1,name:"region",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9},{no:3,name:"distance",kind:"scalar",T:3}]),fce=me.makeMessageType("livekit.SubscriptionResponse",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"err",kind:"enum",T:me.getEnumType(Fle)}]),gce=me.makeMessageType("livekit.RequestResponse",()=>[{no:1,name:"request_id",kind:"scalar",T:13},{no:2,name:"reason",kind:"enum",T:me.getEnumType(Ox)},{no:3,name:"message",kind:"scalar",T:9}]),Ox=me.makeEnum("livekit.RequestResponse.Reason",[{no:0,name:"OK"},{no:1,name:"NOT_FOUND"},{no:2,name:"NOT_ALLOWED"},{no:3,name:"LIMIT_EXCEEDED"}]),vce=me.makeMessageType("livekit.TrackSubscribed",()=>[{no:1,name:"track_sid",kind:"scalar",T:9}]);function bce(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pM,Px={exports:{}},yce=Px.exports,Fp,Wi,Xg=(pM||(pM=1,function(e){(function(t,n){e.exports?e.exports=n():t.log=n()})(yce,function(){var t=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),o=["trace","debug","info","warn","error"],i={},a=null;function s(f,g){var m=f[g];if(typeof m.bind=="function")return m.bind(f);try{return Function.prototype.bind.call(m,f)}catch{return function(){return Function.prototype.apply.apply(m,[f,arguments])}}}function l(){console.log&&(console.log.apply||Function.prototype.apply.apply(console.log,[console,arguments]))}function c(){for(var f=this.getLevel(),g=0;g<o.length;g++){var m=o[g];this[m]=g<f?t:this.methodFactory(m,f,this.name)}if(this.log=this.debug,typeof console===n&&f<this.levels.SILENT)return"No console available for logging"}function u(f){return function(){typeof console!==n&&(c.call(this),this[f].apply(this,arguments))}}function h(f,g,m){return function(v){return v==="debug"&&(v="log"),typeof console!==n&&(v==="trace"&&r?l:console[v]!==void 0?s(console,v):console.log!==void 0?s(console,"log"):t)}(f)||u.apply(this,arguments)}function p(f,g){var m,v,y,b=this,w="loglevel";function k(){var E;if(typeof window!==n&&w){try{E=window.localStorage[w]}catch{}if(typeof E===n)try{var C=window.document.cookie,N=encodeURIComponent(w),L=C.indexOf(N+"=");L!==-1&&(E=/^([^;]+)/.exec(C.slice(L+N.length+1))[1])}catch{}return b.levels[E]===void 0&&(E=void 0),E}}function _(E){var C=E;if(typeof C=="string"&&b.levels[C.toUpperCase()]!==void 0&&(C=b.levels[C.toUpperCase()]),typeof C=="number"&&C>=0&&C<=b.levels.SILENT)return C;throw new TypeError("log.setLevel() called with invalid level: "+E)}typeof f=="string"?w+=":"+f:typeof f=="symbol"&&(w=void 0),b.name=f,b.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},b.methodFactory=g||h,b.getLevel=function(){return y??v??m},b.setLevel=function(E,C){return y=_(E),C!==!1&&function(N){var L=(o[N]||"silent").toUpperCase();if(typeof window!==n&&w){try{return void(window.localStorage[w]=L)}catch{}try{window.document.cookie=encodeURIComponent(w)+"="+L+";"}catch{}}}(y),c.call(b)},b.setDefaultLevel=function(E){v=_(E),k()||b.setLevel(E,!1)},b.resetLevel=function(){y=null,function(){if(typeof window!==n&&w){try{window.localStorage.removeItem(w)}catch{}try{window.document.cookie=encodeURIComponent(w)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}(),c.call(b)},b.enableAll=function(E){b.setLevel(b.levels.TRACE,E)},b.disableAll=function(E){b.setLevel(b.levels.SILENT,E)},b.rebuild=function(){if(a!==b&&(m=_(a.getLevel())),c.call(b),a===b)for(var E in i)i[E].rebuild()},m=_(a?a.getLevel():"WARN");var O=k();O!=null&&(y=_(O)),c.call(b)}(a=new p).getLogger=function(f){if(typeof f!="symbol"&&typeof f!="string"||f==="")throw new TypeError("You must supply a name when creating a logger.");var g=i[f];return g||(g=i[f]=new p(f,a.methodFactory)),g};var d=typeof window!==n?window.log:void 0;return a.noConflict=function(){return typeof window!==n&&window.log===a&&(window.log=d),a},a.getLoggers=function(){return i},a.default=a,a})}(Px)),Px.exports);(function(e){e[e.trace=0]="trace",e[e.debug=1]="debug",e[e.info=2]="info",e[e.warn=3]="warn",e[e.error=4]="error",e[e.silent=5]="silent"})(Fp||(Fp={})),function(e){e.Default="livekit",e.Room="livekit-room",e.Participant="livekit-participant",e.Track="livekit-track",e.Publication="livekit-track-publication",e.Engine="livekit-engine",e.Signal="livekit-signal",e.PCManager="livekit-pc-manager",e.PCTransport="livekit-pc-transport",e.E2EE="lk-e2ee"}(Wi||(Wi={}));let Gt=Xg.getLogger("livekit");const wce=Object.values(Wi).map(e=>Xg.getLogger(e));function Cs(e){const t=Xg.getLogger(e);return t.setDefaultLevel(Gt.getLevel()),t}function mM(e,t){for(const n of wce)n.setLevel(e)}Gt.setDefaultLevel(Fp.info);const kce=Xg.getLogger("lk-e2ee"),Bp=7e3,xce=[0,300,1200,2700,4800,Bp,Bp,Bp,Bp,Bp];function ne(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(c){try{l(r.next(c))}catch(u){i(u)}}function s(c){try{l(r.throw(c))}catch(u){i(u)}}function l(c){c.done?o(c.value):function(u){return u instanceof n?u:new n(function(h){h(u)})}(c.value).then(a,s)}l((r=r.apply(e,t||[])).next())})}function _ce(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ml(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=_ce(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(i){return new Promise(function(a,s){(function(l,c,u,h){Promise.resolve(h).then(function(p){l({value:p,done:u})},c)})(a,s,(i=e[o](i)).done,i.value)})}}}var fM,Jg={exports:{}},ja=function(){if(fM)return Jg.exports;fM=1;var e,t=typeof Reflect=="object"?Reflect:null,n=t&&typeof t.apply=="function"?t.apply:function(g,m,v){return Function.prototype.apply.call(g,m,v)};e=t&&typeof t.ownKeys=="function"?t.ownKeys:Object.getOwnPropertySymbols?function(g){return Object.getOwnPropertyNames(g).concat(Object.getOwnPropertySymbols(g))}:function(g){return Object.getOwnPropertyNames(g)};var r=Number.isNaN||function(g){return g!=g};function o(){o.init.call(this)}Jg.exports=o,Jg.exports.once=function(g,m){return new Promise(function(v,y){function b(k){g.removeListener(m,w),y(k)}function w(){typeof g.removeListener=="function"&&g.removeListener("error",b),v([].slice.call(arguments))}f(g,m,w,{once:!0}),m!=="error"&&function(k,_,O){typeof k.on=="function"&&f(k,"error",_,O)}(g,b,{once:!0})})},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var i=10;function a(g){if(typeof g!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof g)}function s(g){return g._maxListeners===void 0?o.defaultMaxListeners:g._maxListeners}function l(g,m,v,y){var b,w,k;if(a(v),(w=g._events)===void 0?(w=g._events=Object.create(null),g._eventsCount=0):(w.newListener!==void 0&&(g.emit("newListener",m,v.listener?v.listener:v),w=g._events),k=w[m]),k===void 0)k=w[m]=v,++g._eventsCount;else if(typeof k=="function"?k=w[m]=y?[v,k]:[k,v]:y?k.unshift(v):k.push(v),(b=s(g))>0&&k.length>b&&!k.warned){k.warned=!0;var _=new Error("Possible EventEmitter memory leak detected. "+k.length+" "+String(m)+" listeners added. Use emitter.setMaxListeners() to increase limit");_.name="MaxListenersExceededWarning",_.emitter=g,_.type=m,_.count=k.length}return g}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(g,m,v){var y={fired:!1,wrapFn:void 0,target:g,type:m,listener:v},b=c.bind(y);return b.listener=v,y.wrapFn=b,b}function h(g,m,v){var y=g._events;if(y===void 0)return[];var b=y[m];return b===void 0?[]:typeof b=="function"?v?[b.listener||b]:[b]:v?function(w){for(var k=new Array(w.length),_=0;_<k.length;++_)k[_]=w[_].listener||w[_];return k}(b):d(b,b.length)}function p(g){var m=this._events;if(m!==void 0){var v=m[g];if(typeof v=="function")return 1;if(v!==void 0)return v.length}return 0}function d(g,m){for(var v=new Array(m),y=0;y<m;++y)v[y]=g[y];return v}function f(g,m,v,y){if(typeof g.on=="function")y.once?g.once(m,v):g.on(m,v);else{if(typeof g.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof g);g.addEventListener(m,function b(w){y.once&&g.removeEventListener(m,b),v(w)})}}return Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(g){if(typeof g!="number"||g<0||r(g))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+g+".");i=g}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(g){if(typeof g!="number"||g<0||r(g))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+g+".");return this._maxListeners=g,this},o.prototype.getMaxListeners=function(){return s(this)},o.prototype.emit=function(g){for(var m=[],v=1;v<arguments.length;v++)m.push(arguments[v]);var y=g==="error",b=this._events;if(b!==void 0)y=y&&b.error===void 0;else if(!y)return!1;if(y){var w;if(m.length>0&&(w=m[0]),w instanceof Error)throw w;var k=new Error("Unhandled error."+(w?" ("+w.message+")":""));throw k.context=w,k}var _=b[g];if(_===void 0)return!1;if(typeof _=="function")n(_,this,m);else{var O=_.length,E=d(_,O);for(v=0;v<O;++v)n(E[v],this,m)}return!0},o.prototype.addListener=function(g,m){return l(this,g,m,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(g,m){return l(this,g,m,!0)},o.prototype.once=function(g,m){return a(m),this.on(g,u(this,g,m)),this},o.prototype.prependOnceListener=function(g,m){return a(m),this.prependListener(g,u(this,g,m)),this},o.prototype.removeListener=function(g,m){var v,y,b,w,k;if(a(m),(y=this._events)===void 0)return this;if((v=y[g])===void 0)return this;if(v===m||v.listener===m)--this._eventsCount==0?this._events=Object.create(null):(delete y[g],y.removeListener&&this.emit("removeListener",g,v.listener||m));else if(typeof v!="function"){for(b=-1,w=v.length-1;w>=0;w--)if(v[w]===m||v[w].listener===m){k=v[w].listener,b=w;break}if(b<0)return this;b===0?v.shift():function(_,O){for(;O+1<_.length;O++)_[O]=_[O+1];_.pop()}(v,b),v.length===1&&(y[g]=v[0]),y.removeListener!==void 0&&this.emit("removeListener",g,k||m)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(g){var m,v,y;if((v=this._events)===void 0)return this;if(v.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):v[g]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete v[g]),this;if(arguments.length===0){var b,w=Object.keys(v);for(y=0;y<w.length;++y)(b=w[y])!=="removeListener"&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(m=v[g])=="function")this.removeListener(g,m);else if(m!==void 0)for(y=m.length-1;y>=0;y--)this.removeListener(g,m[y]);return this},o.prototype.listeners=function(g){return h(this,g,!0)},o.prototype.rawListeners=function(g){return h(this,g,!1)},o.listenerCount=function(g,m){return typeof g.listenerCount=="function"?g.listenerCount(m):p.call(g,m)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]},Jg.exports}();function Zg(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function Zc(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,o=r.addEventListener;r.addEventListener=function(a,s){if(a!==t)return o.apply(this,arguments);const l=c=>{const u=n(c);u&&(s.handleEvent?s.handleEvent(u):s(u))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(s,l),o.apply(this,[a,l])};const i=r.removeEventListener;r.removeEventListener=function(a,s){if(a!==t||!this._eventMap||!this._eventMap[t])return i.apply(this,arguments);if(!this._eventMap[t].has(s))return i.apply(this,arguments);const l=this._eventMap[t].get(s);return this._eventMap[t].delete(s),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,i.apply(this,[a,l])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(a){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),a&&this.addEventListener(t,this["_on"+t]=a)},enumerable:!0,configurable:!0})}function Tce(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):e?"adapter.js logging disabled":"adapter.js logging enabled"}function Sce(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):"adapter.js deprecation warnings "+(e?"disabled":"enabled")}function gM(e){return Object.prototype.toString.call(e)==="[object Object]"}function vM(e){return gM(e)?Object.keys(e).reduce(function(t,n){const r=gM(e[n]),o=r?vM(e[n]):e[n],i=r&&!Object.keys(o).length;return o===void 0||i?t:Object.assign(t,{[n]:o})},{}):e}function Ax(e,t,n){!t||n.has(t.id)||(n.set(t.id,t),Object.keys(t).forEach(r=>{r.endsWith("Id")?Ax(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach(o=>{Ax(e,e.get(o),n)})}))}function bM(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",o=new Map;if(t===null)return o;const i=[];return e.forEach(a=>{a.type==="track"&&a.trackIdentifier===t.id&&i.push(a)}),i.forEach(a=>{e.forEach(s=>{s.type===r&&s.trackId===a.id&&Ax(e,s,o)})}),o}const yM=function(){};function wM(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(a){if(typeof a!="object"||a.mandatory||a.optional)return a;const s={};return Object.keys(a).forEach(l=>{if(l==="require"||l==="advanced"||l==="mediaSource")return;const c=typeof a[l]=="object"?a[l]:{ideal:a[l]};c.exact!==void 0&&typeof c.exact=="number"&&(c.min=c.max=c.exact);const u=function(h,p){return h?h+p.charAt(0).toUpperCase()+p.slice(1):p==="deviceId"?"sourceId":p};if(c.ideal!==void 0){s.optional=s.optional||[];let h={};typeof c.ideal=="number"?(h[u("min",l)]=c.ideal,s.optional.push(h),h={},h[u("max",l)]=c.ideal,s.optional.push(h)):(h[u("",l)]=c.ideal,s.optional.push(h))}c.exact!==void 0&&typeof c.exact!="number"?(s.mandatory=s.mandatory||{},s.mandatory[u("",l)]=c.exact):["min","max"].forEach(h=>{c[h]!==void 0&&(s.mandatory=s.mandatory||{},s.mandatory[u(h,l)]=c[h])})}),a.advanced&&(s.optional=(s.optional||[]).concat(a.advanced)),s},o=function(a,s){if(t.version>=61)return s(a);if((a=JSON.parse(JSON.stringify(a)))&&typeof a.audio=="object"){const l=function(c,u,h){u in c&&!(h in c)&&(c[h]=c[u],delete c[u])};l((a=JSON.parse(JSON.stringify(a))).audio,"autoGainControl","googAutoGainControl"),l(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=r(a.audio)}if(a&&typeof a.video=="object"){let l=a.video.facingMode;l=l&&(typeof l=="object"?l:{ideal:l});const c=t.version<66;if(l&&(l.exact==="user"||l.exact==="environment"||l.ideal==="user"||l.ideal==="environment")&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||c)){let u;if(delete a.video.facingMode,l.exact==="environment"||l.ideal==="environment"?u=["back","rear"]:(l.exact==="user"||l.ideal==="user")&&(u=["front"]),u)return n.mediaDevices.enumerateDevices().then(h=>{h=h.filter(d=>d.kind==="videoinput");let p=h.find(d=>u.some(f=>d.label.toLowerCase().includes(f)));return!p&&h.length&&u.includes("back")&&(p=h[h.length-1]),p&&(a.video.deviceId=l.exact?{exact:p.deviceId}:{ideal:p.deviceId}),a.video=r(a.video),yM("chrome: "+JSON.stringify(a)),s(a)})}a.video=r(a.video)}return yM("chrome: "+JSON.stringify(a)),s(a)},i=function(a){return t.version>=64?a:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(n.getUserMedia=(function(a,s,l){o(a,c=>{n.webkitGetUserMedia(c,s,u=>{l&&l(i(u))})})}).bind(n),n.mediaDevices.getUserMedia){const a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(s){return o(s,l=>a(l).then(c=>{if(l.audio&&!c.getAudioTracks().length||l.video&&!c.getVideoTracks().length)throw c.getTracks().forEach(u=>{u.stop()}),new DOMException("","NotFoundError");return c},c=>Promise.reject(i(c))))}}}function kM(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function xM(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=n=>{n.stream.addEventListener("addtrack",r=>{let o;o=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(a=>a.track&&a.track.id===r.track.id):{track:r.track};const i=new Event("track");i.track=r.track,i.receiver=o,i.transceiver={receiver:o},i.streams=[n.stream],this.dispatchEvent(i)}),n.stream.getTracks().forEach(r=>{let o;o=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(a=>a.track&&a.track.id===r.id):{track:r};const i=new Event("track");i.track=r,i.receiver=o,i.transceiver={receiver:o},i.streams=[n.stream],this.dispatchEvent(i)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else Zc(e,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function _M(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(o,i){return{track:i,get dtmf(){return this._dtmf===void 0&&(i.kind==="audio"?this._dtmf=o.createDTMFSender(i):this._dtmf=null),this._dtmf},_pc:o}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const o=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(a,s){let l=o.apply(this,arguments);return l||(l=t(this,a),this._senders.push(l)),l};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(a){i.apply(this,arguments);const s=this._senders.indexOf(a);s!==-1&&this._senders.splice(s,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(o){this._senders=this._senders||[],n.apply(this,[o]),o.getTracks().forEach(i=>{this._senders.push(t(this,i))})};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(o){this._senders=this._senders||[],r.apply(this,[o]),o.getTracks().forEach(i=>{const a=this._senders.find(s=>s.track===i);a&&this._senders.splice(this._senders.indexOf(a),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const n=t.apply(this,[]);return n.forEach(r=>r._pc=this),n},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function TM(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){const o=n.apply(this,[]);return o.forEach(i=>i._pc=this),o});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const o=r.apply(this,arguments);return o._pc=this,o}),e.RTCRtpSender.prototype.getStats=function(){const o=this;return this._pc.getStats().then(i=>bM(i,o.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){const r=n.apply(this,[]);return r.forEach(o=>o._pc=this),r}),Zc(e,"track",r=>(r.receiver._pc=r.srcElement,r)),e.RTCRtpReceiver.prototype.getStats=function(){const r=this;return this._pc.getStats().then(o=>bM(o,r.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype)||!("getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const n=arguments[0];let r,o,i;return this.getSenders().forEach(a=>{a.track===n&&(r?i=!0:r=a)}),this.getReceivers().forEach(a=>(a.track===n&&(o?i=!0:o=a),a.track===n)),i||r&&o?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):r?r.getStats():o?o.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function SM(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(i=>this._shimmedLocalStreams[i][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(i,a){if(!a)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const s=t.apply(this,arguments);return this._shimmedLocalStreams[a.id]?this._shimmedLocalStreams[a.id].indexOf(s)===-1&&this._shimmedLocalStreams[a.id].push(s):this._shimmedLocalStreams[a.id]=[a,s],s};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(i){this._shimmedLocalStreams=this._shimmedLocalStreams||{},i.getTracks().forEach(l=>{if(this.getSenders().find(c=>c.track===l))throw new DOMException("Track already exists.","InvalidAccessError")});const a=this.getSenders();n.apply(this,arguments);const s=this.getSenders().filter(l=>a.indexOf(l)===-1);this._shimmedLocalStreams[i.id]=[i].concat(s)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(i){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[i.id],r.apply(this,arguments)};const o=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(i){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},i&&Object.keys(this._shimmedLocalStreams).forEach(a=>{const s=this._shimmedLocalStreams[a].indexOf(i);s!==-1&&this._shimmedLocalStreams[a].splice(s,1),this._shimmedLocalStreams[a].length===1&&delete this._shimmedLocalStreams[a]}),o.apply(this,arguments)}}function EM(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return SM(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const l=n.apply(this);return this._reverseStreams=this._reverseStreams||{},l.map(c=>this._reverseStreams[c.id])};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(l){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},l.getTracks().forEach(c=>{if(this.getSenders().find(u=>u.track===c))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[l.id]){const c=new e.MediaStream(l.getTracks());this._streams[l.id]=c,this._reverseStreams[c.id]=l,l=c}r.apply(this,[l])};const o=e.RTCPeerConnection.prototype.removeStream;function i(l,c){let u=c.sdp;return Object.keys(l._reverseStreams||[]).forEach(h=>{const p=l._reverseStreams[h],d=l._streams[p.id];u=u.replace(new RegExp(d.id,"g"),p.id)}),new RTCSessionDescription({type:c.type,sdp:u})}e.RTCPeerConnection.prototype.removeStream=function(l){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},o.apply(this,[this._streams[l.id]||l]),delete this._reverseStreams[this._streams[l.id]?this._streams[l.id].id:l.id],delete this._streams[l.id]},e.RTCPeerConnection.prototype.addTrack=function(l,c){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const u=[].slice.call(arguments,1);if(u.length!==1||!u[0].getTracks().find(p=>p===l))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(p=>p.track===l))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const h=this._streams[c.id];if(h)h.addTrack(l),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const p=new e.MediaStream([l]);this._streams[c.id]=p,this._reverseStreams[p.id]=c,this.addStream(p)}return this.getSenders().find(p=>p.track===l)},["createOffer","createAnswer"].forEach(function(l){const c=e.RTCPeerConnection.prototype[l],u={[l](){const h=arguments;return arguments.length&&typeof arguments[0]=="function"?c.apply(this,[p=>{const d=i(this,p);h[0].apply(null,[d])},p=>{h[1]&&h[1].apply(null,p)},arguments[2]]):c.apply(this,arguments).then(p=>i(this,p))}};e.RTCPeerConnection.prototype[l]=u[l]});const a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(l,c){let u=c.sdp;return Object.keys(l._reverseStreams||[]).forEach(h=>{const p=l._reverseStreams[h],d=l._streams[p.id];u=u.replace(new RegExp(p.id,"g"),d.id)}),new RTCSessionDescription({type:c.type,sdp:u})}(this,arguments[0]),a.apply(this,arguments)):a.apply(this,arguments)};const s=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const l=s.get.apply(this);return l.type===""?l:i(this,l)}}),e.RTCPeerConnection.prototype.removeTrack=function(l){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!l._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(l._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let c;this._streams=this._streams||{},Object.keys(this._streams).forEach(u=>{this._streams[u].getTracks().find(h=>l.track===h)&&(c=this._streams[u])}),c&&(c.getTracks().length===1?this.removeStream(this._reverseStreams[c.id]):c.removeTrack(l.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Nx(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=e.RTCPeerConnection.prototype[n],o={[n](){return arguments[0]=new(n==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[n]=o[n]})}function CM(e,t){Zc(e,"negotiationneeded",n=>{const r=n.target;if(!(t.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")||r.signalingState==="stable")return n})}var OM=Object.freeze({__proto__:null,fixNegotiationNeeded:CM,shimAddTrackRemoveTrack:EM,shimAddTrackRemoveTrackWithNative:SM,shimGetSendersWithDtmf:_M,shimGetUserMedia:wM,shimMediaStream:kM,shimOnTrack:xM,shimPeerConnection:Nx,shimSenderReceiverGetStats:TM});function PM(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(o,i,a){n.mediaDevices.getUserMedia(o).then(i,a)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const o=function(a,s,l){s in a&&!(l in a)&&(a[l]=a[s],delete a[s])},i=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(a){return typeof a=="object"&&typeof a.audio=="object"&&(a=JSON.parse(JSON.stringify(a)),o(a.audio,"autoGainControl","mozAutoGainControl"),o(a.audio,"noiseSuppression","mozNoiseSuppression")),i(a)},r&&r.prototype.getSettings){const a=r.prototype.getSettings;r.prototype.getSettings=function(){const s=a.apply(this,arguments);return o(s,"mozAutoGainControl","autoGainControl"),o(s,"mozNoiseSuppression","noiseSuppression"),s}}if(r&&r.prototype.applyConstraints){const a=r.prototype.applyConstraints;r.prototype.applyConstraints=function(s){return this.kind==="audio"&&typeof s=="object"&&(s=JSON.parse(JSON.stringify(s)),o(s,"autoGainControl","mozAutoGainControl"),o(s,"noiseSuppression","mozNoiseSuppression")),a.apply(this,[s])}}}}function AM(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Rx(e,t){if(typeof e!="object"||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(o){const i=e.RTCPeerConnection.prototype[o],a={[o](){return arguments[0]=new(o==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}};e.RTCPeerConnection.prototype[o]=a[o]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[o,i,a]=arguments;return r.apply(this,[o||null]).then(s=>{if(t.version<53&&!i)try{s.forEach(l=>{l.type=n[l.type]||l.type})}catch(l){if(l.name!=="TypeError")throw l;s.forEach((c,u)=>{s.set(u,Object.assign({},c,{type:n[c.type]||c.type}))})}return s}).then(i,a)}}function NM(e){if(typeof e!="object"||!e.RTCPeerConnection||!e.RTCRtpSender||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const r=t.apply(this,[]);return r.forEach(o=>o._pc=this),r});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const r=n.apply(this,arguments);return r._pc=this,r}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function RM(e){if(typeof e!="object"||!e.RTCPeerConnection||!e.RTCRtpSender||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const n=t.apply(this,[]);return n.forEach(r=>r._pc=this),n}),Zc(e,"track",n=>(n.receiver._pc=n.srcElement,n)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function IM(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(t){this.getSenders().forEach(n=>{n.track&&t.getTracks().includes(n.track)&&this.removeTrack(n)})})}function MM(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function LM(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let n=arguments[1]&&arguments[1].sendEncodings;n===void 0&&(n=[]),n=[...n];const r=n.length>0;r&&n.forEach(i=>{if("rid"in i&&!/^[a-z0-9]{0,16}$/i.test(i.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in i&&!(parseFloat(i.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in i&&!(parseFloat(i.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const o=t.apply(this,arguments);if(r){const{sender:i}=o,a=i.getParameters();(!("encodings"in a)||a.encodings.length===1&&Object.keys(a.encodings[0]).length===0)&&(a.encodings=n,i.sendEncodings=n,this.setParametersPromises.push(i.setParameters(a).then(()=>{delete i.sendEncodings}).catch(()=>{delete i.sendEncodings})))}return o})}function DM(e){if(typeof e!="object"||!e.RTCRtpSender)return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const n=t.apply(this,arguments);return"encodings"in n||(n.encodings=[].concat(this.sendEncodings||[{}])),n})}function jM(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function zM(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}var FM=Object.freeze({__proto__:null,shimAddTransceiver:LM,shimCreateAnswer:zM,shimCreateOffer:jM,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){const r=new DOMException("getDisplayMedia without video constraints is undefined");return r.name="NotFoundError",r.code=8,Promise.reject(r)}return n.video===!0?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})},shimGetParameters:DM,shimGetUserMedia:PM,shimOnTrack:AM,shimPeerConnection:Rx,shimRTCDataChannel:MM,shimReceiverGetStats:RM,shimRemoveStream:IM,shimSenderGetStats:NM});function BM(e){if(typeof e=="object"&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(n){this._localStreams||(this._localStreams=[]),this._localStreams.includes(n)||this._localStreams.push(n),n.getAudioTracks().forEach(r=>t.call(this,r,n)),n.getVideoTracks().forEach(r=>t.call(this,r,n))},e.RTCPeerConnection.prototype.addTrack=function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return o&&o.forEach(a=>{this._localStreams?this._localStreams.includes(a)||this._localStreams.push(a):this._localStreams=[a]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(t){this._localStreams||(this._localStreams=[]);const n=this._localStreams.indexOf(t);if(n===-1)return;this._localStreams.splice(n,1);const r=t.getTracks();this.getSenders().forEach(o=>{r.includes(o.track)&&this.removeTrack(o)})})}}function UM(e){if(typeof e=="object"&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(o=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(o))return;this._remoteStreams.push(o);const i=new Event("addstream");i.stream=o,this.dispatchEvent(i)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const n=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(r){r.streams.forEach(o=>{if(n._remoteStreams||(n._remoteStreams=[]),n._remoteStreams.indexOf(o)>=0)return;n._remoteStreams.push(o);const i=new Event("addstream");i.stream=o,n.dispatchEvent(i)})}),t.apply(n,arguments)}}}function HM(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,o=t.setLocalDescription,i=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(l,c){const u=arguments.length>=2?arguments[2]:arguments[0],h=n.apply(this,[u]);return c?(h.then(l,c),Promise.resolve()):h},t.createAnswer=function(l,c){const u=arguments.length>=2?arguments[2]:arguments[0],h=r.apply(this,[u]);return c?(h.then(l,c),Promise.resolve()):h};let s=function(l,c,u){const h=o.apply(this,[l]);return u?(h.then(c,u),Promise.resolve()):h};t.setLocalDescription=s,s=function(l,c,u){const h=i.apply(this,[l]);return u?(h.then(c,u),Promise.resolve()):h},t.setRemoteDescription=s,s=function(l,c,u){const h=a.apply(this,[l]);return u?(h.then(c,u),Promise.resolve()):h},t.addIceCandidate=s}function VM(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=o=>r($M(o))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(n,r,o){t.mediaDevices.getUserMedia(n).then(r,o)}).bind(t))}function $M(e){return e&&e.video!==void 0?Object.assign({},e,{video:vM(e.video)}):e}function qM(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(n,r){if(n&&n.iceServers){const o=[];for(let i=0;i<n.iceServers.length;i++){let a=n.iceServers[i];a.urls===void 0&&a.url?(a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,o.push(a)):o.push(n.iceServers[i])}n.iceServers=o}return new t(n,r)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function WM(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function GM(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(n){if(n){n.offerToReceiveAudio!==void 0&&(n.offerToReceiveAudio=!!n.offerToReceiveAudio);const r=this.getTransceivers().find(i=>i.receiver.track.kind==="audio");n.offerToReceiveAudio===!1&&r?r.direction==="sendrecv"?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":r.direction==="recvonly"&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):n.offerToReceiveAudio===!0&&!r&&this.addTransceiver("audio",{direction:"recvonly"}),n.offerToReceiveVideo!==void 0&&(n.offerToReceiveVideo=!!n.offerToReceiveVideo);const o=this.getTransceivers().find(i=>i.receiver.track.kind==="video");n.offerToReceiveVideo===!1&&o?o.direction==="sendrecv"?o.setDirection?o.setDirection("sendonly"):o.direction="sendonly":o.direction==="recvonly"&&(o.setDirection?o.setDirection("inactive"):o.direction="inactive"):n.offerToReceiveVideo===!0&&!o&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function KM(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var YM,QM=Object.freeze({__proto__:null,shimAudioContext:KM,shimCallbacksAPI:HM,shimConstraints:$M,shimCreateOfferLegacy:GM,shimGetUserMedia:VM,shimLocalStreamsAPI:BM,shimRTCIceServerUrls:qM,shimRemoteStreamsAPI:UM,shimTrackEventTransceiver:WM}),XM={exports:{}},JM=(YM||(YM=1,function(e){const t={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};t.localCName=t.generateIdentifier(),t.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},t.splitSections=function(n){return n.split(`
m=`).map((r,o)=>(o>0?"m="+r:r).trim()+`\r
`)},t.getDescription=function(n){const r=t.splitSections(n);return r&&r[0]},t.getMediaSections=function(n){const r=t.splitSections(n);return r.shift(),r},t.matchPrefix=function(n,r){return t.splitLines(n).filter(o=>o.indexOf(r)===0)},t.parseCandidate=function(n){let r;r=n.indexOf("a=candidate:")===0?n.substring(12).split(" "):n.substring(10).split(" ");const o={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let i=8;i<r.length;i+=2)switch(r[i]){case"raddr":o.relatedAddress=r[i+1];break;case"rport":o.relatedPort=parseInt(r[i+1],10);break;case"tcptype":o.tcpType=r[i+1];break;case"ufrag":o.ufrag=r[i+1],o.usernameFragment=r[i+1];break;default:o[r[i]]===void 0&&(o[r[i]]=r[i+1])}return o},t.writeCandidate=function(n){const r=[];r.push(n.foundation);const o=n.component;o==="rtp"?r.push(1):o==="rtcp"?r.push(2):r.push(o),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const i=n.type;return r.push("typ"),r.push(i),i!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},t.parseIceOptions=function(n){return n.substring(14).split(" ")},t.parseRtpMap=function(n){let r=n.substring(9).split(" ");const o={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),o.name=r[0],o.clockRate=parseInt(r[1],10),o.channels=r.length===3?parseInt(r[2],10):1,o.numChannels=o.channels,o},t.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const o=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(o!==1?"/"+o:"")+`\r
`},t.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},t.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},t.parseFmtp=function(n){const r={};let o;const i=n.substring(n.indexOf(" ")+1).split(";");for(let a=0;a<i.length;a++)o=i[a].trim().split("="),r[o[0].trim()]=o[1];return r},t.writeFmtp=function(n){let r="",o=n.payloadType;if(n.preferredPayloadType!==void 0&&(o=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const i=[];Object.keys(n.parameters).forEach(a=>{n.parameters[a]!==void 0?i.push(a+"="+n.parameters[a]):i.push(a)}),r+="a=fmtp:"+o+" "+i.join(";")+`\r
`}return r},t.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},t.writeRtcpFb=function(n){let r="",o=n.payloadType;return n.preferredPayloadType!==void 0&&(o=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(i=>{r+="a=rtcp-fb:"+o+" "+i.type+(i.parameter&&i.parameter.length?" "+i.parameter:"")+`\r
`}),r},t.parseSsrcMedia=function(n){const r=n.indexOf(" "),o={ssrc:parseInt(n.substring(7,r),10)},i=n.indexOf(":",r);return i>-1?(o.attribute=n.substring(r+1,i),o.value=n.substring(i+1)):o.attribute=n.substring(r+1),o},t.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(o=>parseInt(o,10))}},t.getMid=function(n){const r=t.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},t.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},t.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:t.matchPrefix(n+r,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(n,r){let o="a=setup:"+r+`\r
`;return n.fingerprints.forEach(i=>{o+="a=fingerprint:"+i.algorithm+" "+i.value+`\r
`}),o},t.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},t.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?t.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},t.getCryptoParameters=function(n,r){return t.matchPrefix(n+r,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(n,r){const o=t.matchPrefix(n+r,"a=ice-ufrag:")[0],i=t.matchPrefix(n+r,"a=ice-pwd:")[0];return o&&i?{usernameFragment:o.substring(12),password:i.substring(10)}:null},t.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},t.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},o=t.splitLines(n)[0].split(" ");r.profile=o[2];for(let a=3;a<o.length;a++){const s=o[a],l=t.matchPrefix(n,"a=rtpmap:"+s+" ")[0];if(l){const c=t.parseRtpMap(l),u=t.matchPrefix(n,"a=fmtp:"+s+" ");switch(c.parameters=u.length?t.parseFmtp(u[0]):{},c.rtcpFeedback=t.matchPrefix(n,"a=rtcp-fb:"+s+" ").map(t.parseRtcpFb),r.codecs.push(c),c.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(c.name.toUpperCase())}}}t.matchPrefix(n,"a=extmap:").forEach(a=>{r.headerExtensions.push(t.parseExtmap(a))});const i=t.matchPrefix(n,"a=rtcp-fb:* ").map(t.parseRtcpFb);return r.codecs.forEach(a=>{i.forEach(s=>{a.rtcpFeedback.find(l=>l.type===s.type&&l.parameter===s.parameter)||a.rtcpFeedback.push(s)})}),r},t.writeRtpDescription=function(n,r){let o="";o+="m="+n+" ",o+=r.codecs.length>0?"9":"0",o+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",o+=r.codecs.map(a=>a.preferredPayloadType!==void 0?a.preferredPayloadType:a.payloadType).join(" ")+`\r
`,o+=`c=IN IP4 0.0.0.0\r
`,o+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(a=>{o+=t.writeRtpMap(a),o+=t.writeFmtp(a),o+=t.writeRtcpFb(a)});let i=0;return r.codecs.forEach(a=>{a.maxptime>i&&(i=a.maxptime)}),i>0&&(o+="a=maxptime:"+i+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(a=>{o+=t.writeExtmap(a)}),o},t.parseRtpEncodingParameters=function(n){const r=[],o=t.parseRtpParameters(n),i=o.fecMechanisms.indexOf("RED")!==-1,a=o.fecMechanisms.indexOf("ULPFEC")!==-1,s=t.matchPrefix(n,"a=ssrc:").map(p=>t.parseSsrcMedia(p)).filter(p=>p.attribute==="cname"),l=s.length>0&&s[0].ssrc;let c;const u=t.matchPrefix(n,"a=ssrc-group:FID").map(p=>p.substring(17).split(" ").map(d=>parseInt(d,10)));u.length>0&&u[0].length>1&&u[0][0]===l&&(c=u[0][1]),o.codecs.forEach(p=>{if(p.name.toUpperCase()==="RTX"&&p.parameters.apt){let d={ssrc:l,codecPayloadType:parseInt(p.parameters.apt,10)};l&&c&&(d.rtx={ssrc:c}),r.push(d),i&&(d=JSON.parse(JSON.stringify(d)),d.fec={ssrc:l,mechanism:a?"red+ulpfec":"red"},r.push(d))}}),r.length===0&&l&&r.push({ssrc:l});let h=t.matchPrefix(n,"b=");return h.length&&(h=h[0].indexOf("b=TIAS:")===0?parseInt(h[0].substring(7),10):h[0].indexOf("b=AS:")===0?1e3*parseInt(h[0].substring(5),10)*.95-16e3:void 0,r.forEach(p=>{p.maxBitrate=h})),r},t.parseRtcpParameters=function(n){const r={},o=t.matchPrefix(n,"a=ssrc:").map(s=>t.parseSsrcMedia(s)).filter(s=>s.attribute==="cname")[0];o&&(r.cname=o.value,r.ssrc=o.ssrc);const i=t.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=i.length>0,r.compound=i.length===0;const a=t.matchPrefix(n,"a=rtcp-mux");return r.mux=a.length>0,r},t.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},t.parseMsid=function(n){let r;const o=t.matchPrefix(n,"a=msid:");if(o.length===1)return r=o[0].substring(7).split(" "),{stream:r[0],track:r[1]};const i=t.matchPrefix(n,"a=ssrc:").map(a=>t.parseSsrcMedia(a)).filter(a=>a.attribute==="msid");return i.length>0?(r=i[0].value.split(" "),{stream:r[0],track:r[1]}):void 0},t.parseSctpDescription=function(n){const r=t.parseMLine(n),o=t.matchPrefix(n,"a=max-message-size:");let i;o.length>0&&(i=parseInt(o[0].substring(19),10)),isNaN(i)&&(i=65536);const a=t.matchPrefix(n,"a=sctp-port:");if(a.length>0)return{port:parseInt(a[0].substring(12),10),protocol:r.fmt,maxMessageSize:i};const s=t.matchPrefix(n,"a=sctpmap:");if(s.length>0){const l=s[0].substring(10).split(" ");return{port:parseInt(l[0],10),protocol:l[1],maxMessageSize:i}}},t.writeSctpDescription=function(n,r){let o=[];return o=n.protocol!=="DTLS/SCTP"?["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&o.push("a=max-message-size:"+r.maxMessageSize+`\r
`),o.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(n,r,o){let i;const a=r!==void 0?r:2;return i=n||t.generateSessionId(),`v=0\r
o=`+(o||"thisisadapterortc")+" "+i+" "+a+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.getDirection=function(n,r){const o=t.splitLines(n);for(let i=0;i<o.length;i++)switch(o[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return o[i].substring(2)}return r?t.getDirection(r):"sendrecv"},t.getKind=function(n){return t.splitLines(n)[0].split(" ")[0].substring(2)},t.isRejected=function(n){return n.split(" ",2)[1]==="0"},t.parseMLine=function(n){const r=t.splitLines(n)[0].substring(2).split(" ");return{kind:r[0],port:parseInt(r[1],10),protocol:r[2],fmt:r.slice(3).join(" ")}},t.parseOLine=function(n){const r=t.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:r[0],sessionId:r[1],sessionVersion:parseInt(r[2],10),netType:r[3],addressType:r[4],address:r[5]}},t.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=t.splitLines(n);for(let o=0;o<r.length;o++)if(r[o].length<2||r[o].charAt(1)!=="=")return!1;return!0},e.exports=t}(XM)),XM.exports),$d=bce(JM),Ece=ile({__proto__:null,default:$d},[JM]);function ev(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(n){if(typeof n=="object"&&n.candidate&&n.candidate.indexOf("a=")===0&&((n=JSON.parse(JSON.stringify(n))).candidate=n.candidate.substring(2)),n.candidate&&n.candidate.length){const r=new t(n),o=$d.parseCandidate(n.candidate);for(const i in o)i in r||Object.defineProperty(r,i,{value:o[i]});return r.toJSON=function(){return{candidate:r.candidate,sdpMid:r.sdpMid,sdpMLineIndex:r.sdpMLineIndex,usernameFragment:r.usernameFragment}},r}return new t(n)},e.RTCIceCandidate.prototype=t.prototype,Zc(e,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new e.RTCIceCandidate(n.candidate),writable:"false"}),n))}function Ix(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||Zc(e,"icecandidate",t=>{if(t.candidate){const n=$d.parseCandidate(t.candidate.candidate);n.type==="relay"&&(t.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return t})}function tv(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return this._sctp===void 0?null:this._sctp}});const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:r}=this.getConfiguration();r==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return this._sctp===void 0?null:this._sctp},enumerable:!0,configurable:!0})}if(function(r){if(!r||!r.sdp)return!1;const o=$d.splitSections(r.sdp);return o.shift(),o.some(i=>{const a=$d.parseMLine(i);return a&&a.kind==="application"&&a.protocol.indexOf("SCTP")!==-1})}(arguments[0])){const r=function(l){const c=l.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(c===null||c.length<2)return-1;const u=parseInt(c[1],10);return u!=u?-1:u}(arguments[0]),o=function(l){let c=65536;return t.browser==="firefox"&&(c=t.version<57?l===-1?16384:2147483637:t.version<60?t.version===57?65535:65536:2147483637),c}(r),i=function(l,c){let u=65536;t.browser==="firefox"&&t.version===57&&(u=65535);const h=$d.matchPrefix(l.sdp,"a=max-message-size:");return h.length>0?u=parseInt(h[0].substring(19),10):t.browser==="firefox"&&c!==-1&&(u=2147483637),u}(arguments[0],r);let a;a=o===0&&i===0?Number.POSITIVE_INFINITY:o===0||i===0?Math.max(o,i):Math.min(o,i);const s={};Object.defineProperty(s,"maxMessageSize",{get:()=>a}),this._sctp=s}return n.apply(this,arguments)}}function nv(e){if(!e.RTCPeerConnection||!("createDataChannel"in e.RTCPeerConnection.prototype))return;function t(r,o){const i=r.send;r.send=function(){const a=arguments[0],s=a.length||a.size||a.byteLength;if(r.readyState==="open"&&o.sctp&&s>o.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+o.sctp.maxMessageSize+" bytes)");return i.apply(r,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const r=n.apply(this,arguments);return t(r,this),r},Zc(e,"datachannel",r=>(t(r.channel,r.target),r))}function Mx(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=t[n];t[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=o=>{const i=o.target;if(i._lastConnectionState!==i.connectionState){i._lastConnectionState=i.connectionState;const a=new Event("connectionstatechange",o);i.dispatchEvent(a)}return o},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function Lx(e,t){if(!e.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t.version>=605)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(r){if(r&&r.sdp&&r.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const o=r.sdp.split(`
`).filter(i=>i.trim()!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&r instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:r.type,sdp:o}):r.sdp=o}return n.apply(this,arguments)}}function rv(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const n=e.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function ov(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const n=e.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(e.RTCPeerConnection.prototype.setLocalDescription=function(){let r=arguments[0]||{};if(typeof r!="object"||r.type&&r.sdp)return n.apply(this,arguments);if(r={type:r.type,sdp:r.sdp},!r.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":r.type="offer";break;default:r.type="answer"}return r.sdp||r.type!=="offer"&&r.type!=="answer"?n.apply(this,[r]):(r.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(o=>n.apply(this,[o]))})}var Cce=Object.freeze({__proto__:null,removeExtmapAllowMixed:Lx,shimAddIceCandidateNullOrEmpty:rv,shimConnectionState:Mx,shimMaxMessageSize:tv,shimParameterlessSetLocalDescription:ov,shimRTCIceCandidate:ev,shimRTCIceCandidateRelayProtocol:Ix,shimSendThrowTypeError:nv});(function(){let{window:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0};const n=function(o){const i={browser:null,version:null};if(o===void 0||!o.navigator||!o.navigator.userAgent)return i.browser="Not a browser.",i;const{navigator:a}=o;if(a.userAgentData&&a.userAgentData.brands){const s=a.userAgentData.brands.find(l=>l.brand==="Chromium");if(s)return{browser:"chrome",version:parseInt(s.version,10)}}if(a.mozGetUserMedia)i.browser="firefox",i.version=Zg(a.userAgent,/Firefox\/(\d+)\./,1);else if(a.webkitGetUserMedia||o.isSecureContext===!1&&o.webkitRTCPeerConnection)i.browser="chrome",i.version=Zg(a.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!o.RTCPeerConnection||!a.userAgent.match(/AppleWebKit\/(\d+)\./))return i.browser="Not a supported browser.",i;i.browser="safari",i.version=Zg(a.userAgent,/AppleWebKit\/(\d+)\./,1),i.supportsUnifiedPlan=o.RTCRtpTransceiver&&"currentDirection"in o.RTCRtpTransceiver.prototype}return i}(e),r={browserDetails:n,commonShim:Cce,extractVersion:Zg,disableLog:Tce,disableWarnings:Sce,sdp:Ece};switch(n.browser){case"chrome":if(!OM||!Nx||!t.shimChrome||n.version===null)return r;r.browserShim=OM,rv(e,n),ov(e),wM(e,n),kM(e),Nx(e,n),xM(e),EM(e,n),_M(e),TM(e),CM(e,n),ev(e),Ix(e),Mx(e),tv(e,n),nv(e),Lx(e,n);break;case"firefox":if(!FM||!Rx||!t.shimFirefox)return r;r.browserShim=FM,rv(e,n),ov(e),PM(e,n),Rx(e,n),AM(e),IM(e),NM(e),RM(e),MM(e),LM(e),DM(e),jM(e),zM(e),ev(e),Mx(e),tv(e,n),nv(e);break;case"safari":if(!QM||!t.shimSafari)return r;r.browserShim=QM,rv(e,n),ov(e),qM(e),GM(e),HM(e),BM(e),UM(e),WM(e),VM(e),KM(e),ev(e),Ix(e),tv(e,n),nv(e),Lx(e,n)}})({window:typeof window>"u"?void 0:window});const iv="lk_e2ee";var Up,ZM,Ll,eL,$t,av,tL,Ce,Ae,Ke,Ve;function Oce(){return window.RTCRtpSender!==void 0&&window.RTCRtpSender.prototype.createEncodedStreams!==void 0||Dx()}function Dx(){return window.RTCRtpScriptTransform!==void 0}(function(e){e.SetKey="setKey",e.RatchetRequest="ratchetRequest",e.KeyRatcheted="keyRatcheted"})(Up||(Up={})),function(e){e.KeyRatcheted="keyRatcheted"}(ZM||(ZM={})),function(e){e.ParticipantEncryptionStatusChanged="participantEncryptionStatusChanged",e.EncryptionError="encryptionError"}(Ll||(Ll={})),function(e){e.Error="cryptorError"}(eL||(eL={})),ja.EventEmitter;class Dl extends Error{constructor(t,n){super(n||"an error has occured"),this.name="LiveKitError",this.code=t}}(function(e){e[e.NotAllowed=0]="NotAllowed",e[e.ServerUnreachable=1]="ServerUnreachable",e[e.InternalError=2]="InternalError",e[e.Cancelled=3]="Cancelled",e[e.LeaveRequest=4]="LeaveRequest"})($t||($t={}));class hn extends Dl{constructor(t,n,r,o){super(1,t),this.name="ConnectionError",this.status=r,this.reason=n,this.context=o,this.reasonName=$t[n]}}class jx extends Dl{constructor(t){super(21,t??"device is unsupported"),this.name="DeviceUnsupportedError"}}class Os extends Dl{constructor(t){super(20,t??"track is invalid"),this.name="TrackInvalidError"}}class Pce extends Dl{constructor(t){super(10,t??"unsupported server"),this.name="UnsupportedServer"}}class pr extends Dl{constructor(t){super(12,t??"unexpected connection state"),this.name="UnexpectedConnectionState"}}class zx extends Dl{constructor(t){super(13,t??"unable to negotiate"),this.name="NegotiationError"}}class Fx extends Dl{constructor(t,n){super(15,t),this.name="PublishTrackError",this.status=n}}class nL extends Dl{constructor(t,n){super(15,t),this.reason=n,this.reasonName=typeof n=="string"?n:Ox[n]}}function Ace(e){return e===void 0?e:typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}(function(e){e.PermissionDenied="PermissionDenied",e.NotFound="NotFound",e.DeviceInUse="DeviceInUse",e.Other="Other"})(av||(av={})),function(e){e.getFailure=function(t){if(t&&"name"in t)return t.name==="NotFoundError"||t.name==="DevicesNotFoundError"?e.NotFound:t.name==="NotAllowedError"||t.name==="PermissionDeniedError"?e.PermissionDenied:t.name==="NotReadableError"||t.name==="TrackStartError"?e.DeviceInUse:e.Other}}(av||(av={})),function(e){e[e.InvalidKey=0]="InvalidKey",e[e.MissingKey=1]="MissingKey",e[e.InternalError=2]="InternalError"}(tL||(tL={})),function(e){e.Connected="connected",e.Reconnecting="reconnecting",e.SignalReconnecting="signalReconnecting",e.Reconnected="reconnected",e.Disconnected="disconnected",e.ConnectionStateChanged="connectionStateChanged",e.MediaDevicesChanged="mediaDevicesChanged",e.ParticipantConnected="participantConnected",e.ParticipantDisconnected="participantDisconnected",e.TrackPublished="trackPublished",e.TrackSubscribed="trackSubscribed",e.TrackSubscriptionFailed="trackSubscriptionFailed",e.TrackUnpublished="trackUnpublished",e.TrackUnsubscribed="trackUnsubscribed",e.TrackMuted="trackMuted",e.TrackUnmuted="trackUnmuted",e.LocalTrackPublished="localTrackPublished",e.LocalTrackUnpublished="localTrackUnpublished",e.LocalAudioSilenceDetected="localAudioSilenceDetected",e.ActiveSpeakersChanged="activeSpeakersChanged",e.ParticipantMetadataChanged="participantMetadataChanged",e.ParticipantNameChanged="participantNameChanged",e.ParticipantAttributesChanged="participantAttributesChanged",e.RoomMetadataChanged="roomMetadataChanged",e.DataReceived="dataReceived",e.SipDTMFReceived="sipDTMFReceived",e.TranscriptionReceived="transcriptionReceived",e.ConnectionQualityChanged="connectionQualityChanged",e.TrackStreamStateChanged="trackStreamStateChanged",e.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",e.TrackSubscriptionStatusChanged="trackSubscriptionStatusChanged",e.AudioPlaybackStatusChanged="audioPlaybackChanged",e.VideoPlaybackStatusChanged="videoPlaybackChanged",e.MediaDevicesError="mediaDevicesError",e.ParticipantPermissionsChanged="participantPermissionsChanged",e.SignalConnected="signalConnected",e.RecordingStatusChanged="recordingStatusChanged",e.ParticipantEncryptionStatusChanged="participantEncryptionStatusChanged",e.EncryptionError="encryptionError",e.DCBufferStatusChanged="dcBufferStatusChanged",e.ActiveDeviceChanged="activeDeviceChanged",e.ChatMessage="chatMessage",e.LocalTrackSubscribed="localTrackSubscribed",e.MetricsReceived="metricsReceived"}(Ce||(Ce={})),function(e){e.TrackPublished="trackPublished",e.TrackSubscribed="trackSubscribed",e.TrackSubscriptionFailed="trackSubscriptionFailed",e.TrackUnpublished="trackUnpublished",e.TrackUnsubscribed="trackUnsubscribed",e.TrackMuted="trackMuted",e.TrackUnmuted="trackUnmuted",e.LocalTrackPublished="localTrackPublished",e.LocalTrackUnpublished="localTrackUnpublished",e.ParticipantMetadataChanged="participantMetadataChanged",e.ParticipantNameChanged="participantNameChanged",e.DataReceived="dataReceived",e.SipDTMFReceived="sipDTMFReceived",e.TranscriptionReceived="transcriptionReceived",e.IsSpeakingChanged="isSpeakingChanged",e.ConnectionQualityChanged="connectionQualityChanged",e.TrackStreamStateChanged="trackStreamStateChanged",e.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",e.TrackSubscriptionStatusChanged="trackSubscriptionStatusChanged",e.MediaDevicesError="mediaDevicesError",e.AudioStreamAcquired="audioStreamAcquired",e.ParticipantPermissionsChanged="participantPermissionsChanged",e.PCTrackAdded="pcTrackAdded",e.AttributesChanged="attributesChanged",e.LocalTrackSubscribed="localTrackSubscribed",e.ChatMessage="chatMessage"}(Ae||(Ae={})),function(e){e.TransportsCreated="transportsCreated",e.Connected="connected",e.Disconnected="disconnected",e.Resuming="resuming",e.Resumed="resumed",e.Restarting="restarting",e.Restarted="restarted",e.SignalResumed="signalResumed",e.SignalRestarted="signalRestarted",e.Closing="closing",e.MediaTrackAdded="mediaTrackAdded",e.ActiveSpeakersUpdate="activeSpeakersUpdate",e.DataPacketReceived="dataPacketReceived",e.RTPVideoMapUpdate="rtpVideoMapUpdate",e.DCBufferStatusChanged="dcBufferStatusChanged",e.ParticipantUpdate="participantUpdate",e.RoomUpdate="roomUpdate",e.SpeakersChanged="speakersChanged",e.StreamStateChanged="streamStateChanged",e.ConnectionQualityUpdate="connectionQualityUpdate",e.SubscriptionError="subscriptionError",e.SubscriptionPermissionUpdate="subscriptionPermissionUpdate",e.RemoteMute="remoteMute",e.SubscribedQualityUpdate="subscribedQualityUpdate",e.LocalTrackUnpublished="localTrackUnpublished",e.LocalTrackSubscribed="localTrackSubscribed",e.Offline="offline",e.SignalRequestResponse="signalRequestResponse",e.SignalConnected="signalConnected"}(Ke||(Ke={})),function(e){e.Message="message",e.Muted="muted",e.Unmuted="unmuted",e.Restarted="restarted",e.Ended="ended",e.Subscribed="subscribed",e.Unsubscribed="unsubscribed",e.UpdateSettings="updateSettings",e.UpdateSubscription="updateSubscription",e.AudioPlaybackStarted="audioPlaybackStarted",e.AudioPlaybackFailed="audioPlaybackFailed",e.AudioSilenceDetected="audioSilenceDetected",e.VisibilityChanged="visibilityChanged",e.VideoDimensionsChanged="videoDimensionsChanged",e.VideoPlaybackStarted="videoPlaybackStarted",e.VideoPlaybackFailed="videoPlaybackFailed",e.ElementAttached="elementAttached",e.ElementDetached="elementDetached",e.UpstreamPaused="upstreamPaused",e.UpstreamResumed="upstreamResumed",e.SubscriptionPermissionChanged="subscriptionPermissionChanged",e.SubscriptionStatusChanged="subscriptionStatusChanged",e.SubscriptionFailed="subscriptionFailed",e.TrackProcessorUpdate="trackProcessorUpdate",e.AudioTrackFeatureUpdate="audioTrackFeatureUpdate",e.TranscriptionReceived="transcriptionReceived",e.TimeSyncUpdate="timeSyncUpdate"}(Ve||(Ve={}));const Nce=/version\/(\d+(\.?_?\d+)+)/i;let Bx;function Gi(e){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(typeof navigator>"u")return;const n=navigator.userAgent.toLowerCase();if(Bx===void 0||t){const r=Rce.find(o=>{let{test:i}=o;return i.test(n)});Bx=r==null?void 0:r.describe(n)}return Bx}const Rce=[{test:/firefox|iceweasel|fxios/i,describe:e=>({name:"Firefox",version:sv(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e),os:e.toLowerCase().includes("fxios")?"iOS":void 0,osVersion:Ux(e)})},{test:/chrom|crios|crmo/i,describe:e=>({name:"Chrome",version:sv(/(?:chrome|chromium|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e),os:e.toLowerCase().includes("crios")?"iOS":void 0,osVersion:Ux(e)})},{test:/safari|applewebkit/i,describe:e=>({name:"Safari",version:sv(Nce,e),os:e.includes("mobile/")?"iOS":"macOS",osVersion:Ux(e)})}];function sv(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const r=t.match(e);return r&&r.length>=n&&r[n]||""}function Ux(e){return e.includes("mac os")?sv(/\(.+?(\d+_\d+(:?_\d+)?)/,e,1).replace(/_/g,"."):void 0}class Cr{}Cr.setTimeout=function(){return setTimeout(...arguments)},Cr.setInterval=function(){return setInterval(...arguments)},Cr.clearTimeout=function(){return clearTimeout(...arguments)},Cr.clearInterval=function(){return clearInterval(...arguments)};const Hp=[];var Ki;(function(e){e[e.LOW=0]="LOW",e[e.MEDIUM=1]="MEDIUM",e[e.HIGH=2]="HIGH"})(Ki||(Ki={}));class ye extends ja.EventEmitter{constructor(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var o;super(),this.attachedElements=[],this.isMuted=!1,this.streamState=ye.StreamState.Active,this.isInBackground=!1,this._currentBitrate=0,this.log=Gt,this.appVisibilityChangedListener=()=>{this.backgroundTimeout&&clearTimeout(this.backgroundTimeout),document.visibilityState==="hidden"?this.backgroundTimeout=setTimeout(()=>this.handleAppVisibilityChanged(),5e3):this.handleAppVisibilityChanged()},this.log=Cs((o=r.loggerName)!==null&&o!==void 0?o:Wi.Track),this.loggerContextCb=r.loggerContextCb,this.setMaxListeners(100),this.kind=n,this._mediaStreamTrack=t,this._mediaStreamID=t.id,this.source=ye.Source.Unknown}get logContext(){var t;return Object.assign(Object.assign({},(t=this.loggerContextCb)===null||t===void 0?void 0:t.call(this)),rn(this))}get currentBitrate(){return this._currentBitrate}get mediaStreamTrack(){return this._mediaStreamTrack}get mediaStreamID(){return this._mediaStreamID}attach(t){let n="audio";this.kind===ye.Kind.Video&&(n="video"),this.attachedElements.length===0&&this.kind===ye.Kind.Video&&this.addAppVisibilityListener(),t||(n==="audio"&&(Hp.forEach(i=>{i.parentElement===null&&!t&&(t=i)}),t&&Hp.splice(Hp.indexOf(t),1)),t||(t=document.createElement(n))),this.attachedElements.includes(t)||this.attachedElements.push(t),qd(this.mediaStreamTrack,t);const r=t.srcObject.getTracks(),o=r.some(i=>i.kind==="audio");return t.play().then(()=>{this.emit(o?Ve.AudioPlaybackStarted:Ve.VideoPlaybackStarted)}).catch(i=>{i.name==="NotAllowedError"?this.emit(o?Ve.AudioPlaybackFailed:Ve.VideoPlaybackFailed,i):i.name==="AbortError"?Gt.debug("".concat(o?"audio":"video"," playback aborted, likely due to new play request")):Gt.warn("could not playback ".concat(o?"audio":"video"),i),o&&t&&r.some(a=>a.kind==="video")&&i.name==="NotAllowedError"&&(t.muted=!0,t.play().catch(()=>{}))}),this.emit(Ve.ElementAttached,t),t}detach(t){try{if(t){Wd(this.mediaStreamTrack,t);const r=this.attachedElements.indexOf(t);return r>=0&&(this.attachedElements.splice(r,1),this.recycleElement(t),this.emit(Ve.ElementDetached,t)),t}const n=[];return this.attachedElements.forEach(r=>{Wd(this.mediaStreamTrack,r),n.push(r),this.recycleElement(r),this.emit(Ve.ElementDetached,r)}),this.attachedElements=[],n}finally{this.attachedElements.length===0&&this.removeAppVisibilityListener()}}stop(){this.stopMonitor(),this._mediaStreamTrack.stop()}enable(){this._mediaStreamTrack.enabled=!0}disable(){this._mediaStreamTrack.enabled=!1}stopMonitor(){this.monitorInterval&&clearInterval(this.monitorInterval),this.timeSyncHandle&&cancelAnimationFrame(this.timeSyncHandle)}updateLoggerOptions(t){t.loggerName&&(this.log=Cs(t.loggerName)),t.loggerContextCb&&(this.loggerContextCb=t.loggerContextCb)}recycleElement(t){if(t instanceof HTMLAudioElement){let n=!0;t.pause(),Hp.forEach(r=>{r.parentElement||(n=!1)}),n&&Hp.push(t)}}handleAppVisibilityChanged(){return ne(this,void 0,void 0,function*(){this.isInBackground=document.visibilityState==="hidden",!this.isInBackground&&this.kind===ye.Kind.Video&&setTimeout(()=>this.attachedElements.forEach(t=>t.play().catch(()=>{})),0)})}addAppVisibilityListener(){wo()?(this.isInBackground=document.visibilityState==="hidden",document.addEventListener("visibilitychange",this.appVisibilityChangedListener)):this.isInBackground=!1}removeAppVisibilityListener(){wo()&&document.removeEventListener("visibilitychange",this.appVisibilityChangedListener)}}function qd(e,t){let n,r;n=t.srcObject instanceof MediaStream?t.srcObject:new MediaStream,r=e.kind==="audio"?n.getAudioTracks():n.getVideoTracks(),r.includes(e)||(r.forEach(o=>{n.removeTrack(o)}),n.addTrack(e)),jl()&&t instanceof HTMLVideoElement||(t.autoplay=!0),t.muted=n.getAudioTracks().length===0,t instanceof HTMLVideoElement&&(t.playsInline=!0),t.srcObject!==n&&(t.srcObject=n,(jl()||Gd())&&t instanceof HTMLVideoElement&&setTimeout(()=>{t.srcObject=n,t.play().catch(()=>{})},0))}function Wd(e,t){if(t.srcObject instanceof MediaStream){const n=t.srcObject;n.removeTrack(e),n.getTracks().length>0?t.srcObject=n:t.srcObject=null}}(function(e){let t,n,r;(function(o){o.Audio="audio",o.Video="video",o.Unknown="unknown"})(t=e.Kind||(e.Kind={})),function(o){o.Camera="camera",o.Microphone="microphone",o.ScreenShare="screen_share",o.ScreenShareAudio="screen_share_audio",o.Unknown="unknown"}(n=e.Source||(e.Source={})),function(o){o.Active="active",o.Paused="paused",o.Unknown="unknown"}(r=e.StreamState||(e.StreamState={})),e.kindToProto=function(o){switch(o){case t.Audio:return Vi.AUDIO;case t.Video:return Vi.VIDEO;default:return Vi.DATA}},e.kindFromProto=function(o){switch(o){case Vi.AUDIO:return t.Audio;case Vi.VIDEO:return t.Video;default:return t.Unknown}},e.sourceToProto=function(o){switch(o){case n.Camera:return ir.CAMERA;case n.Microphone:return ir.MICROPHONE;case n.ScreenShare:return ir.SCREEN_SHARE;case n.ScreenShareAudio:return ir.SCREEN_SHARE_AUDIO;default:return ir.UNKNOWN}},e.sourceFromProto=function(o){switch(o){case ir.CAMERA:return n.Camera;case ir.MICROPHONE:return n.Microphone;case ir.SCREEN_SHARE:return n.ScreenShare;case ir.SCREEN_SHARE_AUDIO:return n.ScreenShareAudio;default:return n.Unknown}},e.streamStateFromProto=function(o){switch(o){case kx.ACTIVE:return r.Active;case kx.PAUSED:return r.Paused;default:return r.Unknown}}})(ye||(ye={}));class un{constructor(t,n,r,o,i){if(typeof t=="object")this.width=t.width,this.height=t.height,this.aspectRatio=t.aspectRatio,this.encoding={maxBitrate:t.maxBitrate,maxFramerate:t.maxFramerate,priority:t.priority};else{if(n===void 0||r===void 0)throw new TypeError("Unsupported options: provide at least width, height and maxBitrate");this.width=t,this.height=n,this.aspectRatio=t/n,this.encoding={maxBitrate:r,maxFramerate:o,priority:i}}}get resolution(){return{width:this.width,height:this.height,frameRate:this.encoding.maxFramerate,aspectRatio:this.aspectRatio}}}const Ice=["vp8","h264"],Mce=["vp8","h264","vp9","av1"];function Lce(e){return!!Ice.find(t=>t===e)}var rL,Hx;(function(e){e[e.PREFER_REGRESSION=0]="PREFER_REGRESSION",e[e.SIMULCAST=1]="SIMULCAST",e[e.REGRESSION=2]="REGRESSION"})(rL||(rL={})),function(e){e.telephone={maxBitrate:12e3},e.speech={maxBitrate:24e3},e.music={maxBitrate:48e3},e.musicStereo={maxBitrate:64e3},e.musicHighQuality={maxBitrate:96e3},e.musicHighQualityStereo={maxBitrate:128e3}}(Hx||(Hx={}));const Vp={h90:new un(160,90,9e4,20),h180:new un(320,180,16e4,20),h216:new un(384,216,18e4,20),h360:new un(640,360,45e4,20),h540:new un(960,540,8e5,25),h720:new un(1280,720,17e5,30),h1080:new un(1920,1080,3e6,30),h1440:new un(2560,1440,5e6,30),h2160:new un(3840,2160,8e6,30)},Vx={h120:new un(160,120,7e4,20),h180:new un(240,180,125e3,20),h240:new un(320,240,14e4,20),h360:new un(480,360,33e4,20),h480:new un(640,480,5e5,20),h540:new un(720,540,6e5,25),h720:new un(960,720,13e5,30),h1080:new un(1440,1080,23e5,30),h1440:new un(1920,1440,38e5,30)},$x={h360fps3:new un(640,360,2e5,3,"medium"),h360fps15:new un(640,360,4e5,15,"medium"),h720fps5:new un(1280,720,8e5,5,"medium"),h720fps15:new un(1280,720,15e5,15,"medium"),h720fps30:new un(1280,720,2e6,30,"medium"),h1080fps15:new un(1920,1080,25e5,15,"medium"),h1080fps30:new un(1920,1080,5e6,30,"medium"),original:new un(0,0,7e6,30,"medium")},oL="https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension";function Zo(e){return ne(this,void 0,void 0,function*(){return new Promise(t=>Cr.setTimeout(t,e))})}function qx(){return"addTransceiver"in RTCPeerConnection.prototype}function Wx(){return"addTrack"in RTCPeerConnection.prototype}function $p(e){return e==="av1"||e==="vp9"}function Gx(e){return!!document&&(e||(e=document.createElement("audio")),"setSinkId"in e)}function Gd(){var e;return((e=Gi())===null||e===void 0?void 0:e.name)==="Firefox"}function jl(){var e;return((e=Gi())===null||e===void 0?void 0:e.name)==="Safari"}function iL(){var e,t;return!!wo()&&((t=(e=navigator.userAgentData)===null||e===void 0?void 0:e.mobile)!==null&&t!==void 0?t:/Tablet|iPad|Mobile|Android|BlackBerry/.test(navigator.userAgent))}function wo(){return typeof document<"u"}function za(){return navigator.product=="ReactNative"}function Kx(e){return e.hostname.endsWith(".livekit.cloud")||e.hostname.endsWith(".livekit.run")}function aL(){if(global&&global.LiveKitReactNativeGlobal)return global.LiveKitReactNativeGlobal}function sL(){if(!za())return;let e=aL();return e?e.platform:void 0}function lL(){if(wo())return window.devicePixelRatio;if(za()){let e=aL();if(e)return e.devicePixelRatio}return 1}function eu(e,t){const n=e.split("."),r=t.split("."),o=Math.min(n.length,r.length);for(let i=0;i<o;++i){const a=parseInt(n[i],10),s=parseInt(r[i],10);if(a>s)return 1;if(a<s)return-1;if(i===o-1&&a===s)return 0}return e===""&&t!==""?-1:t===""?1:n.length==r.length?0:n.length<r.length?-1:1}function Dce(e){for(const t of e)t.target.handleResize(t)}function jce(e){for(const t of e)t.target.handleVisibilityChanged(t)}let Yx=null;const cL=()=>(Yx||(Yx=new ResizeObserver(Dce)),Yx);let Qx=null;const uL=()=>(Qx||(Qx=new IntersectionObserver(jce,{root:null,rootMargin:"0px"})),Qx);function dL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:16,n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=arguments.length>3&&arguments[3]!==void 0&&arguments[3];const o=document.createElement("canvas");o.width=e,o.height=t;const i=o.getContext("2d");i==null||i.fillRect(0,0,o.width,o.height),r&&i&&(i.beginPath(),i.arc(e/2,t/2,50,0,2*Math.PI,!0),i.closePath(),i.fillStyle="grey",i.fill());const a=o.captureStream(),[s]=a.getTracks();if(!s)throw Error("Could not get empty media stream video track");return s.enabled=n,s}let qp;function Xx(){if(!qp){const e=new AudioContext,t=e.createOscillator(),n=e.createGain();n.gain.setValueAtTime(0,0);const r=e.createMediaStreamDestination();if(t.connect(n),n.connect(r),t.start(),[qp]=r.stream.getAudioTracks(),!qp)throw Error("Could not get empty media stream audio track");qp.enabled=!1}return qp.clone()}class hL{constructor(t,n){this.onFinally=n,this.promise=new Promise((r,o)=>ne(this,void 0,void 0,function*(){this.resolve=r,this.reject=o,t&&(yield t(r,o))})).finally(()=>{var r;return(r=this.onFinally)===null||r===void 0?void 0:r.call(this)})}}function pL(e,t){const n=Object.assign({cloneTrack:!1,fftSize:2048,smoothingTimeConstant:.8,minDecibels:-100,maxDecibels:-80},t),r=r4();if(!r)throw new Error("Audio Context not supported on this browser");const o=n.cloneTrack?e.mediaStreamTrack.clone():e.mediaStreamTrack,i=r.createMediaStreamSource(new MediaStream([o])),a=r.createAnalyser();a.minDecibels=n.minDecibels,a.maxDecibels=n.maxDecibels,a.fftSize=n.fftSize,a.smoothingTimeConstant=n.smoothingTimeConstant,i.connect(a);const s=new Uint8Array(a.frequencyBinCount);return{calculateVolume:()=>{a.getByteFrequencyData(s);let l=0;for(const c of s)l+=Math.pow(c/255,2);return Math.sqrt(l/s.length)},analyser:a,cleanup:()=>ne(this,void 0,void 0,function*(){yield r.close(),n.cloneTrack&&o.stop()})}}function zl(e){if(typeof e=="string"||typeof e=="number")return e;if(Array.isArray(e))return e[0];if(e.exact)return Array.isArray(e.exact)?e.exact[0]:e.exact;if(e.ideal)return Array.isArray(e.ideal)?e.ideal[0]:e.ideal;throw Error("could not unwrap constraint")}function Jx(e){return e.startsWith("ws")?e.replace(/^(ws)/,"http"):e}function mL(e){switch(e.reason){case $t.LeaveRequest:return e.context;case $t.Cancelled:return $i.CLIENT_INITIATED;case $t.NotAllowed:return $i.USER_REJECTED;case $t.ServerUnreachable:return $i.JOIN_FAILURE;default:return $i.UNKNOWN_REASON}}function lv(e){return e!==void 0?Number(e):void 0}function tu(e){return e!==void 0?BigInt(e):void 0}function Kd(e){return!!e&&!(e instanceof MediaStreamTrack)&&e.isLocal}function Ps(e){return!!e&&e.kind==ye.Kind.Audio}function Yd(e){return!!e&&e.kind==ye.Kind.Video}function Fl(e){return Kd(e)&&Yd(e)}function nu(e){return Kd(e)&&Ps(e)}function Zx(e){return!!e&&!e.isLocal}function zce(e){return!!e&&!e.isLocal}function e4(e){return Zx(e)&&Yd(e)}function fL(e,t,n){var r,o,i,a;const{optionsWithoutProcessor:s,audioProcessor:l,videoProcessor:c}=vL(e??{}),u=t==null?void 0:t.processor,h=n==null?void 0:n.processor,p=s??{};return p.audio===!0&&(p.audio={}),p.video===!0&&(p.video={}),p.audio&&(t4(p.audio,t),(r=(i=p.audio).deviceId)!==null&&r!==void 0||(i.deviceId={ideal:"default"}),(l||u)&&(p.audio.processor=l??u)),p.video&&(t4(p.video,n),(o=(a=p.video).deviceId)!==null&&o!==void 0||(a.deviceId={ideal:"default"}),(c||h)&&(p.video.processor=c??h)),p}function t4(e,t){return Object.keys(t).forEach(n=>{e[n]===void 0&&(e[n]=t[n])}),e}function n4(e){var t,n,r,o;const i={};if(e.video)if(typeof e.video=="object"){const a={},s=a,l=e.video;Object.keys(l).forEach(c=>{c==="resolution"?t4(s,l.resolution):s[c]=l[c]}),i.video=a,(t=(r=i.video).deviceId)!==null&&t!==void 0||(r.deviceId={ideal:"default"})}else i.video=!!e.video&&{deviceId:{ideal:"default"}};else i.video=!1;return e.audio?typeof e.audio=="object"?(i.audio=e.audio,(n=(o=i.audio).deviceId)!==null&&n!==void 0||(o.deviceId={ideal:"default"})):i.audio={deviceId:{ideal:"default"}}:i.audio=!1,i}function Fce(e){return ne(this,arguments,void 0,function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:200;return function*(){const r=r4();if(r){const o=r.createAnalyser();o.fftSize=2048;const i=o.frequencyBinCount,a=new Uint8Array(i);r.createMediaStreamSource(new MediaStream([t.mediaStreamTrack])).connect(o),yield Zo(n),o.getByteTimeDomainData(a);const s=a.some(l=>l!==128&&l!==0);return r.close(),!s}return!1}()})}function r4(){var e;const t=typeof window<"u"&&(window.AudioContext||window.webkitAudioContext);if(t){const n=new t({latencyHint:"interactive"});if(n.state==="suspended"&&typeof window<"u"&&(e=window.document)!==null&&e!==void 0&&e.body){const r=()=>ne(this,void 0,void 0,function*(){var o;try{n.state==="suspended"&&(yield n.resume())}catch{}(o=window.document.body)===null||o===void 0||o.removeEventListener("click",r)});window.document.body.addEventListener("click",r)}return n}}function Bce(e){return e==="audioinput"?ye.Source.Microphone:e==="videoinput"?ye.Source.Camera:ye.Source.Unknown}function gL(e){return e===ye.Source.Microphone?"audioinput":e===ye.Source.Camera?"videoinput":void 0}function cv(e){return e.split("/")[1].toLowerCase()}function Uce(e){const t=[];return e.forEach(n=>{n.track!==void 0&&t.push(new Ex({cid:n.track.mediaStreamID,track:n.trackInfo}))}),t}function rn(e){return"mediaStreamTrack"in e?{trackID:e.sid,source:e.source,muted:e.isMuted,enabled:e.mediaStreamTrack.enabled,kind:e.kind,streamID:e.mediaStreamID,streamTrackID:e.mediaStreamTrack.id}:{trackID:e.trackSid,enabled:e.isEnabled,muted:e.isMuted,trackInfo:Object.assign({mimeType:e.mimeType,name:e.trackName,encrypted:e.isEncrypted,kind:e.kind,source:e.source},e.track?rn(e.track):{})}}function vL(e){const t=Object.assign({},e);let n,r;return typeof t.audio=="object"&&t.audio.processor&&(n=t.audio.processor,t.audio=Object.assign(Object.assign({},t.audio),{processor:void 0})),typeof t.video=="object"&&t.video.processor&&(r=t.video.processor,t.video=Object.assign(Object.assign({},t.video),{processor:void 0})),{audioProcessor:n,videoProcessor:r,optionsWithoutProcessor:Ace(t)}}class Hce extends ja.EventEmitter{constructor(t){super(),this.onWorkerMessage=n=>{var r,o;const{kind:i,data:a}=n.data;switch(i){case"error":Gt.error(a.error.message),this.emit(Ll.EncryptionError,a.error);break;case"initAck":a.enabled&&this.keyProvider.getKeys().forEach(s=>{this.postKey(s)});break;case"enable":if(a.enabled&&this.keyProvider.getKeys().forEach(s=>{this.postKey(s)}),this.encryptionEnabled!==a.enabled&&a.participantIdentity===((r=this.room)===null||r===void 0?void 0:r.localParticipant.identity))this.emit(Ll.ParticipantEncryptionStatusChanged,a.enabled,this.room.localParticipant),this.encryptionEnabled=a.enabled;else if(a.participantIdentity){const s=(o=this.room)===null||o===void 0?void 0:o.getParticipantByIdentity(a.participantIdentity);if(!s)throw TypeError("couldn't set encryption status, participant not found".concat(a.participantIdentity));this.emit(Ll.ParticipantEncryptionStatusChanged,a.enabled,s)}break;case"ratchetKey":this.keyProvider.emit(Up.KeyRatcheted,a.material,a.keyIndex)}},this.onWorkerError=n=>{Gt.error("e2ee worker encountered an error:",{error:n.error}),this.emit(Ll.EncryptionError,n.error)},this.keyProvider=t.keyProvider,this.worker=t.worker,this.encryptionEnabled=!1}setup(t){if(!Oce())throw new jx("tried to setup end-to-end encryption on an unsupported browser");if(Gt.info("setting up e2ee"),t!==this.room){this.room=t,this.setupEventListeners(t,this.keyProvider);const n={kind:"init",data:{keyProviderOptions:this.keyProvider.getOptions(),loglevel:kce.getLevel()}};this.worker&&(Gt.info("initializing worker",{worker:this.worker}),this.worker.onmessage=this.onWorkerMessage,this.worker.onerror=this.onWorkerError,this.worker.postMessage(n))}}setParticipantCryptorEnabled(t,n){Gt.debug("set e2ee to ".concat(t," for participant ").concat(n)),this.postEnable(t,n)}setSifTrailer(t){t&&t.length!==0?this.postSifTrailer(t):Gt.warn("ignoring server sent trailer as it's empty")}setupEngine(t){t.on(Ke.RTPVideoMapUpdate,n=>{this.postRTPMap(n)})}setupEventListeners(t,n){t.on(Ce.TrackPublished,(r,o)=>this.setParticipantCryptorEnabled(r.trackInfo.encryption!==Jo.NONE,o.identity)),t.on(Ce.ConnectionStateChanged,r=>{r===on.Connected&&t.remoteParticipants.forEach(o=>{o.trackPublications.forEach(i=>{this.setParticipantCryptorEnabled(i.trackInfo.encryption!==Jo.NONE,o.identity)})})}).on(Ce.TrackUnsubscribed,(r,o,i)=>{var a;const s={kind:"removeTransform",data:{participantIdentity:i.identity,trackId:r.mediaStreamID}};(a=this.worker)===null||a===void 0||a.postMessage(s)}).on(Ce.TrackSubscribed,(r,o,i)=>{this.setupE2EEReceiver(r,i.identity,o.trackInfo)}).on(Ce.SignalConnected,()=>{if(!this.room)throw new TypeError("expected room to be present on signal connect");n.getKeys().forEach(r=>{this.postKey(r)}),this.setParticipantCryptorEnabled(this.room.localParticipant.isE2EEEnabled,this.room.localParticipant.identity)}),t.localParticipant.on(Ae.LocalTrackPublished,r=>ne(this,void 0,void 0,function*(){this.setupE2EESender(r.track,r.track.sender)})),n.on(Up.SetKey,r=>this.postKey(r)).on(Up.RatchetRequest,(r,o)=>this.postRatchetRequest(r,o))}postRatchetRequest(t,n){if(!this.worker)throw Error("could not ratchet key, worker is missing");const r={kind:"ratchetRequest",data:{participantIdentity:t,keyIndex:n}};this.worker.postMessage(r)}postKey(t){let{key:n,participantIdentity:r,keyIndex:o}=t;var i;if(!this.worker)throw Error("could not set key, worker is missing");const a={kind:"setKey",data:{participantIdentity:r,isPublisher:r===((i=this.room)===null||i===void 0?void 0:i.localParticipant.identity),key:n,keyIndex:o}};this.worker.postMessage(a)}postEnable(t,n){if(!this.worker)throw new ReferenceError("failed to enable e2ee, worker is not ready");{const r={kind:"enable",data:{enabled:t,participantIdentity:n}};this.worker.postMessage(r)}}postRTPMap(t){var n;if(!this.worker)throw TypeError("could not post rtp map, worker is missing");if((n=this.room)===null||n===void 0||!n.localParticipant.identity)throw TypeError("could not post rtp map, local participant identity is missing");const r={kind:"setRTPMap",data:{map:t,participantIdentity:this.room.localParticipant.identity}};this.worker.postMessage(r)}postSifTrailer(t){if(!this.worker)throw Error("could not post SIF trailer, worker is missing");const n={kind:"setSifTrailer",data:{trailer:t}};this.worker.postMessage(n)}setupE2EEReceiver(t,n,r){if(t.receiver){if(r==null||!r.mimeType||r.mimeType==="")throw new TypeError("MimeType missing from trackInfo, cannot set up E2EE cryptor");this.handleReceiver(t.receiver,t.mediaStreamID,n,t.kind==="video"?cv(r.mimeType):void 0)}}setupE2EESender(t,n){Kd(t)&&n?this.handleSender(n,t.mediaStreamID,void 0):n||Gt.warn("early return because sender is not ready")}handleReceiver(t,n,r,o){return ne(this,void 0,void 0,function*(){if(this.worker){if(Dx()){const i={kind:"decode",participantIdentity:r,trackId:n,codec:o};t.transform=new RTCRtpScriptTransform(this.worker,i)}else{if(iv in t&&o){const l={kind:"updateCodec",data:{trackId:n,codec:o,participantIdentity:r}};return void this.worker.postMessage(l)}let i=t.writableStream,a=t.readableStream;if(!i||!a){const l=t.createEncodedStreams();t.writableStream=l.writable,i=l.writable,t.readableStream=l.readable,a=l.readable}const s={kind:"decode",data:{readableStream:a,writableStream:i,trackId:n,codec:o,participantIdentity:r}};this.worker.postMessage(s,[a,i])}t[iv]=!0}})}handleSender(t,n,r){var o;if(!(iv in t)&&this.worker){if((o=this.room)===null||o===void 0||!o.localParticipant.identity||this.room.localParticipant.identity==="")throw TypeError("local identity needs to be known in order to set up encrypted sender");if(Dx()){Gt.info("initialize script transform");const i={kind:"encode",participantIdentity:this.room.localParticipant.identity,trackId:n,codec:r};t.transform=new RTCRtpScriptTransform(this.worker,i)}else{Gt.info("initialize encoded streams");const i=t.createEncodedStreams(),a={kind:"encode",data:{readableStream:i.readable,writableStream:i.writable,codec:r,trackId:n,participantIdentity:this.room.localParticipant.identity}};this.worker.postMessage(a,[i.readable,i.writable])}t[iv]=!0}}}const o4="default";class wr{constructor(){this._previousDevices=[]}static getInstance(){return this.instance===void 0&&(this.instance=new wr),this.instance}get previousDevices(){return this._previousDevices}getDevices(t){return ne(this,arguments,void 0,function(n){var r=this;let o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return function*(){var i;if(((i=wr.userMediaPromiseMap)===null||i===void 0?void 0:i.size)>0){Gt.debug("awaiting getUserMedia promise");try{n?yield wr.userMediaPromiseMap.get(n):yield Promise.all(wr.userMediaPromiseMap.values())}catch{Gt.warn("error waiting for media permissons")}}let a=yield navigator.mediaDevices.enumerateDevices();if(o&&(!jl()||!r.hasDeviceInUse(n))&&(a.filter(s=>s.kind===n).length===0||a.some(s=>{const l=s.label==="",c=!n||s.kind===n;return l&&c}))){const s={video:n!=="audioinput"&&n!=="audiooutput",audio:n!=="videoinput"&&{deviceId:{ideal:"default"}}},l=yield navigator.mediaDevices.getUserMedia(s);a=yield navigator.mediaDevices.enumerateDevices(),l.getTracks().forEach(c=>{c.stop()})}return r._previousDevices=a,n&&(a=a.filter(s=>s.kind===n)),a}()})}normalizeDeviceId(t,n,r){return ne(this,void 0,void 0,function*(){if(n!==o4)return n;const o=yield this.getDevices(t),i=o.find(s=>s.deviceId===o4);if(!i)return void Gt.warn("could not reliably determine default device");const a=o.find(s=>s.deviceId!==o4&&s.groupId===(r??i.groupId));if(a)return a==null?void 0:a.deviceId;Gt.warn("could not reliably determine default device")})}hasDeviceInUse(t){return t?wr.userMediaPromiseMap.has(t):wr.userMediaPromiseMap.size>0}}var Wp;wr.mediaDeviceKinds=["audioinput","audiooutput","videoinput"],wr.userMediaPromiseMap=new Map,function(e){e[e.WAITING=0]="WAITING",e[e.RUNNING=1]="RUNNING",e[e.COMPLETED=2]="COMPLETED"}(Wp||(Wp={}));class Vce{constructor(){this.pendingTasks=new Map,this.taskMutex=new vo,this.nextTaskIndex=0}run(t){return ne(this,void 0,void 0,function*(){const n={id:this.nextTaskIndex++,enqueuedAt:Date.now(),status:Wp.WAITING};this.pendingTasks.set(n.id,n);const r=yield this.taskMutex.lock();try{return n.executedAt=Date.now(),n.status=Wp.RUNNING,yield t()}finally{n.status=Wp.COMPLETED,this.pendingTasks.delete(n.id),r()}})}flush(){return ne(this,void 0,void 0,function*(){return this.run(()=>ne(this,void 0,void 0,function*(){}))})}snapshot(){return Array.from(this.pendingTasks.values())}}function bL(e,t){return e.pathname="".concat(function(n){return n.endsWith("/")?n:"".concat(n,"/")}(e.pathname)).concat(t),e.toString()}const $ce=["syncState","trickle","offer","answer","simulate","leave"];var _n;(function(e){e[e.CONNECTING=0]="CONNECTING",e[e.CONNECTED=1]="CONNECTED",e[e.RECONNECTING=2]="RECONNECTING",e[e.DISCONNECTING=3]="DISCONNECTING",e[e.DISCONNECTED=4]="DISCONNECTED"})(_n||(_n={}));class qce{get currentState(){return this.state}get isDisconnected(){return this.state===_n.DISCONNECTING||this.state===_n.DISCONNECTED}get isEstablishingConnection(){return this.state===_n.CONNECTING||this.state===_n.RECONNECTING}getNextRequestId(){return this._requestId+=1,this._requestId}constructor(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var r;this.rtt=0,this.state=_n.DISCONNECTED,this.log=Gt,this._requestId=0,this.resetCallbacks=()=>{this.onAnswer=void 0,this.onLeave=void 0,this.onLocalTrackPublished=void 0,this.onLocalTrackUnpublished=void 0,this.onNegotiateRequested=void 0,this.onOffer=void 0,this.onRemoteMuteChanged=void 0,this.onSubscribedQualityUpdate=void 0,this.onTokenRefresh=void 0,this.onTrickle=void 0,this.onClose=void 0},this.log=Cs((r=n.loggerName)!==null&&r!==void 0?r:Wi.Signal),this.loggerContextCb=n.loggerContextCb,this.useJSON=t,this.requestQueue=new Vce,this.queuedRequests=[],this.closingLock=new vo,this.connectionLock=new vo,this.state=_n.DISCONNECTED}get logContext(){var t,n;return(n=(t=this.loggerContextCb)===null||t===void 0?void 0:t.call(this))!==null&&n!==void 0?n:{}}join(t,n,r,o){return ne(this,void 0,void 0,function*(){return this.state=_n.CONNECTING,this.options=r,yield this.connect(t,n,r,o)})}reconnect(t,n,r,o){return ne(this,void 0,void 0,function*(){if(this.options)return this.state=_n.RECONNECTING,this.clearPingInterval(),yield this.connect(t,n,Object.assign(Object.assign({},this.options),{reconnect:!0,sid:r,reconnectReason:o}));this.log.warn("attempted to reconnect without signal options being set, ignoring",this.logContext)})}connect(t,n,r,o){this.connectOptions=r;const i=function(){var c;const u=new Kle({sdk:QI.JS,protocol:15,version:"2.11.4"});return za()&&(u.os=(c=sL())!==null&&c!==void 0?c:""),u}(),a=function(c,u,h){var p;const d=new URLSearchParams;return d.set("access_token",c),h.reconnect&&(d.set("reconnect","1"),h.sid&&d.set("sid",h.sid)),d.set("auto_subscribe",h.autoSubscribe?"1":"0"),d.set("sdk",za()?"reactnative":"js"),d.set("version",u.version),d.set("protocol",u.protocol.toString()),u.deviceModel&&d.set("device_model",u.deviceModel),u.os&&d.set("os",u.os),u.osVersion&&d.set("os_version",u.osVersion),u.browser&&d.set("browser",u.browser),u.browserVersion&&d.set("browser_version",u.browserVersion),h.adaptiveStream&&d.set("adaptive_stream","1"),h.reconnectReason&&d.set("reconnect_reason",h.reconnectReason.toString()),!((p=navigator.connection)===null||p===void 0)&&p.type&&d.set("network",navigator.connection.type),d}(n,i,r),s=function(c,u){const h=new URL(function(p){return p.startsWith("http")?p.replace(/^(http)/,"ws"):p}(c));return u.forEach((p,d)=>{h.searchParams.set(d,p)}),bL(h,"rtc")}(t,a),l=function(c){return bL(new URL(Jx(c)),"validate")}(s);return new Promise((c,u)=>ne(this,void 0,void 0,function*(){const h=yield this.connectionLock.lock();try{const p=()=>ne(this,void 0,void 0,function*(){this.close(),clearTimeout(d),u(new hn("room connection has been cancelled (signal)",$t.Cancelled))}),d=setTimeout(()=>{this.close(),u(new hn("room connection has timed out (signal)",$t.ServerUnreachable))},r.websocketTimeout);o!=null&&o.aborted&&p(),o==null||o.addEventListener("abort",p);const f=new URL(s);f.searchParams.has("access_token")&&f.searchParams.set("access_token","<redacted>"),this.log.debug("connecting to ".concat(f),Object.assign({reconnect:r.reconnect,reconnectReason:r.reconnectReason},this.logContext)),this.ws&&(yield this.close(!1)),this.ws=new WebSocket(s),this.ws.binaryType="arraybuffer",this.ws.onopen=()=>{clearTimeout(d)},this.ws.onerror=g=>ne(this,void 0,void 0,function*(){if(this.state===_n.CONNECTED)this.handleWSError(g);else{this.state=_n.DISCONNECTED,clearTimeout(d);try{const m=yield fetch(l);if(m.status.toFixed(0).startsWith("4")){const v=yield m.text();u(new hn(v,$t.NotAllowed,m.status))}else u(new hn("Encountered unknown websocket error during connection: ".concat(g.toString()),$t.InternalError,m.status))}catch(m){u(new hn(m instanceof Error?m.message:"server was not reachable",$t.ServerUnreachable))}}}),this.ws.onmessage=g=>ne(this,void 0,void 0,function*(){var m,v,y;let b;if(typeof g.data=="string"){const w=JSON.parse(g.data);b=nM.fromJson(w,{ignoreUnknownFields:!0})}else{if(!(g.data instanceof ArrayBuffer))return void this.log.error("could not decode websocket message: ".concat(typeof g.data),this.logContext);b=nM.fromBinary(new Uint8Array(g.data))}if(this.state!==_n.CONNECTED){let w=!1;if(((m=b.message)===null||m===void 0?void 0:m.case)==="join"?(this.state=_n.CONNECTED,o==null||o.removeEventListener("abort",p),this.pingTimeoutDuration=b.message.value.pingTimeout,this.pingIntervalDuration=b.message.value.pingInterval,this.pingTimeoutDuration&&this.pingTimeoutDuration>0&&(this.log.debug("ping config",Object.assign(Object.assign({},this.logContext),{timeout:this.pingTimeoutDuration,interval:this.pingIntervalDuration})),this.startPingInterval()),c(b.message.value)):this.state===_n.RECONNECTING&&b.message.case!=="leave"?(this.state=_n.CONNECTED,o==null||o.removeEventListener("abort",p),this.startPingInterval(),((v=b.message)===null||v===void 0?void 0:v.case)==="reconnect"?c(b.message.value):(this.log.debug("declaring signal reconnected without reconnect response received",this.logContext),c(void 0),w=!0)):this.isEstablishingConnection&&b.message.case==="leave"?u(new hn("Received leave request while trying to (re)connect",$t.LeaveRequest,void 0,b.message.value.reason)):r.reconnect||u(new hn("did not receive join response, got ".concat((y=b.message)===null||y===void 0?void 0:y.case," instead"),$t.InternalError)),!w)return}this.signalLatency&&(yield Zo(this.signalLatency)),this.handleSignalResponse(b)}),this.ws.onclose=g=>{this.isEstablishingConnection&&u(new hn("Websocket got closed during a (re)connection attempt",$t.InternalError)),this.log.warn("websocket closed",Object.assign(Object.assign({},this.logContext),{reason:g.reason,code:g.code,wasClean:g.wasClean,state:this.state})),this.handleOnClose(g.reason)}}finally{h()}}))}close(){return ne(this,arguments,void 0,function(){var t=this;let n=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return function*(){const r=yield t.closingLock.lock();try{if(t.clearPingInterval(),n&&(t.state=_n.DISCONNECTING),t.ws){t.ws.onmessage=null,t.ws.onopen=null,t.ws.onclose=null;const o=new Promise(i=>{t.ws?t.ws.onclose=()=>{i()}:i()});t.ws.readyState<t.ws.CLOSING&&(t.ws.close(),yield Promise.race([o,Zo(250)])),t.ws=void 0}}finally{n&&(t.state=_n.DISCONNECTED),r()}}()})}sendOffer(t){this.log.debug("sending offer",Object.assign(Object.assign({},this.logContext),{offerSdp:t.sdp})),this.sendRequest({case:"offer",value:uv(t)})}sendAnswer(t){return this.log.debug("sending answer",Object.assign(Object.assign({},this.logContext),{answerSdp:t.sdp})),this.sendRequest({case:"answer",value:uv(t)})}sendIceCandidate(t,n){return this.log.debug("sending ice candidate",Object.assign(Object.assign({},this.logContext),{candidate:t})),this.sendRequest({case:"trickle",value:new Tx({candidateInit:JSON.stringify(t),target:n})})}sendMuteTrack(t,n){return this.sendRequest({case:"mute",value:new Sx({sid:t,muted:n})})}sendAddTrack(t){return this.sendRequest({case:"addTrack",value:t})}sendUpdateLocalMetadata(t,n){return ne(this,arguments,void 0,function(r,o){var i=this;let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){const s=i.getNextRequestId();return yield i.sendRequest({case:"updateMetadata",value:new aM({requestId:s,metadata:r,name:o,attributes:a})}),s}()})}sendUpdateTrackSettings(t){this.sendRequest({case:"trackSetting",value:t})}sendUpdateSubscription(t){return this.sendRequest({case:"subscription",value:t})}sendSyncState(t){return this.sendRequest({case:"syncState",value:t})}sendUpdateVideoLayers(t,n){return this.sendRequest({case:"updateLayers",value:new iM({trackSid:t,layers:n})})}sendUpdateSubscriptionPermissions(t,n){return this.sendRequest({case:"subscriptionPermission",value:new cM({allParticipants:t,trackPermissions:n})})}sendSimulateScenario(t){return this.sendRequest({case:"simulate",value:t})}sendPing(){return Promise.all([this.sendRequest({case:"ping",value:Nn.parse(Date.now())}),this.sendRequest({case:"pingReq",value:new hM({timestamp:Nn.parse(Date.now()),rtt:Nn.parse(this.rtt)})})])}sendUpdateLocalAudioTrack(t,n){return this.sendRequest({case:"updateAudioTrack",value:new oM({trackSid:t,features:n})})}sendLeave(){return this.sendRequest({case:"leave",value:new Qg({reason:$i.CLIENT_INITIATED,action:Vd.DISCONNECT})})}sendRequest(t){return ne(this,arguments,void 0,function(n){var r=this;let o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return function*(){if(!o&&!function(a){const s=$ce.indexOf(a.case)>=0;return Gt.trace("request allowed to bypass queue:",{canPass:s,req:a}),s}(n)&&r.state===_n.RECONNECTING)return void r.queuedRequests.push(()=>ne(r,void 0,void 0,function*(){yield this.sendRequest(n,!0)}));if(o||(yield r.requestQueue.flush()),r.signalLatency&&(yield Zo(r.signalLatency)),!r.ws||r.ws.readyState!==r.ws.OPEN)return void r.log.error("cannot send signal request before connected, type: ".concat(n==null?void 0:n.case),r.logContext);const i=new Xle({message:n});try{r.useJSON?r.ws.send(i.toJsonString()):r.ws.send(i.toBinary())}catch(a){r.log.error("error sending signal message",Object.assign(Object.assign({},r.logContext),{error:a}))}}()})}handleSignalResponse(t){var n,r;const o=t.message;if(o==null)return void this.log.debug("received unsupported message",this.logContext);let i=!1;if(o.case==="answer"){const a=yL(o.value);this.onAnswer&&this.onAnswer(a)}else if(o.case==="offer"){const a=yL(o.value);this.onOffer&&this.onOffer(a)}else if(o.case==="trickle"){const a=JSON.parse(o.value.candidateInit);this.onTrickle&&this.onTrickle(a,o.value.target)}else o.case==="update"?this.onParticipantUpdate&&this.onParticipantUpdate((n=o.value.participants)!==null&&n!==void 0?n:[]):o.case==="trackPublished"?this.onLocalTrackPublished&&this.onLocalTrackPublished(o.value):o.case==="speakersChanged"?this.onSpeakersChanged&&this.onSpeakersChanged((r=o.value.speakers)!==null&&r!==void 0?r:[]):o.case==="leave"?this.onLeave&&this.onLeave(o.value):o.case==="mute"?this.onRemoteMuteChanged&&this.onRemoteMuteChanged(o.value.sid,o.value.muted):o.case==="roomUpdate"?this.onRoomUpdate&&o.value.room&&this.onRoomUpdate(o.value.room):o.case==="connectionQuality"?this.onConnectionQuality&&this.onConnectionQuality(o.value):o.case==="streamStateUpdate"?this.onStreamStateUpdate&&this.onStreamStateUpdate(o.value):o.case==="subscribedQualityUpdate"?this.onSubscribedQualityUpdate&&this.onSubscribedQualityUpdate(o.value):o.case==="subscriptionPermissionUpdate"?this.onSubscriptionPermissionUpdate&&this.onSubscriptionPermissionUpdate(o.value):o.case==="refreshToken"?this.onTokenRefresh&&this.onTokenRefresh(o.value):o.case==="trackUnpublished"?this.onLocalTrackUnpublished&&this.onLocalTrackUnpublished(o.value):o.case==="subscriptionResponse"?this.onSubscriptionError&&this.onSubscriptionError(o.value):o.case==="pong"||(o.case==="pongResp"?(this.rtt=Date.now()-Number.parseInt(o.value.lastPingTimestamp.toString()),this.resetPingTimeout(),i=!0):o.case==="requestResponse"?this.onRequestResponse&&this.onRequestResponse(o.value):o.case==="trackSubscribed"?this.onLocalTrackSubscribed&&this.onLocalTrackSubscribed(o.value.trackSid):this.log.debug("unsupported message",Object.assign(Object.assign({},this.logContext),{msgCase:o.case})));i||this.resetPingTimeout()}setReconnected(){for(;this.queuedRequests.length>0;){const t=this.queuedRequests.shift();t&&this.requestQueue.run(t)}}handleOnClose(t){return ne(this,void 0,void 0,function*(){if(this.state===_n.DISCONNECTED)return;const n=this.onClose;yield this.close(),this.log.debug("websocket connection closed: ".concat(t),Object.assign(Object.assign({},this.logContext),{reason:t})),n&&n(t)})}handleWSError(t){this.log.error("websocket error",Object.assign(Object.assign({},this.logContext),{error:t}))}resetPingTimeout(){this.clearPingTimeout(),this.pingTimeoutDuration?this.pingTimeout=Cr.setTimeout(()=>{this.log.warn("ping timeout triggered. last pong received at: ".concat(new Date(Date.now()-1e3*this.pingTimeoutDuration).toUTCString()),this.logContext),this.handleOnClose("ping timeout")},1e3*this.pingTimeoutDuration):this.log.warn("ping timeout duration not set",this.logContext)}clearPingTimeout(){this.pingTimeout&&Cr.clearTimeout(this.pingTimeout)}startPingInterval(){this.clearPingInterval(),this.resetPingTimeout(),this.pingIntervalDuration?(this.log.debug("start ping interval",this.logContext),this.pingInterval=Cr.setInterval(()=>{this.sendPing()},1e3*this.pingIntervalDuration)):this.log.warn("ping interval duration not set",this.logContext)}clearPingInterval(){this.log.debug("clearing ping interval",this.logContext),this.clearPingTimeout(),this.pingInterval&&Cr.clearInterval(this.pingInterval)}}function yL(e){const t={type:"offer",sdp:e.sdp};switch(e.type){case"answer":case"offer":case"pranswer":case"rollback":t.type=e.type}return t}function uv(e){return new Jc({sdp:e.sdp,type:e.type})}var wL,kL,i4,xL,_L,Yi={},TL={},a4={exports:{}};function s4(){if(wL)return a4.exports;wL=1;var e=a4.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(t){return t.encoding?"rtpmap:%d %s/%s/%s":t.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(t){return t.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(t){return t.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(t){return"extmap:%d"+(t.direction?"/%s":"%v")+(t["encrypt-uri"]?" %s":"%v")+" %s"+(t.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(t){return t.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(t){var n="candidate:%s %d %s %d %s %d typ %s";return n+=t.raddr!=null?" raddr %s rport %d":"%v%v",n+=t.tcptype!=null?" tcptype %s":"%v",t.generation!=null&&(n+=" generation %d"),n+=t["network-id"]!=null?" network-id %d":"%v",n+=t["network-cost"]!=null?" network-cost %d":"%v"}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(t){var n="ssrc:%d";return t.attribute!=null&&(n+=" %s",t.value!=null&&(n+=":%s")),n}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(t){return t.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(t){return t.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(t){return"imageattr:%s %s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(t){return"simulcast:%s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(t){return"ts-refclk:%s"+(t.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(t){var n="mediaclk:";return n+=t.id!=null?"id=%s %s":"%v%s",n+=t.mediaClockValue!=null?"=%s":"",n+=t.rateNumerator!=null?" rate=%s":"",n+=t.rateDenominator!=null?"/%s":""}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};return Object.keys(e).forEach(function(t){e[t].forEach(function(n){n.reg||(n.reg=/(.*)/),n.format||(n.format="%s")})}),a4.exports}function Wce(){return kL||(kL=1,function(e){var t=function(a){return String(Number(a))===a?Number(a):a},n=function(a,s,l){var c=a.name&&a.names;a.push&&!s[a.push]?s[a.push]=[]:c&&!s[a.name]&&(s[a.name]={});var u=a.push?{}:c?s[a.name]:s;(function(h,p,d,f){if(f&&!d)p[f]=t(h[1]);else for(var g=0;g<d.length;g+=1)h[g+1]!=null&&(p[d[g]]=t(h[g+1]))})(l.match(a.reg),u,a.names,a.name),a.push&&s[a.push].push(u)},r=s4(),o=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(a){var s={},l=[],c=s;return a.split(/(\r\n|\r|\n)/).filter(o).forEach(function(u){var h=u[0],p=u.slice(2);h==="m"&&(l.push({rtp:[],fmtp:[]}),c=l[l.length-1]);for(var d=0;d<(r[h]||[]).length;d+=1){var f=r[h][d];if(f.reg.test(p))return n(f,c,p)}}),s.media=l,s};var i=function(a,s){var l=s.split(/=(.+)/,2);return l.length===2?a[l[0]]=t(l[1]):l.length===1&&s.length>1&&(a[l[0]]=void 0),a};e.parseParams=function(a){return a.split(/;\s?/).reduce(i,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(a){return a.toString().split(" ").map(Number)},e.parseRemoteCandidates=function(a){for(var s=[],l=a.split(" ").map(t),c=0;c<l.length;c+=3)s.push({component:l[c],ip:l[c+1],port:l[c+2]});return s},e.parseImageAttributes=function(a){return a.split(" ").map(function(s){return s.substring(1,s.length-1).split(",").reduce(i,{})})},e.parseSimulcastStreamList=function(a){return a.split(";").map(function(s){return s.split(",").map(function(l){var c,u=!1;return l[0]!=="~"?c=t(l):(c=t(l.substring(1,l.length)),u=!0),{scid:c,paused:u}})})}}(TL)),TL}function Gce(){if(xL)return i4;xL=1;var e=s4(),t=/%[sdv%]/g,n=function(a){var s=1,l=arguments,c=l.length;return a.replace(t,function(u){if(s>=c)return u;var h=l[s];switch(s+=1,u){case"%%":return"%";case"%s":return String(h);case"%d":return Number(h);case"%v":return""}})},r=function(a,s,l){var c=[a+"="+(s.format instanceof Function?s.format(s.push?l:l[s.name]):s.format)];if(s.names)for(var u=0;u<s.names.length;u+=1){var h=s.names[u];s.name?c.push(l[s.name][h]):c.push(l[s.names[u]])}else c.push(l[s.name]);return n.apply(null,c)},o=["v","o","s","i","u","e","p","c","b","t","r","z","a"],i=["i","c","b","a"];return i4=function(a,s){s=s||{},a.version==null&&(a.version=0),a.name==null&&(a.name=" "),a.media.forEach(function(h){h.payloads==null&&(h.payloads="")});var l=s.outerOrder||o,c=s.innerOrder||i,u=[];return l.forEach(function(h){e[h].forEach(function(p){p.name in a&&a[p.name]!=null?u.push(r(h,p,a)):p.push in a&&a[p.push]!=null&&a[p.push].forEach(function(d){u.push(r(h,p,d))})})}),a.media.forEach(function(h){u.push(r("m",e.m[0],h)),c.forEach(function(p){e[p].forEach(function(d){d.name in h&&h[d.name]!=null?u.push(r(p,d,h)):d.push in h&&h[d.push]!=null&&h[d.push].forEach(function(f){u.push(r(p,d,f))})})})}),u.join(`\r
`)+`\r
`},i4}var Bl=function(){if(_L)return Yi;_L=1;var e=Wce(),t=Gce(),n=s4();return Yi.grammar=n,Yi.write=t,Yi.parse=e.parse,Yi.parseParams=e.parseParams,Yi.parseFmtpConfig=e.parseFmtpConfig,Yi.parsePayloads=e.parsePayloads,Yi.parseRemoteCandidates=e.parseRemoteCandidates,Yi.parseImageAttributes=e.parseImageAttributes,Yi.parseSimulcastStreamList=e.parseSimulcastStreamList,Yi}();function l4(e,t,n){var r,o,i;t===void 0&&(t=50),n===void 0&&(n={});var a=(r=n.isImmediate)!=null&&r,s=(o=n.callback)!=null&&o,l=n.maxWait,c=Date.now(),u=[],h=function(){var p=[].slice.call(arguments),d=this;return new Promise(function(f,g){var m=a&&i===void 0;if(i!==void 0&&clearTimeout(i),i=setTimeout(function(){if(i=void 0,c=Date.now(),!a){var y=e.apply(d,p);s&&s(y),u.forEach(function(b){return(0,b.resolve)(y)}),u=[]}},function(){if(l!==void 0){var y=Date.now()-c;if(y+t>=l)return l-y}return t}()),m){var v=e.apply(d,p);return s&&s(v),f(v)}u.push({resolve:f,reject:g})})};return h.cancel=function(p){i!==void 0&&clearTimeout(i),u.forEach(function(d){return(0,d.reject)(p)}),u=[]},h}const SL="negotiationStarted",EL="negotiationComplete",CL="rtpVideoPayloadTypes";class OL extends ja.EventEmitter{get pc(){return this._pc||(this._pc=this.createPC()),this._pc}constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var r;super(),this.log=Gt,this.ddExtID=0,this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate=!1,this.trackBitrates=[],this.remoteStereoMids=[],this.remoteNackMids=[],this.negotiate=l4(o=>ne(this,void 0,void 0,function*(){this.emit(SL);try{yield this.createAndSendOffer()}catch(i){if(!o)throw i;o(i)}}),20),this.close=()=>{this._pc&&(this._pc.close(),this._pc.onconnectionstatechange=null,this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.ondatachannel=null,this._pc.onnegotiationneeded=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ondatachannel=null,this._pc.ontrack=null,this._pc.onconnectionstatechange=null,this._pc.oniceconnectionstatechange=null,this._pc=null)},this.log=Cs((r=n.loggerName)!==null&&r!==void 0?r:Wi.PCTransport),this.loggerOptions=n,this.config=t,this._pc=this.createPC()}createPC(){const t=new RTCPeerConnection(this.config);return t.onicecandidate=n=>{var r;n.candidate&&((r=this.onIceCandidate)===null||r===void 0||r.call(this,n.candidate))},t.onicecandidateerror=n=>{var r;(r=this.onIceCandidateError)===null||r===void 0||r.call(this,n)},t.oniceconnectionstatechange=()=>{var n;(n=this.onIceConnectionStateChange)===null||n===void 0||n.call(this,t.iceConnectionState)},t.onsignalingstatechange=()=>{var n;(n=this.onSignalingStatechange)===null||n===void 0||n.call(this,t.signalingState)},t.onconnectionstatechange=()=>{var n;(n=this.onConnectionStateChange)===null||n===void 0||n.call(this,t.connectionState)},t.ondatachannel=n=>{var r;(r=this.onDataChannel)===null||r===void 0||r.call(this,n)},t.ontrack=n=>{var r;(r=this.onTrack)===null||r===void 0||r.call(this,n)},t}get logContext(){var t,n;return Object.assign({},(n=(t=this.loggerOptions).loggerContextCb)===null||n===void 0?void 0:n.call(t))}get isICEConnected(){return this._pc!==null&&(this.pc.iceConnectionState==="connected"||this.pc.iceConnectionState==="completed")}addIceCandidate(t){return ne(this,void 0,void 0,function*(){if(this.pc.remoteDescription&&!this.restartingIce)return this.pc.addIceCandidate(t);this.pendingCandidates.push(t)})}setRemoteDescription(t){return ne(this,void 0,void 0,function*(){var n;let r;if(t.type==="offer"){let{stereoMids:o,nackMids:i}=function(a){var s;const l=[],c=[],u=Bl.parse((s=a.sdp)!==null&&s!==void 0?s:"");let h=0;return u.media.forEach(p=>{var d;p.type==="audio"&&(p.rtp.some(f=>f.codec==="opus"&&(h=f.payload,!0)),!((d=p.rtcpFb)===null||d===void 0)&&d.some(f=>f.payload===h&&f.type==="nack")&&c.push(p.mid),p.fmtp.some(f=>f.payload===h&&(f.config.includes("sprop-stereo=1")&&l.push(p.mid),!0)))}),{stereoMids:l,nackMids:c}}(t);this.remoteStereoMids=o,this.remoteNackMids=i}else if(t.type==="answer"){const o=Bl.parse((n=t.sdp)!==null&&n!==void 0?n:"");o.media.forEach(i=>{i.type==="audio"&&this.trackBitrates.some(a=>{if(!a.transceiver||i.mid!=a.transceiver.mid)return!1;let s=0;if(i.rtp.some(c=>c.codec.toUpperCase()===a.codec.toUpperCase()&&(s=c.payload,!0)),s===0)return!0;let l=!1;for(const c of i.fmtp)if(c.payload===s){c.config=c.config.split(";").filter(u=>!u.includes("maxaveragebitrate")).join(";"),a.maxbr>0&&(c.config+=";maxaveragebitrate=".concat(1e3*a.maxbr)),l=!0;break}return l||a.maxbr>0&&i.fmtp.push({payload:s,config:"maxaveragebitrate=".concat(1e3*a.maxbr)}),!0})}),r=Bl.write(o)}yield this.setMungedSDP(t,r,!0),this.pendingCandidates.forEach(o=>{this.pc.addIceCandidate(o)}),this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate?(this.renegotiate=!1,yield this.createAndSendOffer()):t.type==="answer"&&(this.emit(EL),t.sdp&&Bl.parse(t.sdp).media.forEach(o=>{o.type==="video"&&this.emit(CL,o.rtp)}))})}createAndSendOffer(t){return ne(this,void 0,void 0,function*(){var n;if(this.onOffer===void 0)return;if(t!=null&&t.iceRestart&&(this.log.debug("restarting ICE",this.logContext),this.restartingIce=!0),this._pc&&this._pc.signalingState==="have-local-offer"){const i=this._pc.remoteDescription;if(t==null||!t.iceRestart||!i)return void(this.renegotiate=!0);yield this._pc.setRemoteDescription(i)}else if(!this._pc||this._pc.signalingState==="closed")return void this.log.warn("could not createOffer with closed peer connection",this.logContext);this.log.debug("starting to negotiate",this.logContext);const r=yield this.pc.createOffer(t);this.log.debug("original offer",Object.assign({sdp:r.sdp},this.logContext));const o=Bl.parse((n=r.sdp)!==null&&n!==void 0?n:"");o.media.forEach(i=>{AL(i),i.type==="audio"?PL(i,[],[]):i.type==="video"&&this.trackBitrates.some(a=>{if(!i.msid||!a.cid||!i.msid.includes(a.cid))return!1;let s=0;if(i.rtp.some(c=>c.codec.toUpperCase()===a.codec.toUpperCase()&&(s=c.payload,!0)),s===0||($p(a.codec)&&this.ensureVideoDDExtensionForSVC(i,o),a.codec!=="av1"))return!0;const l=Math.round(.7*a.maxbr);for(const c of i.fmtp)if(c.payload===s){c.config.includes("x-google-start-bitrate")||(c.config+=";x-google-start-bitrate=".concat(l));break}return!0})}),yield this.setMungedSDP(r,Bl.write(o)),this.onOffer(r)})}createAndSetAnswer(){return ne(this,void 0,void 0,function*(){var t;const n=yield this.pc.createAnswer(),r=Bl.parse((t=n.sdp)!==null&&t!==void 0?t:"");return r.media.forEach(o=>{AL(o),o.type==="audio"&&PL(o,this.remoteStereoMids,this.remoteNackMids)}),yield this.setMungedSDP(n,Bl.write(r)),n})}createDataChannel(t,n){return this.pc.createDataChannel(t,n)}addTransceiver(t,n){return this.pc.addTransceiver(t,n)}addTrack(t){if(!this._pc)throw new pr("PC closed, cannot add track");return this._pc.addTrack(t)}setTrackCodecBitrate(t){this.trackBitrates.push(t)}setConfiguration(t){var n;if(!this._pc)throw new pr("PC closed, cannot configure");return(n=this._pc)===null||n===void 0?void 0:n.setConfiguration(t)}canRemoveTrack(){var t;return!((t=this._pc)===null||t===void 0||!t.removeTrack)}removeTrack(t){var n;return(n=this._pc)===null||n===void 0?void 0:n.removeTrack(t)}getConnectionState(){var t,n;return(n=(t=this._pc)===null||t===void 0?void 0:t.connectionState)!==null&&n!==void 0?n:"closed"}getICEConnectionState(){var t,n;return(n=(t=this._pc)===null||t===void 0?void 0:t.iceConnectionState)!==null&&n!==void 0?n:"closed"}getSignallingState(){var t,n;return(n=(t=this._pc)===null||t===void 0?void 0:t.signalingState)!==null&&n!==void 0?n:"closed"}getTransceivers(){var t,n;return(n=(t=this._pc)===null||t===void 0?void 0:t.getTransceivers())!==null&&n!==void 0?n:[]}getSenders(){var t,n;return(n=(t=this._pc)===null||t===void 0?void 0:t.getSenders())!==null&&n!==void 0?n:[]}getLocalDescription(){var t;return(t=this._pc)===null||t===void 0?void 0:t.localDescription}getRemoteDescription(){var t;return(t=this.pc)===null||t===void 0?void 0:t.remoteDescription}getStats(){return this.pc.getStats()}getConnectedAddress(){return ne(this,void 0,void 0,function*(){var t;if(!this._pc)return;let n="";const r=new Map,o=new Map;if((yield this._pc.getStats()).forEach(a=>{switch(a.type){case"transport":n=a.selectedCandidatePairId;break;case"candidate-pair":n===""&&a.selected&&(n=a.id),r.set(a.id,a);break;case"remote-candidate":o.set(a.id,"".concat(a.address,":").concat(a.port))}}),n==="")return;const i=(t=r.get(n))===null||t===void 0?void 0:t.remoteCandidateId;return i!==void 0?o.get(i):void 0})}setMungedSDP(t,n,r){return ne(this,void 0,void 0,function*(){if(n){const o=t.sdp;t.sdp=n;try{return this.log.debug("setting munged ".concat(r?"remote":"local"," description"),this.logContext),void(r?yield this.pc.setRemoteDescription(t):yield this.pc.setLocalDescription(t))}catch(i){this.log.warn("not able to set ".concat(t.type,", falling back to unmodified sdp"),Object.assign(Object.assign({},this.logContext),{error:i,sdp:n})),t.sdp=o}}try{r?yield this.pc.setRemoteDescription(t):yield this.pc.setLocalDescription(t)}catch(o){let i="unknown error";o instanceof Error?i=o.message:typeof o=="string"&&(i=o);const a={error:i,sdp:t.sdp};throw!r&&this.pc.remoteDescription&&(a.remoteSdp=this.pc.remoteDescription),this.log.error("unable to set ".concat(t.type),Object.assign(Object.assign({},this.logContext),{fields:a})),new zx(i)}})}ensureVideoDDExtensionForSVC(t,n){var r,o;if(!(!((r=t.ext)===null||r===void 0)&&r.some(i=>i.uri===oL))){if(this.ddExtID===0){let i=0;n.media.forEach(a=>{var s;a.type==="video"&&((s=a.ext)===null||s===void 0||s.forEach(l=>{l.value>i&&(i=l.value)}))}),this.ddExtID=i+1}(o=t.ext)===null||o===void 0||o.push({value:this.ddExtID,uri:oL})}}}function PL(e,t,n){let r=0;e.rtp.some(o=>o.codec==="opus"&&(r=o.payload,!0)),r>0&&(e.rtcpFb||(e.rtcpFb=[]),n.includes(e.mid)&&!e.rtcpFb.some(o=>o.payload===r&&o.type==="nack")&&e.rtcpFb.push({payload:r,type:"nack"}),t.includes(e.mid)&&e.fmtp.some(o=>o.payload===r&&(o.config.includes("stereo=1")||(o.config+=";stereo=1"),!0)))}function AL(e){if(e.connection){const t=e.connection.ip.indexOf(":")>=0;(e.connection.version===4&&t||e.connection.version===6&&!t)&&(e.connection.ip="0.0.0.0",e.connection.version=4)}}const c4="vp8",Kce={audioPreset:Hx.music,dtx:!0,red:!0,forceStereo:!1,simulcast:!0,screenShareEncoding:$x.h1080fps15.encoding,stopMicTrackOnMute:!1,videoCodec:c4,backupCodec:!0},NL={deviceId:{ideal:"default"},autoGainControl:!0,echoCancellation:!0,noiseSuppression:!0,voiceIsolation:!0},RL={deviceId:{ideal:"default"},resolution:Vp.h720.resolution},Yce={adaptiveStream:!1,dynacast:!1,stopLocalTrackOnUnpublish:!0,reconnectPolicy:new class{constructor(e){this._retryDelays=e!==void 0?[...e]:xce}nextRetryDelayInMs(e){if(e.retryCount>=this._retryDelays.length)return null;const t=this._retryDelays[e.retryCount];return e.retryCount<=1?t:t+1e3*Math.random()}},disconnectOnPageLeave:!0,webAudioMix:!1},u4={autoSubscribe:!0,maxRetries:1,peerConnectionTimeout:15e3,websocketTimeout:15e3};var Hn;(function(e){e[e.NEW=0]="NEW",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED",e[e.FAILED=3]="FAILED",e[e.CLOSING=4]="CLOSING",e[e.CLOSED=5]="CLOSED"})(Hn||(Hn={}));class Qce{get needsPublisher(){return this.isPublisherConnectionRequired}get needsSubscriber(){return this.isSubscriberConnectionRequired}get currentState(){return this.state}constructor(t,n,r){var o;this.peerConnectionTimeout=u4.peerConnectionTimeout,this.log=Gt,this.updateState=()=>{var i;const a=this.state,s=this.requiredTransports.map(l=>l.getConnectionState());s.every(l=>l==="connected")?this.state=Hn.CONNECTED:s.some(l=>l==="failed")?this.state=Hn.FAILED:s.some(l=>l==="connecting")?this.state=Hn.CONNECTING:s.every(l=>l==="closed")?this.state=Hn.CLOSED:s.some(l=>l==="closed")?this.state=Hn.CLOSING:s.every(l=>l==="new")&&(this.state=Hn.NEW),a!==this.state&&(this.log.debug("pc state change: from ".concat(Hn[a]," to ").concat(Hn[this.state]),this.logContext),(i=this.onStateChange)===null||i===void 0||i.call(this,this.state,this.publisher.getConnectionState(),this.subscriber.getConnectionState()))},this.log=Cs((o=r.loggerName)!==null&&o!==void 0?o:Wi.PCManager),this.loggerOptions=r,this.isPublisherConnectionRequired=!n,this.isSubscriberConnectionRequired=n,this.publisher=new OL(t,r),this.subscriber=new OL(t,r),this.publisher.onConnectionStateChange=this.updateState,this.subscriber.onConnectionStateChange=this.updateState,this.publisher.onIceConnectionStateChange=this.updateState,this.subscriber.onIceConnectionStateChange=this.updateState,this.publisher.onSignalingStatechange=this.updateState,this.subscriber.onSignalingStatechange=this.updateState,this.publisher.onIceCandidate=i=>{var a;(a=this.onIceCandidate)===null||a===void 0||a.call(this,i,qi.PUBLISHER)},this.subscriber.onIceCandidate=i=>{var a;(a=this.onIceCandidate)===null||a===void 0||a.call(this,i,qi.SUBSCRIBER)},this.subscriber.onDataChannel=i=>{var a;(a=this.onDataChannel)===null||a===void 0||a.call(this,i)},this.subscriber.onTrack=i=>{var a;(a=this.onTrack)===null||a===void 0||a.call(this,i)},this.publisher.onOffer=i=>{var a;(a=this.onPublisherOffer)===null||a===void 0||a.call(this,i)},this.state=Hn.NEW,this.connectionLock=new vo,this.remoteOfferLock=new vo}get logContext(){var t,n;return Object.assign({},(n=(t=this.loggerOptions).loggerContextCb)===null||n===void 0?void 0:n.call(t))}requirePublisher(){let t=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isPublisherConnectionRequired=t,this.updateState()}requireSubscriber(){let t=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSubscriberConnectionRequired=t,this.updateState()}createAndSendPublisherOffer(t){return this.publisher.createAndSendOffer(t)}setPublisherAnswer(t){return this.publisher.setRemoteDescription(t)}removeTrack(t){return this.publisher.removeTrack(t)}close(){return ne(this,void 0,void 0,function*(){if(this.publisher&&this.publisher.getSignallingState()!=="closed"){const t=this.publisher;for(const n of t.getSenders())try{t.canRemoveTrack()&&t.removeTrack(n)}catch(r){this.log.warn("could not removeTrack",Object.assign(Object.assign({},this.logContext),{error:r}))}}yield Promise.all([this.publisher.close(),this.subscriber.close()]),this.updateState()})}triggerIceRestart(){return ne(this,void 0,void 0,function*(){this.subscriber.restartingIce=!0,this.needsPublisher&&(yield this.createAndSendPublisherOffer({iceRestart:!0}))})}addIceCandidate(t,n){return ne(this,void 0,void 0,function*(){n===qi.PUBLISHER?yield this.publisher.addIceCandidate(t):yield this.subscriber.addIceCandidate(t)})}createSubscriberAnswerFromOffer(t){return ne(this,void 0,void 0,function*(){this.log.debug("received server offer",Object.assign(Object.assign({},this.logContext),{RTCSdpType:t.type,sdp:t.sdp,signalingState:this.subscriber.getSignallingState().toString()}));const n=yield this.remoteOfferLock.lock();try{return yield this.subscriber.setRemoteDescription(t),yield this.subscriber.createAndSetAnswer()}finally{n()}})}updateConfiguration(t,n){this.publisher.setConfiguration(t),this.subscriber.setConfiguration(t),n&&this.triggerIceRestart()}ensurePCTransportConnection(t,n){return ne(this,void 0,void 0,function*(){var r;const o=yield this.connectionLock.lock();try{this.isPublisherConnectionRequired&&this.publisher.getConnectionState()!=="connected"&&this.publisher.getConnectionState()!=="connecting"&&(this.log.debug("negotiation required, start negotiating",this.logContext),this.publisher.negotiate()),yield Promise.all((r=this.requiredTransports)===null||r===void 0?void 0:r.map(i=>this.ensureTransportConnected(i,t,n)))}finally{o()}})}negotiate(t){return ne(this,void 0,void 0,function*(){return new Promise((n,r)=>ne(this,void 0,void 0,function*(){const o=setTimeout(()=>{r("negotiation timed out")},this.peerConnectionTimeout);t.signal.addEventListener("abort",()=>{clearTimeout(o),r("negotiation aborted")}),this.publisher.once(SL,()=>{t.signal.aborted||this.publisher.once(EL,()=>{clearTimeout(o),n()})}),yield this.publisher.negotiate(i=>{clearTimeout(o),r(i)})}))})}addPublisherTransceiver(t,n){return this.publisher.addTransceiver(t,n)}addPublisherTrack(t){return this.publisher.addTrack(t)}createPublisherDataChannel(t,n){return this.publisher.createDataChannel(t,n)}getConnectedAddress(t){return t===qi.PUBLISHER||t===qi.SUBSCRIBER?this.publisher.getConnectedAddress():this.requiredTransports[0].getConnectedAddress()}get requiredTransports(){const t=[];return this.isPublisherConnectionRequired&&t.push(this.publisher),this.isSubscriberConnectionRequired&&t.push(this.subscriber),t}ensureTransportConnected(t,n){return ne(this,arguments,void 0,function(r,o){var i=this;let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.peerConnectionTimeout;return function*(){if(r.getConnectionState()!=="connected")return new Promise((s,l)=>ne(i,void 0,void 0,function*(){const c=()=>{this.log.warn("abort transport connection",this.logContext),Cr.clearTimeout(u),l(new hn("room connection has been cancelled",$t.Cancelled))};o!=null&&o.signal.aborted&&c(),o==null||o.signal.addEventListener("abort",c);const u=Cr.setTimeout(()=>{o==null||o.signal.removeEventListener("abort",c),l(new hn("could not establish pc connection",$t.InternalError))},a);for(;this.state!==Hn.CONNECTED;)if(yield Zo(50),o!=null&&o.signal.aborted)return void l(new hn("room connection has been cancelled",$t.Cancelled));Cr.clearTimeout(u),o==null||o.signal.removeEventListener("abort",c),s()}))}()})}}class Vn extends Error{constructor(t,n,r){super(n),this.code=t,this.message=IL(n,Vn.MAX_MESSAGE_BYTES),this.data=r?IL(r,Vn.MAX_DATA_BYTES):void 0}static fromProto(t){return new Vn(t.code,t.message,t.data)}toProto(){return new KI({code:this.code,message:this.message,data:this.data})}static builtIn(t,n){return new Vn(Vn.ErrorCode[t],Vn.ErrorMessage[t],n)}}Vn.MAX_MESSAGE_BYTES=256,Vn.MAX_DATA_BYTES=15360,Vn.ErrorCode={APPLICATION_ERROR:1500,CONNECTION_TIMEOUT:1501,RESPONSE_TIMEOUT:1502,RECIPIENT_DISCONNECTED:1503,RESPONSE_PAYLOAD_TOO_LARGE:1504,SEND_FAILED:1505,UNSUPPORTED_METHOD:1400,RECIPIENT_NOT_FOUND:1401,REQUEST_PAYLOAD_TOO_LARGE:1402,UNSUPPORTED_SERVER:1403,UNSUPPORTED_VERSION:1404},Vn.ErrorMessage={APPLICATION_ERROR:"Application error in method handler",CONNECTION_TIMEOUT:"Connection timeout",RESPONSE_TIMEOUT:"Response timeout",RECIPIENT_DISCONNECTED:"Recipient disconnected",RESPONSE_PAYLOAD_TOO_LARGE:"Response payload too large",SEND_FAILED:"Failed to send",UNSUPPORTED_METHOD:"Method not supported at destination",RECIPIENT_NOT_FOUND:"Recipient not found",REQUEST_PAYLOAD_TOO_LARGE:"Request payload too large",UNSUPPORTED_SERVER:"RPC not supported by server",UNSUPPORTED_VERSION:"Unsupported RPC version"};function d4(e){return new TextEncoder().encode(e).length}function IL(e,t){if(d4(e)<=t)return e;let n=0,r=e.length;const o=new TextEncoder;for(;n<r;){const i=Math.floor((n+r+1)/2);o.encode(e.slice(0,i)).length<=t?n=i:r=i-1}return e.slice(0,n)}const h4=2e3;function dv(e,t){if(!t)return 0;let n,r;return"bytesReceived"in e?(n=e.bytesReceived,r=t.bytesReceived):"bytesSent"in e&&(n=e.bytesSent,r=t.bytesSent),n===void 0||r===void 0||e.timestamp===void 0||t.timestamp===void 0?0:8*(n-r)*1e3/(e.timestamp-t.timestamp)}class ML extends ye{get sender(){return this._sender}set sender(t){this._sender=t}get constraints(){return this._constraints}constructor(t,n,r){let o=arguments.length>3&&arguments[3]!==void 0&&arguments[3];super(t,n,arguments.length>4?arguments[4]:void 0),this.manuallyStopped=!1,this._isUpstreamPaused=!1,this.handleTrackMuteEvent=()=>this.debouncedTrackMuteHandler().catch(()=>this.log.debug("track mute bounce got cancelled by an unmute event",this.logContext)),this.debouncedTrackMuteHandler=l4(()=>ne(this,void 0,void 0,function*(){yield this.pauseUpstream()}),5e3),this.handleTrackUnmuteEvent=()=>ne(this,void 0,void 0,function*(){this.debouncedTrackMuteHandler.cancel("unmute"),yield this.resumeUpstream()}),this.handleEnded=()=>{this.isInBackground&&(this.reacquireTrack=!0),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent),this.emit(Ve.Ended,this)},this.reacquireTrack=!1,this.providedByUser=o,this.muteLock=new vo,this.pauseUpstreamLock=new vo,this.processorLock=new vo,this.restartLock=new vo,this.setMediaStreamTrack(t,!0),this._constraints=t.getConstraints(),r&&(this._constraints=r)}get id(){return this._mediaStreamTrack.id}get dimensions(){if(this.kind!==ye.Kind.Video)return;const{width:t,height:n}=this._mediaStreamTrack.getSettings();return t&&n?{width:t,height:n}:void 0}get isUpstreamPaused(){return this._isUpstreamPaused}get isUserProvided(){return this.providedByUser}get mediaStreamTrack(){var t,n;return(n=(t=this.processor)===null||t===void 0?void 0:t.processedTrack)!==null&&n!==void 0?n:this._mediaStreamTrack}get isLocal(){return!0}getSourceTrackSettings(){return this._mediaStreamTrack.getSettings()}setMediaStreamTrack(t,n){return ne(this,void 0,void 0,function*(){var r;if(t===this._mediaStreamTrack&&!n)return;let o;if(this._mediaStreamTrack&&(this.attachedElements.forEach(i=>{Wd(this._mediaStreamTrack,i)}),this.debouncedTrackMuteHandler.cancel("new-track"),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent)),this.mediaStream=new MediaStream([t]),t&&(t.addEventListener("ended",this.handleEnded),t.addEventListener("mute",this.handleTrackMuteEvent),t.addEventListener("unmute",this.handleTrackUnmuteEvent),this._constraints=t.getConstraints()),this.processor&&t){const i=yield this.processorLock.lock();try{if(this.log.debug("restarting processor",this.logContext),this.kind==="unknown")throw TypeError("cannot set processor on track of unknown kind");this.processorElement&&(qd(t,this.processorElement),this.processorElement.muted=!0),yield this.processor.restart({track:t,kind:this.kind,element:this.processorElement}),o=this.processor.processedTrack}finally{i()}}this.sender&&((r=this.sender.transport)===null||r===void 0?void 0:r.state)!=="closed"&&(yield this.sender.replaceTrack(o??t)),!this.providedByUser&&this._mediaStreamTrack!==t&&this._mediaStreamTrack.stop(),this._mediaStreamTrack=t,t&&(this._mediaStreamTrack.enabled=!this.isMuted,yield this.resumeUpstream(),this.attachedElements.forEach(i=>{qd(o??t,i)}))})}waitForDimensions(){return ne(this,arguments,void 0,function(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1e3;return function*(){var r;if(t.kind===ye.Kind.Audio)throw new Error("cannot get dimensions for audio tracks");((r=Gi())===null||r===void 0?void 0:r.os)==="iOS"&&(yield Zo(10));const o=Date.now();for(;Date.now()-o<n;){const i=t.dimensions;if(i)return i;yield Zo(50)}throw new Os("unable to get track dimensions after timeout")}()})}setDeviceId(t){return ne(this,void 0,void 0,function*(){return!!(this._constraints.deviceId===t&&this._mediaStreamTrack.getSettings().deviceId===zl(t)||(this._constraints.deviceId=t,this.isMuted))||(yield this.restartTrack(),zl(t)===this._mediaStreamTrack.getSettings().deviceId)})}getDeviceId(){return ne(this,arguments,void 0,function(){var t=this;let n=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return function*(){if(t.source===ye.Source.ScreenShare)return;const{deviceId:r,groupId:o}=t._mediaStreamTrack.getSettings(),i=t.kind===ye.Kind.Audio?"audioinput":"videoinput";return n?wr.getInstance().normalizeDeviceId(i,r,o):r}()})}mute(){return ne(this,void 0,void 0,function*(){return this.setTrackMuted(!0),this})}unmute(){return ne(this,void 0,void 0,function*(){return this.setTrackMuted(!1),this})}replaceTrack(t,n){return ne(this,void 0,void 0,function*(){if(!this.sender)throw new Os("unable to replace an unpublished track");let r,o;return typeof n=="boolean"?r=n:n!==void 0&&(r=n.userProvidedTrack,o=n.stopProcessor),this.providedByUser=r==null||r,this.log.debug("replace MediaStreamTrack",this.logContext),yield this.setMediaStreamTrack(t),o&&this.processor&&(yield this.stopProcessor()),this})}restart(t){return ne(this,void 0,void 0,function*(){this.manuallyStopped=!1;const n=yield this.restartLock.lock();try{t||(t=this._constraints);const{deviceId:r,facingMode:o}=t,i=function(l,c){var u={};for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&c.indexOf(h)<0&&(u[h]=l[h]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function"){var p=0;for(h=Object.getOwnPropertySymbols(l);p<h.length;p++)c.indexOf(h[p])<0&&Object.prototype.propertyIsEnumerable.call(l,h[p])&&(u[h[p]]=l[h[p]])}return u}(t,["deviceId","facingMode"]);this.log.debug("restarting track with constraints",Object.assign(Object.assign({},this.logContext),{constraints:t}));const a={audio:!1,video:!1};this.kind===ye.Kind.Video?a.video=!r&&!o||{deviceId:r,facingMode:o}:a.audio=!r||{deviceId:r},this.attachedElements.forEach(l=>{Wd(this.mediaStreamTrack,l)}),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.stop();const s=(yield navigator.mediaDevices.getUserMedia(a)).getTracks()[0];return yield s.applyConstraints(i),s.addEventListener("ended",this.handleEnded),this.log.debug("re-acquired MediaStreamTrack",this.logContext),yield this.setMediaStreamTrack(s),this._constraints=t,this.emit(Ve.Restarted,this),this.manuallyStopped&&(this.log.warn("track was stopped during a restart, stopping restarted track",this.logContext),this.stop()),this}finally{n()}})}setTrackMuted(t){this.log.debug("setting ".concat(this.kind," track ").concat(t?"muted":"unmuted"),this.logContext),(this.isMuted!==t||this._mediaStreamTrack.enabled===t)&&(this.isMuted=t,this._mediaStreamTrack.enabled=!t,this.emit(t?Ve.Muted:Ve.Unmuted,this))}get needsReAcquisition(){return this._mediaStreamTrack.readyState!=="live"||this._mediaStreamTrack.muted||!this._mediaStreamTrack.enabled||this.reacquireTrack}handleAppVisibilityChanged(){const t=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return ne(this,void 0,void 0,function*(){yield t.handleAppVisibilityChanged.call(this),iL()&&(this.log.debug("visibility changed, is in Background: ".concat(this.isInBackground),this.logContext),!this.isInBackground&&this.needsReAcquisition&&!this.isUserProvided&&!this.isMuted&&(this.log.debug("track needs to be reacquired, restarting ".concat(this.source),this.logContext),yield this.restart(),this.reacquireTrack=!1))})}stop(){var t;this.manuallyStopped=!0,super.stop(),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent),(t=this.processor)===null||t===void 0||t.destroy(),this.processor=void 0}pauseUpstream(){return ne(this,void 0,void 0,function*(){var t;const n=yield this.pauseUpstreamLock.lock();try{if(this._isUpstreamPaused===!0)return;if(!this.sender)return void this.log.warn("unable to pause upstream for an unpublished track",this.logContext);this._isUpstreamPaused=!0,this.emit(Ve.UpstreamPaused,this);const r=Gi();if((r==null?void 0:r.name)==="Safari"&&eu(r.version,"12.0")<0)throw new jx("pauseUpstream is not supported on Safari < 12.");((t=this.sender.transport)===null||t===void 0?void 0:t.state)!=="closed"&&(yield this.sender.replaceTrack(null))}finally{n()}})}resumeUpstream(){return ne(this,void 0,void 0,function*(){var t;const n=yield this.pauseUpstreamLock.lock();try{if(this._isUpstreamPaused===!1)return;if(!this.sender)return void this.log.warn("unable to resume upstream for an unpublished track",this.logContext);this._isUpstreamPaused=!1,this.emit(Ve.UpstreamResumed,this),((t=this.sender.transport)===null||t===void 0?void 0:t.state)!=="closed"&&(yield this.sender.replaceTrack(this.mediaStreamTrack))}finally{n()}})}getRTCStatsReport(){return ne(this,void 0,void 0,function*(){var t;return(t=this.sender)!==null&&t!==void 0&&t.getStats?yield this.sender.getStats():void 0})}setProcessor(t){return ne(this,arguments,void 0,function(n){var r=this;let o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return function*(){var i;const a=yield r.processorLock.lock();try{r.log.debug("setting up processor",r.logContext);const s=document.createElement(r.kind),l={kind:r.kind,track:r._mediaStreamTrack,element:s,audioContext:r.audioContext};if(yield n.init(l),r.log.debug("processor initialized",r.logContext),r.processor&&(yield r.stopProcessor()),r.kind==="unknown")throw TypeError("cannot set processor on track of unknown kind");if(qd(r._mediaStreamTrack,s),s.muted=!0,s.play().catch(c=>r.log.error("failed to play processor element",Object.assign(Object.assign({},r.logContext),{error:c}))),r.processor=n,r.processorElement=s,r.processor.processedTrack){for(const c of r.attachedElements)c!==r.processorElement&&o&&(Wd(r._mediaStreamTrack,c),qd(r.processor.processedTrack,c));yield(i=r.sender)===null||i===void 0?void 0:i.replaceTrack(r.processor.processedTrack)}r.emit(Ve.TrackProcessorUpdate,r.processor)}finally{a()}}()})}getProcessor(){return this.processor}stopProcessor(){return ne(this,arguments,void 0,function(){var t=this;let n=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return function*(){var r,o;t.processor&&(t.log.debug("stopping processor",t.logContext),(r=t.processor.processedTrack)===null||r===void 0||r.stop(),yield t.processor.destroy(),t.processor=void 0,n||((o=t.processorElement)===null||o===void 0||o.remove(),t.processorElement=void 0),yield t._mediaStreamTrack.applyConstraints(t._constraints),yield t.setMediaStreamTrack(t._mediaStreamTrack,!0),t.emit(Ve.TrackProcessorUpdate))}()})}}class hv extends ML{get enhancedNoiseCancellation(){return this.isKrispNoiseFilterEnabled}constructor(t,n){let r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],o=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;super(t,ye.Kind.Audio,n,r,i),this.stopOnMute=!1,this.isKrispNoiseFilterEnabled=!1,this.monitorSender=()=>ne(this,void 0,void 0,function*(){if(!this.sender)return void(this._currentBitrate=0);let a;try{a=yield this.getSenderStats()}catch(s){return void this.log.error("could not get audio sender stats",Object.assign(Object.assign({},this.logContext),{error:s}))}a&&this.prevStats&&(this._currentBitrate=dv(a,this.prevStats)),this.prevStats=a}),this.handleKrispNoiseFilterEnable=()=>{this.isKrispNoiseFilterEnabled=!0,this.log.debug("Krisp noise filter enabled",this.logContext),this.emit(Ve.AudioTrackFeatureUpdate,this,La.TF_ENHANCED_NOISE_CANCELLATION,!0)},this.handleKrispNoiseFilterDisable=()=>{this.isKrispNoiseFilterEnabled=!1,this.log.debug("Krisp noise filter disabled",this.logContext),this.emit(Ve.AudioTrackFeatureUpdate,this,La.TF_ENHANCED_NOISE_CANCELLATION,!1)},this.audioContext=o,this.checkForSilence()}mute(){const t=Object.create(null,{mute:{get:()=>super.mute}});return ne(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{return this.isMuted?(this.log.debug("Track already muted",this.logContext),this):(this.source===ye.Source.Microphone&&this.stopOnMute&&!this.isUserProvided&&(this.log.debug("stopping mic track",this.logContext),this._mediaStreamTrack.stop()),yield t.mute.call(this),this)}finally{n()}})}unmute(){const t=Object.create(null,{unmute:{get:()=>super.unmute}});return ne(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{if(!this.isMuted)return this.log.debug("Track already unmuted",this.logContext),this;const r=this._constraints.deviceId&&this._mediaStreamTrack.getSettings().deviceId!==zl(this._constraints.deviceId);return this.source===ye.Source.Microphone&&(this.stopOnMute||this._mediaStreamTrack.readyState==="ended"||r)&&!this.isUserProvided&&(this.log.debug("reacquiring mic track",this.logContext),yield this.restartTrack()),yield t.unmute.call(this),this}finally{n()}})}restartTrack(t){return ne(this,void 0,void 0,function*(){let n;if(t){const r=n4({audio:t});typeof r.audio!="boolean"&&(n=r.audio)}yield this.restart(n)})}restart(t){const n=Object.create(null,{restart:{get:()=>super.restart}});return ne(this,void 0,void 0,function*(){const r=yield n.restart.call(this,t);return this.checkForSilence(),r})}startMonitor(){wo()&&(this.monitorInterval||(this.monitorInterval=setInterval(()=>{this.monitorSender()},h4)))}setProcessor(t){return ne(this,void 0,void 0,function*(){var n;const r=yield this.processorLock.lock();try{if(!za()&&!this.audioContext)throw Error("Audio context needs to be set on LocalAudioTrack in order to enable processors");this.processor&&(yield this.stopProcessor());const o={kind:this.kind,track:this._mediaStreamTrack,audioContext:this.audioContext};this.log.debug("setting up audio processor ".concat(t.name),this.logContext),yield t.init(o),this.processor=t,this.processor.processedTrack&&(yield(n=this.sender)===null||n===void 0?void 0:n.replaceTrack(this.processor.processedTrack),this.processor.processedTrack.addEventListener("enable-lk-krisp-noise-filter",this.handleKrispNoiseFilterEnable),this.processor.processedTrack.addEventListener("disable-lk-krisp-noise-filter",this.handleKrispNoiseFilterDisable)),this.emit(Ve.TrackProcessorUpdate,this.processor)}finally{r()}})}setAudioContext(t){this.audioContext=t}getSenderStats(){return ne(this,void 0,void 0,function*(){var t;if((t=this.sender)===null||t===void 0||!t.getStats)return;let n;return(yield this.sender.getStats()).forEach(r=>{r.type==="outbound-rtp"&&(n={type:"audio",streamId:r.id,packetsSent:r.packetsSent,packetsLost:r.packetsLost,bytesSent:r.bytesSent,timestamp:r.timestamp,roundTripTime:r.roundTripTime,jitter:r.jitter})}),n})}checkForSilence(){return ne(this,void 0,void 0,function*(){const t=yield Fce(this);return t&&(this.isMuted||this.log.warn("silence detected on local audio track",this.logContext),this.emit(Ve.AudioSilenceDetected)),t})}}const Xce=Object.values(Vp),Jce=Object.values(Vx),Zce=Object.values($x),eue=[Vp.h180,Vp.h360],tue=[Vx.h180,Vx.h360],nue=e=>[{scaleResolutionDownBy:2,fps:e.encoding.maxFramerate}].map(t=>{var n,r;return new un(Math.floor(e.width/t.scaleResolutionDownBy),Math.floor(e.height/t.scaleResolutionDownBy),Math.max(15e4,Math.floor(e.encoding.maxBitrate/(Math.pow(t.scaleResolutionDownBy,2)*(((n=e.encoding.maxFramerate)!==null&&n!==void 0?n:30)/((r=t.fps)!==null&&r!==void 0?r:30))))),t.fps,e.encoding.priority)}),p4=["q","h","f"];function m4(e,t,n,r){var o,i;let a=r==null?void 0:r.videoEncoding;e&&(a=r==null?void 0:r.screenShareEncoding);const s=r==null?void 0:r.simulcast,l=r==null?void 0:r.scalabilityMode,c=r==null?void 0:r.videoCodec;if(!a&&!s&&!l||!t||!n)return[{}];a||(a=function(f,g,m,v){const y=function(k,_,O){if(k)return Zce;const E=_>O?_/O:O/_;return Math.abs(E-1.7777777777777777)<Math.abs(E-1.3333333333333333)?Xce:Jce}(f,g,m);let{encoding:b}=y[0];const w=Math.max(g,m);for(let k=0;k<y.length;k+=1){const _=y[k];if(b=_.encoding,_.width>=w)break}if(v)switch(v){case"av1":b=Object.assign({},b),b.maxBitrate=.7*b.maxBitrate;break;case"vp9":b=Object.assign({},b),b.maxBitrate=.85*b.maxBitrate}return b}(e,t,n,c),Gt.debug("using video encoding",a));const u=a.maxFramerate,h=new un(t,n,a.maxBitrate,a.maxFramerate,a.priority);if(l&&$p(c)){const f=new pv(l),g=[];if(f.spatial>3)throw new Error("unsupported scalabilityMode: ".concat(l));const m=Gi();if(jl()||za()||(m==null?void 0:m.name)==="Chrome"&&eu(m==null?void 0:m.version,"113")<0){const v=f.suffix=="h"?2:3;for(let y=0;y<f.spatial;y+=1)g.push({rid:p4[2-y],maxBitrate:a.maxBitrate/Math.pow(v,y),maxFramerate:h.encoding.maxFramerate});g[0].scalabilityMode=l}else g.push({maxBitrate:a.maxBitrate,maxFramerate:h.encoding.maxFramerate,scalabilityMode:l});return h.encoding.priority&&(g[0].priority=h.encoding.priority,g[0].networkPriority=h.encoding.priority),Gt.debug("using svc encoding",{encodings:g}),g}if(!s)return[a];let p,d=[];if(d=e?(o=DL(r==null?void 0:r.screenShareSimulcastLayers))!==null&&o!==void 0?o:LL(e,h):(i=DL(r==null?void 0:r.videoSimulcastLayers))!==null&&i!==void 0?i:LL(e,h),d.length>0){const f=d[0];d.length>1&&([,p]=d);const g=Math.max(t,n);if(g>=960&&p)return f4(t,n,[f,p,h],u);if(g>=480)return f4(t,n,[f,h],u)}return f4(t,n,[h])}function LL(e,t){if(e)return nue(t);const{width:n,height:r}=t,o=n>r?n/r:r/n;return Math.abs(o-16/9)<Math.abs(o-4/3)?eue:tue}function f4(e,t,n,r){const o=[];if(n.forEach((i,a)=>{if(a>=p4.length)return;const s=Math.min(e,t),l={rid:p4[a],scaleResolutionDownBy:Math.max(1,s/Math.min(i.width,i.height)),maxBitrate:i.encoding.maxBitrate},c=r&&i.encoding.maxFramerate?Math.min(r,i.encoding.maxFramerate):i.encoding.maxFramerate;c&&(l.maxFramerate=c);const u=Gd()||a===0;i.encoding.priority&&u&&(l.priority=i.encoding.priority,l.networkPriority=i.encoding.priority),o.push(l)}),za()&&sL()==="ios"){let i;o.forEach(s=>{i?s.maxFramerate&&s.maxFramerate>i&&(i=s.maxFramerate):i=s.maxFramerate});let a=!0;o.forEach(s=>{var l;s.maxFramerate!=i&&(a&&(a=!1,Gt.info("Simulcast on iOS React-Native requires all encodings to share the same framerate.")),Gt.info('Setting framerate of encoding "'.concat((l=s.rid)!==null&&l!==void 0?l:"",'" to ').concat(i)),s.maxFramerate=i)})}return o}function DL(e){if(e)return e.sort((t,n)=>{const{encoding:r}=t,{encoding:o}=n;return r.maxBitrate>o.maxBitrate?1:r.maxBitrate<o.maxBitrate?-1:r.maxBitrate===o.maxBitrate&&r.maxFramerate&&o.maxFramerate?r.maxFramerate>o.maxFramerate?1:-1:0})}class pv{constructor(t){const n=t.match(/^L(\d)T(\d)(h|_KEY|_KEY_SHIFT){0,1}$/);if(!n)throw new Error("invalid scalability mode");if(this.spatial=parseInt(n[1]),this.temporal=parseInt(n[2]),n.length>3)switch(n[3]){case"h":case"_KEY":case"_KEY_SHIFT":this.suffix=n[3]}}toString(){var t;return"L".concat(this.spatial,"T").concat(this.temporal).concat((t=this.suffix)!==null&&t!==void 0?t:"")}}class mv extends ML{get sender(){return this._sender}set sender(t){this._sender=t,this.degradationPreference&&this.setDegradationPreference(this.degradationPreference)}constructor(t,n){let r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],o=arguments.length>3?arguments[3]:void 0;super(t,ye.Kind.Video,n,r,o),this.simulcastCodecs=new Map,this.degradationPreference="balanced",this.monitorSender=()=>ne(this,void 0,void 0,function*(){if(!this.sender)return void(this._currentBitrate=0);let i;try{i=yield this.getSenderStats()}catch(s){return void this.log.error("could not get audio sender stats",Object.assign(Object.assign({},this.logContext),{error:s}))}const a=new Map(i.map(s=>[s.rid,s]));if(this.prevStats){let s=0;a.forEach((l,c)=>{var u;const h=(u=this.prevStats)===null||u===void 0?void 0:u.get(c);s+=dv(l,h)}),this._currentBitrate=s}this.prevStats=a}),this.senderLock=new vo}get isSimulcast(){return!!(this.sender&&this.sender.getParameters().encodings.length>1)}startMonitor(t){var n;if(this.signalClient=t,!wo())return;const r=(n=this.sender)===null||n===void 0?void 0:n.getParameters();r&&(this.encodings=r.encodings),!this.monitorInterval&&(this.monitorInterval=setInterval(()=>{this.monitorSender()},h4))}stop(){this._mediaStreamTrack.getConstraints(),this.simulcastCodecs.forEach(t=>{t.mediaStreamTrack.stop()}),super.stop()}pauseUpstream(){const t=Object.create(null,{pauseUpstream:{get:()=>super.pauseUpstream}});return ne(this,void 0,void 0,function*(){var n,r,o,i,a;yield t.pauseUpstream.call(this);try{for(var s,l=!0,c=Ml(this.simulcastCodecs.values());!(n=(s=yield c.next()).done);l=!0)i=s.value,l=!1,yield(a=i.sender)===null||a===void 0?void 0:a.replaceTrack(null)}catch(u){r={error:u}}finally{try{!l&&!n&&(o=c.return)&&(yield o.call(c))}finally{if(r)throw r.error}}})}resumeUpstream(){const t=Object.create(null,{resumeUpstream:{get:()=>super.resumeUpstream}});return ne(this,void 0,void 0,function*(){var n,r,o,i,a;yield t.resumeUpstream.call(this);try{for(var s,l=!0,c=Ml(this.simulcastCodecs.values());!(n=(s=yield c.next()).done);l=!0){i=s.value,l=!1;const u=i;yield(a=u.sender)===null||a===void 0?void 0:a.replaceTrack(u.mediaStreamTrack)}}catch(u){r={error:u}}finally{try{!l&&!n&&(o=c.return)&&(yield o.call(c))}finally{if(r)throw r.error}}})}mute(){const t=Object.create(null,{mute:{get:()=>super.mute}});return ne(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{return this.isMuted?(this.log.debug("Track already muted",this.logContext),this):(this.source===ye.Source.Camera&&!this.isUserProvided&&(this.log.debug("stopping camera track",this.logContext),this._mediaStreamTrack.stop()),yield t.mute.call(this),this)}finally{n()}})}unmute(){const t=Object.create(null,{unmute:{get:()=>super.unmute}});return ne(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{return this.isMuted?(this.source===ye.Source.Camera&&!this.isUserProvided&&(this.log.debug("reacquiring camera track",this.logContext),yield this.restartTrack()),yield t.unmute.call(this),this):(this.log.debug("Track already unmuted",this.logContext),this)}finally{n()}})}setTrackMuted(t){super.setTrackMuted(t);for(const n of this.simulcastCodecs.values())n.mediaStreamTrack.enabled=!t}getSenderStats(){return ne(this,void 0,void 0,function*(){var t;if((t=this.sender)===null||t===void 0||!t.getStats)return[];const n=[],r=yield this.sender.getStats();return r.forEach(o=>{var i;if(o.type==="outbound-rtp"){const a={type:"video",streamId:o.id,frameHeight:o.frameHeight,frameWidth:o.frameWidth,framesPerSecond:o.framesPerSecond,framesSent:o.framesSent,firCount:o.firCount,pliCount:o.pliCount,nackCount:o.nackCount,packetsSent:o.packetsSent,bytesSent:o.bytesSent,qualityLimitationReason:o.qualityLimitationReason,qualityLimitationDurations:o.qualityLimitationDurations,qualityLimitationResolutionChanges:o.qualityLimitationResolutionChanges,rid:(i=o.rid)!==null&&i!==void 0?i:o.id,retransmittedPacketsSent:o.retransmittedPacketsSent,targetBitrate:o.targetBitrate,timestamp:o.timestamp},s=r.get(o.remoteId);s&&(a.jitter=s.jitter,a.packetsLost=s.packetsLost,a.roundTripTime=s.roundTripTime),n.push(a)}}),n.sort((o,i)=>{var a,s;return((a=i.frameWidth)!==null&&a!==void 0?a:0)-((s=o.frameWidth)!==null&&s!==void 0?s:0)}),n})}setPublishingQuality(t){const n=[];for(let r=Ki.LOW;r<=Ki.HIGH;r+=1)n.push(new Cx({quality:r,enabled:r<=t}));this.log.debug("setting publishing quality. max quality ".concat(t),this.logContext),this.setPublishingLayers(n)}restartTrack(t){return ne(this,void 0,void 0,function*(){var n,r,o,i,a;let s;if(t){const h=n4({video:t});typeof h.video!="boolean"&&(s=h.video)}yield this.restart(s);try{for(var l,c=!0,u=Ml(this.simulcastCodecs.values());!(n=(l=yield u.next()).done);c=!0){i=l.value,c=!1;const h=i;h.sender&&((a=h.sender.transport)===null||a===void 0?void 0:a.state)!=="closed"&&(h.mediaStreamTrack=this.mediaStreamTrack.clone(),yield h.sender.replaceTrack(h.mediaStreamTrack))}}catch(h){r={error:h}}finally{try{!c&&!n&&(o=u.return)&&(yield o.call(u))}finally{if(r)throw r.error}}})}setProcessor(t){const n=Object.create(null,{setProcessor:{get:()=>super.setProcessor}});return ne(this,arguments,void 0,function(r){var o=this;let i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return function*(){var a,s,l,c,u,h;if(yield n.setProcessor.call(o,r,i),(u=o.processor)!==null&&u!==void 0&&u.processedTrack)try{for(var p,d=!0,f=Ml(o.simulcastCodecs.values());!(a=(p=yield f.next()).done);d=!0)c=p.value,d=!1,yield(h=c.sender)===null||h===void 0?void 0:h.replaceTrack(o.processor.processedTrack)}catch(g){s={error:g}}finally{try{!d&&!a&&(l=f.return)&&(yield l.call(f))}finally{if(s)throw s.error}}}()})}setDegradationPreference(t){return ne(this,void 0,void 0,function*(){if(this.degradationPreference=t,this.sender)try{this.log.debug("setting degradationPreference to ".concat(t),this.logContext);const n=this.sender.getParameters();n.degradationPreference=t,this.sender.setParameters(n)}catch(n){this.log.warn("failed to set degradationPreference",Object.assign({error:n},this.logContext))}})}addSimulcastTrack(t,n){if(this.simulcastCodecs.has(t))return void this.log.error("".concat(t," already added, skipping adding simulcast codec"),this.logContext);const r={codec:t,mediaStreamTrack:this.mediaStreamTrack.clone(),sender:void 0,encodings:n};return this.simulcastCodecs.set(t,r),r}setSimulcastTrackSender(t,n){const r=this.simulcastCodecs.get(t);r&&(r.sender=n,setTimeout(()=>{this.subscribedCodecs&&this.setPublishingCodecs(this.subscribedCodecs)},5e3))}setPublishingCodecs(t){return ne(this,void 0,void 0,function*(){var n,r,o,i,a,s,l;if(this.log.debug("setting publishing codecs",Object.assign(Object.assign({},this.logContext),{codecs:t,currentCodec:this.codec})),!this.codec&&t.length>0)return yield this.setPublishingLayers(t[0].qualities),[];this.subscribedCodecs=t;const c=[];try{for(n=!0,r=Ml(t);!(i=(o=yield r.next()).done);n=!0){l=o.value,n=!1;const u=l;if(this.codec&&this.codec!==u.codec){const h=this.simulcastCodecs.get(u.codec);if(this.log.debug("try setPublishingCodec for ".concat(u.codec),Object.assign(Object.assign({},this.logContext),{simulcastCodecInfo:h})),h&&h.sender)h.encodings&&(this.log.debug("try setPublishingLayersForSender ".concat(u.codec),this.logContext),yield jL(h.sender,h.encodings,u.qualities,this.senderLock,this.log,this.logContext));else for(const p of u.qualities)if(p.enabled){c.push(u.codec);break}}else yield this.setPublishingLayers(u.qualities)}}catch(u){a={error:u}}finally{try{!n&&!i&&(s=r.return)&&(yield s.call(r))}finally{if(a)throw a.error}}return c})}setPublishingLayers(t){return ne(this,void 0,void 0,function*(){this.log.debug("setting publishing layers",Object.assign(Object.assign({},this.logContext),{qualities:t})),this.sender&&this.encodings&&(yield jL(this.sender,this.encodings,t,this.senderLock,this.log,this.logContext))})}handleAppVisibilityChanged(){const t=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return ne(this,void 0,void 0,function*(){yield t.handleAppVisibilityChanged.call(this),iL()&&this.isInBackground&&this.source===ye.Source.Camera&&(this._mediaStreamTrack.enabled=!1)})}}function jL(e,t,n,r,o,i){return ne(this,void 0,void 0,function*(){const a=yield r.lock();o.debug("setPublishingLayersForSender",Object.assign(Object.assign({},i),{sender:e,qualities:n,senderEncodings:t}));try{const s=e.getParameters(),{encodings:l}=s;if(!l)return;if(l.length!==t.length)return void o.warn("cannot set publishing layers, encodings mismatch",Object.assign(Object.assign({},i),{encodings:l,senderEncodings:t}));let c=!1;const u=Gi();if((u==null?void 0:u.name)==="Chrome"&&eu(u==null?void 0:u.version,"133")>0&&l[0].scalabilityMode){const h=l[0],p=new pv(h.scalabilityMode);let d=Fd.OFF;if(n.forEach(f=>{f.enabled&&(d===Fd.OFF||f.quality>d)&&(d=f.quality)}),d===Fd.OFF)h.active&&(h.active=!1,c=!0);else if(!h.active||p.spatial!==d+1){c=!0,h.active=!0;const f=new pv(t[0].scalabilityMode);p.spatial=d+1,p.suffix=f.suffix,p.spatial===1&&(p.suffix=void 0),h.scalabilityMode=p.toString(),h.scaleResolutionDownBy=Math.pow(2,2-d),t[0].maxBitrate&&(h.maxBitrate=t[0].maxBitrate/(h.scaleResolutionDownBy*h.scaleResolutionDownBy))}}else l.forEach((h,p)=>{var d;let f=(d=h.rid)!==null&&d!==void 0?d:"";f===""&&(f="q");const g=zL(f),m=n.find(v=>v.quality===g);m&&h.active!==m.enabled&&(c=!0,h.active=m.enabled,o.debug("setting layer ".concat(m.quality," to ").concat(h.active?"enabled":"disabled"),i),Gd()&&(m.enabled?(h.scaleResolutionDownBy=t[p].scaleResolutionDownBy,h.maxBitrate=t[p].maxBitrate,h.maxFrameRate=t[p].maxFrameRate):(h.scaleResolutionDownBy=4,h.maxBitrate=10,h.maxFrameRate=2)))});c&&(s.encodings=l,o.debug("setting encodings",Object.assign(Object.assign({},i),{encodings:s.encodings})),yield e.setParameters(s))}finally{a()}})}function zL(e){switch(e){case"f":default:return Ki.HIGH;case"h":return Ki.MEDIUM;case"q":return Ki.LOW}}function FL(e,t,n,r){if(!n)return[new Xc({quality:Ki.HIGH,width:e,height:t,bitrate:0,ssrc:0})];if(r){const o=n[0].scalabilityMode,i=new pv(o),a=[],s=i.suffix=="h"?1.5:2,l=i.suffix=="h"?2:3;for(let c=0;c<i.spatial;c+=1)a.push(new Xc({quality:Math.min(Ki.HIGH,i.spatial-1)-c,width:Math.ceil(e/Math.pow(s,c)),height:Math.ceil(t/Math.pow(s,c)),bitrate:n[0].maxBitrate?Math.ceil(n[0].maxBitrate/Math.pow(l,c)):0,ssrc:0}));return a}return n.map(o=>{var i,a,s;const l=(i=o.scaleResolutionDownBy)!==null&&i!==void 0?i:1;let c=zL((a=o.rid)!==null&&a!==void 0?a:"");return new Xc({quality:c,width:Math.ceil(e/l),height:Math.ceil(t/l),bitrate:(s=o.maxBitrate)!==null&&s!==void 0?s:0,ssrc:0})})}const BL="_lossy",UL="_reliable",g4="leave-reconnect";var Qi;(function(e){e[e.New=0]="New",e[e.Connected=1]="Connected",e[e.Disconnected=2]="Disconnected",e[e.Reconnecting=3]="Reconnecting",e[e.Closed=4]="Closed"})(Qi||(Qi={}));class rue extends ja.EventEmitter{get isClosed(){return this._isClosed}get pendingReconnect(){return!!this.reconnectTimeout}constructor(t){var n;super(),this.options=t,this.rtcConfig={},this.peerConnectionTimeout=u4.peerConnectionTimeout,this.fullReconnectOnNext=!1,this.subscriberPrimary=!1,this.pcState=Qi.New,this._isClosed=!0,this.pendingTrackResolvers={},this.reconnectAttempts=0,this.reconnectStart=0,this.attemptingReconnect=!1,this.joinAttempts=0,this.maxJoinAttempts=1,this.shouldFailNext=!1,this.log=Gt,this.handleDataChannel=r=>ne(this,[r],void 0,function(o){var i=this;let{channel:a}=o;return function*(){if(a){if(a.label===UL)i.reliableDCSub=a;else{if(a.label!==BL)return;i.lossyDCSub=a}i.log.debug("on data channel ".concat(a.id,", ").concat(a.label),i.logContext),a.onmessage=i.handleDataMessage}}()}),this.handleDataMessage=r=>ne(this,void 0,void 0,function*(){var o,i;const a=yield this.dataProcessLock.lock();try{let s;if(r.data instanceof ArrayBuffer)s=r.data;else{if(!(r.data instanceof Blob))return void this.log.error("unsupported data type",Object.assign(Object.assign({},this.logContext),{data:r.data}));s=yield r.data.arrayBuffer()}const l=yo.fromBinary(new Uint8Array(s));((o=l.value)===null||o===void 0?void 0:o.case)==="speaker"?this.emit(Ke.ActiveSpeakersUpdate,l.value.value.speakers):(((i=l.value)===null||i===void 0?void 0:i.case)==="user"&&function(c,u){const h=c.participantIdentity?c.participantIdentity:u.participantIdentity;c.participantIdentity=h,u.participantIdentity=h;const p=c.destinationIdentities.length!==0?c.destinationIdentities:u.destinationIdentities;c.destinationIdentities=p,u.destinationIdentities=p}(l,l.value.value),this.emit(Ke.DataPacketReceived,l))}finally{a()}}),this.handleDataError=r=>{const o=r.currentTarget.maxRetransmits===0?"lossy":"reliable";if(r instanceof ErrorEvent&&r.error){const{error:i}=r.error;this.log.error("DataChannel error on ".concat(o,": ").concat(r.message),Object.assign(Object.assign({},this.logContext),{error:i}))}else this.log.error("Unknown DataChannel error on ".concat(o),Object.assign(Object.assign({},this.logContext),{event:r}))},this.handleBufferedAmountLow=r=>{const o=r.currentTarget.maxRetransmits===0?Wt.LOSSY:Wt.RELIABLE;this.updateAndEmitDCBufferStatus(o)},this.handleDisconnect=(r,o)=>{if(this._isClosed)return;this.log.warn("".concat(r," disconnected"),this.logContext),this.reconnectAttempts===0&&(this.reconnectStart=Date.now());const i=l=>{this.log.warn("could not recover connection after ".concat(this.reconnectAttempts," attempts, ").concat(l,"ms. giving up"),this.logContext),this.emit(Ke.Disconnected),this.close()},a=Date.now()-this.reconnectStart;let s=this.getNextRetryDelay({elapsedMs:a,retryCount:this.reconnectAttempts});s!==null?(r===g4&&(s=0),this.log.debug("reconnecting in ".concat(s,"ms"),this.logContext),this.clearReconnectTimeout(),this.token&&this.regionUrlProvider&&this.regionUrlProvider.updateToken(this.token),this.reconnectTimeout=Cr.setTimeout(()=>this.attemptReconnect(o).finally(()=>this.reconnectTimeout=void 0),s)):i(a)},this.waitForRestarted=()=>new Promise((r,o)=>{this.pcState===Qi.Connected&&r();const i=()=>{this.off(Ke.Disconnected,a),r()},a=()=>{this.off(Ke.Restarted,i),o()};this.once(Ke.Restarted,i),this.once(Ke.Disconnected,a)}),this.updateAndEmitDCBufferStatus=r=>{const o=this.isBufferStatusLow(r);o!==void 0&&o!==this.dcBufferStatus.get(r)&&(this.dcBufferStatus.set(r,o),this.emit(Ke.DCBufferStatusChanged,o,r))},this.isBufferStatusLow=r=>{const o=this.dataChannelForKind(r);if(o)return o.bufferedAmount<=o.bufferedAmountLowThreshold},this.handleBrowserOnLine=()=>{this.client.currentState===_n.RECONNECTING&&(this.clearReconnectTimeout(),this.attemptReconnect(Bd.RR_SIGNAL_DISCONNECTED))},this.log=Cs((n=t.loggerName)!==null&&n!==void 0?n:Wi.Engine),this.loggerOptions={loggerName:t.loggerName,loggerContextCb:()=>this.logContext},this.client=new qce(void 0,this.loggerOptions),this.client.signalLatency=this.options.expSignalLatency,this.reconnectPolicy=this.options.reconnectPolicy,this.registerOnLineListener(),this.closingLock=new vo,this.dataProcessLock=new vo,this.dcBufferStatus=new Map([[Wt.LOSSY,!0],[Wt.RELIABLE,!0]]),this.client.onParticipantUpdate=r=>this.emit(Ke.ParticipantUpdate,r),this.client.onConnectionQuality=r=>this.emit(Ke.ConnectionQualityUpdate,r),this.client.onRoomUpdate=r=>this.emit(Ke.RoomUpdate,r),this.client.onSubscriptionError=r=>this.emit(Ke.SubscriptionError,r),this.client.onSubscriptionPermissionUpdate=r=>this.emit(Ke.SubscriptionPermissionUpdate,r),this.client.onSpeakersChanged=r=>this.emit(Ke.SpeakersChanged,r),this.client.onStreamStateUpdate=r=>this.emit(Ke.StreamStateChanged,r),this.client.onRequestResponse=r=>this.emit(Ke.SignalRequestResponse,r)}get logContext(){var t,n,r,o,i,a,s,l;return{room:(n=(t=this.latestJoinResponse)===null||t===void 0?void 0:t.room)===null||n===void 0?void 0:n.name,roomID:(o=(r=this.latestJoinResponse)===null||r===void 0?void 0:r.room)===null||o===void 0?void 0:o.sid,participant:(a=(i=this.latestJoinResponse)===null||i===void 0?void 0:i.participant)===null||a===void 0?void 0:a.identity,pID:(l=(s=this.latestJoinResponse)===null||s===void 0?void 0:s.participant)===null||l===void 0?void 0:l.sid}}join(t,n,r,o){return ne(this,void 0,void 0,function*(){this.url=t,this.token=n,this.signalOpts=r,this.maxJoinAttempts=r.maxRetries;try{this.joinAttempts+=1,this.setupSignalClientCallbacks();const i=yield this.client.join(t,n,r,o);return this._isClosed=!1,this.latestJoinResponse=i,this.subscriberPrimary=i.subscriberPrimary,this.pcManager||(yield this.configure(i)),(!this.subscriberPrimary||i.fastPublish)&&this.negotiate(),this.clientConfiguration=i.clientConfiguration,setTimeout(()=>{this.emit(Ke.SignalConnected)},10),i}catch(i){if(i instanceof hn&&i.reason===$t.ServerUnreachable&&(this.log.warn("Couldn't connect to server, attempt ".concat(this.joinAttempts," of ").concat(this.maxJoinAttempts),this.logContext),this.joinAttempts<this.maxJoinAttempts))return this.join(t,n,r,o);throw i}})}close(){return ne(this,void 0,void 0,function*(){const t=yield this.closingLock.lock();if(this.isClosed)t();else try{this._isClosed=!0,this.joinAttempts=0,this.emit(Ke.Closing),this.removeAllListeners(),this.deregisterOnLineListener(),this.clearPendingReconnect(),yield this.cleanupPeerConnections(),yield this.cleanupClient()}finally{t()}})}cleanupPeerConnections(){return ne(this,void 0,void 0,function*(){var t;yield(t=this.pcManager)===null||t===void 0?void 0:t.close(),this.pcManager=void 0;const n=r=>{r&&(r.close(),r.onbufferedamountlow=null,r.onclose=null,r.onclosing=null,r.onerror=null,r.onmessage=null,r.onopen=null)};n(this.lossyDC),n(this.lossyDCSub),n(this.reliableDC),n(this.reliableDCSub),this.lossyDC=void 0,this.lossyDCSub=void 0,this.reliableDC=void 0,this.reliableDCSub=void 0})}cleanupClient(){return ne(this,void 0,void 0,function*(){yield this.client.close(),this.client.resetCallbacks()})}addTrack(t){if(this.pendingTrackResolvers[t.cid])throw new Os("a track with the same ID has already been published");return new Promise((n,r)=>{const o=setTimeout(()=>{delete this.pendingTrackResolvers[t.cid],r(new hn("publication of local track timed out, no response from server",$t.InternalError))},1e4);this.pendingTrackResolvers[t.cid]={resolve:i=>{clearTimeout(o),n(i)},reject:()=>{clearTimeout(o),r(new Error("Cancelled publication by calling unpublish"))}},this.client.sendAddTrack(t)})}removeTrack(t){if(t.track&&this.pendingTrackResolvers[t.track.id]){const{reject:n}=this.pendingTrackResolvers[t.track.id];n&&n(),delete this.pendingTrackResolvers[t.track.id]}try{return this.pcManager.removeTrack(t),!0}catch(n){this.log.warn("failed to remove track",Object.assign(Object.assign({},this.logContext),{error:n}))}return!1}updateMuteStatus(t,n){this.client.sendMuteTrack(t,n)}get dataSubscriberReadyState(){var t;return(t=this.reliableDCSub)===null||t===void 0?void 0:t.readyState}getConnectedServerAddress(){return ne(this,void 0,void 0,function*(){var t;return(t=this.pcManager)===null||t===void 0?void 0:t.getConnectedAddress()})}setRegionUrlProvider(t){this.regionUrlProvider=t}configure(t){return ne(this,void 0,void 0,function*(){var n,r;if(this.pcManager&&this.pcManager.currentState!==Hn.NEW)return;this.participantSid=(n=t.participant)===null||n===void 0?void 0:n.sid;const o=this.makeRTCConfiguration(t);this.pcManager=new Qce(o,t.subscriberPrimary,this.loggerOptions),this.emit(Ke.TransportsCreated,this.pcManager.publisher,this.pcManager.subscriber),this.pcManager.onIceCandidate=(i,a)=>{this.client.sendIceCandidate(i,a)},this.pcManager.onPublisherOffer=i=>{this.client.sendOffer(i)},this.pcManager.onDataChannel=this.handleDataChannel,this.pcManager.onStateChange=(i,a,s)=>ne(this,void 0,void 0,function*(){if(this.log.debug("primary PC state changed ".concat(i),this.logContext),["closed","disconnected","failed"].includes(a)&&(this.publisherConnectionPromise=void 0),i===Hn.CONNECTED){const u=this.pcState===Qi.New;this.pcState=Qi.Connected,u&&this.emit(Ke.Connected,t)}else i===Hn.FAILED&&this.pcState===Qi.Connected&&(this.pcState=Qi.Disconnected,this.handleDisconnect("peerconnection failed",s==="failed"?Bd.RR_SUBSCRIBER_FAILED:Bd.RR_PUBLISHER_FAILED));const l=this.client.isDisconnected||this.client.currentState===_n.RECONNECTING,c=[Hn.FAILED,Hn.CLOSING,Hn.CLOSED].includes(i);l&&c&&!this._isClosed&&this.emit(Ke.Offline)}),this.pcManager.onTrack=i=>{this.emit(Ke.MediaTrackAdded,i.track,i.streams[0],i.receiver)},function(i){return i!==void 0&&i>13}((r=t.serverInfo)===null||r===void 0?void 0:r.protocol)||this.createDataChannels()})}setupSignalClientCallbacks(){this.client.onAnswer=t=>ne(this,void 0,void 0,function*(){this.pcManager&&(this.log.debug("received server answer",Object.assign(Object.assign({},this.logContext),{RTCSdpType:t.type})),yield this.pcManager.setPublisherAnswer(t))}),this.client.onTrickle=(t,n)=>{this.pcManager&&(this.log.debug("got ICE candidate from peer",Object.assign(Object.assign({},this.logContext),{candidate:t,target:n})),this.pcManager.addIceCandidate(t,n))},this.client.onOffer=t=>ne(this,void 0,void 0,function*(){if(!this.pcManager)return;const n=yield this.pcManager.createSubscriberAnswerFromOffer(t);this.client.sendAnswer(n)}),this.client.onLocalTrackPublished=t=>{var n;if(this.log.debug("received trackPublishedResponse",Object.assign(Object.assign({},this.logContext),{cid:t.cid,track:(n=t.track)===null||n===void 0?void 0:n.sid})),!this.pendingTrackResolvers[t.cid])return void this.log.error("missing track resolver for ".concat(t.cid),Object.assign(Object.assign({},this.logContext),{cid:t.cid}));const{resolve:r}=this.pendingTrackResolvers[t.cid];delete this.pendingTrackResolvers[t.cid],r(t.track)},this.client.onLocalTrackUnpublished=t=>{this.emit(Ke.LocalTrackUnpublished,t)},this.client.onLocalTrackSubscribed=t=>{this.emit(Ke.LocalTrackSubscribed,t)},this.client.onTokenRefresh=t=>{this.token=t},this.client.onRemoteMuteChanged=(t,n)=>{this.emit(Ke.RemoteMute,t,n)},this.client.onSubscribedQualityUpdate=t=>{this.emit(Ke.SubscribedQualityUpdate,t)},this.client.onClose=()=>{this.handleDisconnect("signal",Bd.RR_SIGNAL_DISCONNECTED)},this.client.onLeave=t=>{switch(this.log.debug("client leave request",Object.assign(Object.assign({},this.logContext),{reason:t==null?void 0:t.reason})),t.regions&&this.regionUrlProvider&&(this.log.debug("updating regions",this.logContext),this.regionUrlProvider.setServerReportedRegions(t.regions)),t.action){case Vd.DISCONNECT:this.emit(Ke.Disconnected,t==null?void 0:t.reason),this.close();break;case Vd.RECONNECT:this.fullReconnectOnNext=!0,this.handleDisconnect(g4);break;case Vd.RESUME:this.handleDisconnect(g4)}}}makeRTCConfiguration(t){var n;const r=Object.assign({},this.rtcConfig);if(!((n=this.signalOpts)===null||n===void 0)&&n.e2eeEnabled&&(this.log.debug("E2EE - setting up transports with insertable streams",this.logContext),r.encodedInsertableStreams=!0),t.iceServers&&!r.iceServers){const o=[];t.iceServers.forEach(i=>{const a={urls:i.urls};i.username&&(a.username=i.username),i.credential&&(a.credential=i.credential),o.push(a)}),r.iceServers=o}return t.clientConfiguration&&t.clientConfiguration.forceRelay===jp.ENABLED&&(r.iceTransportPolicy="relay"),r.sdpSemantics="unified-plan",r.continualGatheringPolicy="gather_continually",r}createDataChannels(){this.pcManager&&(this.lossyDC&&(this.lossyDC.onmessage=null,this.lossyDC.onerror=null),this.reliableDC&&(this.reliableDC.onmessage=null,this.reliableDC.onerror=null),this.lossyDC=this.pcManager.createPublisherDataChannel(BL,{ordered:!0,maxRetransmits:0}),this.reliableDC=this.pcManager.createPublisherDataChannel(UL,{ordered:!0}),this.lossyDC.onmessage=this.handleDataMessage,this.reliableDC.onmessage=this.handleDataMessage,this.lossyDC.onerror=this.handleDataError,this.reliableDC.onerror=this.handleDataError,this.lossyDC.bufferedAmountLowThreshold=65535,this.reliableDC.bufferedAmountLowThreshold=65535,this.lossyDC.onbufferedamountlow=this.handleBufferedAmountLow,this.reliableDC.onbufferedamountlow=this.handleBufferedAmountLow)}createSender(t,n,r){return ne(this,void 0,void 0,function*(){if(qx())return yield this.createTransceiverRTCRtpSender(t,n,r);if(Wx())return this.log.warn("using add-track fallback",this.logContext),yield this.createRTCRtpSender(t.mediaStreamTrack);throw new pr("Required webRTC APIs not supported on this device")})}createSimulcastSender(t,n,r,o){return ne(this,void 0,void 0,function*(){if(qx())return this.createSimulcastTransceiverSender(t,n,r,o);if(Wx())return this.log.debug("using add-track fallback",this.logContext),this.createRTCRtpSender(t.mediaStreamTrack);throw new pr("Cannot stream on this device")})}createTransceiverRTCRtpSender(t,n,r){return ne(this,void 0,void 0,function*(){if(!this.pcManager)throw new pr("publisher is closed");const o=[];t.mediaStream&&o.push(t.mediaStream),Yd(t)&&(t.codec=n.videoCodec);const i={direction:"sendonly",streams:o};return r&&(i.sendEncodings=r),(yield this.pcManager.addPublisherTransceiver(t.mediaStreamTrack,i)).sender})}createSimulcastTransceiverSender(t,n,r,o){return ne(this,void 0,void 0,function*(){if(!this.pcManager)throw new pr("publisher is closed");const i={direction:"sendonly"};o&&(i.sendEncodings=o);const a=yield this.pcManager.addPublisherTransceiver(n.mediaStreamTrack,i);if(r.videoCodec)return t.setSimulcastTrackSender(r.videoCodec,a.sender),a.sender})}createRTCRtpSender(t){return ne(this,void 0,void 0,function*(){if(!this.pcManager)throw new pr("publisher is closed");return this.pcManager.addPublisherTrack(t)})}attemptReconnect(t){return ne(this,void 0,void 0,function*(){var n,r,o;if(!this._isClosed){if(this.attemptingReconnect)return void Gt.warn("already attempting reconnect, returning early",this.logContext);(((n=this.clientConfiguration)===null||n===void 0?void 0:n.resumeConnection)===jp.DISABLED||((o=(r=this.pcManager)===null||r===void 0?void 0:r.currentState)!==null&&o!==void 0?o:Hn.NEW)===Hn.NEW)&&(this.fullReconnectOnNext=!0);try{this.attemptingReconnect=!0,this.fullReconnectOnNext?yield this.restartConnection():yield this.resumeConnection(t),this.clearPendingReconnect(),this.fullReconnectOnNext=!1}catch(i){this.reconnectAttempts+=1;let a=!0;i instanceof pr?(this.log.debug("received unrecoverable error",Object.assign(Object.assign({},this.logContext),{error:i})),a=!1):i instanceof Qd||(this.fullReconnectOnNext=!0),a?this.handleDisconnect("reconnect",Bd.RR_UNKNOWN):(this.log.info("could not recover connection after ".concat(this.reconnectAttempts," attempts, ").concat(Date.now()-this.reconnectStart,"ms. giving up"),this.logContext),this.emit(Ke.Disconnected),yield this.close())}finally{this.attemptingReconnect=!1}}})}getNextRetryDelay(t){try{return this.reconnectPolicy.nextRetryDelayInMs(t)}catch(n){this.log.warn("encountered error in reconnect policy",Object.assign(Object.assign({},this.logContext),{error:n}))}return null}restartConnection(t){return ne(this,void 0,void 0,function*(){var n,r,o;try{if(!this.url||!this.token)throw new pr("could not reconnect, url or token not saved");let i;this.log.info("reconnecting, attempt: ".concat(this.reconnectAttempts),this.logContext),this.emit(Ke.Restarting),this.client.isDisconnected||(yield this.client.sendLeave()),yield this.cleanupPeerConnections(),yield this.cleanupClient();try{if(!this.signalOpts)throw this.log.warn("attempted connection restart, without signal options present",this.logContext),new Qd;i=yield this.join(t??this.url,this.token,this.signalOpts)}catch(a){throw a instanceof hn&&a.reason===$t.NotAllowed?new pr("could not reconnect, token might be expired"):new Qd}if(this.shouldFailNext)throw this.shouldFailNext=!1,new Error("simulated failure");if(this.client.setReconnected(),this.emit(Ke.SignalRestarted,i),yield this.waitForPCReconnected(),this.client.currentState!==_n.CONNECTED)throw new Qd("Signal connection got severed during reconnect");(n=this.regionUrlProvider)===null||n===void 0||n.resetAttempts(),this.emit(Ke.Restarted)}catch(i){const a=yield(r=this.regionUrlProvider)===null||r===void 0?void 0:r.getNextBestRegionUrl();if(a)return void(yield this.restartConnection(a));throw(o=this.regionUrlProvider)===null||o===void 0||o.resetAttempts(),i}})}resumeConnection(t){return ne(this,void 0,void 0,function*(){var n;if(!this.url||!this.token)throw new pr("could not reconnect, url or token not saved");if(!this.pcManager)throw new pr("publisher and subscriber connections unset");let r;this.log.info("resuming signal connection, attempt ".concat(this.reconnectAttempts),this.logContext),this.emit(Ke.Resuming);try{this.setupSignalClientCallbacks(),r=yield this.client.reconnect(this.url,this.token,this.participantSid,t)}catch(o){let i="";throw o instanceof Error&&(i=o.message,this.log.error(o.message,Object.assign(Object.assign({},this.logContext),{error:o}))),o instanceof hn&&o.reason===$t.NotAllowed?new pr("could not reconnect, token might be expired"):o instanceof hn&&o.reason===$t.LeaveRequest?o:new Qd(i)}if(this.emit(Ke.SignalResumed),r){const o=this.makeRTCConfiguration(r);this.pcManager.updateConfiguration(o)}else this.log.warn("Did not receive reconnect response",this.logContext);if(this.shouldFailNext)throw this.shouldFailNext=!1,new Error("simulated failure");if(yield this.pcManager.triggerIceRestart(),yield this.waitForPCReconnected(),this.client.currentState!==_n.CONNECTED)throw new Qd("Signal connection got severed during reconnect");this.client.setReconnected(),((n=this.reliableDC)===null||n===void 0?void 0:n.readyState)==="open"&&this.reliableDC.id===null&&this.createDataChannels(),this.emit(Ke.Resumed)})}waitForPCInitialConnection(t,n){return ne(this,void 0,void 0,function*(){if(!this.pcManager)throw new pr("PC manager is closed");yield this.pcManager.ensurePCTransportConnection(n,t)})}waitForPCReconnected(){return ne(this,void 0,void 0,function*(){this.pcState=Qi.Reconnecting,this.log.debug("waiting for peer connection to reconnect",this.logContext);try{if(yield Zo(2e3),!this.pcManager)throw new pr("PC manager is closed");yield this.pcManager.ensurePCTransportConnection(void 0,this.peerConnectionTimeout),this.pcState=Qi.Connected}catch(t){throw this.pcState=Qi.Disconnected,new hn("could not establish PC connection, ".concat(t.message),$t.InternalError)}})}publishRpcResponse(t,n,r,o){return ne(this,void 0,void 0,function*(){const i=new yo({destinationIdentities:[t],kind:Wt.RELIABLE,value:{case:"rpcResponse",value:new GI({requestId:n,value:o?{case:"error",value:o.toProto()}:{case:"payload",value:r??""}})}});yield this.sendDataPacket(i,Wt.RELIABLE)})}publishRpcAck(t,n){return ne(this,void 0,void 0,function*(){const r=new yo({destinationIdentities:[t],kind:Wt.RELIABLE,value:{case:"rpcAck",value:new WI({requestId:n})}});yield this.sendDataPacket(r,Wt.RELIABLE)})}sendDataPacket(t,n){return ne(this,void 0,void 0,function*(){const r=t.toBinary();yield this.ensurePublisherConnected(n);const o=this.dataChannelForKind(n);o&&o.send(r),this.updateAndEmitDCBufferStatus(n)})}waitForBufferStatusLow(t){return new Promise((n,r)=>ne(this,void 0,void 0,function*(){if(this.isBufferStatusLow(t))n();else{const o=()=>r("Engine closed");for(this.once(Ke.Closing,o);!this.dcBufferStatus.get(t);)yield Zo(10);this.off(Ke.Closing,o),n()}}))}ensureDataTransportConnected(t){return ne(this,arguments,void 0,function(n){var r=this;let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.subscriberPrimary;return function*(){var i;if(!r.pcManager)throw new pr("PC manager is closed");const a=o?r.pcManager.subscriber:r.pcManager.publisher,s=o?"Subscriber":"Publisher";if(!a)throw new hn("".concat(s," connection not set"),$t.InternalError);let l=!1;!o&&!r.dataChannelForKind(n,o)&&(r.createDataChannels(),l=!0),!l&&!o&&!r.pcManager.publisher.isICEConnected&&r.pcManager.publisher.getICEConnectionState()!=="checking"&&(l=!0),l&&r.negotiate();const c=r.dataChannelForKind(n,o);if((c==null?void 0:c.readyState)==="open")return;const u=new Date().getTime()+r.peerConnectionTimeout;for(;new Date().getTime()<u;){if(a.isICEConnected&&((i=r.dataChannelForKind(n,o))===null||i===void 0?void 0:i.readyState)==="open")return;yield Zo(50)}throw new hn("could not establish ".concat(s," connection, state: ").concat(a.getICEConnectionState()),$t.InternalError)}()})}ensurePublisherConnected(t){return ne(this,void 0,void 0,function*(){this.publisherConnectionPromise||(this.publisherConnectionPromise=this.ensureDataTransportConnected(t,!1)),yield this.publisherConnectionPromise})}verifyTransport(){return!(!this.pcManager||this.pcManager.currentState!==Hn.CONNECTED||!this.client.ws||this.client.ws.readyState===WebSocket.CLOSED)}negotiate(){return ne(this,void 0,void 0,function*(){return new Promise((t,n)=>ne(this,void 0,void 0,function*(){if(!this.pcManager)return void n(new zx("PC manager is closed"));this.pcManager.requirePublisher(),this.pcManager.publisher.getTransceivers().length==0&&!this.lossyDC&&!this.reliableDC&&this.createDataChannels();const r=new AbortController,o=()=>{r.abort(),this.log.debug("engine disconnected while negotiation was ongoing",this.logContext),t()};this.isClosed&&n("cannot negotiate on closed engine"),this.on(Ke.Closing,o),this.pcManager.publisher.once(CL,i=>{const a=new Map;i.forEach(s=>{const l=s.codec.toLowerCase();(function(c){return Mce.includes(c)})(l)&&a.set(s.payload,l)}),this.emit(Ke.RTPVideoMapUpdate,a)});try{yield this.pcManager.negotiate(r),t()}catch(i){i instanceof zx&&(this.fullReconnectOnNext=!0),this.handleDisconnect("negotiation",Bd.RR_UNKNOWN),n(i)}finally{this.off(Ke.Closing,o)}}))})}dataChannelForKind(t,n){if(n){if(t===Wt.LOSSY)return this.lossyDCSub;if(t===Wt.RELIABLE)return this.reliableDCSub}else{if(t===Wt.LOSSY)return this.lossyDC;if(t===Wt.RELIABLE)return this.reliableDC}}sendSyncState(t,n){var r,o;if(!this.pcManager)return void this.log.warn("sync state cannot be sent without peer connection setup",this.logContext);const i=this.pcManager.subscriber.getLocalDescription(),a=this.pcManager.subscriber.getRemoteDescription(),s=(o=(r=this.signalOpts)===null||r===void 0?void 0:r.autoSubscribe)===null||o===void 0||o,l=new Array,c=new Array;t.forEach(u=>{u.isDesired!==s&&l.push(u.trackSid),u.isEnabled||c.push(u.trackSid)}),this.client.sendSyncState(new uM({answer:i?uv({sdp:i.sdp,type:i.type}):void 0,offer:a?uv({sdp:a.sdp,type:a.type}):void 0,subscription:new Yg({trackSids:l,subscribe:!s,participantTracks:[]}),publishTracks:Uce(n),dataChannels:this.dataChannelsInfo(),trackSidsDisabled:c}))}failNext(){this.shouldFailNext=!0}dataChannelsInfo(){const t=[],n=(r,o)=>{(r==null?void 0:r.id)!==void 0&&r.id!==null&&t.push(new dM({label:r.label,id:r.id,target:o}))};return n(this.dataChannelForKind(Wt.LOSSY),qi.PUBLISHER),n(this.dataChannelForKind(Wt.RELIABLE),qi.PUBLISHER),n(this.dataChannelForKind(Wt.LOSSY,!0),qi.SUBSCRIBER),n(this.dataChannelForKind(Wt.RELIABLE,!0),qi.SUBSCRIBER),t}clearReconnectTimeout(){this.reconnectTimeout&&Cr.clearTimeout(this.reconnectTimeout)}clearPendingReconnect(){this.clearReconnectTimeout(),this.reconnectAttempts=0}registerOnLineListener(){wo()&&window.addEventListener("online",this.handleBrowserOnLine)}deregisterOnLineListener(){wo()&&window.removeEventListener("online",this.handleBrowserOnLine)}}class Qd extends Error{}class HL{constructor(t,n){this.lastUpdateAt=0,this.settingsCacheTime=3e3,this.attemptedRegions=[],this.serverUrl=new URL(t),this.token=n}updateToken(t){this.token=t}isCloud(){return Kx(this.serverUrl)}getServerUrl(){return this.serverUrl}getNextBestRegionUrl(t){return ne(this,void 0,void 0,function*(){if(!this.isCloud())throw Error("region availability is only supported for LiveKit Cloud domains");(!this.regionSettings||Date.now()-this.lastUpdateAt>this.settingsCacheTime)&&(this.regionSettings=yield this.fetchRegionSettings(t));const n=this.regionSettings.regions.filter(r=>!this.attemptedRegions.find(o=>o.url===r.url));if(n.length>0){const r=n[0];return this.attemptedRegions.push(r),Gt.debug("next region: ".concat(r.region)),r.url}return null})}resetAttempts(){this.attemptedRegions=[]}fetchRegionSettings(t){return ne(this,void 0,void 0,function*(){const n=yield fetch("".concat(function(r){return"".concat(r.protocol.replace("ws","http"),"//").concat(r.host,"/settings")}(this.serverUrl),"/regions"),{headers:{authorization:"Bearer ".concat(this.token)},signal:t});if(n.ok){const r=yield n.json();return this.lastUpdateAt=Date.now(),r}throw new hn("Could not fetch region settings: ".concat(n.statusText),n.status===401?$t.NotAllowed:$t.InternalError,n.status)})}setServerReportedRegions(t){this.regionSettings=t,this.lastUpdateAt=Date.now()}}class VL{get info(){return this._info}constructor(t,n,r){this.reader=n,this.totalByteSize=r,this._info=t,this.bytesReceived=0}}class oue extends VL{handleChunkReceived(t){var n;this.bytesReceived+=t.content.byteLength;const r=this.totalByteSize?this.bytesReceived/this.totalByteSize:void 0;(n=this.onProgress)===null||n===void 0||n.call(this,r)}[Symbol.asyncIterator](){const t=this.reader.getReader();return{next:()=>ne(this,void 0,void 0,function*(){try{const{done:n,value:r}=yield t.read();return n?{done:!0,value:void 0}:(this.handleChunkReceived(r),{done:!1,value:r.content})}catch{return{done:!0,value:void 0}}}),return(){return ne(this,void 0,void 0,function*(){return t.releaseLock(),{done:!0,value:void 0}})}}}readAll(){return ne(this,void 0,void 0,function*(){var t,n,r,o;let i=new Set;try{for(var a,s=!0,l=Ml(this);!(t=(a=yield l.next()).done);s=!0){o=a.value,s=!1;const c=o;i.add(c)}}catch(c){n={error:c}}finally{try{!s&&!t&&(r=l.return)&&(yield r.call(l))}finally{if(n)throw n.error}}return Array.from(i)})}}class iue extends VL{constructor(t,n,r){super(t,n,r),this.receivedChunks=new Map}handleChunkReceived(t){var n;const r=lv(t.chunkIndex),o=this.receivedChunks.get(r);if(o&&o.version>t.version)return;this.receivedChunks.set(r,t),this.bytesReceived+=t.content.byteLength;const i=this.totalByteSize?this.bytesReceived/this.totalByteSize:void 0;(n=this.onProgress)===null||n===void 0||n.call(this,i)}[Symbol.asyncIterator](){const t=this.reader.getReader(),n=new TextDecoder;return{next:()=>ne(this,void 0,void 0,function*(){try{const{done:r,value:o}=yield t.read();return r?{done:!0,value:void 0}:(this.handleChunkReceived(o),{done:!1,value:n.decode(o.content)})}catch{return{done:!0,value:void 0}}}),return(){return ne(this,void 0,void 0,function*(){return t.releaseLock(),{done:!0,value:void 0}})}}}readAll(){return ne(this,void 0,void 0,function*(){var t,n,r,o;let i="";try{for(var a,s=!0,l=Ml(this);!(t=(a=yield l.next()).done);s=!0)o=a.value,s=!1,i+=o}catch(c){n={error:c}}finally{try{!s&&!t&&(r=l.return)&&(yield r.call(l))}finally{if(n)throw n.error}}return i})}}class $L{constructor(t,n,r){this.writableStream=t,this.defaultWriter=t.getWriter(),this.onClose=r,this.info=n}write(t){return this.defaultWriter.write(t)}close(){return ne(this,void 0,void 0,function*(){var t;yield this.defaultWriter.close(),this.defaultWriter.releaseLock(),(t=this.onClose)===null||t===void 0||t.call(this)})}}class aue extends $L{}class sue extends $L{}class qL extends ye{constructor(t,n,r,o,i){super(t,r,i),this.sid=n,this.receiver=o}get isLocal(){return!1}setMuted(t){this.isMuted!==t&&(this.isMuted=t,this._mediaStreamTrack.enabled=!t,this.emit(t?Ve.Muted:Ve.Unmuted,this))}setMediaStream(t){this.mediaStream=t;const n=r=>{r.track===this._mediaStreamTrack&&(t.removeEventListener("removetrack",n),this.receiver&&"playoutDelayHint"in this.receiver&&(this.receiver.playoutDelayHint=void 0),this.receiver=void 0,this._currentBitrate=0,this.emit(Ve.Ended,this))};t.addEventListener("removetrack",n)}start(){this.startMonitor(),super.enable()}stop(){this.stopMonitor(),super.disable()}getRTCStatsReport(){return ne(this,void 0,void 0,function*(){var t;return(t=this.receiver)!==null&&t!==void 0&&t.getStats?yield this.receiver.getStats():void 0})}setPlayoutDelay(t){this.receiver?"playoutDelayHint"in this.receiver?this.receiver.playoutDelayHint=t:this.log.warn("Playout delay not supported in this browser"):this.log.warn("Cannot set playout delay, track already ended")}getPlayoutDelay(){if(this.receiver){if("playoutDelayHint"in this.receiver)return this.receiver.playoutDelayHint;this.log.warn("Playout delay not supported in this browser")}else this.log.warn("Cannot get playout delay, track already ended");return 0}startMonitor(){this.monitorInterval||(this.monitorInterval=setInterval(()=>this.monitorReceiver(),h4)),typeof RTCRtpReceiver<"u"&&"getSynchronizationSources"in RTCRtpReceiver&&this.registerTimeSyncUpdate()}registerTimeSyncUpdate(){const t=()=>{var n;this.timeSyncHandle=requestAnimationFrame(()=>t());const r=(n=this.receiver)===null||n===void 0?void 0:n.getSynchronizationSources()[0];if(r){const{timestamp:o,rtpTimestamp:i}=r;i&&this.rtpTimestamp!==i&&(this.emit(Ve.TimeSyncUpdate,{timestamp:o,rtpTimestamp:i}),this.rtpTimestamp=i)}};t()}}class WL extends qL{constructor(t,n,r,o,i,a){super(t,n,ye.Kind.Audio,r,a),this.monitorReceiver=()=>ne(this,void 0,void 0,function*(){if(!this.receiver)return void(this._currentBitrate=0);const s=yield this.getReceiverStats();s&&this.prevStats&&this.receiver&&(this._currentBitrate=dv(s,this.prevStats)),this.prevStats=s}),this.audioContext=o,this.webAudioPluginNodes=[],i&&(this.sinkId=i.deviceId)}setVolume(t){var n;for(const r of this.attachedElements)this.audioContext?(n=this.gainNode)===null||n===void 0||n.gain.setTargetAtTime(t,0,.1):r.volume=t;za()&&this._mediaStreamTrack._setVolume(t),this.elementVolume=t}getVolume(){if(this.elementVolume)return this.elementVolume;if(za())return 1;let t=0;return this.attachedElements.forEach(n=>{n.volume>t&&(t=n.volume)}),t}setSinkId(t){return ne(this,void 0,void 0,function*(){this.sinkId=t,yield Promise.all(this.attachedElements.map(n=>{if(Gx(n))return n.setSinkId(t)}))})}attach(t){const n=this.attachedElements.length===0;return t?super.attach(t):t=super.attach(),this.sinkId&&Gx(t)&&t.setSinkId(this.sinkId),this.audioContext&&n&&(this.log.debug("using audio context mapping",this.logContext),this.connectWebAudio(this.audioContext,t),t.volume=0,t.muted=!0),this.elementVolume&&this.setVolume(this.elementVolume),t}detach(t){let n;return t?(n=super.detach(t),this.audioContext&&(this.attachedElements.length>0?this.connectWebAudio(this.audioContext,this.attachedElements[0]):this.disconnectWebAudio())):(n=super.detach(),this.disconnectWebAudio()),n}setAudioContext(t){this.audioContext=t,t&&this.attachedElements.length>0?this.connectWebAudio(t,this.attachedElements[0]):t||this.disconnectWebAudio()}setWebAudioPlugins(t){this.webAudioPluginNodes=t,this.attachedElements.length>0&&this.audioContext&&this.connectWebAudio(this.audioContext,this.attachedElements[0])}connectWebAudio(t,n){this.disconnectWebAudio(),this.sourceNode=t.createMediaStreamSource(n.srcObject);let r=this.sourceNode;this.webAudioPluginNodes.forEach(o=>{r.connect(o),r=o}),this.gainNode=t.createGain(),r.connect(this.gainNode),this.gainNode.connect(t.destination),this.elementVolume&&this.gainNode.gain.setTargetAtTime(this.elementVolume,0,.1),t.state!=="running"&&t.resume().then(()=>{t.state!=="running"&&this.emit(Ve.AudioPlaybackFailed,new Error("Audio Context couldn't be started automatically"))}).catch(o=>{this.emit(Ve.AudioPlaybackFailed,o)})}disconnectWebAudio(){var t,n;(t=this.gainNode)===null||t===void 0||t.disconnect(),(n=this.sourceNode)===null||n===void 0||n.disconnect(),this.gainNode=void 0,this.sourceNode=void 0}getReceiverStats(){return ne(this,void 0,void 0,function*(){if(!this.receiver||!this.receiver.getStats)return;let t;return(yield this.receiver.getStats()).forEach(n=>{n.type==="inbound-rtp"&&(t={type:"audio",streamId:n.id,timestamp:n.timestamp,jitter:n.jitter,bytesReceived:n.bytesReceived,concealedSamples:n.concealedSamples,concealmentEvents:n.concealmentEvents,silentConcealedSamples:n.silentConcealedSamples,silentConcealmentEvents:n.silentConcealmentEvents,totalAudioEnergy:n.totalAudioEnergy,totalSamplesDuration:n.totalSamplesDuration})}),t})}}class lue extends qL{constructor(t,n,r,o,i){super(t,n,ye.Kind.Video,r,i),this.elementInfos=[],this.monitorReceiver=()=>ne(this,void 0,void 0,function*(){if(!this.receiver)return void(this._currentBitrate=0);const a=yield this.getReceiverStats();a&&this.prevStats&&this.receiver&&(this._currentBitrate=dv(a,this.prevStats)),this.prevStats=a}),this.debouncedHandleResize=l4(()=>{this.updateDimensions()},100),this.adaptiveStreamSettings=o}get isAdaptiveStream(){return this.adaptiveStreamSettings!==void 0}get mediaStreamTrack(){return this._mediaStreamTrack}setMuted(t){super.setMuted(t),this.attachedElements.forEach(n=>{t?Wd(this._mediaStreamTrack,n):qd(this._mediaStreamTrack,n)})}attach(t){if(t?super.attach(t):t=super.attach(),this.adaptiveStreamSettings&&this.elementInfos.find(n=>n.element===t)===void 0){const n=new cue(t);this.observeElementInfo(n)}return t}observeElementInfo(t){this.adaptiveStreamSettings&&this.elementInfos.find(n=>n===t)===void 0?(t.handleResize=()=>{this.debouncedHandleResize()},t.handleVisibilityChanged=()=>{this.updateVisibility()},this.elementInfos.push(t),t.observe(),this.debouncedHandleResize(),this.updateVisibility()):this.log.warn("visibility resize observer not triggered",this.logContext)}stopObservingElementInfo(t){if(!this.isAdaptiveStream)return void this.log.warn("stopObservingElementInfo ignored",this.logContext);const n=this.elementInfos.filter(r=>r===t);for(const r of n)r.stopObserving();this.elementInfos=this.elementInfos.filter(r=>r!==t),this.updateVisibility(),this.debouncedHandleResize()}detach(t){let n=[];if(t)return this.stopObservingElement(t),super.detach(t);n=super.detach();for(const r of n)this.stopObservingElement(r);return n}getDecoderImplementation(){var t;return(t=this.prevStats)===null||t===void 0?void 0:t.decoderImplementation}getReceiverStats(){return ne(this,void 0,void 0,function*(){if(!this.receiver||!this.receiver.getStats)return;const t=yield this.receiver.getStats();let n,r="",o=new Map;return t.forEach(i=>{i.type==="inbound-rtp"?(r=i.codecId,n={type:"video",streamId:i.id,framesDecoded:i.framesDecoded,framesDropped:i.framesDropped,framesReceived:i.framesReceived,packetsReceived:i.packetsReceived,packetsLost:i.packetsLost,frameWidth:i.frameWidth,frameHeight:i.frameHeight,pliCount:i.pliCount,firCount:i.firCount,nackCount:i.nackCount,jitter:i.jitter,timestamp:i.timestamp,bytesReceived:i.bytesReceived,decoderImplementation:i.decoderImplementation}):i.type==="codec"&&o.set(i.id,i)}),n&&r!==""&&o.get(r)&&(n.mimeType=o.get(r).mimeType),n})}stopObservingElement(t){const n=this.elementInfos.filter(r=>r.element===t);for(const r of n)this.stopObservingElementInfo(r)}handleAppVisibilityChanged(){const t=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return ne(this,void 0,void 0,function*(){yield t.handleAppVisibilityChanged.call(this),this.isAdaptiveStream&&this.updateVisibility()})}updateVisibility(){var t,n;const r=this.elementInfos.reduce((s,l)=>Math.max(s,l.visibilityChangedAt||0),0),o=!((n=(t=this.adaptiveStreamSettings)===null||t===void 0?void 0:t.pauseVideoInBackground)!==null&&n!==void 0&&!n)&&this.isInBackground,i=this.elementInfos.some(s=>s.pictureInPicture),a=this.elementInfos.some(s=>s.visible)&&!o||i;if(this.lastVisible!==a){if(!a&&Date.now()-r<100)return void Cr.setTimeout(()=>{this.updateVisibility()},100);this.lastVisible=a,this.emit(Ve.VisibilityChanged,a,this)}}updateDimensions(){var t,n;let r=0,o=0;const i=this.getPixelDensity();for(const a of this.elementInfos){const s=a.width()*i,l=a.height()*i;s+l>r+o&&(r=s,o=l)}((t=this.lastDimensions)===null||t===void 0?void 0:t.width)===r&&((n=this.lastDimensions)===null||n===void 0?void 0:n.height)===o||(this.lastDimensions={width:r,height:o},this.emit(Ve.VideoDimensionsChanged,this.lastDimensions,this))}getPixelDensity(){var t;const n=(t=this.adaptiveStreamSettings)===null||t===void 0?void 0:t.pixelDensity;return n==="screen"?lL():n||(lL()>2?2:1)}}class cue{get visible(){return this.isPiP||this.isIntersecting}get pictureInPicture(){return this.isPiP}constructor(t,n){this.onVisibilityChanged=r=>{var o;const{target:i,isIntersecting:a}=r;i===this.element&&(this.isIntersecting=a,this.isPiP=Gp(this.element),this.visibilityChangedAt=Date.now(),(o=this.handleVisibilityChanged)===null||o===void 0||o.call(this))},this.onEnterPiP=()=>{var r,o,i;(o=(r=window.documentPictureInPicture)===null||r===void 0?void 0:r.window)===null||o===void 0||o.addEventListener("pagehide",this.onLeavePiP),this.isPiP=Gp(this.element),(i=this.handleVisibilityChanged)===null||i===void 0||i.call(this)},this.onLeavePiP=()=>{var r;this.isPiP=Gp(this.element),(r=this.handleVisibilityChanged)===null||r===void 0||r.call(this)},this.element=t,this.isIntersecting=n??v4(t),this.isPiP=wo()&&Gp(t),this.visibilityChangedAt=0}width(){return this.element.clientWidth}height(){return this.element.clientHeight}observe(){var t,n,r;this.isIntersecting=v4(this.element),this.isPiP=Gp(this.element),this.element.handleResize=()=>{var o;(o=this.handleResize)===null||o===void 0||o.call(this)},this.element.handleVisibilityChanged=this.onVisibilityChanged,uL().observe(this.element),cL().observe(this.element),this.element.addEventListener("enterpictureinpicture",this.onEnterPiP),this.element.addEventListener("leavepictureinpicture",this.onLeavePiP),(t=window.documentPictureInPicture)===null||t===void 0||t.addEventListener("enter",this.onEnterPiP),(r=(n=window.documentPictureInPicture)===null||n===void 0?void 0:n.window)===null||r===void 0||r.addEventListener("pagehide",this.onLeavePiP)}stopObserving(){var t,n,r,o,i;(t=uL())===null||t===void 0||t.unobserve(this.element),(n=cL())===null||n===void 0||n.unobserve(this.element),this.element.removeEventListener("enterpictureinpicture",this.onEnterPiP),this.element.removeEventListener("leavepictureinpicture",this.onLeavePiP),(r=window.documentPictureInPicture)===null||r===void 0||r.removeEventListener("enter",this.onEnterPiP),(i=(o=window.documentPictureInPicture)===null||o===void 0?void 0:o.window)===null||i===void 0||i.removeEventListener("pagehide",this.onLeavePiP)}}function Gp(e){var t,n;return document.pictureInPictureElement===e||!((t=window.documentPictureInPicture)===null||t===void 0||!t.window)&&v4(e,(n=window.documentPictureInPicture)===null||n===void 0?void 0:n.window)}function v4(e,t){const n=t||window;let r=e.offsetTop,o=e.offsetLeft;const i=e.offsetWidth,a=e.offsetHeight,{hidden:s}=e,{display:l}=getComputedStyle(e);for(;e.offsetParent;)r+=(e=e.offsetParent).offsetTop,o+=e.offsetLeft;return r<n.pageYOffset+n.innerHeight&&o<n.pageXOffset+n.innerWidth&&r+a>n.pageYOffset&&o+i>n.pageXOffset&&!s&&l!=="none"}class As extends ja.EventEmitter{constructor(t,n,r,o){var i;super(),this.metadataMuted=!1,this.encryption=Jo.NONE,this.log=Gt,this.handleMuted=()=>{this.emit(Ve.Muted)},this.handleUnmuted=()=>{this.emit(Ve.Unmuted)},this.log=Cs((i=o==null?void 0:o.loggerName)!==null&&i!==void 0?i:Wi.Publication),this.loggerContextCb=this.loggerContextCb,this.setMaxListeners(100),this.kind=t,this.trackSid=n,this.trackName=r,this.source=ye.Source.Unknown}setTrack(t){this.track&&(this.track.off(Ve.Muted,this.handleMuted),this.track.off(Ve.Unmuted,this.handleUnmuted)),this.track=t,t&&(t.on(Ve.Muted,this.handleMuted),t.on(Ve.Unmuted,this.handleUnmuted))}get logContext(){var t;return Object.assign(Object.assign({},(t=this.loggerContextCb)===null||t===void 0?void 0:t.call(this)),rn(this))}get isMuted(){return this.metadataMuted}get isEnabled(){return!0}get isSubscribed(){return this.track!==void 0}get isEncrypted(){return this.encryption!==Jo.NONE}get audioTrack(){if(Ps(this.track))return this.track}get videoTrack(){if(Yd(this.track))return this.track}updateInfo(t){this.trackSid=t.sid,this.trackName=t.name,this.source=ye.sourceFromProto(t.source),this.mimeType=t.mimeType,this.kind===ye.Kind.Video&&t.width>0&&(this.dimensions={width:t.width,height:t.height},this.simulcasted=t.simulcast),this.encryption=t.encryption,this.trackInfo=t,this.log.debug("update publication info",Object.assign(Object.assign({},this.logContext),{info:t}))}}(function(e){(function(t){t.Desired="desired",t.Subscribed="subscribed",t.Unsubscribed="unsubscribed"})(e.SubscriptionStatus||(e.SubscriptionStatus={})),function(t){t.Allowed="allowed",t.NotAllowed="not_allowed"}(e.PermissionStatus||(e.PermissionStatus={}))})(As||(As={}));class b4 extends As{get isUpstreamPaused(){var t;return(t=this.track)===null||t===void 0?void 0:t.isUpstreamPaused}constructor(t,n,r,o){super(t,n.sid,n.name,o),this.track=void 0,this.handleTrackEnded=()=>{this.emit(Ve.Ended)},this.updateInfo(n),this.setTrack(r)}setTrack(t){this.track&&this.track.off(Ve.Ended,this.handleTrackEnded),super.setTrack(t),t&&t.on(Ve.Ended,this.handleTrackEnded)}get isMuted(){return this.track?this.track.isMuted:super.isMuted}get audioTrack(){return super.audioTrack}get videoTrack(){return super.videoTrack}get isLocal(){return!0}mute(){return ne(this,void 0,void 0,function*(){var t;return(t=this.track)===null||t===void 0?void 0:t.mute()})}unmute(){return ne(this,void 0,void 0,function*(){var t;return(t=this.track)===null||t===void 0?void 0:t.unmute()})}pauseUpstream(){return ne(this,void 0,void 0,function*(){var t;yield(t=this.track)===null||t===void 0?void 0:t.pauseUpstream()})}resumeUpstream(){return ne(this,void 0,void 0,function*(){var t;yield(t=this.track)===null||t===void 0?void 0:t.resumeUpstream()})}getTrackFeatures(){var t;if(Ps(this.track)){const n=this.track.getSourceTrackSettings(),r=new Set;return n.autoGainControl&&r.add(La.TF_AUTO_GAIN_CONTROL),n.echoCancellation&&r.add(La.TF_ECHO_CANCELLATION),n.noiseSuppression&&r.add(La.TF_NOISE_SUPPRESSION),n.channelCount&&n.channelCount>1&&r.add(La.TF_STEREO),!((t=this.options)===null||t===void 0)&&t.dtx||r.add(La.TF_NO_DTX),this.track.enhancedNoiseCancellation&&r.add(La.TF_ENHANCED_NOISE_CANCELLATION),Array.from(r.values())}return[]}}function GL(e,t){return ne(this,void 0,void 0,function*(){e!=null||(e={});let n=!1;const{audioProcessor:r,videoProcessor:o,optionsWithoutProcessor:i}=vL(e);let a=i.audio,s=i.video;if(r&&typeof i.audio=="object"&&(i.audio.processor=r),o&&typeof i.video=="object"&&(i.video.processor=o),e.audio&&typeof i.audio=="object"&&typeof i.audio.deviceId=="string"){const h=i.audio.deviceId;i.audio.deviceId={exact:h},n=!0,a=Object.assign(Object.assign({},i.audio),{deviceId:{ideal:h}})}if(i.video&&typeof i.video=="object"&&typeof i.video.deviceId=="string"){const h=i.video.deviceId;i.video.deviceId={exact:h},n=!0,s=Object.assign(Object.assign({},i.video),{deviceId:{ideal:h}})}(i.audio===!0||typeof i.audio=="object"&&!i.audio.deviceId)&&(i.audio={deviceId:"default"}),(i.video===!0||typeof i.video=="object"&&!i.video.deviceId)&&(i.video={deviceId:"default"});const l=fL(i,NL,RL),c=n4(l),u=navigator.mediaDevices.getUserMedia(c);i.audio&&(wr.userMediaPromiseMap.set("audioinput",u),u.catch(()=>wr.userMediaPromiseMap.delete("audioinput"))),i.video&&(wr.userMediaPromiseMap.set("videoinput",u),u.catch(()=>wr.userMediaPromiseMap.delete("videoinput")));try{const h=yield u;return yield Promise.all(h.getTracks().map(p=>ne(this,void 0,void 0,function*(){const d=p.kind==="audio";let f,g=d?l.audio:l.video;(typeof g=="boolean"||!g)&&(g={});const m=d?c.audio:c.video;typeof m!="boolean"&&(f=m);const v=p.getSettings().deviceId;f!=null&&f.deviceId&&zl(f.deviceId)!==v?f.deviceId=v:f||(f={deviceId:v});const y=function(b,w,k){switch(b.kind){case"audio":return new hv(b,w,!1,void 0,k);case"video":return new mv(b,w,!1,k);default:throw new Os("unsupported track type: ".concat(b.kind))}}(p,f,t);return y.kind===ye.Kind.Video?y.source=ye.Source.Camera:y.kind===ye.Kind.Audio&&(y.source=ye.Source.Microphone),y.mediaStream=h,Ps(y)&&r?yield y.setProcessor(r):Yd(y)&&o&&(yield y.setProcessor(o)),y})))}catch(h){if(!n)throw h;return GL(Object.assign(Object.assign({},e),{audio:a,video:s}),t)}})}var Ul;(function(e){e.Excellent="excellent",e.Good="good",e.Poor="poor",e.Lost="lost",e.Unknown="unknown"})(Ul||(Ul={}));class KL extends ja.EventEmitter{get logContext(){var t,n;return Object.assign({},(n=(t=this.loggerOptions)===null||t===void 0?void 0:t.loggerContextCb)===null||n===void 0?void 0:n.call(t))}get isEncrypted(){return this.trackPublications.size>0&&Array.from(this.trackPublications.values()).every(t=>t.isEncrypted)}get isAgent(){var t;return((t=this.permissions)===null||t===void 0?void 0:t.agent)||this.kind===Ud.AGENT}get kind(){return this._kind}get attributes(){return Object.freeze(Object.assign({},this._attributes))}constructor(t,n,r,o,i,a){let s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:Ud.STANDARD;var l;super(),this.audioLevel=0,this.isSpeaking=!1,this._connectionQuality=Ul.Unknown,this.log=Gt,this.log=Cs((l=a==null?void 0:a.loggerName)!==null&&l!==void 0?l:Wi.Participant),this.loggerOptions=a,this.setMaxListeners(100),this.sid=t,this.identity=n,this.name=r,this.metadata=o,this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.trackPublications=new Map,this._kind=s,this._attributes=i??{}}getTrackPublications(){return Array.from(this.trackPublications.values())}getTrackPublication(t){for(const[,n]of this.trackPublications)if(n.source===t)return n}getTrackPublicationByName(t){for(const[,n]of this.trackPublications)if(n.trackName===t)return n}get connectionQuality(){return this._connectionQuality}get isCameraEnabled(){var t;const n=this.getTrackPublication(ye.Source.Camera);return!((t=n==null?void 0:n.isMuted)===null||t===void 0||t)}get isMicrophoneEnabled(){var t;const n=this.getTrackPublication(ye.Source.Microphone);return!((t=n==null?void 0:n.isMuted)===null||t===void 0||t)}get isScreenShareEnabled(){return!!this.getTrackPublication(ye.Source.ScreenShare)}get isLocal(){return!1}get joinedAt(){return this.participantInfo?new Date(1e3*Number.parseInt(this.participantInfo.joinedAt.toString())):new Date}updateInfo(t){return!(this.participantInfo&&this.participantInfo.sid===t.sid&&this.participantInfo.version>t.version)&&(this.identity=t.identity,this.sid=t.sid,this._setName(t.name),this._setMetadata(t.metadata),this._setAttributes(t.attributes),t.permission&&this.setPermissions(t.permission),this.participantInfo=t,this.log.trace("update participant info",Object.assign(Object.assign({},this.logContext),{info:t})),!0)}_setMetadata(t){const n=this.metadata!==t,r=this.metadata;this.metadata=t,n&&this.emit(Ae.ParticipantMetadataChanged,r)}_setName(t){const n=this.name!==t;this.name=t,n&&this.emit(Ae.ParticipantNameChanged,t)}_setAttributes(t){const n=function(r,o){var i;r===void 0&&(r={}),o===void 0&&(o={});const a=[...Object.keys(o),...Object.keys(r)],s={};for(const l of a)r[l]!==o[l]&&(s[l]=(i=o[l])!==null&&i!==void 0?i:"");return s}(this.attributes,t);this._attributes=t,Object.keys(n).length>0&&this.emit(Ae.AttributesChanged,n)}setPermissions(t){var n,r,o,i,a,s;const l=this.permissions,c=t.canPublish!==((n=this.permissions)===null||n===void 0?void 0:n.canPublish)||t.canSubscribe!==((r=this.permissions)===null||r===void 0?void 0:r.canSubscribe)||t.canPublishData!==((o=this.permissions)===null||o===void 0?void 0:o.canPublishData)||t.hidden!==((i=this.permissions)===null||i===void 0?void 0:i.hidden)||t.recorder!==((a=this.permissions)===null||a===void 0?void 0:a.recorder)||t.canPublishSources.length!==this.permissions.canPublishSources.length||t.canPublishSources.some((u,h)=>{var p;return u!==((p=this.permissions)===null||p===void 0?void 0:p.canPublishSources[h])})||t.canSubscribeMetrics!==((s=this.permissions)===null||s===void 0?void 0:s.canSubscribeMetrics);return this.permissions=t,c&&this.emit(Ae.ParticipantPermissionsChanged,l),c}setIsSpeaking(t){t!==this.isSpeaking&&(this.isSpeaking=t,t&&(this.lastSpokeAt=new Date),this.emit(Ae.IsSpeakingChanged,t))}setConnectionQuality(t){const n=this._connectionQuality;this._connectionQuality=function(r){switch(r){case Dp.EXCELLENT:return Ul.Excellent;case Dp.GOOD:return Ul.Good;case Dp.POOR:return Ul.Poor;case Dp.LOST:return Ul.Lost;default:return Ul.Unknown}}(t),n!==this._connectionQuality&&this.emit(Ae.ConnectionQualityChanged,this._connectionQuality)}setAudioContext(t){this.audioContext=t,this.audioTrackPublications.forEach(n=>Ps(n.track)&&n.track.setAudioContext(t))}addTrackPublication(t){t.on(Ve.Muted,()=>{this.emit(Ae.TrackMuted,t)}),t.on(Ve.Unmuted,()=>{this.emit(Ae.TrackUnmuted,t)});const n=t;switch(n.track&&(n.track.sid=t.trackSid),this.trackPublications.set(t.trackSid,t),t.kind){case ye.Kind.Audio:this.audioTrackPublications.set(t.trackSid,t);break;case ye.Kind.Video:this.videoTrackPublications.set(t.trackSid,t)}}}class uue extends KL{constructor(t,n,r,o,i){super(t,n,void 0,void 0,void 0,{loggerName:o.loggerName,loggerContextCb:()=>this.engine.logContext}),this.pendingPublishing=new Set,this.pendingPublishPromises=new Map,this.participantTrackPermissions=[],this.allParticipantsAllowedToSubscribe=!0,this.encryptionType=Jo.NONE,this.enabledPublishVideoCodecs=[],this.pendingAcks=new Map,this.pendingResponses=new Map,this.handleReconnecting=()=>{this.reconnectFuture||(this.reconnectFuture=new hL)},this.handleReconnected=()=>{var a,s;(s=(a=this.reconnectFuture)===null||a===void 0?void 0:a.resolve)===null||s===void 0||s.call(a),this.reconnectFuture=void 0,this.updateTrackSubscriptionPermissions()},this.handleDisconnected=()=>{var a,s;this.reconnectFuture&&(this.reconnectFuture.promise.catch(l=>this.log.warn(l.message,this.logContext)),(s=(a=this.reconnectFuture)===null||a===void 0?void 0:a.reject)===null||s===void 0||s.call(a,"Got disconnected during reconnection attempt"),this.reconnectFuture=void 0)},this.handleSignalRequestResponse=a=>{const{requestId:s,reason:l,message:c}=a,u=this.pendingSignalRequests.get(s);u&&(l!==Ox.OK&&u.reject(new nL(c,l)),this.pendingSignalRequests.delete(s))},this.handleDataPacket=a=>{switch(a.value.case){case"rpcResponse":let s=a.value.value,l=null,c=null;s.value.case==="payload"?l=s.value.value:s.value.case==="error"&&(c=Vn.fromProto(s.value.value)),this.handleIncomingRpcResponse(s.requestId,l,c);break;case"rpcAck":let u=a.value.value;this.handleIncomingRpcAck(u.requestId)}},this.updateTrackSubscriptionPermissions=()=>{this.log.debug("updating track subscription permissions",Object.assign(Object.assign({},this.logContext),{allParticipantsAllowed:this.allParticipantsAllowedToSubscribe,participantTrackPermissions:this.participantTrackPermissions})),this.engine.client.sendUpdateSubscriptionPermissions(this.allParticipantsAllowedToSubscribe,this.participantTrackPermissions.map(a=>function(s){var l,c,u;if(!s.participantSid&&!s.participantIdentity)throw new Error("Invalid track permission, must provide at least one of participantIdentity and participantSid");return new lM({participantIdentity:(l=s.participantIdentity)!==null&&l!==void 0?l:"",participantSid:(c=s.participantSid)!==null&&c!==void 0?c:"",allTracks:(u=s.allowAll)!==null&&u!==void 0&&u,trackSids:s.allowedTrackSids||[]})}(a)))},this.onTrackUnmuted=a=>{this.onTrackMuted(a,a.isUpstreamPaused)},this.onTrackMuted=(a,s)=>{s===void 0&&(s=!0),a.sid?this.engine.updateMuteStatus(a.sid,s):this.log.error("could not update mute status for unpublished track",Object.assign(Object.assign({},this.logContext),rn(a)))},this.onTrackUpstreamPaused=a=>{this.log.debug("upstream paused",Object.assign(Object.assign({},this.logContext),rn(a))),this.onTrackMuted(a,!0)},this.onTrackUpstreamResumed=a=>{this.log.debug("upstream resumed",Object.assign(Object.assign({},this.logContext),rn(a))),this.onTrackMuted(a,a.isMuted)},this.onTrackFeatureUpdate=a=>{const s=this.audioTrackPublications.get(a.sid);s?this.engine.client.sendUpdateLocalAudioTrack(s.trackSid,s.getTrackFeatures()):this.log.warn("Could not update local audio track settings, missing publication for track ".concat(a.sid),this.logContext)},this.handleSubscribedQualityUpdate=a=>ne(this,void 0,void 0,function*(){var s,l,c,u,h,p;if((h=this.roomOptions)===null||h===void 0||!h.dynacast)return;const d=this.videoTrackPublications.get(a.trackSid);if(d)if(a.subscribedCodecs.length>0){if(!d.videoTrack)return;const v=yield d.videoTrack.setPublishingCodecs(a.subscribedCodecs);try{for(var f,g=!0,m=Ml(v);!(s=(f=yield m.next()).done);g=!0){u=f.value,g=!1;const y=u;Lce(y)&&(this.log.debug("publish ".concat(y," for ").concat(d.videoTrack.sid),Object.assign(Object.assign({},this.logContext),rn(d))),yield this.publishAdditionalCodecForTrack(d.videoTrack,y,d.options))}}catch(y){l={error:y}}finally{try{!g&&!s&&(c=m.return)&&(yield c.call(m))}finally{if(l)throw l.error}}}else a.subscribedQualities.length>0&&(yield(p=d.videoTrack)===null||p===void 0?void 0:p.setPublishingLayers(a.subscribedQualities));else this.log.warn("received subscribed quality update for unknown track",Object.assign(Object.assign({},this.logContext),{trackSid:a.trackSid}))}),this.handleLocalTrackUnpublished=a=>{const s=this.trackPublications.get(a.trackSid);s?this.unpublishTrack(s.track):this.log.warn("received unpublished event for unknown track",Object.assign(Object.assign({},this.logContext),{trackSid:a.trackSid}))},this.handleTrackEnded=a=>ne(this,void 0,void 0,function*(){if(a.source===ye.Source.ScreenShare||a.source===ye.Source.ScreenShareAudio)this.log.debug("unpublishing local track due to TrackEnded",Object.assign(Object.assign({},this.logContext),rn(a))),this.unpublishTrack(a);else if(a.isUserProvided)yield a.mute();else if(nu(a)||Fl(a))try{if(wo())try{const s=yield navigator==null?void 0:navigator.permissions.query({name:a.source===ye.Source.Camera?"camera":"microphone"});if(s&&s.state==="denied")throw this.log.warn("user has revoked access to ".concat(a.source),Object.assign(Object.assign({},this.logContext),rn(a))),s.onchange=()=>{s.state!=="denied"&&(a.isMuted||a.restartTrack(),s.onchange=null)},new Error("GetUserMedia Permission denied")}catch{}a.isMuted||(this.log.debug("track ended, attempting to use a different device",Object.assign(Object.assign({},this.logContext),rn(a))),nu(a)?yield a.restartTrack({deviceId:"default"}):yield a.restartTrack())}catch{this.log.warn("could not restart track, muting instead",Object.assign(Object.assign({},this.logContext),rn(a))),yield a.mute()}}),this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.trackPublications=new Map,this.engine=r,this.roomOptions=o,this.setupEngine(r),this.activeDeviceMap=new Map([["audioinput","default"],["videoinput","default"],["audiooutput","default"]]),this.pendingSignalRequests=new Map,this.rpcHandlers=i}get lastCameraError(){return this.cameraError}get lastMicrophoneError(){return this.microphoneError}get isE2EEEnabled(){return this.encryptionType!==Jo.NONE}getTrackPublication(t){const n=super.getTrackPublication(t);if(n)return n}getTrackPublicationByName(t){const n=super.getTrackPublicationByName(t);if(n)return n}setupEngine(t){this.engine=t,this.engine.on(Ke.RemoteMute,(n,r)=>{const o=this.trackPublications.get(n);!o||!o.track||(r?o.mute():o.unmute())}),this.engine.on(Ke.Connected,this.handleReconnected).on(Ke.SignalRestarted,this.handleReconnected).on(Ke.SignalResumed,this.handleReconnected).on(Ke.Restarting,this.handleReconnecting).on(Ke.Resuming,this.handleReconnecting).on(Ke.LocalTrackUnpublished,this.handleLocalTrackUnpublished).on(Ke.SubscribedQualityUpdate,this.handleSubscribedQualityUpdate).on(Ke.Disconnected,this.handleDisconnected).on(Ke.SignalRequestResponse,this.handleSignalRequestResponse).on(Ke.DataPacketReceived,this.handleDataPacket)}setMetadata(t){return ne(this,void 0,void 0,function*(){yield this.requestMetadataUpdate({metadata:t})})}setName(t){return ne(this,void 0,void 0,function*(){yield this.requestMetadataUpdate({name:t})})}setAttributes(t){return ne(this,void 0,void 0,function*(){yield this.requestMetadataUpdate({attributes:t})})}requestMetadataUpdate(t){return ne(this,arguments,void 0,function(n){var r=this;let{metadata:o,name:i,attributes:a}=n;return function*(){return new Promise((s,l)=>ne(r,void 0,void 0,function*(){var c,u;try{let h=!1;const p=yield this.engine.client.sendUpdateLocalMetadata((c=o??this.metadata)!==null&&c!==void 0?c:"",(u=i??this.name)!==null&&u!==void 0?u:"",a),d=performance.now();for(this.pendingSignalRequests.set(p,{resolve:s,reject:f=>{l(f),h=!0},values:{name:i,metadata:o,attributes:a}});performance.now()-d<5e3&&!h;){if((!i||this.name===i)&&(!o||this.metadata===o)&&(!a||Object.entries(a).every(f=>{let[g,m]=f;return this.attributes[g]===m||m===""&&!this.attributes[g]})))return this.pendingSignalRequests.delete(p),void s();yield Zo(50)}l(new nL("Request to update local metadata timed out","TimeoutError"))}catch(h){h instanceof Error&&l(h)}}))}()})}setCameraEnabled(t,n,r){return this.setTrackEnabled(ye.Source.Camera,t,n,r)}setMicrophoneEnabled(t,n,r){return this.setTrackEnabled(ye.Source.Microphone,t,n,r)}setScreenShareEnabled(t,n,r){return this.setTrackEnabled(ye.Source.ScreenShare,t,n,r)}setPermissions(t){const n=this.permissions,r=super.setPermissions(t);return r&&n&&this.emit(Ae.ParticipantPermissionsChanged,n),r}setE2EEEnabled(t){return ne(this,void 0,void 0,function*(){this.encryptionType=t?Jo.GCM:Jo.NONE,yield this.republishAllTracks(void 0,!1)})}setTrackEnabled(t,n,r,o){return ne(this,void 0,void 0,function*(){var i,a;this.log.debug("setTrackEnabled",Object.assign(Object.assign({},this.logContext),{source:t,enabled:n})),this.republishPromise&&(yield this.republishPromise);let s=this.getTrackPublication(t);if(n)if(s)yield s.unmute();else{let l;if(this.pendingPublishing.has(t)){const c=yield this.waitForPendingPublicationOfSource(t);return c||this.log.info("waiting for pending publication promise timed out",Object.assign(Object.assign({},this.logContext),{source:t})),yield c==null?void 0:c.unmute(),c}this.pendingPublishing.add(t);try{switch(t){case ye.Source.Camera:l=yield this.createTracks({video:(i=r)===null||i===void 0||i});break;case ye.Source.Microphone:l=yield this.createTracks({audio:(a=r)===null||a===void 0||a});break;case ye.Source.ScreenShare:l=yield this.createScreenTracks(Object.assign({},r));break;default:throw new Os(t)}}catch(c){throw l==null||l.forEach(u=>{u.stop()}),c instanceof Error&&this.emit(Ae.MediaDevicesError,c),this.pendingPublishing.delete(t),c}try{const c=[];for(const u of l)this.log.info("publishing track",Object.assign(Object.assign({},this.logContext),rn(u))),c.push(this.publishTrack(u,o));[s]=yield Promise.all(c)}catch(c){throw l==null||l.forEach(u=>{u.stop()}),c}finally{this.pendingPublishing.delete(t)}}else if(!(s!=null&&s.track)&&this.pendingPublishing.has(t)&&(s=yield this.waitForPendingPublicationOfSource(t),s||this.log.info("waiting for pending publication promise timed out",Object.assign(Object.assign({},this.logContext),{source:t}))),s&&s.track)if(t===ye.Source.ScreenShare){s=yield this.unpublishTrack(s.track);const l=this.getTrackPublication(ye.Source.ScreenShareAudio);l&&l.track&&this.unpublishTrack(l.track)}else yield s.mute();return s})}enableCameraAndMicrophone(){return ne(this,void 0,void 0,function*(){if(!this.pendingPublishing.has(ye.Source.Camera)&&!this.pendingPublishing.has(ye.Source.Microphone)){this.pendingPublishing.add(ye.Source.Camera),this.pendingPublishing.add(ye.Source.Microphone);try{const t=yield this.createTracks({audio:!0,video:!0});yield Promise.all(t.map(n=>this.publishTrack(n)))}finally{this.pendingPublishing.delete(ye.Source.Camera),this.pendingPublishing.delete(ye.Source.Microphone)}}})}createTracks(t){return ne(this,void 0,void 0,function*(){var n,r;t!=null||(t={});const o=fL(t,(n=this.roomOptions)===null||n===void 0?void 0:n.audioCaptureDefaults,(r=this.roomOptions)===null||r===void 0?void 0:r.videoCaptureDefaults);try{return(yield GL(o,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext})).map(i=>(Ps(i)&&(this.microphoneError=void 0,i.setAudioContext(this.audioContext),i.source=ye.Source.Microphone,this.emit(Ae.AudioStreamAcquired)),Yd(i)&&(this.cameraError=void 0,i.source=ye.Source.Camera),i))}catch(i){throw i instanceof Error&&(t.audio&&(this.microphoneError=i),t.video&&(this.cameraError=i)),i}})}createScreenTracks(t){return ne(this,void 0,void 0,function*(){if(t===void 0&&(t={}),navigator.mediaDevices.getDisplayMedia===void 0)throw new jx("getDisplayMedia not supported");t.resolution===void 0&&!function(){const s=Gi();return(s==null?void 0:s.name)==="Safari"&&s.version.startsWith("17.")}()&&(t.resolution=$x.h1080fps30.resolution);const n=function(s){var l,c;let u=(l=s.video)===null||l===void 0||l;return s.resolution&&s.resolution.width>0&&s.resolution.height>0&&(u=typeof u=="boolean"?{}:u,u=jl()?Object.assign(Object.assign({},u),{width:{max:s.resolution.width},height:{max:s.resolution.height},frameRate:s.resolution.frameRate}):Object.assign(Object.assign({},u),{width:{ideal:s.resolution.width},height:{ideal:s.resolution.height},frameRate:s.resolution.frameRate})),{audio:(c=s.audio)!==null&&c!==void 0&&c,video:u,controller:s.controller,selfBrowserSurface:s.selfBrowserSurface,surfaceSwitching:s.surfaceSwitching,systemAudio:s.systemAudio,preferCurrentTab:s.preferCurrentTab}}(t),r=yield navigator.mediaDevices.getDisplayMedia(n),o=r.getVideoTracks();if(o.length===0)throw new Os("no video track found");const i=new mv(o[0],void 0,!1,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});i.source=ye.Source.ScreenShare,t.contentHint&&(i.mediaStreamTrack.contentHint=t.contentHint);const a=[i];if(r.getAudioTracks().length>0){this.emit(Ae.AudioStreamAcquired);const s=new hv(r.getAudioTracks()[0],void 0,!1,this.audioContext,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});s.source=ye.Source.ScreenShareAudio,a.push(s)}return a})}publishTrack(t,n){return ne(this,void 0,void 0,function*(){return this.publishOrRepublishTrack(t,n)})}publishOrRepublishTrack(t,n){return ne(this,arguments,void 0,function(r,o){var i=this;let a=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return function*(){var s,l,c,u;let h,p;if(nu(r)&&r.setAudioContext(i.audioContext),yield(s=i.reconnectFuture)===null||s===void 0?void 0:s.promise,i.republishPromise&&!a&&(yield i.republishPromise),Kd(r)&&i.pendingPublishPromises.has(r)&&(yield i.pendingPublishPromises.get(r)),r instanceof MediaStreamTrack)h=r.getConstraints();else{let v;switch(h=r.constraints,r.source){case ye.Source.Microphone:v="audioinput";break;case ye.Source.Camera:v="videoinput"}v&&i.activeDeviceMap.has(v)&&(h=Object.assign(Object.assign({},h),{deviceId:i.activeDeviceMap.get(v)}))}if(r instanceof MediaStreamTrack)switch(r.kind){case"audio":r=new hv(r,h,!0,i.audioContext,{loggerName:i.roomOptions.loggerName,loggerContextCb:()=>i.logContext});break;case"video":r=new mv(r,h,!0,{loggerName:i.roomOptions.loggerName,loggerContextCb:()=>i.logContext});break;default:throw new Os("unsupported MediaStreamTrack kind ".concat(r.kind))}else r.updateLoggerOptions({loggerName:i.roomOptions.loggerName,loggerContextCb:()=>i.logContext});if(i.trackPublications.forEach(v=>{v.track&&v.track===r&&(p=v)}),p)return i.log.warn("track has already been published, skipping",Object.assign(Object.assign({},i.logContext),rn(p))),p;const d="channelCount"in r.mediaStreamTrack.getSettings()&&r.mediaStreamTrack.getSettings().channelCount===2||r.mediaStreamTrack.getConstraints().channelCount===2,f=(l=o==null?void 0:o.forceStereo)!==null&&l!==void 0?l:d;f&&(o||(o={}),o.dtx===void 0&&i.log.info("Opus DTX will be disabled for stereo tracks by default. Enable them explicitly to make it work.",Object.assign(Object.assign({},i.logContext),rn(r))),o.red===void 0&&i.log.info("Opus RED will be disabled for stereo tracks by default. Enable them explicitly to make it work."),(c=o.dtx)!==null&&c!==void 0||(o.dtx=!1),(u=o.red)!==null&&u!==void 0||(o.red=!1));const g=Object.assign(Object.assign({},i.roomOptions.publishDefaults),o);!function(){const v=Gi(),y="17.2";if(v)return!!(v.name!=="Safari"&&v.os!=="iOS"||v.os==="iOS"&&v.osVersion&&eu(y,v.osVersion)>=0)||v.name==="Safari"&&eu(y,v.version)>=0}()&&i.roomOptions.e2ee&&(i.log.info("End-to-end encryption is set up, simulcast publishing will be disabled on Safari versions and iOS browsers running iOS < v17.2",Object.assign({},i.logContext)),g.simulcast=!1),g.source&&(r.source=g.source);const m=new Promise((v,y)=>ne(i,void 0,void 0,function*(){try{if(this.engine.client.currentState!==_n.CONNECTED){this.log.debug("deferring track publication until signal is connected",Object.assign(Object.assign({},this.logContext),{track:rn(r)}));const b=()=>ne(this,void 0,void 0,function*(){try{const w=yield this.publish(r,g,f);v(w)}catch(w){y(w)}});setTimeout(()=>{this.engine.off(Ke.SignalConnected,b),y(new Fx("publishing rejected as engine not connected within timeout",408))},15e3),this.engine.once(Ke.SignalConnected,b),this.engine.on(Ke.Closing,()=>{this.engine.off(Ke.SignalConnected,b),y(new Fx("publishing rejected as engine closed",499))})}else try{const b=yield this.publish(r,g,f);v(b)}catch(b){y(b)}}catch(b){y(b)}}));i.pendingPublishPromises.set(r,m);try{return yield m}catch(v){throw v}finally{i.pendingPublishPromises.delete(r)}}()})}hasPermissionsToPublish(t){if(!this.permissions)return this.log.warn("no permissions present for publishing track",Object.assign(Object.assign({},this.logContext),rn(t))),!1;const{canPublish:n,canPublishSources:r}=this.permissions;return!(!n||r.length!==0&&!r.map(o=>function(i){switch(i){case ir.CAMERA:return ye.Source.Camera;case ir.MICROPHONE:return ye.Source.Microphone;case ir.SCREEN_SHARE:return ye.Source.ScreenShare;case ir.SCREEN_SHARE_AUDIO:return ye.Source.ScreenShareAudio;default:return ye.Source.Unknown}}(o)).includes(t.source))||(this.log.warn("insufficient permissions to publish",Object.assign(Object.assign({},this.logContext),rn(t))),!1)}publish(t,n,r){return ne(this,void 0,void 0,function*(){var o,i,a,s,l,c,u,h,p,d;if(!this.hasPermissionsToPublish(t))throw new Fx("failed to publish track, insufficient permissions",403);Array.from(this.trackPublications.values()).find(w=>Kd(t)&&w.source===t.source)&&t.source!==ye.Source.Unknown&&this.log.info("publishing a second track with the same source: ".concat(t.source),Object.assign(Object.assign({},this.logContext),rn(t))),n.stopMicTrackOnMute&&Ps(t)&&(t.stopOnMute=!0),t.source===ye.Source.ScreenShare&&Gd()&&(n.simulcast=!1),n.videoCodec==="av1"&&!function(){if(!("getCapabilities"in RTCRtpSender)||jl())return!1;const w=RTCRtpSender.getCapabilities("video");let k=!1;if(w){for(const _ of w.codecs)if(_.mimeType==="video/AV1"){k=!0;break}}return k}()&&(n.videoCodec=void 0),n.videoCodec==="vp9"&&!function(){if(!("getCapabilities"in RTCRtpSender)||Gd())return!1;if(jl()){const _=Gi();if(_!=null&&_.version&&eu(_.version,"16")<0)return!1}const w=RTCRtpSender.getCapabilities("video");let k=!1;if(w){for(const _ of w.codecs)if(_.mimeType==="video/VP9"){k=!0;break}}return k}()&&(n.videoCodec=void 0),n.videoCodec===void 0&&(n.videoCodec=c4),this.enabledPublishVideoCodecs.length>0&&(this.enabledPublishVideoCodecs.some(w=>n.videoCodec===cv(w.mime))||(n.videoCodec=cv(this.enabledPublishVideoCodecs[0].mime)));const f=n.videoCodec;t.on(Ve.Muted,this.onTrackMuted),t.on(Ve.Unmuted,this.onTrackUnmuted),t.on(Ve.Ended,this.handleTrackEnded),t.on(Ve.UpstreamPaused,this.onTrackUpstreamPaused),t.on(Ve.UpstreamResumed,this.onTrackUpstreamResumed),t.on(Ve.AudioTrackFeatureUpdate,this.onTrackFeatureUpdate);const g=new _x({cid:t.mediaStreamTrack.id,name:n.name,type:ye.kindToProto(t.kind),muted:t.isMuted,source:ye.sourceToProto(t.source),disableDtx:!((o=n.dtx)===null||o===void 0||o),encryption:this.encryptionType,stereo:r,disableRed:this.isE2EEEnabled||!((i=n.red)===null||i===void 0||i),stream:n==null?void 0:n.stream,backupCodecPolicy:n==null?void 0:n.backupCodecPolicy});let m;if(t.kind===ye.Kind.Video){let w={width:0,height:0};try{w=yield t.waitForDimensions()}catch{const _=(s=(a=this.roomOptions.videoCaptureDefaults)===null||a===void 0?void 0:a.resolution)!==null&&s!==void 0?s:Vp.h720.resolution;w={width:_.width,height:_.height},this.log.error("could not determine track dimensions, using defaults",Object.assign(Object.assign(Object.assign({},this.logContext),rn(t)),{dims:w}))}g.width=w.width,g.height=w.height,Fl(t)&&($p(f)&&(t.source===ye.Source.ScreenShare&&(n.scalabilityMode="L1T3","contentHint"in t.mediaStreamTrack&&(t.mediaStreamTrack.contentHint="motion",this.log.info("forcing contentHint to motion for screenshare with SVC codecs",Object.assign(Object.assign({},this.logContext),rn(t))))),n.scalabilityMode=(l=n.scalabilityMode)!==null&&l!==void 0?l:"L3T3_KEY"),g.simulcastCodecs=[new xx({codec:f,cid:t.mediaStreamTrack.id})],n.backupCodec===!0&&(n.backupCodec={codec:c4}),n.backupCodec&&f!==n.backupCodec.codec&&g.encryption===Jo.NONE&&(this.roomOptions.dynacast||(this.roomOptions.dynacast=!0),g.simulcastCodecs.push(new xx({codec:n.backupCodec.codec,cid:""})))),m=m4(t.source===ye.Source.ScreenShare,g.width,g.height,n),g.layers=FL(g.width,g.height,m,$p(n.videoCodec))}else t.kind===ye.Kind.Audio&&(m=[{maxBitrate:(c=n.audioPreset)===null||c===void 0?void 0:c.maxBitrate,priority:(h=(u=n.audioPreset)===null||u===void 0?void 0:u.priority)!==null&&h!==void 0?h:"high",networkPriority:(d=(p=n.audioPreset)===null||p===void 0?void 0:p.priority)!==null&&d!==void 0?d:"high"}]);if(!this.engine||this.engine.isClosed)throw new pr("cannot publish track when not connected");const v=()=>ne(this,void 0,void 0,function*(){var w,k,_;if(!this.engine.pcManager)throw new pr("pcManager is not ready");if(t.sender=yield this.engine.createSender(t,n,m),Fl(t)&&((w=n.degradationPreference)!==null&&w!==void 0||(n.degradationPreference=function(O){return O.source===ye.Source.ScreenShare||O.constraints.height&&zl(O.constraints.height)>=1080?"maintain-resolution":"balanced"}(t)),t.setDegradationPreference(n.degradationPreference)),m)if(Gd()&&t.kind===ye.Kind.Audio){let O;for(const E of this.engine.pcManager.publisher.getTransceivers())if(E.sender===t.sender){O=E;break}O&&this.engine.pcManager.publisher.setTrackCodecBitrate({transceiver:O,codec:"opus",maxbr:(k=m[0])!==null&&k!==void 0&&k.maxBitrate?m[0].maxBitrate/1e3:0})}else t.codec&&$p(t.codec)&&(_=m[0])!==null&&_!==void 0&&_.maxBitrate&&this.engine.pcManager.publisher.setTrackCodecBitrate({cid:g.cid,codec:t.codec,maxbr:m[0].maxBitrate/1e3});yield this.engine.negotiate()});let y;if(this.enabledPublishVideoCodecs.length>0)y=(yield Promise.all([this.engine.addTrack(g),v()]))[0];else{let w;if(y=yield this.engine.addTrack(g),y.codecs.forEach(k=>{w===void 0&&(w=k.mimeType)}),w&&t.kind===ye.Kind.Video){const k=cv(w);k!==f&&(this.log.debug("falling back to server selected codec",Object.assign(Object.assign(Object.assign({},this.logContext),rn(t)),{codec:k})),n.videoCodec=k,m=m4(t.source===ye.Source.ScreenShare,g.width,g.height,n))}yield v()}const b=new b4(t.kind,y,t,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});return b.options=n,t.sid=y.sid,this.log.debug("publishing ".concat(t.kind," with encodings"),Object.assign(Object.assign({},this.logContext),{encodings:m,trackInfo:y})),Fl(t)?t.startMonitor(this.engine.client):nu(t)&&t.startMonitor(),this.addTrackPublication(b),this.emit(Ae.LocalTrackPublished,b),b})}get isLocal(){return!0}publishAdditionalCodecForTrack(t,n,r){return ne(this,void 0,void 0,function*(){var o;if(this.encryptionType!==Jo.NONE)return;let i;if(this.trackPublications.forEach(h=>{h.track&&h.track===t&&(i=h)}),!i)throw new Os("track is not published");if(!Fl(t))throw new Os("track is not a video track");const a=Object.assign(Object.assign({},(o=this.roomOptions)===null||o===void 0?void 0:o.publishDefaults),r),s=function(h,p,d){var f,g,m,v;if(!d.backupCodec||d.backupCodec===!0||d.backupCodec.codec===d.videoCodec)return;p!==d.backupCodec.codec&&Gt.warn("requested a different codec than specified as backup",{serverRequested:p,backup:d.backupCodec.codec}),d.videoCodec=p,d.videoEncoding=d.backupCodec.encoding;const y=h.mediaStreamTrack.getSettings(),b=(f=y.width)!==null&&f!==void 0?f:(g=h.dimensions)===null||g===void 0?void 0:g.width,w=(m=y.height)!==null&&m!==void 0?m:(v=h.dimensions)===null||v===void 0?void 0:v.height;return h.source===ye.Source.ScreenShare&&d.simulcast&&(d.simulcast=!1),m4(h.source===ye.Source.ScreenShare,b,w,d)}(t,n,a);if(!s)return void this.log.info("backup codec has been disabled, ignoring request to add additional codec for track",Object.assign(Object.assign({},this.logContext),rn(t)));const l=t.addSimulcastTrack(n,s);if(!l)return;const c=new _x({cid:l.mediaStreamTrack.id,type:ye.kindToProto(t.kind),muted:t.isMuted,source:ye.sourceToProto(t.source),sid:t.sid,simulcastCodecs:[{codec:a.videoCodec,cid:l.mediaStreamTrack.id}]});if(c.layers=FL(c.width,c.height,s),!this.engine||this.engine.isClosed)throw new pr("cannot publish track when not connected");const u=(yield Promise.all([this.engine.addTrack(c),(()=>ne(this,void 0,void 0,function*(){yield this.engine.createSimulcastSender(t,l,a,s),yield this.engine.negotiate()}))()]))[0];this.log.debug("published ".concat(n," for track ").concat(t.sid),Object.assign(Object.assign({},this.logContext),{encodings:s,trackInfo:u}))})}unpublishTrack(t,n){return ne(this,void 0,void 0,function*(){var r,o;if(Kd(t)){const c=this.pendingPublishPromises.get(t);c&&(this.log.info("awaiting publish promise before attempting to unpublish",Object.assign(Object.assign({},this.logContext),rn(t))),yield c)}const i=this.getPublicationForTrack(t),a=i?rn(i):void 0;if(this.log.debug("unpublishing track",Object.assign(Object.assign({},this.logContext),a)),!i||!i.track)return void this.log.warn("track was not unpublished because no publication was found",Object.assign(Object.assign({},this.logContext),a));(t=i.track).off(Ve.Muted,this.onTrackMuted),t.off(Ve.Unmuted,this.onTrackUnmuted),t.off(Ve.Ended,this.handleTrackEnded),t.off(Ve.UpstreamPaused,this.onTrackUpstreamPaused),t.off(Ve.UpstreamResumed,this.onTrackUpstreamResumed),t.off(Ve.AudioTrackFeatureUpdate,this.onTrackFeatureUpdate),n===void 0&&(n=(o=(r=this.roomOptions)===null||r===void 0?void 0:r.stopLocalTrackOnUnpublish)===null||o===void 0||o),n?t.stop():t.stopMonitor();let s=!1;const l=t.sender;if(t.sender=void 0,this.engine.pcManager&&this.engine.pcManager.currentState<Hn.FAILED&&l)try{for(const c of this.engine.pcManager.publisher.getTransceivers())c.sender===l&&(c.direction="inactive",s=!0);if(this.engine.removeTrack(l)&&(s=!0),Fl(t)){for(const[,c]of t.simulcastCodecs)c.sender&&(this.engine.removeTrack(c.sender)&&(s=!0),c.sender=void 0);t.simulcastCodecs.clear()}}catch(c){this.log.warn("failed to unpublish track",Object.assign(Object.assign(Object.assign({},this.logContext),a),{error:c}))}switch(this.trackPublications.delete(i.trackSid),i.kind){case ye.Kind.Audio:this.audioTrackPublications.delete(i.trackSid);break;case ye.Kind.Video:this.videoTrackPublications.delete(i.trackSid)}return this.emit(Ae.LocalTrackUnpublished,i),i.setTrack(void 0),s&&(yield this.engine.negotiate()),i})}unpublishTracks(t){return ne(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>this.unpublishTrack(n)))).filter(n=>!!n)})}republishAllTracks(t){return ne(this,arguments,void 0,function(n){var r=this;let o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return function*(){r.republishPromise&&(yield r.republishPromise),r.republishPromise=new Promise((i,a)=>ne(r,void 0,void 0,function*(){try{const s=[];this.trackPublications.forEach(l=>{l.track&&(n&&(l.options=Object.assign(Object.assign({},l.options),n)),s.push(l))}),yield Promise.all(s.map(l=>ne(this,void 0,void 0,function*(){const c=l.track;yield this.unpublishTrack(c,!1),o&&!c.isMuted&&c.source!==ye.Source.ScreenShare&&c.source!==ye.Source.ScreenShareAudio&&(nu(c)||Fl(c))&&!c.isUserProvided&&(this.log.debug("restarting existing track",Object.assign(Object.assign({},this.logContext),{track:l.trackSid})),yield c.restartTrack()),yield this.publishOrRepublishTrack(c,l.options,!0)}))),i()}catch(s){a(s)}finally{this.republishPromise=void 0}})),yield r.republishPromise}()})}publishData(t){return ne(this,arguments,void 0,function(n){var r=this;let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){const i=o.reliable?Wt.RELIABLE:Wt.LOSSY,a=o.destinationIdentities,s=o.topic,l=new yo({kind:i,value:{case:"user",value:new VI({participantIdentity:r.identity,payload:n,destinationIdentities:a,topic:s})}});yield r.engine.sendDataPacket(l,i)}()})}publishDtmf(t,n){return ne(this,void 0,void 0,function*(){const r=new yo({kind:Wt.RELIABLE,value:{case:"sipDtmf",value:new $I({code:t,digit:n})}});yield this.engine.sendDataPacket(r,Wt.RELIABLE)})}sendChatMessage(t,n){return ne(this,void 0,void 0,function*(){const r={id:crypto.randomUUID(),message:t,timestamp:Date.now(),attachedFiles:n==null?void 0:n.attachments},o=new yo({value:{case:"chatMessage",value:new gx(Object.assign(Object.assign({},r),{timestamp:Nn.parse(r.timestamp)}))}});return yield this.engine.sendDataPacket(o,Wt.RELIABLE),this.emit(Ae.ChatMessage,r),r})}editChatMessage(t,n){return ne(this,void 0,void 0,function*(){const r=Object.assign(Object.assign({},n),{message:t,editTimestamp:Date.now()}),o=new yo({value:{case:"chatMessage",value:new gx(Object.assign(Object.assign({},r),{timestamp:Nn.parse(r.timestamp),editTimestamp:Nn.parse(r.editTimestamp)}))}});return yield this.engine.sendDataPacket(o,Wt.RELIABLE),this.emit(Ae.ChatMessage,r),r})}sendText(t,n){return ne(this,void 0,void 0,function*(){var r;const o=crypto.randomUUID(),i=new TextEncoder().encode(t).byteLength,a=(r=n==null?void 0:n.attachments)===null||r===void 0?void 0:r.map(()=>crypto.randomUUID()),s=new Array(a?a.length+1:1).fill(0),l=(u,h)=>{var p;s[h]=u;const d=s.reduce((f,g)=>f+g,0);(p=n==null?void 0:n.onProgress)===null||p===void 0||p.call(n,d)},c=yield this.streamText({streamId:o,totalSize:i,destinationIdentities:n==null?void 0:n.destinationIdentities,topic:n==null?void 0:n.topic,attachedStreamIds:a,attributes:n==null?void 0:n.attributes});return yield c.write(t),l(1,0),yield c.close(),n!=null&&n.attachments&&a&&(yield Promise.all(n.attachments.map((u,h)=>ne(this,void 0,void 0,function*(){return this._sendFile(a[h],u,{topic:n.topic,mimeType:u.type,onProgress:p=>{l(p,h+1)}})})))),c.info})}streamText(t){return ne(this,void 0,void 0,function*(){var n,r;const o=(n=t==null?void 0:t.streamId)!==null&&n!==void 0?n:crypto.randomUUID(),i={id:o,mimeType:"text/plain",timestamp:Date.now(),topic:(r=t==null?void 0:t.topic)!==null&&r!==void 0?r:"",size:t==null?void 0:t.totalSize,attributes:t==null?void 0:t.attributes},a=new bx({streamId:o,mimeType:i.mimeType,topic:i.topic,timestamp:tu(i.timestamp),totalLength:tu(t==null?void 0:t.totalSize),attributes:i.attributes,contentHeader:{case:"textHeader",value:new eM({version:t==null?void 0:t.version,attachedStreamIds:t==null?void 0:t.attachedStreamIds,replyToStreamId:t==null?void 0:t.replyToStreamId,operationType:(t==null?void 0:t.type)==="update"?vx.UPDATE:vx.CREATE})}}),s=t==null?void 0:t.destinationIdentities,l=new yo({destinationIdentities:s,value:{case:"streamHeader",value:a}});yield this.engine.sendDataPacket(l,Wt.RELIABLE);let c=0;const u=this,h=new WritableStream({write(f){return ne(this,void 0,void 0,function*(){for(const g of function(m,v){const y=[];let b=new TextEncoder().encode(m);for(;b.length>v;){let w=v;for(;w>0;){const k=b[w];if(k!==void 0&&(192&k)!=128)break;w--}y.push(b.slice(0,w)),b=b.slice(w)}return b.length>0&&y.push(b),y}(f,15e3)){yield u.engine.waitForBufferStatusLow(Wt.RELIABLE);const m=new yx({content:g,streamId:o,chunkIndex:tu(c)}),v=new yo({destinationIdentities:s,value:{case:"streamChunk",value:m}});yield u.engine.sendDataPacket(v,Wt.RELIABLE),c+=1}})},close(){return ne(this,void 0,void 0,function*(){const f=new wx({streamId:o}),g=new yo({destinationIdentities:s,value:{case:"streamTrailer",value:f}});yield u.engine.sendDataPacket(g,Wt.RELIABLE)})},abort(f){}});let p=()=>ne(this,void 0,void 0,function*(){yield d.close()});u.engine.once(Ke.Closing,p);const d=new aue(h,i,()=>this.engine.off(Ke.Closing,p));return d})}sendFile(t,n){return ne(this,void 0,void 0,function*(){const r=crypto.randomUUID();return yield this._sendFile(r,t,n),{id:r}})}_sendFile(t,n,r){return ne(this,void 0,void 0,function*(){var o;const i=yield this.streamBytes({streamId:t,totalSize:n.size,name:n.name,mimeType:(o=r==null?void 0:r.mimeType)!==null&&o!==void 0?o:n.type,topic:r==null?void 0:r.topic,destinationIdentities:r==null?void 0:r.destinationIdentities}),a=n.stream().getReader();for(;;){const{done:s,value:l}=yield a.read();if(s)break;yield i.write(l)}return yield i.close(),i.info})}streamBytes(t){return ne(this,void 0,void 0,function*(){var n,r,o,i,a;const s=(n=t==null?void 0:t.streamId)!==null&&n!==void 0?n:crypto.randomUUID(),l=t==null?void 0:t.destinationIdentities,c={id:s,mimeType:(r=t==null?void 0:t.mimeType)!==null&&r!==void 0?r:"application/octet-stream",topic:(o=t==null?void 0:t.topic)!==null&&o!==void 0?o:"",timestamp:Date.now(),attributes:t==null?void 0:t.attributes,size:t==null?void 0:t.totalSize,name:(i=t==null?void 0:t.name)!==null&&i!==void 0?i:"unknown"},u=new bx({totalLength:tu((a=c.size)!==null&&a!==void 0?a:0),mimeType:c.mimeType,streamId:s,topic:c.topic,timestamp:tu(Date.now()),contentHeader:{case:"byteHeader",value:new tM({name:c.name})}}),h=new yo({destinationIdentities:l,value:{case:"streamHeader",value:u}});yield this.engine.sendDataPacket(h,Wt.RELIABLE);let p=0;const d=new vo,f=this.engine,g=this.log,m=new WritableStream({write(v){return ne(this,void 0,void 0,function*(){const y=yield d.lock();let b=0;try{for(;b<v.byteLength;){const w=v.slice(b,b+15e3);yield f.waitForBufferStatusLow(Wt.RELIABLE);const k=new yo({destinationIdentities:l,value:{case:"streamChunk",value:new yx({content:w,streamId:s,chunkIndex:tu(p)})}});yield f.sendDataPacket(k,Wt.RELIABLE),p+=1,b+=w.byteLength}}finally{y()}})},close(){return ne(this,void 0,void 0,function*(){const v=new wx({streamId:s}),y=new yo({destinationIdentities:l,value:{case:"streamTrailer",value:v}});yield f.sendDataPacket(y,Wt.RELIABLE)})},abort(v){g.error("Sink error:",v)}});return new sue(m,c)})}performRpc(t){return ne(this,arguments,void 0,function(n){var r=this;let{destinationIdentity:o,method:i,payload:a,responseTimeout:s=1e4}=n;return function*(){return new Promise((l,c)=>ne(r,void 0,void 0,function*(){var u,h,p,d;if(d4(a)>15360)return void c(Vn.builtIn("REQUEST_PAYLOAD_TOO_LARGE"));if((h=(u=this.engine.latestJoinResponse)===null||u===void 0?void 0:u.serverInfo)!==null&&h!==void 0&&h.version&&eu((d=(p=this.engine.latestJoinResponse)===null||p===void 0?void 0:p.serverInfo)===null||d===void 0?void 0:d.version,"1.8.0")<0)return void c(Vn.builtIn("UNSUPPORTED_SERVER"));const f=crypto.randomUUID();yield this.publishRpcRequest(o,f,i,a,s-2e3);const g=setTimeout(()=>{this.pendingAcks.delete(f),c(Vn.builtIn("CONNECTION_TIMEOUT")),this.pendingResponses.delete(f),clearTimeout(m)},2e3);this.pendingAcks.set(f,{resolve:()=>{clearTimeout(g)},participantIdentity:o});const m=setTimeout(()=>{this.pendingResponses.delete(f),c(Vn.builtIn("RESPONSE_TIMEOUT"))},s);this.pendingResponses.set(f,{resolve:(v,y)=>{clearTimeout(m),this.pendingAcks.has(f)&&(this.pendingAcks.delete(f),clearTimeout(g)),y?c(y):l(v??"")},participantIdentity:o})}))}()})}registerRpcMethod(t,n){this.rpcHandlers.has(t)&&this.log.warn("you're overriding the RPC handler for method ".concat(t,", in the future this will throw an error")),this.rpcHandlers.set(t,n)}unregisterRpcMethod(t){this.rpcHandlers.delete(t)}setTrackSubscriptionPermissions(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];this.participantTrackPermissions=n,this.allParticipantsAllowedToSubscribe=t,this.engine.client.isDisconnected||this.updateTrackSubscriptionPermissions()}handleIncomingRpcAck(t){const n=this.pendingAcks.get(t);n&&(n.resolve(),this.pendingAcks.delete(t))}handleIncomingRpcResponse(t,n,r){const o=this.pendingResponses.get(t);o&&(o.resolve(n,r),this.pendingResponses.delete(t))}publishRpcRequest(t,n,r,o,i){return ne(this,void 0,void 0,function*(){const a=new yo({destinationIdentities:[t],kind:Wt.RELIABLE,value:{case:"rpcRequest",value:new qI({id:n,method:r,payload:o,responseTimeoutMs:i,version:1})}});yield this.engine.sendDataPacket(a,Wt.RELIABLE)})}handleParticipantDisconnected(t){for(const[n,{participantIdentity:r}]of this.pendingAcks)r===t&&this.pendingAcks.delete(n);for(const[n,{participantIdentity:r,resolve:o}]of this.pendingResponses)r===t&&(o(null,Vn.builtIn("RECIPIENT_DISCONNECTED")),this.pendingResponses.delete(n))}setEnabledPublishCodecs(t){this.enabledPublishVideoCodecs=t.filter(n=>n.mime.split("/")[0].toLowerCase()==="video")}updateInfo(t){return!(t.sid!==this.sid||!super.updateInfo(t))&&(t.tracks.forEach(n=>{var r,o;const i=this.trackPublications.get(n.sid);if(i){const a=i.isMuted||(o=(r=i.track)===null||r===void 0?void 0:r.isUpstreamPaused)!==null&&o!==void 0&&o;a!==n.muted&&(this.log.debug("updating server mute state after reconcile",Object.assign(Object.assign(Object.assign({},this.logContext),rn(i)),{mutedOnServer:a})),this.engine.client.sendMuteTrack(n.sid,a))}}),!0)}getPublicationForTrack(t){let n;return this.trackPublications.forEach(r=>{const o=r.track;o&&(t instanceof MediaStreamTrack?(nu(o)||Fl(o))&&o.mediaStreamTrack===t&&(n=r):t===o&&(n=r))}),n}waitForPendingPublicationOfSource(t){return ne(this,void 0,void 0,function*(){const n=Date.now();for(;Date.now()<n+1e4;){const r=Array.from(this.pendingPublishPromises.entries()).find(o=>{let[i]=o;return i.source===t});if(r)return r[1];yield Zo(20)}})}}class fv extends As{constructor(t,n,r,o){super(t,n.sid,n.name,o),this.track=void 0,this.allowed=!0,this.disabled=!1,this.currentVideoQuality=Ki.HIGH,this.handleEnded=i=>{this.setTrack(void 0),this.emit(Ve.Ended,i)},this.handleVisibilityChange=i=>{this.log.debug("adaptivestream video visibility ".concat(this.trackSid,", visible=").concat(i),this.logContext),this.disabled=!i,this.emitTrackUpdate()},this.handleVideoDimensionsChange=i=>{this.log.debug("adaptivestream video dimensions ".concat(i.width,"x").concat(i.height),this.logContext),this.videoDimensions=i,this.emitTrackUpdate()},this.subscribed=r,this.updateInfo(n)}setSubscribed(t){const n=this.subscriptionStatus,r=this.permissionStatus;this.subscribed=t,t&&(this.allowed=!0);const o=new Yg({trackSids:[this.trackSid],subscribe:this.subscribed,participantTracks:[new YI({participantSid:"",trackSids:[this.trackSid]})]});this.emit(Ve.UpdateSubscription,o),this.emitSubscriptionUpdateIfChanged(n),this.emitPermissionUpdateIfChanged(r)}get subscriptionStatus(){return this.subscribed===!1?As.SubscriptionStatus.Unsubscribed:super.isSubscribed?As.SubscriptionStatus.Subscribed:As.SubscriptionStatus.Desired}get permissionStatus(){return this.allowed?As.PermissionStatus.Allowed:As.PermissionStatus.NotAllowed}get isSubscribed(){return this.subscribed!==!1&&super.isSubscribed}get isDesired(){return this.subscribed!==!1}get isEnabled(){return!this.disabled}get isLocal(){return!1}setEnabled(t){!this.isManualOperationAllowed()||this.disabled===!t||(this.disabled=!t,this.emitTrackUpdate())}setVideoQuality(t){!this.isManualOperationAllowed()||this.currentVideoQuality===t||(this.currentVideoQuality=t,this.videoDimensions=void 0,this.emitTrackUpdate())}setVideoDimensions(t){var n,r;this.isManualOperationAllowed()&&(((n=this.videoDimensions)===null||n===void 0?void 0:n.width)===t.width&&((r=this.videoDimensions)===null||r===void 0?void 0:r.height)===t.height||(e4(this.track)&&(this.videoDimensions=t),this.currentVideoQuality=void 0,this.emitTrackUpdate()))}setVideoFPS(t){this.isManualOperationAllowed()&&e4(this.track)&&this.fps!==t&&(this.fps=t,this.emitTrackUpdate())}get videoQuality(){return this.currentVideoQuality}setTrack(t){const n=this.subscriptionStatus,r=this.permissionStatus,o=this.track;o!==t&&(o&&(o.off(Ve.VideoDimensionsChanged,this.handleVideoDimensionsChange),o.off(Ve.VisibilityChanged,this.handleVisibilityChange),o.off(Ve.Ended,this.handleEnded),o.detach(),o.stopMonitor(),this.emit(Ve.Unsubscribed,o)),super.setTrack(t),t&&(t.sid=this.trackSid,t.on(Ve.VideoDimensionsChanged,this.handleVideoDimensionsChange),t.on(Ve.VisibilityChanged,this.handleVisibilityChange),t.on(Ve.Ended,this.handleEnded),this.emit(Ve.Subscribed,t)),this.emitPermissionUpdateIfChanged(r),this.emitSubscriptionUpdateIfChanged(n))}setAllowed(t){const n=this.subscriptionStatus,r=this.permissionStatus;this.allowed=t,this.emitPermissionUpdateIfChanged(r),this.emitSubscriptionUpdateIfChanged(n)}setSubscriptionError(t){this.emit(Ve.SubscriptionFailed,t)}updateInfo(t){super.updateInfo(t);const n=this.metadataMuted;this.metadataMuted=t.muted,this.track?this.track.setMuted(t.muted):n!==t.muted&&this.emit(t.muted?Ve.Muted:Ve.Unmuted)}emitSubscriptionUpdateIfChanged(t){const n=this.subscriptionStatus;t!==n&&this.emit(Ve.SubscriptionStatusChanged,n,t)}emitPermissionUpdateIfChanged(t){this.permissionStatus!==t&&this.emit(Ve.SubscriptionPermissionChanged,this.permissionStatus,t)}isManualOperationAllowed(){return this.kind===ye.Kind.Video&&this.isAdaptiveStream?(this.log.warn("adaptive stream is enabled, cannot change video track settings",this.logContext),!1):!!this.isDesired||(this.log.warn("cannot update track settings when not subscribed",this.logContext),!1)}get isAdaptiveStream(){return e4(this.track)&&this.track.isAdaptiveStream}emitTrackUpdate(){const t=new rM({trackSids:[this.trackSid],disabled:this.disabled,fps:this.fps});this.videoDimensions?(t.width=Math.ceil(this.videoDimensions.width),t.height=Math.ceil(this.videoDimensions.height)):this.currentVideoQuality!==void 0?t.quality=this.currentVideoQuality:t.quality=Ki.HIGH,this.emit(Ve.UpdateSettings,t)}}class gv extends KL{static fromParticipantInfo(t,n,r){return new gv(t,n.sid,n.identity,n.name,n.metadata,n.attributes,r,n.kind)}get logContext(){return Object.assign(Object.assign({},super.logContext),{rpID:this.sid,remoteParticipant:this.identity})}constructor(t,n,r,o,i,a,s){super(n,r||"",o,i,a,s,arguments.length>7&&arguments[7]!==void 0?arguments[7]:Ud.STANDARD),this.signalClient=t,this.trackPublications=new Map,this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.volumeMap=new Map}addTrackPublication(t){super.addTrackPublication(t),t.on(Ve.UpdateSettings,n=>{this.log.debug("send update settings",Object.assign(Object.assign({},this.logContext),rn(t))),this.signalClient.sendUpdateTrackSettings(n)}),t.on(Ve.UpdateSubscription,n=>{n.participantTracks.forEach(r=>{r.participantSid=this.sid}),this.signalClient.sendUpdateSubscription(n)}),t.on(Ve.SubscriptionPermissionChanged,n=>{this.emit(Ae.TrackSubscriptionPermissionChanged,t,n)}),t.on(Ve.SubscriptionStatusChanged,n=>{this.emit(Ae.TrackSubscriptionStatusChanged,t,n)}),t.on(Ve.Subscribed,n=>{this.emit(Ae.TrackSubscribed,n,t)}),t.on(Ve.Unsubscribed,n=>{this.emit(Ae.TrackUnsubscribed,n,t)}),t.on(Ve.SubscriptionFailed,n=>{this.emit(Ae.TrackSubscriptionFailed,t.trackSid,n)})}getTrackPublication(t){const n=super.getTrackPublication(t);if(n)return n}getTrackPublicationByName(t){const n=super.getTrackPublicationByName(t);if(n)return n}setVolume(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ye.Source.Microphone;this.volumeMap.set(n,t);const r=this.getTrackPublication(n);r&&r.track&&r.track.setVolume(t)}getVolume(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ye.Source.Microphone;const n=this.getTrackPublication(t);return n&&n.track?n.track.getVolume():this.volumeMap.get(t)}addSubscribedMediaTrack(t,n,r,o,i,a){let s=this.getTrackPublicationBySid(n);if(s||n.startsWith("TR")||this.trackPublications.forEach(c=>{!s&&t.kind===c.kind.toString()&&(s=c)}),!s)return a===0?(this.log.error("could not find published track",Object.assign(Object.assign({},this.logContext),{trackSid:n})),void this.emit(Ae.TrackSubscriptionFailed,n)):(a===void 0&&(a=20),void setTimeout(()=>{this.addSubscribedMediaTrack(t,n,r,o,i,a-1)},150));if(t.readyState==="ended")return this.log.error("unable to subscribe because MediaStreamTrack is ended. Do not call MediaStreamTrack.stop()",Object.assign(Object.assign({},this.logContext),rn(s))),void this.emit(Ae.TrackSubscriptionFailed,n);let l;return l=t.kind==="video"?new lue(t,n,o,i):new WL(t,n,o,this.audioContext,this.audioOutput),l.source=s.source,l.isMuted=s.isMuted,l.setMediaStream(r),l.start(),s.setTrack(l),this.volumeMap.has(s.source)&&Zx(l)&&Ps(l)&&l.setVolume(this.volumeMap.get(s.source)),s}get hasMetadata(){return!!this.participantInfo}getTrackPublicationBySid(t){return this.trackPublications.get(t)}updateInfo(t){if(!super.updateInfo(t))return!1;const n=new Map,r=new Map;return t.tracks.forEach(o=>{var i,a;let s=this.getTrackPublicationBySid(o.sid);if(s)s.updateInfo(o);else{const l=ye.kindFromProto(o.type);if(!l)return;s=new fv(l,o,(i=this.signalClient.connectOptions)===null||i===void 0?void 0:i.autoSubscribe,{loggerContextCb:()=>this.logContext,loggerName:(a=this.loggerOptions)===null||a===void 0?void 0:a.loggerName}),s.updateInfo(o),r.set(o.sid,s);const c=Array.from(this.trackPublications.values()).find(u=>u.source===(s==null?void 0:s.source));c&&s.source!==ye.Source.Unknown&&this.log.debug("received a second track publication for ".concat(this.identity," with the same source: ").concat(s.source),Object.assign(Object.assign({},this.logContext),{oldTrack:rn(c),newTrack:rn(s)})),this.addTrackPublication(s)}n.set(o.sid,s)}),this.trackPublications.forEach(o=>{n.has(o.trackSid)||(this.log.trace("detected removed track on remote participant, unpublishing",Object.assign(Object.assign({},this.logContext),rn(o))),this.unpublishTrack(o.trackSid,!0))}),r.forEach(o=>{this.emit(Ae.TrackPublished,o)}),!0}unpublishTrack(t,n){const r=this.trackPublications.get(t);if(!r)return;const{track:o}=r;switch(o&&(o.stop(),r.setTrack(void 0)),this.trackPublications.delete(t),r.kind){case ye.Kind.Audio:this.audioTrackPublications.delete(t);break;case ye.Kind.Video:this.videoTrackPublications.delete(t)}n&&this.emit(Ae.TrackUnpublished,r)}setAudioOutput(t){return ne(this,void 0,void 0,function*(){this.audioOutput=t;const n=[];this.audioTrackPublications.forEach(r=>{var o;Ps(r.track)&&Zx(r.track)&&n.push(r.track.setSinkId((o=t.deviceId)!==null&&o!==void 0?o:"default"))}),yield Promise.all(n)})}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return this.log.trace("participant event",Object.assign(Object.assign({},this.logContext),{event:t,args:r})),super.emit(t,...r)}}var on;(function(e){e.Disconnected="disconnected",e.Connecting="connecting",e.Connected="connected",e.Reconnecting="reconnecting",e.SignalReconnecting="signalReconnecting"})(on||(on={}));class Xd extends ja.EventEmitter{constructor(t){var n,r,o,i;if(super(),n=this,this.state=on.Disconnected,this.activeSpeakers=[],this.isE2EEEnabled=!1,this.audioEnabled=!0,this.isVideoPlaybackBlocked=!1,this.log=Gt,this.bufferedEvents=[],this.isResuming=!1,this.byteStreamControllers=new Map,this.textStreamControllers=new Map,this.byteStreamHandlers=new Map,this.textStreamHandlers=new Map,this.rpcHandlers=new Map,this.connect=(a,s,l)=>ne(this,void 0,void 0,function*(){var c;if(typeof RTCPeerConnection>"u"||!qx()&&!Wx())throw za()?Error("WebRTC isn't detected, have you called registerGlobals?"):Error("LiveKit doesn't seem to be supported on this browser. Try to update your browser and make sure no browser extensions are disabling webRTC.");const u=yield this.disconnectLock.lock();if(this.state===on.Connected)return this.log.info("already connected to room ".concat(this.name),this.logContext),u(),Promise.resolve();if(this.connectFuture)return u(),this.connectFuture.promise;this.setAndEmitConnectionState(on.Connecting),((c=this.regionUrlProvider)===null||c===void 0?void 0:c.getServerUrl().toString())!==a&&(this.regionUrl=void 0,this.regionUrlProvider=void 0),Kx(new URL(a))&&(this.regionUrlProvider===void 0?this.regionUrlProvider=new HL(a,s):this.regionUrlProvider.updateToken(s),this.regionUrlProvider.fetchRegionSettings().then(d=>{var f;(f=this.regionUrlProvider)===null||f===void 0||f.setServerReportedRegions(d)}).catch(d=>{this.log.warn("could not fetch region settings",Object.assign(Object.assign({},this.logContext),{error:d}))}));const h=(d,f,g)=>ne(this,void 0,void 0,function*(){var m,v;this.abortController&&this.abortController.abort();const y=new AbortController;this.abortController=y,u==null||u();try{yield this.attemptConnection(g??a,s,l,y),this.abortController=void 0,d()}catch(b){if(this.regionUrlProvider&&b instanceof hn&&b.reason!==$t.Cancelled&&b.reason!==$t.NotAllowed){let w=null;try{w=yield this.regionUrlProvider.getNextBestRegionUrl((m=this.abortController)===null||m===void 0?void 0:m.signal)}catch(k){if(k instanceof hn&&(k.status===401||k.reason===$t.Cancelled))return this.handleDisconnect(this.options.stopLocalTrackOnUnpublish),void f(k)}!w||(v=this.abortController)!==null&&v!==void 0&&v.signal.aborted?(this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,mL(b)),f(b)):(this.log.info("Initial connection failed with ConnectionError: ".concat(b.message,". Retrying with another region: ").concat(w),this.logContext),this.recreateEngine(),yield h(d,f,w))}else{let w=$i.UNKNOWN_REASON;b instanceof hn&&(w=mL(b)),this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,w),f(b)}}}),p=this.regionUrl;return this.regionUrl=void 0,this.connectFuture=new hL((d,f)=>{h(d,f,p)},()=>{this.clearConnectionFutures()}),this.connectFuture.promise}),this.connectSignal=(a,s,l,c,u,h)=>ne(this,void 0,void 0,function*(){var p,d,f;const g=yield l.join(a,s,{autoSubscribe:c.autoSubscribe,adaptiveStream:typeof u.adaptiveStream=="object"||u.adaptiveStream,maxRetries:c.maxRetries,e2eeEnabled:!!this.e2eeManager,websocketTimeout:c.websocketTimeout},h.signal);let m=g.serverInfo;if(m||(m={version:g.serverVersion,region:g.serverRegion}),this.serverInfo=m,this.log.debug("connected to Livekit Server ".concat(Object.entries(m).map(v=>{let[y,b]=v;return"".concat(y,": ").concat(b)}).join(", ")),{room:(p=g.room)===null||p===void 0?void 0:p.name,roomSid:(d=g.room)===null||d===void 0?void 0:d.sid,identity:(f=g.participant)===null||f===void 0?void 0:f.identity}),!m.version)throw new Pce("unknown server version");return m.version==="0.15.1"&&this.options.dynacast&&(this.log.debug("disabling dynacast due to server version",this.logContext),u.dynacast=!1),g}),this.applyJoinResponse=a=>{const s=a.participant;if(this.localParticipant.sid=s.sid,this.localParticipant.identity=s.identity,this.localParticipant.setEnabledPublishCodecs(a.enabledPublishCodecs),this.options.e2ee&&this.e2eeManager)try{this.e2eeManager.setSifTrailer(a.sifTrailer)}catch(l){this.log.error(l instanceof Error?l.message:"Could not set SifTrailer",Object.assign(Object.assign({},this.logContext),{error:l}))}this.handleParticipantUpdates([s,...a.otherParticipants]),a.room&&this.handleRoomUpdate(a.room)},this.attemptConnection=(a,s,l,c)=>ne(this,void 0,void 0,function*(){var u,h;this.state===on.Reconnecting||this.isResuming||(u=this.engine)!==null&&u!==void 0&&u.pendingReconnect?(this.log.info("Reconnection attempt replaced by new connection attempt",this.logContext),this.recreateEngine()):this.maybeCreateEngine(),!((h=this.regionUrlProvider)===null||h===void 0)&&h.isCloud()&&this.engine.setRegionUrlProvider(this.regionUrlProvider),this.acquireAudioContext(),this.connOptions=Object.assign(Object.assign({},u4),l),this.connOptions.rtcConfig&&(this.engine.rtcConfig=this.connOptions.rtcConfig),this.connOptions.peerConnectionTimeout&&(this.engine.peerConnectionTimeout=this.connOptions.peerConnectionTimeout);try{const p=yield this.connectSignal(a,s,this.engine,this.connOptions,this.options,c);this.applyJoinResponse(p),this.setupLocalParticipantEvents(),this.emit(Ce.SignalConnected)}catch(p){yield this.engine.close(),this.recreateEngine();const d=new hn("could not establish signal connection",$t.ServerUnreachable);throw p instanceof Error&&(d.message="".concat(d.message,": ").concat(p.message)),p instanceof hn&&(d.reason=p.reason,d.status=p.status),this.log.debug("error trying to establish signal connection",Object.assign(Object.assign({},this.logContext),{error:p})),d}if(c.signal.aborted)throw yield this.engine.close(),this.recreateEngine(),new hn("Connection attempt aborted",$t.Cancelled);try{yield this.engine.waitForPCInitialConnection(this.connOptions.peerConnectionTimeout,c)}catch(p){throw yield this.engine.close(),this.recreateEngine(),p}wo()&&this.options.disconnectOnPageLeave&&(window.addEventListener("pagehide",this.onPageLeave),window.addEventListener("beforeunload",this.onPageLeave)),wo()&&document.addEventListener("freeze",this.onPageLeave),this.setAndEmitConnectionState(on.Connected),this.emit(Ce.Connected),this.registerConnectionReconcile()}),this.disconnect=function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return ne(n,[...s],void 0,function(){var c=this;let u=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return function*(){var h,p,d,f;const g=yield c.disconnectLock.lock();try{if(c.state===on.Disconnected)return void c.log.debug("already disconnected",c.logContext);c.log.info("disconnect from room",Object.assign({},c.logContext)),(c.state===on.Connecting||c.state===on.Reconnecting||c.isResuming)&&(c.log.warn("abort connection attempt",c.logContext),(h=c.abortController)===null||h===void 0||h.abort(),(d=(p=c.connectFuture)===null||p===void 0?void 0:p.reject)===null||d===void 0||d.call(p,new hn("Client initiated disconnect",$t.Cancelled)),c.connectFuture=void 0),!((f=c.engine)===null||f===void 0)&&f.client.isDisconnected||(yield c.engine.client.sendLeave()),c.engine&&(yield c.engine.close()),c.handleDisconnect(u,$i.CLIENT_INITIATED),c.engine=void 0}finally{g()}}()})},this.onPageLeave=()=>ne(this,void 0,void 0,function*(){this.log.info("Page leave detected, disconnecting",this.logContext),yield this.disconnect()}),this.startAudio=()=>ne(this,void 0,void 0,function*(){const a=[],s=Gi();if(s&&s.os==="iOS"){const l="livekit-dummy-audio-el";let c=document.getElementById(l);if(!c){c=document.createElement("audio"),c.id=l,c.autoplay=!0,c.hidden=!0;const u=Xx();u.enabled=!0;const h=new MediaStream([u]);c.srcObject=h,document.addEventListener("visibilitychange",()=>{c&&(c.srcObject=document.hidden?null:h,document.hidden||(this.log.debug("page visible again, triggering startAudio to resume playback and update playback status",this.logContext),this.startAudio()))}),document.body.append(c),this.once(Ce.Disconnected,()=>{c==null||c.remove(),c=null})}a.push(c)}this.remoteParticipants.forEach(l=>{l.audioTrackPublications.forEach(c=>{c.track&&c.track.attachedElements.forEach(u=>{a.push(u)})})});try{yield Promise.all([this.acquireAudioContext(),...a.map(l=>(l.muted=!1,l.play()))]),this.handleAudioPlaybackStarted()}catch(l){throw this.handleAudioPlaybackFailed(l),l}}),this.startVideo=()=>ne(this,void 0,void 0,function*(){const a=[];for(const s of this.remoteParticipants.values())s.videoTrackPublications.forEach(l=>{var c;(c=l.track)===null||c===void 0||c.attachedElements.forEach(u=>{a.includes(u)||a.push(u)})});yield Promise.all(a.map(s=>s.play())).then(()=>{this.handleVideoPlaybackStarted()}).catch(s=>{s.name==="NotAllowedError"?this.handleVideoPlaybackFailed():this.log.warn("Resuming video playback failed, make sure you call `startVideo` directly in a user gesture handler",this.logContext)})}),this.handleRestarting=()=>{this.clearConnectionReconcile(),this.isResuming=!1;for(const a of this.remoteParticipants.values())this.handleParticipantDisconnected(a.identity,a);this.setAndEmitConnectionState(on.Reconnecting)&&this.emit(Ce.Reconnecting)},this.handleSignalRestarted=a=>ne(this,void 0,void 0,function*(){this.log.debug("signal reconnected to server, region ".concat(a.serverRegion),Object.assign(Object.assign({},this.logContext),{region:a.serverRegion})),this.bufferedEvents=[],this.applyJoinResponse(a);try{yield this.localParticipant.republishAllTracks(void 0,!0)}catch(s){this.log.error("error trying to re-publish tracks after reconnection",Object.assign(Object.assign({},this.logContext),{error:s}))}try{yield this.engine.waitForRestarted(),this.log.debug("fully reconnected to server",Object.assign(Object.assign({},this.logContext),{region:a.serverRegion}))}catch{return}this.setAndEmitConnectionState(on.Connected),this.emit(Ce.Reconnected),this.registerConnectionReconcile(),this.emitBufferedEvents()}),this.handleParticipantUpdates=a=>{a.forEach(s=>{var l;if(s.identity===this.localParticipant.identity)return void this.localParticipant.updateInfo(s);s.identity===""&&(s.identity=(l=this.sidToIdentity.get(s.sid))!==null&&l!==void 0?l:"");let c=this.remoteParticipants.get(s.identity);s.state===fx.DISCONNECTED?this.handleParticipantDisconnected(s.identity,c):c=this.getOrCreateParticipant(s.identity,s)})},this.handleActiveSpeakersUpdate=a=>{const s=[],l={};a.forEach(c=>{if(l[c.sid]=!0,c.sid===this.localParticipant.sid)this.localParticipant.audioLevel=c.level,this.localParticipant.setIsSpeaking(!0),s.push(this.localParticipant);else{const u=this.getRemoteParticipantBySid(c.sid);u&&(u.audioLevel=c.level,u.setIsSpeaking(!0),s.push(u))}}),l[this.localParticipant.sid]||(this.localParticipant.audioLevel=0,this.localParticipant.setIsSpeaking(!1)),this.remoteParticipants.forEach(c=>{l[c.sid]||(c.audioLevel=0,c.setIsSpeaking(!1))}),this.activeSpeakers=s,this.emitWhenConnected(Ce.ActiveSpeakersChanged,s)},this.handleSpeakersChanged=a=>{const s=new Map;this.activeSpeakers.forEach(c=>{const u=this.remoteParticipants.get(c.identity);u&&u.sid!==c.sid||s.set(c.sid,c)}),a.forEach(c=>{let u=this.getRemoteParticipantBySid(c.sid);c.sid===this.localParticipant.sid&&(u=this.localParticipant),u&&(u.audioLevel=c.level,u.setIsSpeaking(c.active),c.active?s.set(c.sid,u):s.delete(c.sid))});const l=Array.from(s.values());l.sort((c,u)=>u.audioLevel-c.audioLevel),this.activeSpeakers=l,this.emitWhenConnected(Ce.ActiveSpeakersChanged,l)},this.handleStreamStateUpdate=a=>{a.streamStates.forEach(s=>{const l=this.getRemoteParticipantBySid(s.participantSid);if(!l)return;const c=l.getTrackPublicationBySid(s.trackSid);if(!c||!c.track)return;const u=ye.streamStateFromProto(s.state);u!==c.track.streamState&&(c.track.streamState=u,l.emit(Ae.TrackStreamStateChanged,c,c.track.streamState),this.emitWhenConnected(Ce.TrackStreamStateChanged,c,c.track.streamState,l))})},this.handleSubscriptionPermissionUpdate=a=>{const s=this.getRemoteParticipantBySid(a.participantSid);if(!s)return;const l=s.getTrackPublicationBySid(a.trackSid);l&&l.setAllowed(a.allowed)},this.handleSubscriptionError=a=>{const s=Array.from(this.remoteParticipants.values()).find(c=>c.trackPublications.has(a.trackSid));if(!s)return;const l=s.getTrackPublicationBySid(a.trackSid);l&&l.setSubscriptionError(a.err)},this.handleDataPacket=a=>{const s=this.remoteParticipants.get(a.participantIdentity);if(a.value.case==="user")this.handleUserPacket(s,a.value.value,a.kind);else if(a.value.case==="transcription")this.handleTranscription(s,a.value.value);else if(a.value.case==="sipDtmf")this.handleSipDtmf(s,a.value.value);else if(a.value.case==="chatMessage")this.handleChatMessage(s,a.value.value);else if(a.value.case==="metrics")this.handleMetrics(a.value.value,s);else if(a.value.case==="streamHeader")this.handleStreamHeader(a.value.value,a.participantIdentity);else if(a.value.case==="streamChunk")this.handleStreamChunk(a.value.value);else if(a.value.case==="streamTrailer")this.handleStreamTrailer(a.value.value);else if(a.value.case==="rpcRequest"){const l=a.value.value;this.handleIncomingRpcRequest(a.participantIdentity,l.id,l.method,l.payload,l.responseTimeoutMs,l.version)}},this.handleUserPacket=(a,s,l)=>{this.emit(Ce.DataReceived,s.payload,a,l,s.topic),a==null||a.emit(Ae.DataReceived,s.payload,l)},this.handleSipDtmf=(a,s)=>{this.emit(Ce.SipDTMFReceived,s,a),a==null||a.emit(Ae.SipDTMFReceived,s)},this.bufferedSegments=new Map,this.handleTranscription=(a,s)=>{const l=s.transcribedParticipantIdentity===this.localParticipant.identity?this.localParticipant:this.getParticipantByIdentity(s.transcribedParticipantIdentity),c=l==null?void 0:l.trackPublications.get(s.trackId),u=function(h,p){return h.segments.map(d=>{let{id:f,text:g,language:m,startTime:v,endTime:y,final:b}=d;var w;const k=(w=p.get(f))!==null&&w!==void 0?w:Date.now(),_=Date.now();return b?p.delete(f):p.set(f,k),{id:f,text:g,startTime:Number.parseInt(v.toString()),endTime:Number.parseInt(y.toString()),final:b,language:m,firstReceivedTime:k,lastReceivedTime:_}})}(s,this.transcriptionReceivedTimes);c==null||c.emit(Ve.TranscriptionReceived,u),l==null||l.emit(Ae.TranscriptionReceived,u,c),this.emit(Ce.TranscriptionReceived,u,l,c)},this.handleChatMessage=(a,s)=>{const l=function(c){const{id:u,timestamp:h,message:p,editTimestamp:d}=c;return{id:u,timestamp:Number.parseInt(h.toString()),editTimestamp:d?Number.parseInt(d.toString()):void 0,message:p}}(s);this.emit(Ce.ChatMessage,l,a)},this.handleMetrics=(a,s)=>{this.emit(Ce.MetricsReceived,a,s)},this.handleAudioPlaybackStarted=()=>{this.canPlaybackAudio||(this.audioEnabled=!0,this.emit(Ce.AudioPlaybackStatusChanged,!0))},this.handleAudioPlaybackFailed=a=>{this.log.warn("could not playback audio",Object.assign(Object.assign({},this.logContext),{error:a})),this.canPlaybackAudio&&(this.audioEnabled=!1,this.emit(Ce.AudioPlaybackStatusChanged,!1))},this.handleVideoPlaybackStarted=()=>{this.isVideoPlaybackBlocked&&(this.isVideoPlaybackBlocked=!1,this.emit(Ce.VideoPlaybackStatusChanged,!0))},this.handleVideoPlaybackFailed=()=>{this.isVideoPlaybackBlocked||(this.isVideoPlaybackBlocked=!0,this.emit(Ce.VideoPlaybackStatusChanged,!1))},this.handleDeviceChange=()=>ne(this,void 0,void 0,function*(){var a,s,l;const c=wr.getInstance().previousDevices,u=yield wr.getInstance().getDevices(void 0,!1),h=Gi();if((h==null?void 0:h.name)==="Chrome"&&h.os!=="iOS")for(let d of u){const f=c.find(g=>g.deviceId===d.deviceId);f&&f.label!==""&&f.kind===d.kind&&f.label!==d.label&&this.getActiveDevice(d.kind)==="default"&&this.emit(Ce.ActiveDeviceChanged,d.kind,d.deviceId)}const p=["audiooutput","audioinput","videoinput"];for(let d of p){const f=Bce(d),g=this.localParticipant.getTrackPublication(f);if(g&&(a=g.track)!==null&&a!==void 0&&a.isUserProvided)continue;const m=u.filter(y=>y.kind===d),v=this.getActiveDevice(d);v===((s=c.filter(y=>y.kind===d)[0])===null||s===void 0?void 0:s.deviceId)&&m.length>0&&((l=m[0])===null||l===void 0?void 0:l.deviceId)!==v?yield this.switchActiveDevice(d,m[0].deviceId):d==="audioinput"&&!jl()||d==="videoinput"||m.length>0&&!m.find(y=>y.deviceId===this.getActiveDevice(d))&&(yield this.switchActiveDevice(d,m[0].deviceId))}this.emit(Ce.MediaDevicesChanged)}),this.handleRoomUpdate=a=>{const s=this.roomInfo;this.roomInfo=a,s&&s.metadata!==a.metadata&&this.emitWhenConnected(Ce.RoomMetadataChanged,a.metadata),(s==null?void 0:s.activeRecording)!==a.activeRecording&&this.emitWhenConnected(Ce.RecordingStatusChanged,a.activeRecording)},this.handleConnectionQualityUpdate=a=>{a.updates.forEach(s=>{if(s.participantSid===this.localParticipant.sid)return void this.localParticipant.setConnectionQuality(s.quality);const l=this.getRemoteParticipantBySid(s.participantSid);l&&l.setConnectionQuality(s.quality)})},this.onLocalParticipantMetadataChanged=a=>{this.emit(Ce.ParticipantMetadataChanged,a,this.localParticipant)},this.onLocalParticipantNameChanged=a=>{this.emit(Ce.ParticipantNameChanged,a,this.localParticipant)},this.onLocalAttributesChanged=a=>{this.emit(Ce.ParticipantAttributesChanged,a,this.localParticipant)},this.onLocalTrackMuted=a=>{this.emit(Ce.TrackMuted,a,this.localParticipant)},this.onLocalTrackUnmuted=a=>{this.emit(Ce.TrackUnmuted,a,this.localParticipant)},this.onTrackProcessorUpdate=a=>{var s;(s=a==null?void 0:a.onPublish)===null||s===void 0||s.call(a,this)},this.onLocalTrackPublished=a=>ne(this,void 0,void 0,function*(){var s,l,c,u,h,p;(s=a.track)===null||s===void 0||s.on(Ve.TrackProcessorUpdate,this.onTrackProcessorUpdate),(l=a.track)===null||l===void 0||l.on(Ve.Restarted,this.onLocalTrackRestarted),(h=(u=(c=a.track)===null||c===void 0?void 0:c.getProcessor())===null||u===void 0?void 0:u.onPublish)===null||h===void 0||h.call(u,this),this.emit(Ce.LocalTrackPublished,a,this.localParticipant),nu(a.track)&&(yield a.track.checkForSilence())&&this.emit(Ce.LocalAudioSilenceDetected,a);const d=yield(p=a.track)===null||p===void 0?void 0:p.getDeviceId(!1),f=gL(a.source);f&&d&&d!==this.localParticipant.activeDeviceMap.get(f)&&(this.localParticipant.activeDeviceMap.set(f,d),this.emit(Ce.ActiveDeviceChanged,f,d))}),this.onLocalTrackUnpublished=a=>{var s,l;(s=a.track)===null||s===void 0||s.off(Ve.TrackProcessorUpdate,this.onTrackProcessorUpdate),(l=a.track)===null||l===void 0||l.off(Ve.Restarted,this.onLocalTrackRestarted),this.emit(Ce.LocalTrackUnpublished,a,this.localParticipant)},this.onLocalTrackRestarted=a=>ne(this,void 0,void 0,function*(){const s=yield a.getDeviceId(!1),l=gL(a.source);l&&s&&s!==this.localParticipant.activeDeviceMap.get(l)&&(this.log.debug("local track restarted, setting ".concat(l," ").concat(s," active"),this.logContext),this.localParticipant.activeDeviceMap.set(l,s),this.emit(Ce.ActiveDeviceChanged,l,s))}),this.onLocalConnectionQualityChanged=a=>{this.emit(Ce.ConnectionQualityChanged,a,this.localParticipant)},this.onMediaDevicesError=a=>{this.emit(Ce.MediaDevicesError,a)},this.onLocalParticipantPermissionsChanged=a=>{this.emit(Ce.ParticipantPermissionsChanged,a,this.localParticipant)},this.onLocalChatMessageSent=a=>{this.emit(Ce.ChatMessage,a,this.localParticipant)},this.setMaxListeners(100),this.remoteParticipants=new Map,this.sidToIdentity=new Map,this.options=Object.assign(Object.assign({},Yce),t),this.log=Cs((r=this.options.loggerName)!==null&&r!==void 0?r:Wi.Room),this.transcriptionReceivedTimes=new Map,this.options.audioCaptureDefaults=Object.assign(Object.assign({},NL),t==null?void 0:t.audioCaptureDefaults),this.options.videoCaptureDefaults=Object.assign(Object.assign({},RL),t==null?void 0:t.videoCaptureDefaults),this.options.publishDefaults=Object.assign(Object.assign({},Kce),t==null?void 0:t.publishDefaults),this.maybeCreateEngine(),this.disconnectLock=new vo,this.localParticipant=new uue("","",this.engine,this.options,this.rpcHandlers),this.options.videoCaptureDefaults.deviceId&&this.localParticipant.activeDeviceMap.set("videoinput",zl(this.options.videoCaptureDefaults.deviceId)),this.options.audioCaptureDefaults.deviceId&&this.localParticipant.activeDeviceMap.set("audioinput",zl(this.options.audioCaptureDefaults.deviceId)),!((o=this.options.audioOutput)===null||o===void 0)&&o.deviceId&&this.switchActiveDevice("audiooutput",zl(this.options.audioOutput.deviceId)).catch(a=>this.log.warn("Could not set audio output: ".concat(a.message),this.logContext)),this.options.e2ee&&this.setupE2EE(),wo()){const a=new AbortController;(i=navigator.mediaDevices)===null||i===void 0||i.addEventListener("devicechange",this.handleDeviceChange,{signal:a.signal}),Xd.cleanupRegistry&&Xd.cleanupRegistry.register(this,()=>{a.abort()})}}registerTextStreamHandler(t,n){if(this.textStreamHandlers.has(t))throw new TypeError('A text stream handler for topic "'.concat(t,'" has already been set.'));this.textStreamHandlers.set(t,n)}unregisterTextStreamHandler(t){this.textStreamHandlers.delete(t)}registerByteStreamHandler(t,n){if(this.byteStreamHandlers.has(t))throw new TypeError('A byte stream handler for topic "'.concat(t,'" has already been set.'));this.byteStreamHandlers.set(t,n)}unregisterByteStreamHandler(t){this.byteStreamHandlers.delete(t)}registerRpcMethod(t,n){if(this.rpcHandlers.has(t))throw Error("RPC handler already registered for method ".concat(t,", unregisterRpcMethod before trying to register again"));this.rpcHandlers.set(t,n)}unregisterRpcMethod(t){this.rpcHandlers.delete(t)}handleIncomingRpcRequest(t,n,r,o,i,a){return ne(this,void 0,void 0,function*(){if(yield this.engine.publishRpcAck(t,n),a!==1)return void(yield this.engine.publishRpcResponse(t,n,null,Vn.builtIn("UNSUPPORTED_VERSION")));const s=this.rpcHandlers.get(r);if(!s)return void(yield this.engine.publishRpcResponse(t,n,null,Vn.builtIn("UNSUPPORTED_METHOD")));let l=null,c=null;try{const u=yield s({requestId:n,callerIdentity:t,payload:o,responseTimeout:i});d4(u)>15360?l=Vn.builtIn("RESPONSE_PAYLOAD_TOO_LARGE"):c=u}catch(u){l=u instanceof Vn?u:Vn.builtIn("APPLICATION_ERROR")}yield this.engine.publishRpcResponse(t,n,c,l)})}setE2EEEnabled(t){return ne(this,void 0,void 0,function*(){if(!this.e2eeManager)throw Error("e2ee not configured, please set e2ee settings within the room options");yield Promise.all([this.localParticipant.setE2EEEnabled(t)]),this.localParticipant.identity!==""&&this.e2eeManager.setParticipantCryptorEnabled(t,this.localParticipant.identity)})}setupE2EE(){var t;this.options.e2ee&&("e2eeManager"in this.options.e2ee?this.e2eeManager=this.options.e2ee.e2eeManager:this.e2eeManager=new Hce(this.options.e2ee),this.e2eeManager.on(Ll.ParticipantEncryptionStatusChanged,(n,r)=>{(function(o){return o.isLocal})(r)&&(this.isE2EEEnabled=n),this.emit(Ce.ParticipantEncryptionStatusChanged,n,r)}),this.e2eeManager.on(Ll.EncryptionError,n=>this.emit(Ce.EncryptionError,n)),(t=this.e2eeManager)===null||t===void 0||t.setup(this))}get logContext(){var t;return{room:this.name,roomID:(t=this.roomInfo)===null||t===void 0?void 0:t.sid,participant:this.localParticipant.identity,pID:this.localParticipant.sid}}get isRecording(){var t,n;return(n=(t=this.roomInfo)===null||t===void 0?void 0:t.activeRecording)!==null&&n!==void 0&&n}getSid(){return ne(this,void 0,void 0,function*(){return this.state===on.Disconnected?"":this.roomInfo&&this.roomInfo.sid!==""?this.roomInfo.sid:new Promise((t,n)=>{const r=o=>{o.sid!==""&&(this.engine.off(Ke.RoomUpdate,r),t(o.sid))};this.engine.on(Ke.RoomUpdate,r),this.once(Ce.Disconnected,()=>{this.engine.off(Ke.RoomUpdate,r),n("Room disconnected before room server id was available")})})})}get name(){var t,n;return(n=(t=this.roomInfo)===null||t===void 0?void 0:t.name)!==null&&n!==void 0?n:""}get metadata(){var t;return(t=this.roomInfo)===null||t===void 0?void 0:t.metadata}get numParticipants(){var t,n;return(n=(t=this.roomInfo)===null||t===void 0?void 0:t.numParticipants)!==null&&n!==void 0?n:0}get numPublishers(){var t,n;return(n=(t=this.roomInfo)===null||t===void 0?void 0:t.numPublishers)!==null&&n!==void 0?n:0}maybeCreateEngine(){this.engine&&!this.engine.isClosed||(this.engine=new rue(this.options),this.engine.on(Ke.ParticipantUpdate,this.handleParticipantUpdates).on(Ke.RoomUpdate,this.handleRoomUpdate).on(Ke.SpeakersChanged,this.handleSpeakersChanged).on(Ke.StreamStateChanged,this.handleStreamStateUpdate).on(Ke.ConnectionQualityUpdate,this.handleConnectionQualityUpdate).on(Ke.SubscriptionError,this.handleSubscriptionError).on(Ke.SubscriptionPermissionUpdate,this.handleSubscriptionPermissionUpdate).on(Ke.MediaTrackAdded,(t,n,r)=>{this.onTrackAdded(t,n,r)}).on(Ke.Disconnected,t=>{this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,t)}).on(Ke.ActiveSpeakersUpdate,this.handleActiveSpeakersUpdate).on(Ke.DataPacketReceived,this.handleDataPacket).on(Ke.Resuming,()=>{this.clearConnectionReconcile(),this.isResuming=!0,this.log.info("Resuming signal connection",this.logContext),this.setAndEmitConnectionState(on.SignalReconnecting)&&this.emit(Ce.SignalReconnecting)}).on(Ke.Resumed,()=>{this.registerConnectionReconcile(),this.isResuming=!1,this.log.info("Resumed signal connection",this.logContext),this.updateSubscriptions(),this.emitBufferedEvents(),this.setAndEmitConnectionState(on.Connected)&&this.emit(Ce.Reconnected)}).on(Ke.SignalResumed,()=>{this.bufferedEvents=[],(this.state===on.Reconnecting||this.isResuming)&&this.sendSyncState()}).on(Ke.Restarting,this.handleRestarting).on(Ke.SignalRestarted,this.handleSignalRestarted).on(Ke.Offline,()=>{this.setAndEmitConnectionState(on.Reconnecting)&&this.emit(Ce.Reconnecting)}).on(Ke.DCBufferStatusChanged,(t,n)=>{this.emit(Ce.DCBufferStatusChanged,t,n)}).on(Ke.LocalTrackSubscribed,t=>{const n=this.localParticipant.getTrackPublications().find(r=>{let{trackSid:o}=r;return o===t});n?(this.localParticipant.emit(Ae.LocalTrackSubscribed,n),this.emitWhenConnected(Ce.LocalTrackSubscribed,n,this.localParticipant)):this.log.warn("could not find local track subscription for subscribed event",this.logContext)}),this.localParticipant&&this.localParticipant.setupEngine(this.engine),this.e2eeManager&&this.e2eeManager.setupEngine(this.engine))}static getLocalDevices(t){let n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return wr.getInstance().getDevices(t,n)}prepareConnection(t,n){return ne(this,void 0,void 0,function*(){if(this.state===on.Disconnected){this.log.debug("prepareConnection to ".concat(t),this.logContext);try{if(Kx(new URL(t))&&n){this.regionUrlProvider=new HL(t,n);const r=yield this.regionUrlProvider.getNextBestRegionUrl();r&&this.state===on.Disconnected&&(this.regionUrl=r,yield fetch(Jx(r),{method:"HEAD"}),this.log.debug("prepared connection to ".concat(r),this.logContext))}else yield fetch(Jx(t),{method:"HEAD"})}catch(r){this.log.warn("could not prepare connection",Object.assign(Object.assign({},this.logContext),{error:r}))}}})}getParticipantByIdentity(t){return this.localParticipant.identity===t?this.localParticipant:this.remoteParticipants.get(t)}clearConnectionFutures(){this.connectFuture=void 0}simulateScenario(t,n){return ne(this,void 0,void 0,function*(){let r,o=()=>{};switch(t){case"signal-reconnect":yield this.engine.client.handleOnClose("simulate disconnect");break;case"speaker":r=new Da({scenario:{case:"speakerUpdate",value:3}});break;case"node-failure":r=new Da({scenario:{case:"nodeFailure",value:!0}});break;case"server-leave":r=new Da({scenario:{case:"serverLeave",value:!0}});break;case"migration":r=new Da({scenario:{case:"migration",value:!0}});break;case"resume-reconnect":this.engine.failNext(),yield this.engine.client.handleOnClose("simulate resume-disconnect");break;case"disconnect-signal-on-resume":o=()=>ne(this,void 0,void 0,function*(){yield this.engine.client.handleOnClose("simulate resume-disconnect")}),r=new Da({scenario:{case:"disconnectSignalOnResume",value:!0}});break;case"disconnect-signal-on-resume-no-messages":o=()=>ne(this,void 0,void 0,function*(){yield this.engine.client.handleOnClose("simulate resume-disconnect")}),r=new Da({scenario:{case:"disconnectSignalOnResumeNoMessages",value:!0}});break;case"full-reconnect":this.engine.fullReconnectOnNext=!0,yield this.engine.client.handleOnClose("simulate full-reconnect");break;case"force-tcp":case"force-tls":r=new Da({scenario:{case:"switchCandidateProtocol",value:t==="force-tls"?2:1}}),o=()=>ne(this,void 0,void 0,function*(){const i=this.engine.client.onLeave;i&&i(new Qg({reason:$i.CLIENT_INITIATED,action:Vd.RECONNECT}))});break;case"subscriber-bandwidth":if(n===void 0||typeof n!="number")throw new Error("subscriber-bandwidth requires a number as argument");r=new Da({scenario:{case:"subscriberBandwidth",value:tu(n)}});break;case"leave-full-reconnect":r=new Da({scenario:{case:"leaveRequestFullReconnect",value:!0}})}r&&(yield this.engine.client.sendSimulateScenario(r),yield o())})}get canPlaybackAudio(){return this.audioEnabled}get canPlaybackVideo(){return!this.isVideoPlaybackBlocked}getActiveDevice(t){return this.localParticipant.activeDeviceMap.get(t)}switchActiveDevice(t,n){return ne(this,arguments,void 0,function(r,o){var i=this;let a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return function*(){var s,l,c,u,h,p,d,f;let g=!0,m=!1;const v=a?{exact:o}:o;if(r==="audioinput"){m=i.localParticipant.audioTrackPublications.size===0;const y=(s=i.getActiveDevice(r))!==null&&s!==void 0?s:i.options.audioCaptureDefaults.deviceId;i.options.audioCaptureDefaults.deviceId=v;const b=Array.from(i.localParticipant.audioTrackPublications.values()).filter(w=>w.source===ye.Source.Microphone);try{g=(yield Promise.all(b.map(w=>{var k;return(k=w.audioTrack)===null||k===void 0?void 0:k.setDeviceId(v)}))).every(w=>w===!0)}catch(w){throw i.options.audioCaptureDefaults.deviceId=y,w}}else if(r==="videoinput"){m=i.localParticipant.videoTrackPublications.size===0;const y=(l=i.getActiveDevice(r))!==null&&l!==void 0?l:i.options.videoCaptureDefaults.deviceId;i.options.videoCaptureDefaults.deviceId=v;const b=Array.from(i.localParticipant.videoTrackPublications.values()).filter(w=>w.source===ye.Source.Camera);try{g=(yield Promise.all(b.map(w=>{var k;return(k=w.videoTrack)===null||k===void 0?void 0:k.setDeviceId(v)}))).every(w=>w===!0)}catch(w){throw i.options.videoCaptureDefaults.deviceId=y,w}}else if(r==="audiooutput"){if(!Gx()&&!i.options.webAudioMix||i.options.webAudioMix&&i.audioContext&&!("setSinkId"in i.audioContext))throw new Error("cannot switch audio output, setSinkId not supported");i.options.webAudioMix&&(o=(c=yield wr.getInstance().normalizeDeviceId("audiooutput",o))!==null&&c!==void 0?c:""),(u=(f=i.options).audioOutput)!==null&&u!==void 0||(f.audioOutput={});const y=(h=i.getActiveDevice(r))!==null&&h!==void 0?h:i.options.audioOutput.deviceId;i.options.audioOutput.deviceId=o;try{i.options.webAudioMix&&((p=i.audioContext)===null||p===void 0||p.setSinkId(o)),yield Promise.all(Array.from(i.remoteParticipants.values()).map(b=>b.setAudioOutput({deviceId:o})))}catch(b){throw i.options.audioOutput.deviceId=y,b}}return(m||r==="audiooutput")&&(i.localParticipant.activeDeviceMap.set(r,r==="audiooutput"&&((d=i.options.audioOutput)===null||d===void 0?void 0:d.deviceId)||o),i.emit(Ce.ActiveDeviceChanged,r,o)),g}()})}setupLocalParticipantEvents(){this.localParticipant.on(Ae.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).on(Ae.ParticipantNameChanged,this.onLocalParticipantNameChanged).on(Ae.AttributesChanged,this.onLocalAttributesChanged).on(Ae.TrackMuted,this.onLocalTrackMuted).on(Ae.TrackUnmuted,this.onLocalTrackUnmuted).on(Ae.LocalTrackPublished,this.onLocalTrackPublished).on(Ae.LocalTrackUnpublished,this.onLocalTrackUnpublished).on(Ae.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).on(Ae.MediaDevicesError,this.onMediaDevicesError).on(Ae.AudioStreamAcquired,this.startAudio).on(Ae.ChatMessage,this.onLocalChatMessageSent).on(Ae.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged)}recreateEngine(){var t;(t=this.engine)===null||t===void 0||t.close(),this.engine=void 0,this.isResuming=!1,this.remoteParticipants.clear(),this.sidToIdentity.clear(),this.bufferedEvents=[],this.maybeCreateEngine()}onTrackAdded(t,n,r){if(this.state===on.Connecting||this.state===on.Reconnecting){const u=()=>{this.onTrackAdded(t,n,r),h()},h=()=>{this.off(Ce.Reconnected,u),this.off(Ce.Connected,u),this.off(Ce.Disconnected,h)};return this.once(Ce.Reconnected,u),this.once(Ce.Connected,u),void this.once(Ce.Disconnected,h)}if(this.state===on.Disconnected)return void this.log.warn("skipping incoming track after Room disconnected",this.logContext);if(t.readyState==="ended")return void this.log.info("skipping incoming track as it already ended",this.logContext);const o=function(u){const h=u.split("|");return h.length>1?[h[0],u.substr(h[0].length+1)]:[u,""]}(n.id),i=o[0];let a=o[1],s=t.id;if(a&&a.startsWith("TR")&&(s=a),i===this.localParticipant.sid)return void this.log.warn("tried to create RemoteParticipant for local participant",this.logContext);const l=Array.from(this.remoteParticipants.values()).find(u=>u.sid===i);if(!l)return void this.log.error("Tried to add a track for a participant, that's not present. Sid: ".concat(i),this.logContext);let c;this.options.adaptiveStream&&(c=typeof this.options.adaptiveStream=="object"?this.options.adaptiveStream:{}),l.addSubscribedMediaTrack(t,s,n,r,c)}handleDisconnect(){let t=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],n=arguments.length>1?arguments[1]:void 0;var r;if(this.clearConnectionReconcile(),this.isResuming=!1,this.bufferedEvents=[],this.transcriptionReceivedTimes.clear(),this.state!==on.Disconnected){this.regionUrl=void 0;try{this.remoteParticipants.forEach(o=>{o.trackPublications.forEach(i=>{o.unpublishTrack(i.trackSid)})}),this.localParticipant.trackPublications.forEach(o=>{var i,a,s;o.track&&this.localParticipant.unpublishTrack(o.track,t),t?((i=o.track)===null||i===void 0||i.detach(),(a=o.track)===null||a===void 0||a.stop()):(s=o.track)===null||s===void 0||s.stopMonitor()}),this.localParticipant.off(Ae.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).off(Ae.ParticipantNameChanged,this.onLocalParticipantNameChanged).off(Ae.AttributesChanged,this.onLocalAttributesChanged).off(Ae.TrackMuted,this.onLocalTrackMuted).off(Ae.TrackUnmuted,this.onLocalTrackUnmuted).off(Ae.LocalTrackPublished,this.onLocalTrackPublished).off(Ae.LocalTrackUnpublished,this.onLocalTrackUnpublished).off(Ae.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).off(Ae.MediaDevicesError,this.onMediaDevicesError).off(Ae.AudioStreamAcquired,this.startAudio).off(Ae.ChatMessage,this.onLocalChatMessageSent).off(Ae.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged),this.localParticipant.trackPublications.clear(),this.localParticipant.videoTrackPublications.clear(),this.localParticipant.audioTrackPublications.clear(),this.remoteParticipants.clear(),this.sidToIdentity.clear(),this.activeSpeakers=[],this.audioContext&&typeof this.options.webAudioMix=="boolean"&&(this.audioContext.close(),this.audioContext=void 0),wo()&&(window.removeEventListener("beforeunload",this.onPageLeave),window.removeEventListener("pagehide",this.onPageLeave),window.removeEventListener("freeze",this.onPageLeave),(r=navigator.mediaDevices)===null||r===void 0||r.removeEventListener("devicechange",this.handleDeviceChange))}finally{this.setAndEmitConnectionState(on.Disconnected),this.emit(Ce.Disconnected,n)}}}handleParticipantDisconnected(t,n){var r;this.remoteParticipants.delete(t),n&&(n.trackPublications.forEach(o=>{n.unpublishTrack(o.trackSid,!0)}),this.emit(Ce.ParticipantDisconnected,n),(r=this.localParticipant)===null||r===void 0||r.handleParticipantDisconnected(n.identity))}handleStreamHeader(t,n){return ne(this,void 0,void 0,function*(){var r;if(t.contentHeader.case==="byteHeader"){const o=this.byteStreamHandlers.get(t.topic);if(!o)return void this.log.debug("ignoring incoming byte stream due to no handler for topic",t.topic);let i;const a={id:t.streamId,name:(r=t.contentHeader.value.name)!==null&&r!==void 0?r:"unknown",mimeType:t.mimeType,size:t.totalLength?Number(t.totalLength):void 0,topic:t.topic,timestamp:lv(t.timestamp),attributes:t.attributes},s=new ReadableStream({start:l=>{i=l,this.byteStreamControllers.set(t.streamId,{info:a,controller:i,startTime:Date.now()})}});o(new oue(a,s,lv(t.totalLength)),{identity:n})}else if(t.contentHeader.case==="textHeader"){const o=this.textStreamHandlers.get(t.topic);if(!o)return void this.log.debug("ignoring incoming text stream due to no handler for topic",t.topic);let i;const a={id:t.streamId,mimeType:t.mimeType,size:t.totalLength?Number(t.totalLength):void 0,topic:t.topic,timestamp:Number(t.timestamp),attributes:t.attributes},s=new ReadableStream({start:l=>{i=l,this.textStreamControllers.set(t.streamId,{info:a,controller:i,startTime:Date.now()})}});o(new iue(a,s,lv(t.totalLength)),{identity:n})}})}handleStreamChunk(t){const n=this.byteStreamControllers.get(t.streamId);n&&t.content.length>0&&n.controller.enqueue(t);const r=this.textStreamControllers.get(t.streamId);r&&t.content.length>0&&r.controller.enqueue(t)}handleStreamTrailer(t){const n=this.textStreamControllers.get(t.streamId);n&&(n.info.attributes=Object.assign(Object.assign({},n.info.attributes),t.attributes),n.controller.close(),this.textStreamControllers.delete(t.streamId));const r=this.byteStreamControllers.get(t.streamId);r&&(r.info.attributes=Object.assign(Object.assign({},r.info.attributes),t.attributes),r.controller.close(),this.byteStreamControllers.delete(t.streamId))}acquireAudioContext(){return ne(this,void 0,void 0,function*(){var t,n;if(typeof this.options.webAudioMix!="boolean"&&this.options.webAudioMix.audioContext?this.audioContext=this.options.webAudioMix.audioContext:(!this.audioContext||this.audioContext.state==="closed")&&(this.audioContext=(t=r4())!==null&&t!==void 0?t:void 0),this.options.webAudioMix&&this.remoteParticipants.forEach(o=>o.setAudioContext(this.audioContext)),this.localParticipant.setAudioContext(this.audioContext),this.audioContext&&this.audioContext.state==="suspended")try{yield Promise.race([this.audioContext.resume(),Zo(200)])}catch(o){this.log.warn("Could not resume audio context",Object.assign(Object.assign({},this.logContext),{error:o}))}const r=((n=this.audioContext)===null||n===void 0?void 0:n.state)==="running";r!==this.canPlaybackAudio&&(this.audioEnabled=r,this.emit(Ce.AudioPlaybackStatusChanged,r))})}createParticipant(t,n){var r;let o;return o=n?gv.fromParticipantInfo(this.engine.client,n,{loggerContextCb:()=>this.logContext,loggerName:this.options.loggerName}):new gv(this.engine.client,"",t,void 0,void 0,void 0,{loggerContextCb:()=>this.logContext,loggerName:this.options.loggerName}),this.options.webAudioMix&&o.setAudioContext(this.audioContext),!((r=this.options.audioOutput)===null||r===void 0)&&r.deviceId&&o.setAudioOutput(this.options.audioOutput).catch(i=>this.log.warn("Could not set audio output: ".concat(i.message),this.logContext)),o}getOrCreateParticipant(t,n){if(this.remoteParticipants.has(t)){const o=this.remoteParticipants.get(t);return n&&o.updateInfo(n)&&this.sidToIdentity.set(n.sid,n.identity),o}const r=this.createParticipant(t,n);return this.remoteParticipants.set(t,r),this.sidToIdentity.set(n.sid,n.identity),this.emitWhenConnected(Ce.ParticipantConnected,r),r.on(Ae.TrackPublished,o=>{this.emitWhenConnected(Ce.TrackPublished,o,r)}).on(Ae.TrackSubscribed,(o,i)=>{o.kind===ye.Kind.Audio?(o.on(Ve.AudioPlaybackStarted,this.handleAudioPlaybackStarted),o.on(Ve.AudioPlaybackFailed,this.handleAudioPlaybackFailed)):o.kind===ye.Kind.Video&&(o.on(Ve.VideoPlaybackFailed,this.handleVideoPlaybackFailed),o.on(Ve.VideoPlaybackStarted,this.handleVideoPlaybackStarted)),this.emit(Ce.TrackSubscribed,o,i,r)}).on(Ae.TrackUnpublished,o=>{this.emit(Ce.TrackUnpublished,o,r)}).on(Ae.TrackUnsubscribed,(o,i)=>{this.emit(Ce.TrackUnsubscribed,o,i,r)}).on(Ae.TrackMuted,o=>{this.emitWhenConnected(Ce.TrackMuted,o,r)}).on(Ae.TrackUnmuted,o=>{this.emitWhenConnected(Ce.TrackUnmuted,o,r)}).on(Ae.ParticipantMetadataChanged,o=>{this.emitWhenConnected(Ce.ParticipantMetadataChanged,o,r)}).on(Ae.ParticipantNameChanged,o=>{this.emitWhenConnected(Ce.ParticipantNameChanged,o,r)}).on(Ae.AttributesChanged,o=>{this.emitWhenConnected(Ce.ParticipantAttributesChanged,o,r)}).on(Ae.ConnectionQualityChanged,o=>{this.emitWhenConnected(Ce.ConnectionQualityChanged,o,r)}).on(Ae.ParticipantPermissionsChanged,o=>{this.emitWhenConnected(Ce.ParticipantPermissionsChanged,o,r)}).on(Ae.TrackSubscriptionStatusChanged,(o,i)=>{this.emitWhenConnected(Ce.TrackSubscriptionStatusChanged,o,i,r)}).on(Ae.TrackSubscriptionFailed,(o,i)=>{this.emit(Ce.TrackSubscriptionFailed,o,r,i)}).on(Ae.TrackSubscriptionPermissionChanged,(o,i)=>{this.emitWhenConnected(Ce.TrackSubscriptionPermissionChanged,o,i,r)}),n&&r.updateInfo(n),r}sendSyncState(){const t=Array.from(this.remoteParticipants.values()).reduce((r,o)=>(r.push(...o.getTrackPublications()),r),[]),n=this.localParticipant.getTrackPublications();this.engine.sendSyncState(t,n)}updateSubscriptions(){for(const t of this.remoteParticipants.values())for(const n of t.videoTrackPublications.values())n.isSubscribed&&zce(n)&&n.emitTrackUpdate()}getRemoteParticipantBySid(t){const n=this.sidToIdentity.get(t);if(n)return this.remoteParticipants.get(n)}registerConnectionReconcile(){this.clearConnectionReconcile();let t=0;this.connectionReconcileInterval=Cr.setInterval(()=>{this.engine&&!this.engine.isClosed&&this.engine.verifyTransport()?t=0:(t++,this.log.warn("detected connection state mismatch",Object.assign(Object.assign({},this.logContext),{numFailures:t,engine:this.engine?{closed:this.engine.isClosed,transportsConnected:this.engine.verifyTransport()}:void 0})),t>=3&&(this.recreateEngine(),this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,$i.STATE_MISMATCH)))},4e3)}clearConnectionReconcile(){this.connectionReconcileInterval&&Cr.clearInterval(this.connectionReconcileInterval)}setAndEmitConnectionState(t){return t!==this.state&&(this.state=t,this.emit(Ce.ConnectionStateChanged,this.state),!0)}emitBufferedEvents(){this.bufferedEvents.forEach(t=>{let[n,r]=t;this.emit(n,...r)}),this.bufferedEvents=[]}emitWhenConnected(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];if(this.state===on.Reconnecting||this.isResuming||!this.engine||this.engine.pendingReconnect)this.bufferedEvents.push([t,r]);else if(this.state===on.Connected)return this.emit(t,...r);return!1}simulateParticipants(t){return ne(this,void 0,void 0,function*(){var n,r;const o=Object.assign({audio:!0,video:!0,useRealTracks:!1},t.publish),i=Object.assign({count:9,audio:!1,video:!0,aspectRatios:[1.66,1.7,1.3]},t.participants);if(this.handleDisconnect(),this.roomInfo=new mx({sid:"RM_SIMULATED",name:"simulated-room",emptyTimeout:0,maxParticipants:0,creationTime:Nn.parse(new Date().getTime()),metadata:"",numParticipants:1,numPublishers:1,turnPassword:"",enabledCodecs:[],activeRecording:!1}),this.localParticipant.updateInfo(new zp({identity:"simulated-local",name:"local-name"})),this.setupLocalParticipantEvents(),this.emit(Ce.SignalConnected),this.emit(Ce.Connected),this.setAndEmitConnectionState(on.Connected),o.video){const a=new b4(ye.Kind.Video,new Hd({source:ir.CAMERA,sid:Math.floor(1e4*Math.random()).toString(),type:Vi.AUDIO,name:"video-dummy"}),new mv(o.useRealTracks?(yield window.navigator.mediaDevices.getUserMedia({video:!0})).getVideoTracks()[0]:dL(160*((n=i.aspectRatios[0])!==null&&n!==void 0?n:1),160,!0,!0),void 0,!1,{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext}),{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext});this.localParticipant.addTrackPublication(a),this.localParticipant.emit(Ae.LocalTrackPublished,a)}if(o.audio){const a=new b4(ye.Kind.Audio,new Hd({source:ir.MICROPHONE,sid:Math.floor(1e4*Math.random()).toString(),type:Vi.AUDIO}),new hv(o.useRealTracks?(yield navigator.mediaDevices.getUserMedia({audio:!0})).getAudioTracks()[0]:Xx(),void 0,!1,this.audioContext,{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext}),{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext});this.localParticipant.addTrackPublication(a),this.localParticipant.emit(Ae.LocalTrackPublished,a)}for(let a=0;a<i.count-1;a+=1){let s=new zp({sid:Math.floor(1e4*Math.random()).toString(),identity:"simulated-".concat(a),state:fx.ACTIVE,tracks:[],joinedAt:Nn.parse(Date.now())});const l=this.getOrCreateParticipant(s.identity,s);if(i.video){const c=dL(160*((r=i.aspectRatios[a%i.aspectRatios.length])!==null&&r!==void 0?r:1),160,!1,!0),u=new Hd({source:ir.CAMERA,sid:Math.floor(1e4*Math.random()).toString(),type:Vi.AUDIO});l.addSubscribedMediaTrack(c,u.sid,new MediaStream([c]),new RTCRtpReceiver),s.tracks=[...s.tracks,u]}if(i.audio){const c=Xx(),u=new Hd({source:ir.MICROPHONE,sid:Math.floor(1e4*Math.random()).toString(),type:Vi.AUDIO});l.addSubscribedMediaTrack(c,u.sid,new MediaStream([c]),new RTCRtpReceiver),s.tracks=[...s.tracks,u]}l.updateInfo(s)}})}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];if(t!==Ce.ActiveSpeakersChanged&&t!==Ce.TranscriptionReceived){const i=YL(r).filter(a=>a!==void 0);this.log.debug("room event ".concat(t),Object.assign(Object.assign({},this.logContext),{event:t,args:i}))}return super.emit(t,...r)}}function YL(e){return e.map(t=>{if(t)return Array.isArray(t)?YL(t):typeof t=="object"?"logContext"in t?t.logContext:void 0:t})}var QL;Xd.cleanupRegistry=typeof FinalizationRegistry<"u"&&new FinalizationRegistry(e=>{e()}),function(e){e[e.IDLE=0]="IDLE",e[e.RUNNING=1]="RUNNING",e[e.SKIPPED=2]="SKIPPED",e[e.SUCCESS=3]="SUCCESS",e[e.FAILED=4]="FAILED"}(QL||(QL={})),ja.EventEmitter,ja.EventEmitter;var vv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function XL(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var JL,y4={exports:{}},due=y4.exports,hue=(JL||(JL=1,function(e){(function(t,n){e.exports?e.exports=n():t.log=n()})(due,function(){var t=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),o=["trace","debug","info","warn","error"],i={},a=null;function s(f,g){var m=f[g];if(typeof m.bind=="function")return m.bind(f);try{return Function.prototype.bind.call(m,f)}catch{return function(){return Function.prototype.apply.apply(m,[f,arguments])}}}function l(){console.log&&(console.log.apply||Function.prototype.apply.apply(console.log,[console,arguments]))}function c(){for(var f=this.getLevel(),g=0;g<o.length;g++){var m=o[g];this[m]=g<f?t:this.methodFactory(m,f,this.name)}if(this.log=this.debug,typeof console===n&&f<this.levels.SILENT)return"No console available for logging"}function u(f){return function(){typeof console!==n&&(c.call(this),this[f].apply(this,arguments))}}function h(f,g,m){return function(v){return v==="debug"&&(v="log"),typeof console!==n&&(v==="trace"&&r?l:console[v]!==void 0?s(console,v):console.log!==void 0?s(console,"log"):t)}(f)||u.apply(this,arguments)}function p(f,g){var m,v,y,b=this,w="loglevel";function k(){var E;if(typeof window!==n&&w){try{E=window.localStorage[w]}catch{}if(typeof E===n)try{var C=window.document.cookie,N=encodeURIComponent(w),L=C.indexOf(N+"=");L!==-1&&(E=/^([^;]+)/.exec(C.slice(L+N.length+1))[1])}catch{}return b.levels[E]===void 0&&(E=void 0),E}}function _(E){var C=E;if(typeof C=="string"&&b.levels[C.toUpperCase()]!==void 0&&(C=b.levels[C.toUpperCase()]),typeof C=="number"&&C>=0&&C<=b.levels.SILENT)return C;throw new TypeError("log.setLevel() called with invalid level: "+E)}typeof f=="string"?w+=":"+f:typeof f=="symbol"&&(w=void 0),b.name=f,b.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},b.methodFactory=g||h,b.getLevel=function(){var E;return(E=y??v)!=null?E:m},b.setLevel=function(E,C){return y=_(E),C!==!1&&function(N){var L=(o[N]||"silent").toUpperCase();if(typeof window!==n&&w){try{return void(window.localStorage[w]=L)}catch{}try{window.document.cookie=encodeURIComponent(w)+"="+L+";"}catch{}}}(y),c.call(b)},b.setDefaultLevel=function(E){v=_(E),k()||b.setLevel(E,!1)},b.resetLevel=function(){y=null,function(){if(typeof window!==n&&w){try{window.localStorage.removeItem(w)}catch{}try{window.document.cookie=encodeURIComponent(w)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}(),c.call(b)},b.enableAll=function(E){b.setLevel(b.levels.TRACE,E)},b.disableAll=function(E){b.setLevel(b.levels.SILENT,E)},b.rebuild=function(){if(a!==b&&(m=_(a.getLevel())),c.call(b),a===b)for(var E in i)i[E].rebuild()},m=_(a?a.getLevel():"WARN");var O=k();O!=null&&(y=_(O)),c.call(b)}(a=new p).getLogger=function(f){if(typeof f!="symbol"&&typeof f!="string"||f==="")throw new TypeError("You must supply a name when creating a logger.");var g=i[f];return g||(g=i[f]=new p(f,a.methodFactory)),g};var d=typeof window!==n?window.log:void 0;return a.noConflict=function(){return typeof window!==n&&window.log===a&&(window.log=d),a},a.getLoggers=function(){return i},a.default=a,a})}(y4)),y4.exports);const pue=XL(hue);var w4=function(e,t){return w4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},w4(e,t)};function Ns(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}w4(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function mue(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(c){try{l(r.next(c))}catch(u){i(u)}}function s(c){try{l(r.throw(c))}catch(u){i(u)}}function l(c){c.done?o(c.value):function(u){return u instanceof n?u:new n(function(h){h(u)})}(c.value).then(a,s)}l((r=r.apply(e,[])).next())})}function ZL(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){i=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(u[0]===6&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(h){u=[6,h],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([l,c])}}}function Kp(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function bv(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function yv(e,t,n){if(arguments.length===2)for(var r,o=0,i=t.length;o<i;o++)(r||!(o in t))&&(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function Jd(e){return this instanceof Jd?(this.v=e,this):new Jd(e)}function fue(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function(h){return function(p){return Promise.resolve(p).then(h,c)}}),r[Symbol.asyncIterator]=function(){return this},r;function a(h,p){o[h]&&(r[h]=function(d){return new Promise(function(f,g){i.push([h,d,f,g])>1||s(h,d)})},p&&(r[h]=p(r[h])))}function s(h,p){try{(function(d){d.value instanceof Jd?Promise.resolve(d.value.v).then(l,c):u(i[0][2],d)})(o[h](p))}catch(d){u(i[0][3],d)}}function l(h){s("next",h)}function c(h){s("throw",h)}function u(h,p){h(p),i.shift(),i.length&&s(i[0][0],i[0][1])}}function gue(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Kp(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(i){return new Promise(function(a,s){(function(l,c,u,h){Promise.resolve(h).then(function(p){l({value:p,done:u})},c)})(a,s,(i=e[o](i)).done,i.value)})}}}function mr(e){return typeof e=="function"}function k4(e){var t=e(function(n){Error.call(n),n.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var x4=k4(function(e){return function(t){e(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(n,r){return r+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function wv(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Yp=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,o,i;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var s=Kp(a),l=s.next();!l.done;l=s.next())l.value.remove(this)}catch(f){t={error:f}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}else a.remove(this);var c=this.initialTeardown;if(mr(c))try{c()}catch(f){i=f instanceof x4?f.errors:[f]}var u=this._finalizers;if(u){this._finalizers=null;try{for(var h=Kp(u),p=h.next();!p.done;p=h.next()){var d=p.value;try{nD(d)}catch(f){i=i??[],f instanceof x4?i=yv(yv([],bv(i)),bv(f.errors)):i.push(f)}}}catch(f){r={error:f}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(r)throw r.error}}}if(i)throw new x4(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)nD(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&wv(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&wv(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),eD=Yp.EMPTY;function tD(e){return e instanceof Yp||e&&"closed"in e&&mr(e.remove)&&mr(e.add)&&mr(e.unsubscribe)}function nD(e){mr(e)?e():e.unsubscribe()}var vue=void 0,bue={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,yv([e,t],bv(n)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function rD(e){bue.setTimeout(function(){throw e})}function oD(){}function kv(e){e()}var _4=function(e){function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,tD(n)&&n.add(r)):r.destination=wue,r}return Ns(t,e),t.create=function(n,r,o){return new T4(n,r,o)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Yp),yue=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){xv(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){xv(r)}else xv(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){xv(n)}},e}(),T4=function(e){function t(n,r,o){var i,a=e.call(this)||this;return i=mr(n)||!n?{next:n??void 0,error:r??void 0,complete:o??void 0}:n,a.destination=new yue(i),a}return Ns(t,e),t}(_4);function xv(e){rD(e)}var wue={closed:!0,next:oD,error:function(e){throw e},complete:oD},S4=typeof Symbol=="function"&&Symbol.observable||"@@observable";function iD(e){return e}var kr=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var o=this,i=function(a){return a&&a instanceof _4||function(s){return s&&mr(s.next)&&mr(s.error)&&mr(s.complete)}(a)&&tD(a)}(t)?t:new T4(t,n,r);return kv(function(){var a=o,s=a.operator,l=a.source;i.add(s?s.call(i,l):l?o._subscribe(i):o._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return new(n=aD(n))(function(o,i){var a=new T4({next:function(s){try{t(s)}catch(l){i(l),a.unsubscribe()}},error:i,complete:o});r.subscribe(a)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[S4]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return function(r){return r.length===0?iD:r.length===1?r[0]:function(o){return r.reduce(function(i,a){return a(i)},o)}}(t)(this)},e.prototype.toPromise=function(t){var n=this;return new(t=aD(t))(function(r,o){var i;n.subscribe(function(a){return i=a},function(a){return o(a)},function(){return r(i)})})},e.create=function(t){return new e(t)},e}();function aD(e){var t;return(t=e??vue)!==null&&t!==void 0?t:Promise}function Qp(e){return function(t){if(function(n){return mr(n==null?void 0:n.lift)}(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function _v(e,t,n,r,o){return new kue(e,t,n,r,o)}var kue=function(e){function t(n,r,o,i,a,s){var l=e.call(this,n)||this;return l.onFinalize=a,l.shouldUnsubscribe=s,l._next=r?function(c){try{r(c)}catch(u){n.error(u)}}:e.prototype._next,l._error=i?function(c){try{i(c)}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._error,l._complete=o?function(){try{o()}catch(c){n.error(c)}finally{this.unsubscribe()}}:e.prototype._complete,l}return Ns(t,e),t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(_4),xue=k4(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),sD=function(e){function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return Ns(t,e),t.prototype.lift=function(n){var r=new lD(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new xue},t.prototype.next=function(n){var r=this;kv(function(){var o,i;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var a=Kp(r.currentObservers),s=a.next();!s.done;s=a.next())s.value.next(n)}catch(l){o={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}}})},t.prototype.error=function(n){var r=this;kv(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var o=r.observers;o.length;)o.shift().error(n)}})},t.prototype.complete=function(){var n=this;kv(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,o=this,i=o.hasError,a=o.isStopped,s=o.observers;return i||a?eD:(this.currentObservers=null,s.push(n),new Yp(function(){r.currentObservers=null,wv(s,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,o=r.hasError,i=r.thrownError,a=r.isStopped;o?n.error(i):a&&n.complete()},t.prototype.asObservable=function(){var n=new kr;return n.source=this,n},t.create=function(n,r){return new lD(n,r)},t}(kr),lD=function(e){function t(n,r){var o=e.call(this)||this;return o.destination=n,o.source=r,o}return Ns(t,e),t.prototype.next=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.next)===null||o===void 0||o.call(r,n)},t.prototype.error=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.error)===null||o===void 0||o.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,o;return(o=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&o!==void 0?o:eD},t}(sD);(function(e){function t(n){var r=e.call(this)||this;return r._value=n,r}Ns(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,o=n.thrownError,i=n._value;if(r)throw o;return this._throwIfClosed(),i},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)}})(sD);var _ue=function(){return Date.now()},Tue=function(e){function t(n,r){return e.call(this)||this}return Ns(t,e),t.prototype.schedule=function(n,r){return this},t}(Yp),Sue=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setInterval.apply(void 0,yv([e,t],bv(n)))},Eue=function(e){return clearInterval(e)},Cue=function(e){function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o.pending=!1,o}return Ns(t,e),t.prototype.schedule=function(n,r){var o;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var i=this.id,a=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(a,i,r)),this.pending=!0,this.delay=r,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(a,this.id,r),this},t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),Sue(n.flush.bind(n,this),o)},t.prototype.recycleAsyncId=function(n,r,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return r;r!=null&&Eue(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(n,r);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var o,i=!1;try{this.work(n)}catch(a){i=!0,o=a||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},t.prototype.unsubscribe=function(){if(!this.closed){var n=this.id,r=this.scheduler,o=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,wv(o,this),n!=null&&(this.id=this.recycleAsyncId(r,n,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Tue),cD=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=_ue,e}(),Oue=function(e){function t(n,r){r===void 0&&(r=cD.now);var o=e.call(this,n,r)||this;return o.actions=[],o._active=!1,o}return Ns(t,e),t.prototype.flush=function(n){var r=this.actions;if(this._active)r.push(n);else{var o;this._active=!0;do if(o=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,o){for(;n=r.shift();)n.unsubscribe();throw o}}},t}(cD);function uD(e){return function(t){return t&&mr(t.schedule)}(function(t){return t[t.length-1]}(e))?e.pop():void 0}new Oue(Cue);var dD=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function hD(e){return mr(e==null?void 0:e.then)}function pD(e){return mr(e[S4])}function mD(e){return Symbol.asyncIterator&&mr(e==null?void 0:e[Symbol.asyncIterator])}function fD(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var gD=typeof Symbol=="function"&&Symbol.iterator?Symbol.iterator:"@@iterator";function vD(e){return mr(e==null?void 0:e[gD])}function bD(e){return fue(this,arguments,function(){var t,n,r;return ZL(this,function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,Jd(t.read())];case 3:return n=o.sent(),r=n.value,n.done?[4,Jd(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,Jd(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function yD(e){return mr(e==null?void 0:e.getReader)}function Xp(e){if(e instanceof kr)return e;if(e!=null){if(pD(e))return function(t){return new kr(function(n){var r=t[S4]();if(mr(r.subscribe))return r.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(dD(e))return function(t){return new kr(function(n){for(var r=0;r<t.length&&!n.closed;r++)n.next(t[r]);n.complete()})}(e);if(hD(e))return function(t){return new kr(function(n){t.then(function(r){n.closed||(n.next(r),n.complete())},function(r){return n.error(r)}).then(null,rD)})}(e);if(mD(e))return wD(e);if(vD(e))return function(t){return new kr(function(n){var r,o;try{for(var i=Kp(t),a=i.next();!a.done;a=i.next()){var s=a.value;if(n.next(s),n.closed)return}}catch(l){r={error:l}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}n.complete()})}(e);if(yD(e))return function(t){return wD(bD(t))}(e)}throw fD(e)}function wD(e){return new kr(function(t){(function(n,r){var o,i,a,s;return mue(this,0,void 0,function(){var l,c;return ZL(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),o=gue(n),u.label=1;case 1:return[4,o.next()];case 2:if((i=u.sent()).done)return[3,4];if(l=i.value,r.next(l),r.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=u.sent(),a={error:c},[3,11];case 6:return u.trys.push([6,,9,10]),i&&!i.done&&(s=o.return)?[4,s.call(o)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(a)throw a.error;return[7];case 10:return[7];case 11:return r.complete(),[2]}})})})(e,t).catch(function(n){return t.error(n)})})}function ru(e,t,n,r,o){r===void 0&&(r=0),o===void 0&&(o=!1);var i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function kD(e,t){return t===void 0&&(t=0),Qp(function(n,r){n.subscribe(_v(r,function(o){return ru(r,e,function(){return r.next(o)},t)},function(){return ru(r,e,function(){return r.complete()},t)},function(o){return ru(r,e,function(){return r.error(o)},t)}))})}function xD(e,t){return t===void 0&&(t=0),Qp(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function _D(e,t){if(!e)throw new Error("Iterable cannot be null");return new kr(function(n){ru(n,t,function(){var r=e[Symbol.asyncIterator]();ru(n,t,function(){r.next().then(function(o){o.done?n.complete():n.next(o.value)})},0,!0)})})}function Pue(e,t){if(e!=null){if(pD(e))return function(n,r){return Xp(n).pipe(xD(r),kD(r))}(e,t);if(dD(e))return function(n,r){return new kr(function(o){var i=0;return r.schedule(function(){i===n.length?o.complete():(o.next(n[i++]),o.closed||this.schedule())})})}(e,t);if(hD(e))return function(n,r){return Xp(n).pipe(xD(r),kD(r))}(e,t);if(mD(e))return _D(e,t);if(vD(e))return function(n,r){return new kr(function(o){var i;return ru(o,r,function(){i=n[gD](),ru(o,r,function(){var a,s,l;try{s=(a=i.next()).value,l=a.done}catch(c){return void o.error(c)}l?o.complete():o.next(s)},0,!0)}),function(){return mr(i==null?void 0:i.return)&&i.return()}})}(e,t);if(yD(e))return function(n,r){return _D(bD(n),r)}(e,t)}throw fD(e)}function Rs(e,t){return Qp(function(n,r){var o=0;n.subscribe(_v(r,function(i){r.next(e.call(t,i,o++))}))})}function TD(e,t,n){return n===void 0&&(n=1/0),mr(t)?TD(function(r,o){return Rs(function(i,a){return t(r,i,o,a)})(Xp(e(r,o)))},n):(typeof t=="number"&&(n=t),Qp(function(r,o){return function(i,a,s,l,c,u,h,p){var d=[],f=0,g=0,m=!1,v=function(){m&&!d.length&&!f&&a.complete()},y=function(b){f++;var w=!1;Xp(s(b,g++)).subscribe(_v(a,function(k){a.next(k)},function(){w=!0},void 0,function(){if(w)try{for(f--;d.length&&f<l;)k=void 0,k=d.shift(),h||y(k);v()}catch(_){a.error(_)}var k}))};return i.subscribe(_v(a,function(b){return f<l?y(b):d.push(b)},function(){m=!0,v()})),function(){}}(r,o,e,n)}))}function Aue(){return function(e){return TD(iD,e)}(1)}function SD(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Aue()(function(n,r){return r?Pue(n,r):Xp(n)}(e,uD(e)))}function Hl(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=uD(e);return Qp(function(r,o){(n?SD(e,r,n):SD(e,r)).subscribe(o)})}k4(function(e){return function(t){t===void 0&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}});var Nue=Object.defineProperty,Rue=Object.defineProperties,Iue=Object.getOwnPropertyDescriptors,ED=Object.getOwnPropertySymbols,Mue=Object.prototype.hasOwnProperty,Lue=Object.prototype.propertyIsEnumerable,CD=(e,t,n)=>t in e?Nue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Due=(e,t)=>{for(var n in t||(t={}))Mue.call(t,n)&&CD(e,n,t[n]);if(ED)for(var n of ED(t))Lue.call(t,n)&&CD(e,n,t[n]);return e},jue=(e,t)=>Rue(e,Iue(t)),zue="lk";function Tv(e){return!(typeof e>"u")&&(function(t){var n;return!!t&&t.hasOwnProperty("participant")&&t.hasOwnProperty("source")&&t.hasOwnProperty("track")&&typeof((n=t.publication)==null?void 0:n.track)<"u"}(e)||function(t){return!!t&&t.hasOwnProperty("participant")&&t.hasOwnProperty("source")&&t.hasOwnProperty("publication")&&typeof t.publication<"u"}(e))}function OD(e){if(typeof e=="string"||typeof e=="number")return`${e}`;if(function(t){return!!t&&t.hasOwnProperty("participant")&&t.hasOwnProperty("source")&&typeof t.publication>"u"}(e))return`${e.participant.identity}_${e.source}_placeholder`;if(Tv(e))return`${e.participant.identity}_${e.publication.source}_${e.publication.trackSid}`;throw new Error(`Can't generate a id for the given track reference: ${e}`)}var PD=[Ce.ConnectionStateChanged,Ce.RoomMetadataChanged,Ce.ActiveSpeakersChanged,Ce.ConnectionQualityChanged,Ce.ParticipantConnected,Ce.ParticipantDisconnected,Ce.ParticipantPermissionsChanged,Ce.ParticipantMetadataChanged,Ce.ParticipantNameChanged,Ce.ParticipantAttributesChanged,Ce.TrackMuted,Ce.TrackUnmuted,Ce.TrackPublished,Ce.TrackUnpublished,Ce.TrackStreamStateChanged,Ce.TrackSubscriptionFailed,Ce.TrackSubscriptionPermissionChanged,Ce.TrackSubscriptionStatusChanged,Ce.LocalTrackPublished,Ce.LocalTrackUnpublished],Fue=[Ae.TrackPublished,Ae.TrackUnpublished,Ae.TrackMuted,Ae.TrackUnmuted,Ae.TrackStreamStateChanged,Ae.TrackSubscribed,Ae.TrackUnsubscribed,Ae.TrackSubscriptionPermissionChanged,Ae.TrackSubscriptionFailed,Ae.LocalTrackPublished,Ae.LocalTrackUnpublished];Ae.ConnectionQualityChanged,Ae.IsSpeakingChanged,Ae.ParticipantMetadataChanged,Ae.ParticipantPermissionsChanged,Ae.TrackMuted,Ae.TrackUnmuted,Ae.TrackPublished,Ae.TrackUnpublished,Ae.TrackStreamStateChanged,Ae.TrackSubscriptionFailed,Ae.TrackSubscriptionPermissionChanged,Ae.TrackSubscriptionStatusChanged,Ae.LocalTrackPublished,Ae.LocalTrackUnpublished;var Vl=pue.getLogger("lk-components-js");function AD(e){return typeof e=="object"}function ND(e){return Array.isArray(e)&&e.filter(AD).length>0}function Bue(e){return`${zue}-${e}`}function E4(e){if(Tv(e))return e.publication;{const{source:t,name:n,participant:r}=e;if(t&&n)return r.getTrackPublications().find(o=>o.source===t&&o.trackName===n);if(n)return r.getTrackPublicationByName(n);if(t)return r.getTrackPublication(t);throw new Error("At least one of source and name needs to be defined")}}function RD(e,...t){return new kr(n=>{const r=()=>{n.next(e)};return t.forEach(o=>{e.on(o,r)}),()=>{t.forEach(o=>{e.off(o,r)})}}).pipe(Hl(e))}function Uue(e){return function(t,n){return new kr(r=>{const o=(...i)=>{r.next(i)};return t.on(n,o),()=>{t.off(n,o)}})}(e,Ce.ConnectionStateChanged).pipe(Rs(([t])=>t),Hl(e.state))}function ID(e,...t){return new kr(n=>{const r=()=>{n.next(e)};return t.forEach(o=>{e.on(o,r)}),()=>{t.forEach(o=>{e.off(o,r)})}}).pipe(Hl(e))}function MD(e){return ID(e,Ae.TrackMuted,Ae.TrackUnmuted,Ae.ParticipantPermissionsChanged,Ae.TrackPublished,Ae.TrackUnpublished,Ae.LocalTrackPublished,Ae.LocalTrackUnpublished,Ae.MediaDevicesError,Ae.TrackSubscriptionStatusChanged).pipe(Rs(t=>{const{isMicrophoneEnabled:n,isCameraEnabled:r,isScreenShareEnabled:o}=t,i=t.getTrackPublication(ye.Source.Microphone);return{isCameraEnabled:r,isMicrophoneEnabled:n,isScreenShareEnabled:o,cameraTrack:t.getTrackPublication(ye.Source.Camera),microphoneTrack:i,participant:t}}))}function LD(e,t){return new kr(n=>{const r=(...o)=>{n.next(o)};return e.on(t,r),()=>{e.off(t,r)}})}function DD(e,t,n=!0){const r=[e.localParticipant,...Array.from(e.remoteParticipants.values())],o=[];return r.forEach(i=>{t.forEach(a=>{const s=Array.from(i.trackPublications.values()).filter(l=>l.source===a&&(!n||l.track)).map(l=>({participant:i,publication:l,source:l.source}));o.push(...s)})}),{trackReferences:o,participants:r}}function jD(e,t,n=!1){const{sources:r,kind:o,name:i}=t;return Array.from(e.trackPublications.values()).filter(a=>(!r||r.includes(a.source))&&(!o||a.kind===o)&&(!i||a.trackName===i)&&(!n||a.track)).map(a=>({participant:e,publication:a,source:a.source}))}function zD(e,t){return new kr(n=>{const r=(...o)=>{n.next(o)};return e.on(t,r),()=>{e.off(t,r)}})}Vl.setDefaultLevel("WARN"),x.createContext(void 0);const Hue=x.createContext(void 0);function C4(){return x.useContext(Hue)}function FD(e){const t=C4(),n=e??t;if(!n)throw new Error("No TrackRef, make sure you are inside a TrackRefContext or pass the TrackRef explicitly");return n}const Vue=x.createContext(void 0);function O4(){return x.useContext(Vue)}const Jp=x.createContext(void 0);function Sv(e){const t=x.useContext(Jp),n=e??t;if(!n)throw new Error("No room provided, make sure you are inside a Room context or pass the room explicitly");return n}function BD(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=BD(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function UD(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=BD(e))&&(r&&(r+=" "),r+=t);return r}function $ue(...e){return(...t)=>{for(const n of e)if(typeof n=="function")try{n(...t)}catch{}}}function que(e){return e!==void 0}function HD(...e){return function(...t){const n=A({},t[0]);for(let r=1;r<t.length;r++){const o=t[r];for(const i in o){const a=n[i],s=o[i];typeof a=="function"&&typeof s=="function"&&i[0]==="o"&&i[1]==="n"&&i.charCodeAt(2)>=65&&i.charCodeAt(2)<=90?n[i]=$ue(a,s):n[i]=i!=="className"&&i!=="UNSAFE_className"||typeof a!="string"||typeof s!="string"?s!==void 0?s:a:UD(a,s)}}return n}(...e.filter(que))}function Zp(e,t,n=!0){const[r,o]=x.useState(t);return x.useEffect(()=>{if(n&&o(t),typeof window>"u"||!e)return;const i=e.subscribe(o);return()=>i.unsubscribe()},[e,n]),r}function VD(e){const t=function(r){var o;const i=O4(),a=C4(),s=(o=r??i)!=null?o:a==null?void 0:a.participant;if(!s)throw new Error("No participant provided, make sure you are inside a participant context or pass the participant explicitly");return s}(e),n=x.useMemo(()=>function(r){return LD(r,Ae.IsSpeakingChanged).pipe(Rs(([o])=>o))}(t),[t]);return Zp(n,t.isSpeaking)}function Wue(e={}){const t=Sv(e.room),[n,r]=x.useState([]);return x.useEffect(()=>{const o=function(i,a={}){var s;let l;const c=new kr(p=>(l=p,()=>h.unsubscribe())).pipe(Hl(Array.from(i.remoteParticipants.values()))),u=(s=a.additionalRoomEvents)!=null?s:PD,h=RD(i,...Array.from(new Set([Ce.ParticipantConnected,Ce.ParticipantDisconnected,Ce.ConnectionStateChanged,...u]))).subscribe(p=>l==null?void 0:l.next(Array.from(p.remoteParticipants.values())));return i.remoteParticipants.size>0&&(l==null||l.next(Array.from(i.remoteParticipants.values()))),c}(t,{additionalRoomEvents:e.updateOnlyOn}).subscribe(r);return()=>o.unsubscribe()},[t,JSON.stringify(e.updateOnlyOn)]),n}function P4(e=[ye.Source.Camera,ye.Source.Microphone,ye.Source.ScreenShare,ye.Source.ScreenShareAudio,ye.Source.Unknown],t={}){const n=Sv(t.room),[r,o]=x.useState([]),[i,a]=x.useState([]),s=x.useMemo(()=>e.map(l=>AD(l)?l.source:l),[JSON.stringify(e)]);return x.useEffect(()=>{const l=function(c,u,h){var p,d;const f=(p=h.additionalRoomEvents)!=null?p:PD,g=(d=h.onlySubscribed)==null||d;return RD(c,...Array.from(new Set([Ce.ParticipantConnected,Ce.ParticipantDisconnected,Ce.ConnectionStateChanged,Ce.LocalTrackPublished,Ce.LocalTrackUnpublished,Ce.TrackPublished,Ce.TrackUnpublished,Ce.TrackSubscriptionStatusChanged,...f]).values())).pipe(Rs(m=>{const v=DD(m,u,g);return Vl.debug(`TrackReference[] was updated. (length ${v.trackReferences.length})`,v),v}),Hl(DD(c,u,g)))}(n,s,{additionalRoomEvents:t.updateOnlyOn,onlySubscribed:t.onlySubscribed}).subscribe(({trackReferences:c,participants:u})=>{Vl.debug("setting track bundles",c,u),o(c),a(u)});return()=>l.unsubscribe()},[n,JSON.stringify(t.onlySubscribed),JSON.stringify(t.updateOnlyOn),JSON.stringify(e)]),x.useMemo(()=>{if(ND(e)){const l=function(u,h){const p=new Map;if(ND(u)){const d=u.filter(f=>f.withPlaceholder).map(f=>f.source);h.forEach(f=>{const g=f.getTrackPublications().map(v=>{var y;return(y=v.track)==null?void 0:y.source}).filter(v=>v!==void 0),m=Array.from(function(v,y){const b=new Set(v);for(const w of y)b.delete(w);return b}(new Set(d),new Set(g)));m.length>0&&p.set(f.identity,m)})}return p}(e,i),c=Array.from(r);return i.forEach(u=>{var h;l.has(u.identity)&&((h=l.get(u.identity))!=null?h:[]).forEach(p=>{if(r.find(({participant:f,publication:g})=>u.identity===f.identity&&g.source===p))return;Vl.debug(`Add ${p} placeholder for participant ${u.identity}.`);const d={participant:u,source:p};c.push(d)})}),c}return r},[r,i,e])}function $D(e,t={fftSize:32,smoothingTimeConstant:0}){const n=Tv(e)?e.publication.track:e,[r,o]=x.useState(0);return x.useEffect(()=>{if(!n||!n.mediaStream)return;const{cleanup:i,analyser:a}=pL(n,t),s=a.frequencyBinCount,l=new Uint8Array(s),c=setInterval(()=>{a.getByteFrequencyData(l);let u=0;for(let h=0;h<l.length;h++){const p=l[h];u+=p*p}o(Math.sqrt(u/l.length)/255)},1e3/30);return()=>{i(),clearInterval(c)}},[n,n==null?void 0:n.mediaStream,JSON.stringify(t)]),r}x.createContext(void 0);const Gue=e=>e.map(t=>t===-1/0?0:(n=>{let r=1- -1*Math.max(-100,Math.min(-10,n))/100;return r=Math.sqrt(r),r})(t)),Kue={bands:5,loPass:100,hiPass:600,updateInterval:32,analyserOptions:{fftSize:2048}};function qD(e,t){const n=function(){const a=x.useContext(Jp);if(!a)throw Error("tried to access room context outside of livekit room component");return a}(),r=O4(),o=t?n.getParticipantByIdentity(t):r,i=x.useMemo(()=>o?function(a,s){return ID(a,...Fue).pipe(Rs(l=>{const c=jD(l,s);return Vl.debug(`TrackReference[] was updated. (length ${c.length})`,c),c}),Hl(jD(a,s)))}(o,{sources:e}):void 0,[o==null?void 0:o.sid,o==null?void 0:o.identity,JSON.stringify(e)]);return Zp(i,[])}function Yue(e){var t,n,r;return Zp(x.useMemo(()=>{var o;return(o=e==null?void 0:e.publication)!=null&&o.track?function(i){return zD(i,Ve.TimeSyncUpdate).pipe(Rs(([a])=>a))}(e==null?void 0:e.publication.track):void 0},[(t=e==null?void 0:e.publication)==null?void 0:t.track]),{timestamp:Date.now(),rtpTimestamp:(r=(n=e==null?void 0:e.publication)==null?void 0:n.track)==null?void 0:r.rtpTimestamp})}const Que={bufferSize:100};function WD(e,t){const n=A(A({},Que),t),[r,o]=x.useState([]),i=Yue(e),a=s=>{var l;(l=n.onTranscription)==null||l.call(n,s),o(c=>function(u,h,p){return[...u,...h].reduceRight((d,f)=>(d.find(g=>g.id===f.id)||d.unshift(f),d),[]).slice(0-p)}(c,s.map(u=>function(h,p){var d;return jue(Due({},h),{receivedAtMediaTimestamp:(d=p.rtpTimestamp)!=null?d:0,receivedAt:p.timestamp})}(u,i)),n.bufferSize))};return x.useEffect(()=>{if(e==null||!e.publication)return;const s=function(l){return zD(l,Ve.TranscriptionReceived)}(e.publication).subscribe(l=>{a(...l)});return()=>{s.unsubscribe()}},[e&&OD(e),a]),{segments:r}}function Xue(e={}){var t;const n=O4(),r=(t=e.participant)!=null?t:n,o=x.useMemo(()=>function(i){return typeof i>"u"?new kr:LD(i,Ae.AttributesChanged).pipe(Rs(([a])=>({changed:a,attributes:i.attributes})),Hl({changed:i.attributes,attributes:i.attributes}))}(r),[r]);return Zp(o,{attributes:r==null?void 0:r.attributes})}const GD="lk.agent.state";function A4(){var e,t;const n=Wue(),r=n.find(d=>d.kind===Ud.AGENT&&!("lk.publish_on_behalf"in d.attributes)),o=n.find(d=>d.kind===Ud.AGENT&&d.attributes["lk.publish_on_behalf"]===(r==null?void 0:r.identity)),i=qD([ye.Source.Microphone,ye.Source.Camera],r==null?void 0:r.identity),a=qD([ye.Source.Microphone,ye.Source.Camera],o==null?void 0:o.identity),s=(e=i.find(d=>d.source===ye.Source.Microphone))!=null?e:a.find(d=>d.source===ye.Source.Microphone),l=(t=i.find(d=>d.source===ye.Source.Camera))!=null?t:a.find(d=>d.source===ye.Source.Camera),{segments:c}=WD(s),u=function(d){const f=Sv(d);return Zp(x.useMemo(()=>Uue(f),[f]),f.state)}(),{attributes:h}=Xue({participant:r}),p=x.useMemo(()=>u===on.Disconnected?"disconnected":u!==on.Connecting&&r&&h!=null&&h[GD]?h[GD]:"connecting",[h,r,u]);return{agent:r,state:p,audioTrack:s,videoTrack:l,agentTranscriptions:c,agentAttributes:h}}function KD(e,t={}){var n;const[r,o]=x.useState(E4(e)),[i,a]=x.useState(r==null?void 0:r.isMuted),[s,l]=x.useState(r==null?void 0:r.isSubscribed),[c,u]=x.useState(r==null?void 0:r.track),[h,p]=x.useState("landscape"),d=x.useRef(),{className:f,trackObserver:g}=x.useMemo(()=>function(m){const v=E4(m),y=MD(m.participant).pipe(Rs(()=>E4(m)),Hl(v));return{className:Bue(m.source===ye.Source.Camera||m.source===ye.Source.ScreenShare?"participant-media-video":"participant-media-audio"),trackObserver:y}}(e),[(n=e.participant.sid)!=null?n:e.participant.identity,e.source,Tv(e)&&e.publication.trackSid]);return x.useEffect(()=>{const m=g.subscribe(v=>{Vl.debug("update track",v),o(v),a(v==null?void 0:v.isMuted),l(v==null?void 0:v.isSubscribed),u(v==null?void 0:v.track)});return()=>m==null?void 0:m.unsubscribe()},[g]),x.useEffect(()=>{var m,v;return c&&(d.current&&c.detach(d.current),(m=t.element)!=null&&m.current&&!(e.participant.isLocal&&(c==null?void 0:c.kind)==="audio")&&c.attach(t.element.current)),d.current=(v=t.element)==null?void 0:v.current,()=>{d.current&&(c==null||c.detach(d.current))}},[c,t.element]),x.useEffect(()=>{var m,v;if(typeof((m=r==null?void 0:r.dimensions)==null?void 0:m.width)=="number"&&typeof((v=r==null?void 0:r.dimensions)==null?void 0:v.height)=="number"){const y=r.dimensions.width>r.dimensions.height?"landscape":"portrait";p(y)}},[r]),{publication:r,isMuted:i,isSubscribed:s,track:c,elementProps:HD(t.props,A({className:f,"data-lk-local-participant":e.participant.isLocal,"data-lk-source":r==null?void 0:r.source},(r==null?void 0:r.kind)==="video"&&{"data-lk-orientation":h}))}}var N4,YD,Jue=function(){if(YD)return N4;YD=1;var e=NaN,t="[object Symbol]",n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,a=parseInt,s=typeof vv=="object"&&vv&&vv.Object===Object&&vv,l=typeof self=="object"&&self&&self.Object===Object&&self,c=s||l||Function("return this")(),u=Object.prototype.toString,h=Math.max,p=Math.min,d=function(){return c.Date.now()};function f(m){var v=typeof m;return!!m&&(v=="object"||v=="function")}function g(m){if(typeof m=="number")return m;if(function(b){return typeof b=="symbol"||function(w){return!!w&&typeof w=="object"}(b)&&u.call(b)==t}(m))return e;if(f(m)){var v=typeof m.valueOf=="function"?m.valueOf():m;m=f(v)?v+"":v}if(typeof m!="string")return m===0?m:+m;m=m.replace(n,"");var y=o.test(m);return y||i.test(m)?a(m.slice(2),y?2:8):r.test(m)?e:+m}return N4=function(m,v,y){var b,w,k,_,O,E,C=0,N=!1,L=!1,j=!0;if(typeof m!="function")throw new TypeError("Expected a function");function H(U){var S=b,q=w;return b=w=void 0,C=U,_=m.apply(q,S)}function F(U){var S=U-E;return E===void 0||S>=v||S<0||L&&U-C>=k}function z(){var U=d();if(F(U))return B(U);O=setTimeout(z,function(S){var q=v-(S-E);return L?p(q,k-(S-C)):q}(U))}function B(U){return O=void 0,j&&b?H(U):(b=w=void 0,_)}function V(){var U=d(),S=F(U);if(b=arguments,w=this,E=U,S){if(O===void 0)return function(q){return C=q,O=setTimeout(z,v),N?H(q):_}(E);if(L)return O=setTimeout(z,v),H(E)}return O===void 0&&(O=setTimeout(z,v)),_}return v=g(v)||0,f(y)&&(N=!!y.leading,k=(L="maxWait"in y)?h(g(y.maxWait)||0,v):k,j="trailing"in y?!!y.trailing:j),V.cancel=function(){O!==void 0&&clearTimeout(O),C=0,b=E=w=O=void 0},V.flush=function(){return O===void 0?_:B(d())},V},N4}();const QD=XL(Jue);function Zue(e,t=500,n){const r=x.useRef();(function(i){const a=x.useRef(i);a.current=i,x.useEffect(()=>()=>{a.current()},[])})(()=>{r.current&&r.current.cancel()});const o=x.useMemo(()=>{const i=QD(e,t,n),a=(...s)=>i(...s);return a.cancel=()=>{i.cancel()},a.isPending=()=>!!r.current,a.flush=()=>i.flush(),a},[e,t,n]);return x.useEffect(()=>{r.current=QD(e,t,n)},[e,t,n]),o}const ede=x.forwardRef(function(e,t){var n=e,{onTrackClick:r,onClick:o,onSubscriptionStatusChanged:i,trackRef:a,manageSubscription:s}=n,l=xe(n,["onTrackClick","onClick","onSubscriptionStatusChanged","trackRef","manageSubscription"]);const c=FD(a),u=x.useRef(null);x.useImperativeHandle(t,()=>u.current);const h=function({threshold:m=0,root:v=null,rootMargin:y="0%",freezeOnceVisible:b=!1,initialIsIntersecting:w=!1,onChange:k}={}){var _;const[O,E]=x.useState(null),[C,N]=x.useState(()=>({isIntersecting:w,entry:void 0})),L=x.useRef();L.current=k;const j=((_=C.entry)==null?void 0:_.isIntersecting)&&b;x.useEffect(()=>{if(!O||!("IntersectionObserver"in window)||j)return;const z=new IntersectionObserver(B=>{const V=Array.isArray(z.thresholds)?z.thresholds:[z.thresholds];B.forEach(U=>{const S=U.isIntersecting&&V.some(q=>U.intersectionRatio>=q);N({isIntersecting:S,entry:U}),L.current&&L.current(S,U)})},{threshold:m,root:v,rootMargin:y});return z.observe(O),()=>{z.disconnect()}},[O,JSON.stringify(m),v,y,j,b]);const H=x.useRef(null);x.useEffect(()=>{var z;!O&&(z=C.entry)!=null&&z.target&&!b&&!j&&H.current!==C.entry.target&&(H.current=C.entry.target,N({isIntersecting:w,entry:void 0}))},[O,C.entry,b,j,w]);const F=[E,!!C.isIntersecting,C.entry];return F.ref=F[0],F.isIntersecting=F[1],F.entry=F[2],F}({root:u.current}),[p]=function(m,v,y){const b=m instanceof Function?m():m,[w,k]=x.useState(b),_=x.useRef(b),O=Zue(k,v,y);return((E,C)=>E===C)(_.current,b)||(O(b),_.current=b),[w,O]}(h,3e3);x.useEffect(()=>{s&&c.publication instanceof fv&&(p==null?void 0:p.isIntersecting)===!1&&(h==null?void 0:h.isIntersecting)===!1&&c.publication.setSubscribed(!1)},[p,c,s]),x.useEffect(()=>{s&&c.publication instanceof fv&&(h==null?void 0:h.isIntersecting)===!0&&c.publication.setSubscribed(!0)},[h,c,s]);const{elementProps:d,publication:f,isSubscribed:g}=KD(c,{element:u,props:l});return x.useEffect(()=>{i==null||i(!!g)},[g,i]),x.createElement("video",K(A({ref:u},d),{muted:!0,onClick:m=>{o==null||o(m),r==null||r({participant:c==null?void 0:c.participant,track:f})}}))}),tde=x.forwardRef(function(e,t){var n=e,{trackRef:r,onSubscriptionStatusChanged:o,volume:i}=n,a=xe(n,["trackRef","onSubscriptionStatusChanged","volume"]);const s=FD(r),l=x.useRef(null);x.useImperativeHandle(t,()=>l.current);const{elementProps:c,isSubscribed:u,track:h,publication:p}=KD(s,{element:l,props:a});return x.useEffect(()=>{o==null||o(!!u)},[u,o]),x.useEffect(()=>{h===void 0||i===void 0||(h instanceof WL?h.setVolume(i):Vl.warn("Volume can only be set on remote audio tracks."))},[i,h]),x.useEffect(()=>{p===void 0||a.muted===void 0||(p instanceof fv?p.setEnabled(!a.muted):Vl.warn("Can only call setEnabled on remote track publications."))},[a.muted,p,h]),x.createElement("audio",A({ref:l},c))});function XD({volume:e,muted:t}){const n=P4([ye.Source.Microphone,ye.Source.ScreenShareAudio,ye.Source.Unknown],{updateOnlyOn:[],onlySubscribed:!0}).filter(r=>!r.participant.isLocal&&r.publication.kind===ye.Kind.Audio);return x.createElement("div",{style:{display:"none"}},n.map(r=>x.createElement(tde,{key:OD(r),trackRef:r,volume:e,muted:t})))}const nde=e=>{const t=[];for(let n=0;n<e;n++)t.push([n,e-1-n]);return t},JD=e=>[[Math.floor(e/2)],[-1]],rde=new Map([["connecting",2e3],["initializing",2e3],["listening",500],["thinking",150]]),ode=x.forwardRef(function(e,t){var n,r,o,i=e,{state:a,options:s,barCount:l=15,trackRef:c,children:u}=i;const h=HD(xe(i,["state","options","barCount","trackRef","children"]),{className:"lk-audio-bar-visualizer"});let p=C4();c&&(p=c);const d=function(v,y={}){var b;const w=v instanceof ye?v:(b=v==null?void 0:v.publication)==null?void 0:b.track,k=A(A({},Kue),y),[_,O]=x.useState(new Array(k.bands).fill(0));return x.useEffect(()=>{if(!w||w==null||!w.mediaStream)return;const{analyser:E,cleanup:C}=pL(w,k.analyserOptions),N=E.frequencyBinCount,L=new Float32Array(N),j=setInterval(()=>{E.getFloatFrequencyData(L);let H=new Float32Array(L.length);for(let V=0;V<L.length;V++)H[V]=L[V];H=H.slice(y.loPass,y.hiPass);const F=Gue(H),z=Math.ceil(F.length/k.bands),B=[];for(let V=0;V<k.bands;V++){const U=F.slice(V*z,(V+1)*z).reduce((S,q)=>S+q,0);B.push(U/z)}O(B)},k.updateInterval);return()=>{C(),clearInterval(j)}},[w,w==null?void 0:w.mediaStream,JSON.stringify(y)]),_}(p,{bands:l,loPass:100,hiPass:200}),f=(n=s==null?void 0:s.minHeight)!=null?n:20,g=(r=s==null?void 0:s.maxHeight)!=null?r:100,m=((v,y,b)=>{const[w,k]=x.useState(0),[_,O]=x.useState([[]]);x.useEffect(()=>{if(v==="thinking")O(JD(y));else if(v==="connecting"||v==="initializing"){const C=[...nde(y)];O(C)}else O(v==="listening"?JD(y):v===void 0?[new Array(y).fill(0).map((C,N)=>N)]:[[]]);k(0)},[v,y]);const E=x.useRef(null);return x.useEffect(()=>{let C=performance.now();const N=L=>{L-C>=b&&(k(j=>j+1),C=L),E.current=requestAnimationFrame(N)};return E.current=requestAnimationFrame(N),()=>{E.current!==null&&cancelAnimationFrame(E.current)}},[b,y,v,_.length]),_[w%_.length]})(a,l,(o=((v,y)=>{if(v===void 0)return 1e3;let b=rde.get(v);return b&&v==="connecting"&&(b/=y),b})(a,l))!=null?o:100);return x.createElement("div",K(A({ref:t},h),{"data-lk-va-state":a}),d.map((v,y)=>u?function(b,w,k){return x.Children.map(b,_=>x.isValidElement(_)&&x.Children.only(b)?(_.props.class&&(w!=null||(w={}),w.class=UD(_.props.class,w.class),w.style=A(A({},_.props.style),w.style)),x.cloneElement(_,K(A({},w),{key:k}))):_)}(u,{"data-lk-highlighted":m.includes(y),"data-lk-bar-index":y,className:"lk-audio-bar",style:{height:`${Math.min(g,Math.max(f,100*v+5))}%`}}):x.createElement("span",{key:y,"data-lk-highlighted":m.includes(y),"data-lk-bar-index":y,className:`lk-audio-bar ${m.includes(y)&&"lk-highlighted"}`,style:{height:`${Math.min(g,Math.max(f,100*v+5))}%`}})))});function ide(){const{microphoneTrack:e,localParticipant:t}=function(n={}){const r=Sv(n.room),[o,i]=x.useState(r.localParticipant),[a,s]=x.useState(o.isMicrophoneEnabled),[l,c]=x.useState(o.isMicrophoneEnabled),[u,h]=x.useState(o.lastMicrophoneError),[p,d]=x.useState(o.lastCameraError),[f,g]=x.useState(o.isMicrophoneEnabled),[m,v]=x.useState(void 0),[y,b]=x.useState(void 0),w=k=>{c(k.isCameraEnabled),s(k.isMicrophoneEnabled),g(k.isScreenShareEnabled),b(k.cameraTrack),v(k.microphoneTrack),h(k.participant.lastMicrophoneError),d(k.participant.lastCameraError),i(k.participant)};return x.useEffect(()=>{const k=MD(r.localParticipant).subscribe(w);return()=>k.unsubscribe()},[r]),{isMicrophoneEnabled:a,isScreenShareEnabled:f,isCameraEnabled:l,microphoneTrack:m,cameraTrack:y,lastMicrophoneError:u,lastCameraError:p,localParticipant:o}}();return x.useMemo(()=>({participant:t,source:ye.Source.Microphone,publication:e}),[t,e])}var ade=Object.defineProperty,sde=Object.defineProperties,lde=Object.getOwnPropertyDescriptors,ZD=Object.getOwnPropertySymbols,cde=Object.prototype.hasOwnProperty,ude=Object.prototype.propertyIsEnumerable,ej=(e,t,n)=>t in e?ade(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ev=(e,t)=>{for(var n in t||(t={}))cde.call(t,n)&&ej(e,n,t[n]);if(ZD)for(var n of ZD(t))ude.call(t,n)&&ej(e,n,t[n]);return e},Cv=(e,t)=>sde(e,lde(t));const em=e=>{const[t,n]=x.useState(null),r=x.useRef(null);return x.useEffect(()=>{const o=e==null?void 0:e.current;if(!o)return void n(null);const i=()=>{const s=o.getBoundingClientRect();n({width:s.width,height:s.height,top:s.top,left:s.left,right:s.right,bottom:s.bottom})};i();const a=new ResizeObserver(()=>{r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{i()},300)});return a.observe(o),()=>{a.disconnect(),r.current&&clearTimeout(r.current)}},[e]),t};var Fa=function(){return Fa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Fa.apply(this,arguments)};function tj(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}var Ov="right-scroll-bar-position",Pv="width-before-scroll-bar";function R4(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}var dde=typeof window<"u"?x.useLayoutEffect:x.useEffect,nj=new WeakMap;function hde(e,t){var n=function(r,o){var i=x.useState(function(){return{value:r,callback:o,facade:{get current(){return i.value},set current(a){var s=i.value;s!==a&&(i.value=a,i.callback(a,s))}}}})[0];return i.callback=o,i.facade}(null,function(r){return e.forEach(function(o){return R4(o,r)})});return dde(function(){var r=nj.get(n);if(r){var o=new Set(r),i=new Set(e),a=n.current;o.forEach(function(s){i.has(s)||R4(s,null)}),i.forEach(function(s){o.has(s)||R4(s,a)})}nj.set(n,e)},[e]),n}function pde(e){return e}var rj=function(e){var t=e.sideCar,n=tj(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,Fa({},n))};rj.isSideCarExport=!0;var oj=function(e){e===void 0&&(e={});var t=function(n,r){r===void 0&&(r=pde);var o=[],i=!1,a={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return o.length?o[o.length-1]:n},useMedium:function(s){var l=r(s,i);return o.push(l),function(){o=o.filter(function(c){return c!==l})}},assignSyncMedium:function(s){for(i=!0;o.length;){var l=o;o=[],l.forEach(s)}o={push:function(c){return s(c)},filter:function(){return o}}},assignMedium:function(s){i=!0;var l=[];if(o.length){var c=o;o=[],c.forEach(s),l=o}var u=function(){var p=l;l=[],p.forEach(s)},h=function(){return Promise.resolve().then(u)};h(),o={push:function(p){l.push(p),h()},filter:function(p){return l=l.filter(p),o}}}};return a}(null);return t.options=Fa({async:!0,ssr:!1},e),t}(),I4=function(){},Av=x.forwardRef(function(e,t){var n=x.useRef(null),r=x.useState({onScrollCapture:I4,onWheelCapture:I4,onTouchMoveCapture:I4}),o=r[0],i=r[1],a=e.forwardProps,s=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,h=e.shards,p=e.sideCar,d=e.noIsolation,f=e.inert,g=e.allowPinchZoom,m=e.as,v=m===void 0?"div":m,y=e.gapMode,b=tj(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=p,k=hde([n,t]),_=Fa(Fa({},b),o);return x.createElement(x.Fragment,null,u&&x.createElement(w,{sideCar:oj,removeScrollBar:c,shards:h,noIsolation:d,inert:f,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:y}),a?x.cloneElement(x.Children.only(s),Fa(Fa({},_),{ref:k})):x.createElement(v,Fa({},_,{className:l,ref:k}),s))});Av.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},Av.classNames={fullWidth:Pv,zeroRight:Ov};function mde(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__}();return t&&e.setAttribute("nonce",t),e}var fde=function(){var e=0,t=null;return{add:function(n){e==0&&(t=mde())&&(function(r,o){r.styleSheet?r.styleSheet.cssText=o:r.appendChild(document.createTextNode(o))}(t,n),function(r){(document.head||document.getElementsByTagName("head")[0]).appendChild(r)}(t)),e++},remove:function(){!--e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ij=function(){var e=function(){var t=fde();return function(n,r){x.useEffect(function(){return t.add(n),function(){t.remove()}},[n&&r])}}();return function(t){var n=t.styles,r=t.dynamic;return e(n,r),null}},gde={left:0,top:0,right:0,gap:0},M4=function(e){return parseInt(e||"",10)||0},vde=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return gde;var t=function(o){var i=window.getComputedStyle(document.body),a=i[o==="padding"?"paddingLeft":"marginLeft"],s=i[o==="padding"?"paddingTop":"marginTop"],l=i[o==="padding"?"paddingRight":"marginRight"];return[M4(a),M4(s),M4(l)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},bde=ij(),Zd="data-scroll-locked",yde=function(e,t,n,r){var o=e.left,i=e.top,a=e.right,s=e.gap;return n===void 0&&(n="margin"),`
  .`.concat("with-scroll-bars-hidden",` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body[`).concat(Zd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ov,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(Pv,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(Ov," .").concat(Ov,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Pv," .").concat(Pv,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Zd,`] {
    `).concat("--removed-body-scroll-bar-size",": ").concat(s,`px;
  }
`)},aj=function(){var e=parseInt(document.body.getAttribute(Zd)||"0",10);return isFinite(e)?e:0},wde=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;x.useEffect(function(){return document.body.setAttribute(Zd,(aj()+1).toString()),function(){var a=aj()-1;a<=0?document.body.removeAttribute(Zd):document.body.setAttribute(Zd,a.toString())}},[]);var i=x.useMemo(function(){return vde(o)},[o]);return x.createElement(bde,{styles:yde(i,!t,o,n?"":"!important")})},L4=!1;if(typeof window<"u")try{var Nv=Object.defineProperty({},"passive",{get:function(){return L4=!0,!0}});window.addEventListener("test",Nv,Nv),window.removeEventListener("test",Nv,Nv)}catch{L4=!1}var eh=!!L4&&{passive:!1},sj=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!function(r){return r.tagName==="TEXTAREA"}(e)&&n[t]==="visible")},lj=function(e,t){var n=t.ownerDocument,r=t;do{if(typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host),cj(e,r)){var o=uj(e,r);if(o[1]>o[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},cj=function(e,t){return e==="v"?function(n){return sj(n,"overflowY")}(t):function(n){return sj(n,"overflowX")}(t)},uj=function(e,t){return e==="v"?function(n){return[n.scrollTop,n.scrollHeight,n.clientHeight]}(t):function(n){return[n.scrollLeft,n.scrollWidth,n.clientWidth]}(t)},Rv=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},dj=function(e){return[e.deltaX,e.deltaY]},hj=function(e){return e&&"current"in e?e.current:e},kde=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},xde=0,th=[];function _de(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Tde=function(e,t){return e.useMedium(t),rj}(oj,function(e){var t=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),o=x.useState(xde++)[0],i=x.useState(ij)[0],a=x.useRef(e);x.useEffect(function(){a.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var g=function(m,v,y){if(y||arguments.length===2)for(var b,w=0,k=v.length;w<k;w++)(b||!(w in v))&&(b||(b=Array.prototype.slice.call(v,0,w)),b[w]=v[w]);return m.concat(b||Array.prototype.slice.call(v))}([e.lockRef.current],(e.shards||[]).map(hj),!0).filter(Boolean);return g.forEach(function(m){return m.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),g.forEach(function(m){return m.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var s=x.useCallback(function(g,m){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!a.current.allowPinchZoom;var v,y=Rv(g),b=n.current,w="deltaX"in g?g.deltaX:b[0]-y[0],k="deltaY"in g?g.deltaY:b[1]-y[1],_=g.target,O=Math.abs(w)>Math.abs(k)?"h":"v";if("touches"in g&&O==="h"&&_.type==="range")return!1;var E=lj(O,_);if(!E)return!0;if(E?v=O:(v=O==="v"?"h":"v",E=lj(O,_)),!E)return!1;if(!r.current&&"changedTouches"in g&&(w||k)&&(r.current=v),!v)return!0;var C=r.current||v;return function(N,L,j,H,F){var z=function(ue,fe){return ue==="h"&&fe==="rtl"?-1:1}(N,window.getComputedStyle(L).direction),B=z*H,V=j.target,U=L.contains(V),S=!1,q=B>0,P=0,Q=0;do{var re=uj(N,V),_e=re[0],se=re[1]-re[2]-z*_e;(_e||se)&&cj(N,V)&&(P+=se,Q+=_e),V=V instanceof ShadowRoot?V.host:V.parentNode}while(!U&&V!==document.body||U&&(L.contains(V)||L===V));return(q&&Math.abs(P)<1||!q&&Math.abs(Q)<1)&&(S=!0),S}(C,m,g,C==="h"?w:k)},[]),l=x.useCallback(function(g){var m=g;if(th.length&&th[th.length-1]===i){var v="deltaY"in m?dj(m):Rv(m),y=t.current.filter(function(w){return w.name===m.type&&(w.target===m.target||m.target===w.shadowParent)&&function(k,_){return k[0]===_[0]&&k[1]===_[1]}(w.delta,v)})[0];if(y&&y.should)return void(m.cancelable&&m.preventDefault());if(!y){var b=(a.current.shards||[]).map(hj).filter(Boolean).filter(function(w){return w.contains(m.target)});(b.length>0?s(m,b[0]):!a.current.noIsolation)&&m.cancelable&&m.preventDefault()}}},[]),c=x.useCallback(function(g,m,v,y){var b={name:g,delta:m,target:v,should:y,shadowParent:_de(v)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(w){return w!==b})},1)},[]),u=x.useCallback(function(g){n.current=Rv(g),r.current=void 0},[]),h=x.useCallback(function(g){c(g.type,dj(g),g.target,s(g,e.lockRef.current))},[]),p=x.useCallback(function(g){c(g.type,Rv(g),g.target,s(g,e.lockRef.current))},[]);x.useEffect(function(){return th.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,eh),document.addEventListener("touchmove",l,eh),document.addEventListener("touchstart",u,eh),function(){th=th.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,eh),document.removeEventListener("touchmove",l,eh),document.removeEventListener("touchstart",u,eh)}},[]);var d=e.removeScrollBar,f=e.inert;return x.createElement(x.Fragment,null,f?x.createElement(i,{styles:kde(o)}):null,d?x.createElement(wde,{gapMode:e.gapMode}):null)});var pj=x.forwardRef(function(e,t){return x.createElement(Av,Fa({},e,{ref:t,sideCar:Tde}))});function ko(e){return Object.keys(e)}function D4(e){return e&&typeof e=="object"&&!Array.isArray(e)}function j4(e,t){const n=A({},e),r=t;return D4(e)&&D4(t)&&Object.keys(t).forEach(o=>{D4(r[o])&&o in e?n[o]=j4(n[o],r[o]):n[o]=r[o]}),n}function Iv(e){const t=function(n){var r;return typeof n=="string"&&n.includes("var(--mantine-scale)")?(r=n.match(/^calc\((.*?)\)$/))==null?void 0:r[1].split("*")[0].trim():n}(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?16*Number(t.replace("rem","")):t.includes("em")?16*Number(t.replace("em","")):Number(t):NaN}function z4(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function mj(e,{shouldScale:t=!1}={}){return function n(r){if(r===0||r==="0")return`0${e}`;if(typeof r=="number"){const o=`${r/16}${e}`;return t?z4(o):o}if(typeof r=="string"){if(r===""||r.startsWith("calc(")||r.startsWith("clamp(")||r.includes("rgba("))return r;if(r.includes(","))return r.split(",").map(i=>n(i)).join(",");if(r.includes(" "))return r.split(" ").map(i=>n(i)).join(" ");if(r.includes(e))return t?z4(r):r;const o=r.replace("px","");if(!Number.isNaN(Number(o))){const i=`${Number(o)/16}${e}`;return t?z4(i):i}}return r}}pj.classNames=Av.classNames;const Pe=mj("rem",{shouldScale:!0}),fj=mj("em");function nh(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}function gj(e){if(typeof e=="number")return!0;if(typeof e=="string"){if(e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!=="")return!0;const t=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return e.trim().split(/\s+/).every(n=>t.test(n))}return!1}function tm(e){return!Array.isArray(e)&&e!==null&&typeof e=="object"&&e.type!==x.Fragment}function Xi(e){const t=x.createContext(null);return[({children:n,value:r})=>Y.jsx(t.Provider,{value:r,children:n}),()=>{const n=x.useContext(t);if(n===null)throw new Error(e);return n}]}function F4(e=null){const t=x.createContext(e);return[({children:n,value:r})=>Y.jsx(t.Provider,{value:r,children:n}),()=>x.useContext(t)]}function vj(e,t){return n=>{if(typeof n!="string"||n.trim().length===0)throw new Error(t);return`${e}-${n}`}}function Mv(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function bj({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:o=!1,dir:i="rtl",orientation:a}){return s=>{var l;n==null||n(s);const c=Array.from(((l=Mv(s.currentTarget,e))==null?void 0:l.querySelectorAll(t))||[]).filter(d=>function(f,g,m){return Mv(f,m)===Mv(g,m)}(s.currentTarget,d,e)),u=c.findIndex(d=>s.currentTarget===d),h=function(d,f,g){for(let m=d+1;m<f.length;m+=1)if(!f[m].disabled)return m;if(g){for(let m=0;m<f.length;m+=1)if(!f[m].disabled)return m}return d}(u,c,r),p=function(d,f,g){for(let m=d-1;m>=0;m-=1)if(!f[m].disabled)return m;if(g){for(let m=f.length-1;m>-1;m-=1)if(!f[m].disabled)return m}return d}(u,c,r);switch(s.key){case"ArrowRight":case"ArrowLeft":break;case"ArrowUp":s.stopPropagation(),s.preventDefault(),c[p].focus(),o&&c[p].click();break;case"ArrowDown":s.stopPropagation(),s.preventDefault(),c[h].focus(),o&&c[h].click();break;case"Home":s.stopPropagation(),s.preventDefault(),!c[0].disabled&&c[0].focus();break;case"End":{s.stopPropagation(),s.preventDefault();const d=c.length-1;!c[d].disabled&&c[d].focus();break}}}}const Sde={app:100,modal:200,popover:300,overlay:400,max:9999};function Ji(e){return Sde[e]}const Ede=()=>{};function Cde(e,t={active:!0}){return typeof e=="function"&&t.active?n=>{var r;n.key==="Escape"&&(e(n),(r=t.onTrigger)==null||r.call(t))}:t.onKeyDown||Ede}function $n(e,t="size",n=!0){if(e!==void 0)return gj(e)?n?Pe(e):e:`var(--${t}-${e})`}function xo(e){return $n(e,"mantine-spacing")}function Ur(e){return e===void 0?"var(--mantine-radius-default)":$n(e,"mantine-radius")}function ei(e){return $n(e,"mantine-font-size")}function Ode(e){return $n(e,"mantine-line-height",!1)}function B4(e){if(e)return $n(e,"mantine-shadow",!1)}function Ba(e,t){return n=>{e==null||e(n),t==null||t(n)}}function Pde(e,t){return Iv(e in t?t[e]:e)}function Lv(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function U4(e){var t;const n=fn.version;return typeof fn.version!="string"||n.startsWith("18.")?e==null?void 0:e.ref:(t=e==null?void 0:e.props)==null?void 0:t.ref}function yj(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=yj(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function eo(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=yj(e))&&(r&&(r+=" "),r+=t);return r}const Ade={};function Dv({theme:e,classNames:t,props:n,stylesCtx:r}){const o=(Array.isArray(t)?t:[t]).map(i=>typeof i=="function"?i(e,n,r):i||Ade);return function(i){const a={};return i.forEach(s=>{Object.entries(s).forEach(([l,c])=>{a[l]?a[l]=eo(a[l],c):a[l]=c})}),a}(o)}function jv({theme:e,styles:t,props:n,stylesCtx:r}){return(Array.isArray(t)?t:[t]).reduce((o,i)=>A(A({},o),typeof i=="function"?i(e,n,r):i),{})}const wj=x.createContext(null);function $l(){const e=x.useContext(wj);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function H4(){return $l().getStyleNonce}function kj(){return $l().env||"default"}function V4(e){return function(t){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(t)}(e)?function(t){let n=t.replace("#","");if(n.length===3){const o=n.split("");n=[o[0],o[0],o[1],o[1],o[2],o[2]].join("")}if(n.length===8){const o=parseInt(n.slice(6,8),16)/255;return{r:parseInt(n.slice(0,2),16),g:parseInt(n.slice(2,4),16),b:parseInt(n.slice(4,6),16),a:o}}const r=parseInt(n,16);return{r:r>>16&255,g:r>>8&255,b:255&r,a:1}}(e):e.startsWith("rgb")?function(t){const[n,r,o,i]=t.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:n,g:r,b:o,a:i||1}}(e):e.startsWith("hsl")?function(t){const n=t.match(/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i);if(!n)return{r:0,g:0,b:0,a:1};const r=parseInt(n[1],10),o=parseInt(n[2],10)/100,i=parseInt(n[3],10)/100,a=n[5]?parseFloat(n[5]):void 0,s=(1-Math.abs(2*i-1))*o,l=r/60,c=s*(1-Math.abs(l%2-1)),u=i-s/2;let h,p,d;return l>=0&&l<1?(h=s,p=c,d=0):l>=1&&l<2?(h=c,p=s,d=0):l>=2&&l<3?(h=0,p=s,d=c):l>=3&&l<4?(h=0,p=c,d=s):l>=4&&l<5?(h=c,p=0,d=s):(h=s,p=0,d=c),{r:Math.round(255*(h+u)),g:Math.round(255*(p+u)),b:Math.round(255*(d+u)),a:a||1}}(e):{r:0,g:0,b:0,a:1}}function zv(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${100*t}%)`;const{r:n,g:r,b:o,a:i}=V4(e),a=1-t,s=l=>Math.round(l*a);return`rgba(${s(n)}, ${s(r)}, ${s(o)}, ${i})`}function nm(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function $4(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function Nde(e){if(e.startsWith("oklch("))return(function(a){const s=a.match(/oklch\((.*?)%\s/);return s?parseFloat(s[1]):null}(e)||0)/100;const{r:t,g:n,b:r}=V4(e),o=n/255,i=r/255;return .2126*$4(t/255)+.7152*$4(o)+.0722*$4(i)}function rm(e,t=.179){return!e.startsWith("var(")&&Nde(e)>t}function rh({color:e,theme:t,colorScheme:n}){if(typeof e!="string")throw new Error("[@mantine/core] Failed to parse color. Expected color to be a string, instead got "+typeof e);if(e==="bright")return{color:e,value:n==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:rm(n==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:n==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:rm(n==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:rm(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[r,o]=e.split("."),i=o?Number(o):void 0,a=r in t.colors;if(a){const s=i!==void 0?t.colors[r][i]:t.colors[r][nm(t,n||"light")];return{color:r,value:s,shade:i,isThemeColor:a,isLight:rm(s,t.luminanceThreshold),variable:o?`--mantine-color-${r}-${i}`:`--mantine-color-${r}-filled`}}return{color:e,value:e,isThemeColor:a,isLight:rm(e,t.luminanceThreshold),shade:i,variable:void 0}}function gi(e,t){const n=rh({color:e||t.primaryColor,theme:t});return n.variable?`var(${n.variable})`:e}function q4(e,t){var n,r;const o={from:(e==null?void 0:e.from)||t.defaultGradient.from,to:(e==null?void 0:e.to)||t.defaultGradient.to,deg:(r=(n=e==null?void 0:e.deg)!=null?n:t.defaultGradient.deg)!=null?r:0},i=gi(o.from,t),a=gi(o.to,t);return`linear-gradient(${o.deg}deg, ${i} 0%, ${a} 100%)`}function Ua(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var("))return`color-mix(in srgb, ${e}, transparent ${100*(1-t)}%)`;if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r:n,g:r,b:o}=V4(e);return`rgba(${n}, ${r}, ${o}, ${t})`}const oh=Ua,xj="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",W4={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:{dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:({color:e,theme:t,variant:n,gradient:r,autoContrast:o})=>{const i=rh({color:e,theme:t}),a=typeof o=="boolean"?o:t.autoContrast;if(n==="filled"){const s=a&&i.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return i.isThemeColor?i.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:s,border:`${Pe(1)} solid transparent`}:{background:`var(--mantine-color-${i.color}-${i.shade})`,hover:`var(--mantine-color-${i.color}-${i.shade===9?8:i.shade+1})`,color:s,border:`${Pe(1)} solid transparent`}:{background:e,hover:zv(e,.1),color:s,border:`${Pe(1)} solid transparent`}}if(n==="light"){if(i.isThemeColor){if(i.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${Pe(1)} solid transparent`};const s=t.colors[i.color][i.shade];return{background:Ua(s,.1),hover:Ua(s,.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${Pe(1)} solid transparent`}}return{background:Ua(e,.1),hover:Ua(e,.12),color:e,border:`${Pe(1)} solid transparent`}}return n==="outline"?i.isThemeColor?i.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${Pe(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:Ua(t.colors[i.color][i.shade],.05),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${Pe(1)} solid var(--mantine-color-${i.color}-${i.shade})`}:{background:"transparent",hover:Ua(e,.05),color:e,border:`${Pe(1)} solid ${e}`}:n==="subtle"?i.isThemeColor?i.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${Pe(1)} solid transparent`}:{background:"transparent",hover:Ua(t.colors[i.color][i.shade],.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${Pe(1)} solid transparent`}:{background:"transparent",hover:Ua(e,.12),color:e,border:`${Pe(1)} solid transparent`}:n==="transparent"?i.isThemeColor?i.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${Pe(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${Pe(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${Pe(1)} solid transparent`}:n==="white"?i.isThemeColor?i.shade===void 0?{background:"var(--mantine-color-white)",hover:zv(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${Pe(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:zv(t.white,.01),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${Pe(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:zv(t.white,.01),color:e,border:`${Pe(1)} solid transparent`}:n==="gradient"?{background:q4(r,t),hover:q4(r,t),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${Pe(1)} solid var(--mantine-color-default-border)`}:{}},autoContrast:!1,luminanceThreshold:.3,fontFamily:xj,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:xj,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:Pe(34),lineHeight:"1.3"},h2:{fontSize:Pe(26),lineHeight:"1.35"},h3:{fontSize:Pe(22),lineHeight:"1.4"},h4:{fontSize:Pe(18),lineHeight:"1.45"},h5:{fontSize:Pe(16),lineHeight:"1.5"},h6:{fontSize:Pe(14),lineHeight:"1.5"}}},fontSizes:{xs:Pe(12),sm:Pe(14),md:Pe(16),lg:Pe(18),xl:Pe(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:Pe(2),sm:Pe(4),md:Pe(8),lg:Pe(16),xl:Pe(32)},spacing:{xs:Pe(10),sm:Pe(12),md:Pe(16),lg:Pe(20),xl:Pe(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${Pe(1)} ${Pe(3)} rgba(0, 0, 0, 0.05), 0 ${Pe(1)} ${Pe(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${Pe(1)} ${Pe(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Pe(10)} ${Pe(15)} ${Pe(-5)}, rgba(0, 0, 0, 0.04) 0 ${Pe(7)} ${Pe(7)} ${Pe(-5)}`,md:`0 ${Pe(1)} ${Pe(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Pe(20)} ${Pe(25)} ${Pe(-5)}, rgba(0, 0, 0, 0.04) 0 ${Pe(10)} ${Pe(10)} ${Pe(-5)}`,lg:`0 ${Pe(1)} ${Pe(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Pe(28)} ${Pe(23)} ${Pe(-7)}, rgba(0, 0, 0, 0.04) 0 ${Pe(12)} ${Pe(12)} ${Pe(-7)}`,xl:`0 ${Pe(1)} ${Pe(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Pe(36)} ${Pe(28)} ${Pe(-7)}, rgba(0, 0, 0, 0.04) 0 ${Pe(17)} ${Pe(17)} ${Pe(-7)}`},other:{},components:{}};function _j(e){return e==="auto"||e==="dark"||e==="light"}function Rde({key:e="mantine-color-scheme-value"}={}){let t;return{get:n=>{if(typeof window>"u")return n;try{const r=window.localStorage.getItem(e);return _j(r)?r:n}catch{return n}},set:n=>{try{window.localStorage.setItem(e,n)}catch{}},subscribe:n=>{t=r=>{r.storageArea===window.localStorage&&r.key===e&&_j(r.newValue)&&n(r.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const Ide="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more – https://mantine.dev/theming/colors/#primary-color",Tj="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function G4(e){return!(e<0||e>9)&&parseInt(e.toString(),10)===e}function Sj(e){if(!(e.primaryColor in e.colors))throw new Error(Ide);if(!(typeof e.primaryShade!="object"||G4(e.primaryShade.dark)&&G4(e.primaryShade.light)))throw new Error(Tj);if(typeof e.primaryShade=="number"&&!G4(e.primaryShade))throw new Error(Tj)}const K4=x.createContext(null),Mde=()=>x.useContext(K4)||W4;function _o(){const e=x.useContext(K4);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function Ej({theme:e,children:t,inherit:n=!0}){const r=Mde(),o=x.useMemo(()=>function(i,a){var s;if(!a)return Sj(i),i;const l=j4(i,a);return a.fontFamily&&!((s=a.headings)!=null&&s.fontFamily)&&(l.headings.fontFamily=a.fontFamily),Sj(l),l}(n?r:W4,e),[e,r,n]);return Y.jsx(K4.Provider,{value:o,children:t})}function Lde(){const e=_o(),t=H4(),n=ko(e.breakpoints).reduce((r,o)=>{const i=e.breakpoints[o].includes("px"),a=Iv(e.breakpoints[o]);return`${r}@media (max-width: ${i?a-.1+"px":fj(a-.1)}) {.mantine-visible-from-${o} {display: none !important;}}@media (min-width: ${i?`${a}px`:fj(a)}) {.mantine-hidden-from-${o} {display: none !important;}}`},"");return Y.jsx("style",{"data-mantine-styles":"classes",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:n}})}function Y4(e){return Object.entries(e).map(([t,n])=>`${t}: ${n};`).join("")}function Q4(e,t){return(Array.isArray(e)?e:[e]).reduce((n,r)=>`${r}{${n}}`,t)}function Cj(e,t){return function({color:n,theme:r,autoContrast:o}){return r.autoContrast&&rh({color:n||r.primaryColor,theme:r}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}({color:e.colors[e.primaryColor][nm(e,t)],theme:e,autoContrast:null})}function Fv({theme:e,color:t,colorScheme:n,name:r=t,withColorValues:o=!0}){if(!e.colors[t])return{};if(n==="light"){const s=nm(e,"light"),l={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-filled)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${s})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${s===9?8:s+1})`,[`--mantine-color-${r}-light`]:oh(e.colors[t][s],.1),[`--mantine-color-${r}-light-hover`]:oh(e.colors[t][s],.12),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${s})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${s})`,[`--mantine-color-${r}-outline-hover`]:oh(e.colors[t][s],.05)};return o?A({[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9]},l):l}const i=nm(e,"dark"),a={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-4)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${i})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${i===9?8:i+1})`,[`--mantine-color-${r}-light`]:oh(e.colors[t][Math.max(0,i-2)],.15),[`--mantine-color-${r}-light-hover`]:oh(e.colors[t][Math.max(0,i-2)],.2),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${Math.max(i-5,0)})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${Math.max(i-4,0)})`,[`--mantine-color-${r}-outline-hover`]:oh(e.colors[t][Math.max(i-4,0)],.05)};return o?A({[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9]},a):a}function ih(e,t,n){ko(t).forEach(r=>Object.assign(e,{[`--mantine-${n}-${r}`]:t[r]}))}Ej.displayName="@mantine/core/MantineThemeProvider";const Oj=e=>{const t=nm(e,"light"),n=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:Pe(e.defaultRadius),r={variables:{"--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":Cj(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":Cj(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};ih(r.variables,e.breakpoints,"breakpoint"),ih(r.variables,e.spacing,"spacing"),ih(r.variables,e.fontSizes,"font-size"),ih(r.variables,e.lineHeights,"line-height"),ih(r.variables,e.shadows,"shadow"),ih(r.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((i,a)=>{r.variables[`--mantine-primary-color-${a}`]=`var(--mantine-color-${e.primaryColor}-${a})`}),ko(e.colors).forEach(i=>{const a=e.colors[i];if(function(s){return!!s&&typeof s=="object"&&"mantine-virtual-color"in s}(a))return Object.assign(r.light,Fv({theme:e,name:a.name,color:a.light,colorScheme:"light",withColorValues:!0})),void Object.assign(r.dark,Fv({theme:e,name:a.name,color:a.dark,colorScheme:"dark",withColorValues:!0}));a.forEach((s,l)=>{r.variables[`--mantine-color-${i}-${l}`]=s}),Object.assign(r.light,Fv({theme:e,color:i,colorScheme:"light",withColorValues:!1})),Object.assign(r.dark,Fv({theme:e,color:i,colorScheme:"dark",withColorValues:!1}))});const o=e.headings.sizes;return ko(o).forEach(i=>{r.variables[`--mantine-${i}-font-size`]=o[i].fontSize,r.variables[`--mantine-${i}-line-height`]=o[i].lineHeight,r.variables[`--mantine-${i}-font-weight`]=o[i].fontWeight||e.headings.fontWeight}),r},X4=Oj(W4);function Dde(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function Pj({cssVariablesSelector:e,deduplicateCssVariables:t}){const n=_o(),r=H4(),o=function({theme:l,generator:c}){const u=Oj(l),h=c==null?void 0:c(l);return h?j4(u,h):u}({theme:n,generator:$l().cssVariablesResolver}),i=e===":root"&&t,a=i?function(l){const c={variables:{},light:{},dark:{}};return ko(l.variables).forEach(u=>{X4.variables[u]!==l.variables[u]&&(c.variables[u]=l.variables[u])}),ko(l.light).forEach(u=>{X4.light[u]!==l.light[u]&&(c.light[u]=l.light[u])}),ko(l.dark).forEach(u=>{X4.dark[u]!==l.dark[u]&&(c.dark[u]=l.dark[u])}),c}(o):o,s=function(l,c){const u=Y4(l.variables),h=u?Q4(c,u):"",p=Y4(l.dark),d=Y4(l.light);return`${h}${p?Q4(c===":host"?`${c}([data-mantine-color-scheme="dark"])`:`${c}[data-mantine-color-scheme="dark"]`,p):""}${d?Q4(c===":host"?`${c}([data-mantine-color-scheme="light"])`:`${c}[data-mantine-color-scheme="light"]`,d):""}`}(a,e);return s?Y.jsx("style",{"data-mantine-styles":!0,nonce:r==null?void 0:r(),dangerouslySetInnerHTML:{__html:`${s}${i?"":Dde(e)}`}}):null}function ah(e,t){var n,r;const o=typeof window<"u"&&"matchMedia"in window&&((n=window.matchMedia("(prefers-color-scheme: dark)"))==null?void 0:n.matches),i=e!=="auto"?e:o?"dark":"light";(r=t())==null||r.setAttribute("data-mantine-color-scheme",i)}function Aj({theme:e,children:t,getStyleNonce:n,withStaticClasses:r=!0,withGlobalClasses:o=!0,deduplicateCssVariables:i=!0,withCssVariables:a=!0,cssVariablesSelector:s=":root",classNamesPrefix:l="mantine",colorSchemeManager:c=Rde(),defaultColorScheme:u="light",getRootElement:h=()=>document.documentElement,cssVariablesResolver:p,forceColorScheme:d,stylesTransform:f,env:g}){const{colorScheme:m,setColorScheme:v,clearColorScheme:y}=function({manager:b,defaultColorScheme:w,getRootElement:k,forceColorScheme:_}){const O=x.useRef(null),[E,C]=x.useState(()=>b.get(w)),N=_||E,L=x.useCallback(H=>{_||(ah(H,k),C(H),b.set(H))},[b.set,N,_]),j=x.useCallback(()=>{C(w),ah(w,k),b.clear()},[b.clear,w]);return x.useEffect(()=>(b.subscribe(L),b.unsubscribe),[b.subscribe,b.unsubscribe]),Nd(()=>{ah(b.get(w),k)},[]),x.useEffect(()=>{var H;if(_)return ah(_,k),()=>{};_===void 0&&ah(E,k),typeof window<"u"&&"matchMedia"in window&&(O.current=window.matchMedia("(prefers-color-scheme: dark)"));const F=z=>{E==="auto"&&ah(z.matches?"dark":"light",k)};return(H=O.current)==null||H.addEventListener("change",F),()=>{var z;return(z=O.current)==null?void 0:z.removeEventListener("change",F)}},[E,_]),{colorScheme:N,setColorScheme:L,clearColorScheme:j}}({defaultColorScheme:u,forceColorScheme:d,manager:c,getRootElement:h});return function({respectReducedMotion:b,getRootElement:w}){Nd(()=>{var k;b&&((k=w())==null||k.setAttribute("data-respect-reduced-motion","true"))},[b])}({respectReducedMotion:(e==null?void 0:e.respectReducedMotion)||!1,getRootElement:h}),Y.jsx(wj.Provider,{value:{colorScheme:m,setColorScheme:v,clearColorScheme:y,getRootElement:h,classNamesPrefix:l,getStyleNonce:n,cssVariablesResolver:p,cssVariablesSelector:s,withStaticClasses:r,stylesTransform:f,env:g},children:Y.jsxs(Ej,{theme:e,children:[a&&Y.jsx(Pj,{cssVariablesSelector:s,deduplicateCssVariables:i}),o&&Y.jsx(Lde,{}),t]})})}function J4({classNames:e,styles:t,props:n,stylesCtx:r}){const o=_o();return{resolvedClassNames:Dv({theme:o,classNames:e,props:n,stylesCtx:r||void 0}),resolvedStyles:jv({theme:o,styles:t,props:n,stylesCtx:r||void 0})}}Pj.displayName="@mantine/CssVariables",function(){const e=console.error;console.error=(...t)=>{t.length>1&&typeof t[0]=="string"&&t[0].toLowerCase().includes("extra attributes from the server")&&typeof t[1]=="string"&&t[1].toLowerCase().includes("data-mantine-color-scheme")||e(...t)}}(),Aj.displayName="@mantine/core/MantineProvider";const jde={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function Nj({selector:e,stylesCtx:t,theme:n,classNames:r,props:o}){return Dv({theme:n,classNames:r,props:o,stylesCtx:t})[e]}function zde({theme:e,options:t,themeName:n,selector:r,classNamesPrefix:o,classNames:i,classes:a,unstyled:s,className:l,rootSelector:c,props:u,stylesCtx:h,withStaticClasses:p,headless:d,transformedStyles:f}){return eo(function({theme:g,options:m,unstyled:v}){return eo((m==null?void 0:m.focusable)&&!v&&(g.focusClassName||jde[g.focusRing]),(m==null?void 0:m.active)&&!v&&g.activeClassName)}({theme:e,options:t,unstyled:s||d}),function({themeName:g,theme:m,selector:v,props:y,stylesCtx:b}){return g.map(w=>{var k,_;return(_=Dv({theme:m,classNames:(k=m.components[w])==null?void 0:k.classNames,props:y,stylesCtx:b}))==null?void 0:_[v]})}({theme:e,themeName:n,selector:r,props:u,stylesCtx:h}),function({options:g,classes:m,selector:v,unstyled:y}){return g!=null&&g.variant&&!y?m[`${v}--${g.variant}`]:void 0}({options:t,classes:a,selector:r,unstyled:s}),Nj({selector:r,stylesCtx:h,theme:e,classNames:i,props:u}),Nj({selector:r,stylesCtx:h,theme:e,classNames:f,props:u}),function({selector:g,stylesCtx:m,options:v,props:y,theme:b}){return Dv({theme:b,classNames:v==null?void 0:v.classNames,props:(v==null?void 0:v.props)||y,stylesCtx:m})[g]}({selector:r,stylesCtx:h,options:t,props:u,theme:e}),function({rootSelector:g,selector:m,className:v}){return g===m?v:void 0}({rootSelector:c,selector:r,className:l}),function({selector:g,classes:m,unstyled:v}){return v?void 0:m[g]}({selector:r,classes:a,unstyled:s||d}),p&&!d&&function({themeName:g,classNamesPrefix:m,selector:v,withStaticClass:y}){return y===!1?[]:g.map(b=>`${m}-${b}-${v}`)}({themeName:n,classNamesPrefix:o,selector:r,withStaticClass:t==null?void 0:t.withStaticClass}),t==null?void 0:t.className)}function Z4({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((n,r)=>A(A({},n),Z4({style:r,theme:t})),{}):typeof e=="function"?e(t):e??{}}function Fde({vars:e,varsResolver:t,theme:n,props:r,stylesCtx:o,selector:i,themeName:a,headless:s}){var l;return(l=function(c){return c.reduce((u,h)=>(h&&Object.keys(h).forEach(p=>{u[p]=A(A({},u[p]),nh(h[p]))}),u),{})}([s?{}:t==null?void 0:t(n,r,o),...a.map(c=>{var u,h,p;return(p=(h=(u=n.components)==null?void 0:u[c])==null?void 0:h.vars)==null?void 0:p.call(h,n,r,o)}),e==null?void 0:e(n,r,o)]))==null?void 0:l[i]}function Bde({theme:e,themeName:t,selector:n,options:r,props:o,stylesCtx:i,rootSelector:a,styles:s,style:l,vars:c,varsResolver:u,headless:h,withStylesTransform:p}){return A(A(A(A(A(A({},!p&&function({theme:d,themeName:f,props:g,stylesCtx:m,selector:v}){return f.map(y=>{var b;return jv({theme:d,styles:(b=d.components[y])==null?void 0:b.styles,props:g,stylesCtx:m})[v]}).reduce((y,b)=>A(A({},y),b),{})}({theme:e,themeName:t,props:o,stylesCtx:i,selector:n})),!p&&jv({theme:e,styles:s,props:o,stylesCtx:i})[n]),!p&&jv({theme:e,styles:r==null?void 0:r.styles,props:(r==null?void 0:r.props)||o,stylesCtx:i})[n]),Fde({theme:e,props:o,stylesCtx:i,vars:c,varsResolver:u,selector:n,themeName:t,headless:h})),a===n?Z4({style:l,theme:e}):null),Z4({style:r==null?void 0:r.style,theme:e}))}function Ude({props:e,stylesCtx:t,themeName:n}){var r;const o=_o(),i=(r=function(){var a;return(a=$l().stylesTransform)==null?void 0:a.styles}())==null?void 0:r();return{getTransformedStyles:a=>i?[...a.map(s=>i(s,{props:e,theme:o,ctx:t})),...n.map(s=>{var l;return i((l=o.components[s])==null?void 0:l.styles,{props:e,theme:o,ctx:t})})].filter(Boolean):[],withStylesTransform:!!i}}function Rt({name:e,classes:t,props:n,stylesCtx:r,className:o,style:i,rootSelector:a="root",unstyled:s,classNames:l,styles:c,vars:u,varsResolver:h}){const p=_o(),d=$l().classNamesPrefix,f=$l().withStaticClasses,g=$l().headless,m=(Array.isArray(e)?e:[e]).filter(b=>b),{withStylesTransform:v,getTransformedStyles:y}=Ude({props:n,stylesCtx:r,themeName:m});return(b,w)=>({className:zde({theme:p,options:w,themeName:m,selector:b,classNamesPrefix:d,classNames:l,classes:t,unstyled:s,className:o,rootSelector:a,props:n,stylesCtx:r,withStaticClasses:f,headless:g,transformedStyles:y([w==null?void 0:w.styles,c])}),style:Bde({theme:p,themeName:m,selector:b,options:w,props:n,stylesCtx:r,rootSelector:a,styles:c,style:i,vars:u,varsResolver:h,headless:g,withStylesTransform:v})})}function Ze(e,t,n){var r;const o=_o(),i=(r=o.components[e])==null?void 0:r.defaultProps,a=typeof i=="function"?i(o):i;return A(A(A({},t),a),nh(n))}function e_(e){return ko(e).reduce((t,n)=>e[n]!==void 0?`${t}${function(r){return r.replace(/[A-Z]/g,o=>`-${o.toLowerCase()}`)}(n)}:${e[n]};`:t,"").trim()}function Hde({selector:e,styles:t,media:n,container:r}){const o=t?e_(t):"",i=Array.isArray(n)?n.map(s=>`@media${s.query}{${e}{${e_(s.styles)}}}`):[],a=Array.isArray(r)?r.map(s=>`@container ${s.query}{${e}{${e_(s.styles)}}}`):[];return`${o?`${e}{${o}}`:""}${i.join("")}${a.join("")}`.trim()}function Bv(e){const t=H4();return Y.jsx("style",{"data-mantine-styles":"inline",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:Hde(e)}})}function t_(e){const t=e,{m:n,mx:r,my:o,mt:i,mb:a,ml:s,mr:l,me:c,ms:u,p:h,px:p,py:d,pt:f,pb:g,pl:m,pr:v,pe:y,ps:b,bd:w,bg:k,c:_,opacity:O,ff:E,fz:C,fw:N,lts:L,ta:j,lh:H,fs:F,tt:z,td:B,w:V,miw:U,maw:S,h:q,mih:P,mah:Q,bgsz:re,bgp:_e,bgr:se,bga:ue,pos:fe,top:je,left:Qe,bottom:Xe,right:ie,inset:Se,display:ae,flex:pe,hiddenFrom:Te,visibleFrom:be,lightHidden:we,darkHidden:Oe,sx:ke}=t,Me=xe(t,["m","mx","my","mt","mb","ml","mr","me","ms","p","px","py","pt","pb","pl","pr","pe","ps","bd","bg","c","opacity","ff","fz","fw","lts","ta","lh","fs","tt","td","w","miw","maw","h","mih","mah","bgsz","bgp","bgr","bga","pos","top","left","bottom","right","inset","display","flex","hiddenFrom","visibleFrom","lightHidden","darkHidden","sx"]);return{styleProps:nh({m:n,mx:r,my:o,mt:i,mb:a,ml:s,mr:l,me:c,ms:u,p:h,px:p,py:d,pt:f,pb:g,pl:m,pr:v,pe:y,ps:b,bd:w,bg:k,c:_,opacity:O,ff:E,fz:C,fw:N,lts:L,ta:j,lh:H,fs:F,tt:z,td:B,w:V,miw:U,maw:S,h:q,mih:P,mah:Q,bgsz:re,bgp:_e,bgr:se,bga:ue,pos:fe,top:je,left:Qe,bottom:Xe,right:ie,inset:Se,display:ae,flex:pe,hiddenFrom:Te,visibleFrom:be,lightHidden:we,darkHidden:Oe,sx:ke}),rest:Me}}const Vde={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function n_(e,t){const n=rh({color:e,theme:t});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}const Rj={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"},$de=["h1","h2","h3","h4","h5","h6"],qde=["h1","h2","h3","h4","h5","h6"],r_={color:n_,textColor:function(e,t){const n=rh({color:e,theme:t});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:n_(e,t)},fontSize:function(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&$de.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?Pe(e):e},spacing:function(e,t){if(typeof e=="number")return Pe(e);if(typeof e=="string"){const n=e.replace("-","");if(!(n in t.spacing))return Pe(e);const r=`--mantine-spacing-${n}`;return e.startsWith("-")?`calc(var(${r}) * -1)`:`var(${r})`}return e},identity:function(e){return e},size:function(e){return typeof e=="number"?Pe(e):e},lineHeight:function(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&qde.includes(e)?`var(--mantine-${e}-line-height)`:e},fontFamily:function(e){return typeof e=="string"&&e in Rj?Rj[e]:e},border:function(e,t){if(typeof e=="number")return Pe(e);if(typeof e=="string"){const[n,r,...o]=e.split(" ").filter(a=>a.trim()!=="");let i=`${Pe(n)}`;return r&&(i+=` ${r}`),o.length>0&&(i+=` ${n_(o.join(" "),t)}`),i.trim()}return e}};function Ij(e){return e.replace("(min-width: ","").replace("em)","")}function Wde(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function Mj({styleProps:e,data:t,theme:n}){return function(r){var o=r,{media:i}=o,a=xe(o,["media"]);const s=Object.keys(i).sort((l,c)=>Number(Ij(l))-Number(Ij(c))).map(l=>({query:l,styles:i[l]}));return K(A({},a),{media:s})}(ko(e).reduce((r,o)=>{if(o==="hiddenFrom"||o==="visibleFrom"||o==="sx")return r;const i=t[o],a=Array.isArray(i.property)?i.property:[i.property],s=function(c){return typeof c=="object"&&c!==null?"base"in c?c.base:void 0:c}(e[o]);if(!function(c){if(typeof c!="object"||c===null)return!1;const u=Object.keys(c);return!(u.length===1&&u[0]==="base")}(e[o]))return a.forEach(c=>{r.inlineStyles[c]=r_[i.type](s,n)}),r;r.hasResponsiveStyles=!0;const l=function(c){return typeof c=="object"&&c!==null?ko(c).filter(u=>u!=="base"):[]}(e[o]);return a.forEach(c=>{s&&(r.styles[c]=r_[i.type](s,n)),l.forEach(u=>{const h=`(min-width: ${n.breakpoints[u]})`;r.media[h]=K(A({},r.media[h]),{[c]:r_[i.type](Wde(e[o],u),n)})})}),r},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function o_(){return`__m__-${x.useId().replace(/:/g,"")}`}function i_(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>A(A({},n),i_(r,t)),{}):typeof e=="function"?e(t):e??{}}function Lj(e){return e.startsWith("data-")?e:`data-${e}`}function Dj(e){return e?typeof e=="string"?{[Lj(e)]:!0}:Array.isArray(e)?[...e].reduce((t,n)=>A(A({},t),Dj(n)),{}):function(t){return Object.keys(t).reduce((n,r)=>{const o=t[r];return o===void 0||o===""||o===!1||o===null||(n[Lj(r)]=t[r]),n},{})}(e):null}function a_(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>A(A({},n),a_(r,t)),{}):typeof e=="function"?e(t):e??{}}function Gde({theme:e,style:t,vars:n,styleProps:r}){const o=a_(t,e),i=a_(n,e);return A(A(A({},o),i),r)}const jj=x.forwardRef((e,t)=>{var n,r=e,{component:o,style:i,__vars:a,className:s,variant:l,mod:c,size:u,hiddenFrom:h,visibleFrom:p,lightHidden:d,darkHidden:f,renderRoot:g,__size:m}=r,v=xe(r,["component","style","__vars","className","variant","mod","size","hiddenFrom","visibleFrom","lightHidden","darkHidden","renderRoot","__size"]);const y=_o(),b=o||"div",{styleProps:w,rest:k}=t_(v),_=function(){var L;return(L=$l().stylesTransform)==null?void 0:L.sx}(),O=(n=_==null?void 0:_())==null?void 0:n(w.sx),E=o_(),C=Mj({styleProps:w,theme:y,data:Vde}),N=A(A({ref:t,style:Gde({theme:y,style:i,vars:a,styleProps:C.inlineStyles}),className:eo(s,O,{[E]:C.hasResponsiveStyles,"mantine-light-hidden":d,"mantine-dark-hidden":f,[`mantine-hidden-from-${h}`]:h,[`mantine-visible-from-${p}`]:p}),"data-variant":l,"data-size":gj(u)?void 0:u||void 0,size:m},Dj(c)),k);return Y.jsxs(Y.Fragment,{children:[C.hasResponsiveStyles&&Y.jsx(Bv,{selector:`.${E}`,styles:C.styles,media:C.media}),typeof g=="function"?g(N):Y.jsx(b,A({},N))]})});jj.displayName="@mantine/core/Box";const nt=jj;function zj(e){return e}function Fj(e){const t=e;return n=>{const r=x.forwardRef((o,i)=>Y.jsx(t,K(A(A({},n),o),{ref:i})));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r}}function wt(e){const t=x.forwardRef(e);return t.extend=zj,t.withProps=n=>{const r=x.forwardRef((o,i)=>Y.jsx(t,K(A(A({},n),o),{ref:i})));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t}function to(e){const t=x.forwardRef(e);return t.withProps=n=>{const r=x.forwardRef((o,i)=>Y.jsx(t,K(A(A({},n),o),{ref:i})));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t.extend=zj,t}const Kde=x.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function sh(){return x.useContext(Kde)}function s_(e){return e!=null&&e.current?e.current.scrollHeight:"auto"}const Uv=typeof window<"u"&&window.requestAnimationFrame;function Yde({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:n=()=>{},opened:r}){const o=x.useRef(null),i={display:"none",height:0,overflow:"hidden"},[a,s]=x.useState(r?{}:i),l=p=>{vs.flushSync(()=>s(p))},c=p=>{l(d=>A(A({},d),p))};function u(p){const d=e||function(f){if(!f||typeof f=="string")return 0;const g=f/36;return Math.round(10*(4+15*g**.25+g/5))}(p);return{transition:`height ${d}ms ${t}, opacity ${d}ms ${t}`}}Ss(()=>{typeof Uv=="function"&&Uv(r?()=>{c({willChange:"height",display:"block",overflow:"hidden"}),Uv(()=>{const p=s_(o);c(K(A({},u(p)),{height:p}))})}:()=>{const p=s_(o);c(K(A({},u(p)),{willChange:"height",height:p})),Uv(()=>c({height:0,overflow:"hidden"}))})},[r]);const h=p=>{if(p.target===o.current&&p.propertyName==="height")if(r){const d=s_(o);d===a.height?l({}):c({height:d}),n()}else a.height===0&&(l(i),n())};return function(p={}){var d=p,{style:f={},refKey:g="ref"}=d,m=xe(d,["style","refKey"]);const v=m[g];return K(A({"aria-hidden":!r},m),{[g]:aR(o,v),onTransitionEnd:h,style:A(A({boxSizing:"border-box"},f),a)})}}const Qde={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},Bj=wt((e,t)=>{const n=Ze("Collapse",Qde,e),{children:r,in:o,transitionDuration:i,transitionTimingFunction:a,style:s,onTransitionEnd:l,animateOpacity:c}=n,u=xe(n,["children","in","transitionDuration","transitionTimingFunction","style","onTransitionEnd","animateOpacity"]),h=_o(),p=B9(),d=h.respectReducedMotion&&p?0:i,f=Yde({opened:o,transitionDuration:d,transitionTimingFunction:a,onTransitionEnd:l});return d===0?o?Y.jsx(nt,K(A({},u),{children:r})):null:Y.jsx(nt,K(A({},f(A({style:A({opacity:o||!c?1:0,transition:c?`opacity ${d}ms ${a}`:"none"},i_(s,h)),ref:t},u))),{children:r}))});function Hv(){return typeof window<"u"}function lh(e){return Uj(e)?(e.nodeName||"").toLowerCase():"#document"}function To(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ha(e){var t;return(t=(Uj(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Uj(e){return!!Hv()&&(e instanceof Node||e instanceof To(e).Node)}function Tn(e){return!!Hv()&&(e instanceof Element||e instanceof To(e).Element)}function ti(e){return!!Hv()&&(e instanceof HTMLElement||e instanceof To(e).HTMLElement)}function l_(e){return!(!Hv()||typeof ShadowRoot>"u")&&(e instanceof ShadowRoot||e instanceof To(e).ShadowRoot)}function om(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=vi(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function Xde(e){return["table","td","th"].includes(lh(e))}function Vv(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function c_(e){const t=$v(),n=Tn(e)?vi(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>!!n[r]&&n[r]!=="none")||!!n.containerType&&n.containerType!=="normal"||!t&&!!n.backdropFilter&&n.backdropFilter!=="none"||!t&&!!n.filter&&n.filter!=="none"||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function $v(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function ql(e){return["html","body","#document"].includes(lh(e))}function vi(e){return To(e).getComputedStyle(e)}function qv(e){return Tn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Is(e){if(lh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||l_(e)&&e.host||Ha(e);return l_(t)?t.host:t}function Hj(e){const t=Is(e);return ql(t)?e.ownerDocument?e.ownerDocument.body:e.body:ti(t)&&om(t)?t:Hj(t)}function Ms(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Hj(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),a=To(o);if(i){const s=u_(a);return t.concat(a,a.visualViewport||[],om(o)?o:[],s&&n?Ms(s):[])}return t.concat(o,Ms(o,[],n))}function u_(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Vj(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function im(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&l_(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function $j(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function qj(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function Jde(e){return!qj().includes("jsdom/")&&(!Wj()&&e.width===0&&e.height===0||Wj()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch")}function Wj(){const e=/android/i;return e.test($j())||e.test(qj())}function d_(e,t){const n=["mouse","pen"];return n.push("",void 0),n.includes(e)}function ou(e){return(e==null?void 0:e.ownerDocument)||document}function h_(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function ch(e){return"composedPath"in e?e.composedPath()[0]:e.target}Bj.displayName="@mantine/core/Collapse";const Zde="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])",Zi=Math.min,Hr=Math.max,Wv=Math.round,Gv=Math.floor,Va=e=>({x:e,y:e}),ehe={left:"right",right:"left",bottom:"top",top:"bottom"},the={start:"end",end:"start"};function p_(e,t,n){return Hr(e,Zi(t,n))}function Ls(e,t){return typeof e=="function"?e(t):e}function ea(e){return e.split("-")[0]}function uh(e){return e.split("-")[1]}function m_(e){return e==="x"?"y":"x"}function f_(e){return e==="y"?"height":"width"}function $a(e){return["top","bottom"].includes(ea(e))?"y":"x"}function g_(e){return m_($a(e))}function v_(e){return e.replace(/start|end/g,t=>the[t])}function Kv(e){return e.replace(/left|right|bottom|top/g,t=>ehe[t])}function b_(e){return typeof e!="number"?function(t){return A({top:0,right:0,bottom:0,left:0},t)}(e):{top:e,right:e,bottom:e,left:e}}function dh(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function Gj(e,t,n){let{reference:r,floating:o}=e;const i=$a(t),a=g_(t),s=f_(a),l=ea(t),c=i==="y",u=r.x+r.width/2-o.width/2,h=r.y+r.height/2-o.height/2,p=r[s]/2-o[s]/2;let d;switch(l){case"top":d={x:u,y:r.y-o.height};break;case"bottom":d={x:u,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:h};break;case"left":d={x:r.x-o.width,y:h};break;default:d={x:r.x,y:r.y}}switch(uh(t)){case"start":d[a]-=p*(n&&c?-1:1);break;case"end":d[a]+=p*(n&&c?-1:1)}return d}async function y_(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:a,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:p=!1,padding:d=0}=Ls(t,e),f=b_(d),g=s[p?h==="floating"?"reference":"floating":h],m=dh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(g)))==null||n?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),v=h==="floating"?{x:r,y:o,width:a.floating.width,height:a.floating.height}:a.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(s.floating)),b=await(i.isElement==null?void 0:i.isElement(y))&&await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1},w=dh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:v,offsetParent:y,strategy:l}):v);return{top:(m.top-w.top+f.top)/b.y,bottom:(w.bottom-m.bottom+f.bottom)/b.y,left:(m.left-w.left+f.left)/b.x,right:(w.right-m.right+f.right)/b.x}}function Kj(e){const t=Zi(...e.map(r=>r.left)),n=Zi(...e.map(r=>r.top));return{x:t,y:n,width:Hr(...e.map(r=>r.right))-t,height:Hr(...e.map(r=>r.bottom))-n}}function Yj(e){const t=vi(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=ti(e),i=o?e.offsetWidth:n,a=o?e.offsetHeight:r,s=Wv(n)!==i||Wv(r)!==a;return s&&(n=i,r=a),{width:n,height:r,$:s}}function w_(e){return Tn(e)?e:e.contextElement}function hh(e){const t=w_(e);if(!ti(t))return Va(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=Yj(t);let a=(i?Wv(n.width):n.width)/r,s=(i?Wv(n.height):n.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const nhe=Va(0);function Qj(e){const t=To(e);return $v()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:nhe}function iu(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=w_(e);let a=Va(1);t&&(r?Tn(r)&&(a=hh(r)):a=hh(e));const s=function(p,d,f){return d===void 0&&(d=!1),!(!f||d&&f!==To(p))&&d}(i,n,r)?Qj(i):Va(0);let l=(o.left+s.x)/a.x,c=(o.top+s.y)/a.y,u=o.width/a.x,h=o.height/a.y;if(i){const p=To(i),d=r&&Tn(r)?To(r):r;let f=p,g=u_(f);for(;g&&r&&d!==f;){const m=hh(g),v=g.getBoundingClientRect(),y=vi(g),b=v.left+(g.clientLeft+parseFloat(y.paddingLeft))*m.x,w=v.top+(g.clientTop+parseFloat(y.paddingTop))*m.y;l*=m.x,c*=m.y,u*=m.x,h*=m.y,l+=b,c+=w,f=To(g),g=u_(f)}}return dh({width:u,height:h,x:l,y:c})}function k_(e,t){const n=qv(e).scrollLeft;return t?t.left+n:iu(Ha(e)).left+n}function Xj(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:k_(e,r)),y:r.top+t.scrollTop}}function Jj(e,t,n){let r;if(t==="viewport")r=function(o,i){const a=To(o),s=Ha(o),l=a.visualViewport;let c=s.clientWidth,u=s.clientHeight,h=0,p=0;if(l){c=l.width,u=l.height;const d=$v();(!d||d&&i==="fixed")&&(h=l.offsetLeft,p=l.offsetTop)}return{width:c,height:u,x:h,y:p}}(e,n);else if(t==="document")r=function(o){const i=Ha(o),a=qv(o),s=o.ownerDocument.body,l=Hr(i.scrollWidth,i.clientWidth,s.scrollWidth,s.clientWidth),c=Hr(i.scrollHeight,i.clientHeight,s.scrollHeight,s.clientHeight);let u=-a.scrollLeft+k_(o);const h=-a.scrollTop;return vi(s).direction==="rtl"&&(u+=Hr(i.clientWidth,s.clientWidth)-l),{width:l,height:c,x:u,y:h}}(Ha(e));else if(Tn(t))r=function(o,i){const a=iu(o,!0,i==="fixed"),s=a.top+o.clientTop,l=a.left+o.clientLeft,c=ti(o)?hh(o):Va(1);return{width:o.clientWidth*c.x,height:o.clientHeight*c.y,x:l*c.x,y:s*c.y}}(t,n);else{const o=Qj(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return dh(r)}function Zj(e,t){const n=Is(e);return!(n===t||!Tn(n)||ql(n))&&(vi(n).position==="fixed"||Zj(n,t))}function rhe(e,t){const n=t.get(e);if(n)return n;let r=Ms(e,[],!1).filter(s=>Tn(s)&&lh(s)!=="body"),o=null;const i=vi(e).position==="fixed";let a=i?Is(e):e;for(;Tn(a)&&!ql(a);){const s=vi(a),l=c_(a);!l&&s.position==="fixed"&&(o=null),(i?!l&&!o:!l&&s.position==="static"&&o&&["absolute","fixed"].includes(o.position)||om(a)&&!l&&Zj(e,a))?r=r.filter(c=>c!==a):o=s,a=Is(a)}return t.set(e,r),r}function ohe(e,t,n){const r=ti(t),o=Ha(t),i=n==="fixed",a=iu(e,!0,i,t);let s={scrollLeft:0,scrollTop:0};const l=Va(0);function c(){l.x=k_(o)}if(r||!r&&!i)if((lh(t)!=="body"||om(o))&&(s=qv(t)),r){const h=iu(t,!0,i,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else o&&c();i&&!r&&o&&c();const u=!o||r||i?Va(0):Xj(o,s);return{x:a.left+s.scrollLeft-l.x-u.x,y:a.top+s.scrollTop-l.y-u.y,width:a.width,height:a.height}}function x_(e){return vi(e).position==="static"}function ez(e,t){if(!ti(e)||vi(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ha(e)===n&&(n=n.ownerDocument.body),n}function tz(e,t){const n=To(e);if(Vv(e))return n;if(!ti(e)){let o=Is(e);for(;o&&!ql(o);){if(Tn(o)&&!x_(o))return o;o=Is(o)}return n}let r=ez(e,t);for(;r&&Xde(r)&&x_(r);)r=ez(r,t);return r&&ql(r)&&x_(r)&&!c_(r)?n:r||function(o){let i=Is(o);for(;ti(i)&&!ql(i);){if(c_(i))return i;if(Vv(i))return null;i=Is(i)}return null}(e)||n}const ihe={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",a=Ha(r),s=!!t&&Vv(t.floating);if(r===a||s&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Va(1);const u=Va(0),h=ti(r);if((h||!h&&!i)&&((lh(r)!=="body"||om(a))&&(l=qv(r)),ti(r))){const d=iu(r);c=hh(r),u.x=d.x+r.clientLeft,u.y=d.y+r.clientTop}const p=!a||h||i?Va(0):Xj(a,l,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+p.x,y:n.y*c.y-l.scrollTop*c.y+u.y+p.y}},getDocumentElement:Ha,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[...n==="clippingAncestors"?Vv(t)?[]:rhe(t,this._c):[].concat(n),r],a=i[0],s=i.reduce((l,c)=>{const u=Jj(t,c,o);return l.top=Hr(u.top,l.top),l.right=Zi(u.right,l.right),l.bottom=Zi(u.bottom,l.bottom),l.left=Hr(u.left,l.left),l},Jj(t,a,o));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:tz,getElementRects:async function(e){const t=this.getOffsetParent||tz,n=this.getDimensions,r=await n(e.floating);return{reference:ohe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=Yj(e);return{width:t,height:n}},getScale:hh,isElement:Tn,isRTL:function(e){return vi(e).direction==="rtl"}};function nz(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function ahe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=w_(e),u=o||i?[...c?Ms(c):[],...Ms(t)]:[];u.forEach(m=>{o&&m.addEventListener("scroll",n,{passive:!0}),i&&m.addEventListener("resize",n)});const h=c&&s?function(m,v){let y,b=null;const w=Ha(m);function k(){var _;clearTimeout(y),(_=b)==null||_.disconnect(),b=null}return function _(O,E){O===void 0&&(O=!1),E===void 0&&(E=1),k();const C=m.getBoundingClientRect(),{left:N,top:L,width:j,height:H}=C;if(O||v(),!j||!H)return;const F={rootMargin:-Gv(L)+"px "+-Gv(w.clientWidth-(N+j))+"px "+-Gv(w.clientHeight-(L+H))+"px "+-Gv(N)+"px",threshold:Hr(0,Zi(1,E))||1};let z=!0;function B(V){const U=V[0].intersectionRatio;if(U!==E){if(!z)return _();U?_(!1,U):y=setTimeout(()=>{_(!1,1e-7)},1e3)}U===1&&!nz(C,m.getBoundingClientRect())&&_(),z=!1}try{b=new IntersectionObserver(B,K(A({},F),{root:w.ownerDocument}))}catch{b=new IntersectionObserver(B,F)}b.observe(m)}(!0),k}(c,n):null;let p=-1,d=null;a&&(d=new ResizeObserver(m=>{let[v]=m;v&&v.target===c&&d&&(d.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var y;(y=d)==null||y.observe(t)})),n()}),c&&!l&&d.observe(c),d.observe(t));let f,g=l?iu(e):null;return l&&function m(){const v=iu(e);g&&!nz(g,v)&&n(),g=v,f=requestAnimationFrame(m)}(),n(),()=>{var m;u.forEach(v=>{o&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),h==null||h(),(m=d)==null||m.disconnect(),d=null,l&&cancelAnimationFrame(f)}}const she=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:a,middlewareData:s}=t,l=await async function(c,u){const{placement:h,platform:p,elements:d}=c,f=await(p.isRTL==null?void 0:p.isRTL(d.floating)),g=ea(h),m=uh(h),v=$a(h)==="y",y=["left","top"].includes(g)?-1:1,b=f&&v?-1:1,w=Ls(u,c);let{mainAxis:k,crossAxis:_,alignmentAxis:O}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return m&&typeof O=="number"&&(_=m==="end"?-1*O:O),v?{x:_*b,y:k*y}:{x:k*y,y:_*b}}(t,e);return a===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:i+l.y,data:K(A({},l),{placement:a})}}}},lhe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,i=Ls(e,t),{mainAxis:a=!0,crossAxis:s=!1,limiter:l={fn:v=>{let{x:y,y:b}=v;return{x:y,y:b}}}}=i,c=xe(i,["mainAxis","crossAxis","limiter"]),u={x:n,y:r},h=await y_(t,c),p=$a(ea(o)),d=m_(p);let f=u[d],g=u[p];if(a){const v=d==="y"?"bottom":"right";f=p_(f+h[d==="y"?"top":"left"],f,f-h[v])}if(s){const v=p==="y"?"bottom":"right";g=p_(g+h[p==="y"?"top":"left"],g,g-h[v])}const m=l.fn(K(A({},t),{[d]:f,[p]:g}));return K(A({},m),{data:{x:m.x-n,y:m.y-r,enabled:{[d]:a,[p]:s}}})}}},che=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:a,initialPlacement:s,platform:l,elements:c}=t,u=Ls(e,t),{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0}=u,v=xe(u,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=ea(o),b=$a(s),w=ea(s)===s,k=await(l.isRTL==null?void 0:l.isRTL(c.floating)),_=d||(w||!m?[Kv(s)]:function(B){const V=Kv(B);return[v_(B),V,v_(V)]}(s)),O=g!=="none";!d&&O&&_.push(...function(B,V,U,S){const q=uh(B);let P=function(Q,re,_e){const se=["left","right"],ue=["right","left"],fe=["top","bottom"],je=["bottom","top"];switch(Q){case"top":case"bottom":return _e?re?ue:se:re?se:ue;case"left":case"right":return re?fe:je;default:return[]}}(ea(B),U==="start",S);return q&&(P=P.map(Q=>Q+"-"+q),V&&(P=P.concat(P.map(v_)))),P}(s,m,g,k));const E=[s,..._],C=await y_(t,v),N=[];let L=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&N.push(C[y]),p){const B=function(V,U,S){S===void 0&&(S=!1);const q=uh(V),P=g_(V),Q=f_(P);let re=P==="x"?q===(S?"end":"start")?"right":"left":q==="start"?"bottom":"top";return U.reference[Q]>U.floating[Q]&&(re=Kv(re)),[re,Kv(re)]}(o,a,k);N.push(C[B[0]],C[B[1]])}if(L=[...L,{placement:o,overflows:N}],!N.every(B=>B<=0)){var j,H;const B=(((j=i.flip)==null?void 0:j.index)||0)+1,V=E[B];if(V){var F;const S=p==="alignment"&&b!==$a(V),q=((F=L[0])==null?void 0:F.overflows[0])>0;if(!S||q)return{data:{index:B,overflows:L},reset:{placement:V}}}let U=(H=L.filter(S=>S.overflows[0]<=0).sort((S,q)=>S.overflows[1]-q.overflows[1])[0])==null?void 0:H.placement;if(!U)switch(f){case"bestFit":{var z;const S=(z=L.filter(q=>{if(O){const P=$a(q.placement);return P===b||P==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(P=>P>0).reduce((P,Q)=>P+Q,0)]).sort((q,P)=>q[1]-P[1])[0])==null?void 0:z[0];S&&(U=S);break}case"initialPlacement":U=s}if(o!==U)return{reset:{placement:U}}}return{}}}},uhe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:a,elements:s}=t,l=Ls(e,t),{apply:c=()=>{}}=l,u=xe(l,["apply"]),h=await y_(t,u),p=ea(o),d=uh(o),f=$a(o)==="y",{width:g,height:m}=i.floating;let v,y;p==="top"||p==="bottom"?(v=p,y=d===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(y=p,v=d==="end"?"top":"bottom");const b=m-h.top-h.bottom,w=g-h.left-h.right,k=Zi(m-h[v],b),_=Zi(g-h[y],w),O=!t.middlewareData.shift;let E=k,C=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(C=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(E=b),O&&!d){const L=Hr(h.left,0),j=Hr(h.right,0),H=Hr(h.top,0),F=Hr(h.bottom,0);f?C=g-2*(L!==0||j!==0?L+j:Hr(h.left,h.right)):E=m-2*(H!==0||F!==0?H+F:Hr(h.top,h.bottom))}await c(K(A({},t),{availableWidth:C,availableHeight:E}));const N=await a.getDimensions(s.floating);return g!==N.width||m!==N.height?{reset:{rects:!0}}:{}}}},rz=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:a,elements:s,middlewareData:l}=t,{element:c,padding:u=0}=Ls(e,t)||{};if(c==null)return{};const h=b_(u),p={x:n,y:r},d=g_(o),f=f_(d),g=await a.getDimensions(c),m=d==="y",v=m?"top":"left",y=m?"bottom":"right",b=m?"clientHeight":"clientWidth",w=i.reference[f]+i.reference[d]-p[d]-i.floating[f],k=p[d]-i.reference[d],_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let O=_?_[b]:0;(!O||!await(a.isElement==null?void 0:a.isElement(_)))&&(O=s.floating[b]||i.floating[f]);const E=w/2-k/2,C=O/2-g[f]/2-1,N=Zi(h[v],C),L=Zi(h[y],C),j=N,H=O-g[f]-L,F=O/2-g[f]/2+E,z=p_(j,F,H),B=!l.arrow&&uh(o)!=null&&F!==z&&i.reference[f]/2-(F<j?N:L)-g[f]/2<0,V=B?F<j?F-j:F-H:0;return{[d]:p[d]+V,data:A({[d]:z,centerOffset:F-z-V},B&&{alignmentOffset:V}),reset:B}}}),dhe=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:o,platform:i,strategy:a}=t,{padding:s=2,x:l,y:c}=Ls(e,t),u=Array.from(await(i.getClientRects==null?void 0:i.getClientRects(r.reference))||[]),h=function(g){const m=g.slice().sort((b,w)=>b.y-w.y),v=[];let y=null;for(let b=0;b<m.length;b++){const w=m[b];!y||w.y-y.y>y.height/2?v.push([w]):v[v.length-1].push(w),y=w}return v.map(b=>dh(Kj(b)))}(u),p=dh(Kj(u)),d=b_(s),f=await i.getElementRects({reference:{getBoundingClientRect:function(){if(h.length===2&&h[0].left>h[1].right&&l!=null&&c!=null)return h.find(g=>l>g.left-d.left&&l<g.right+d.right&&c>g.top-d.top&&c<g.bottom+d.bottom)||p;if(h.length>=2){if($a(n)==="y"){const k=h[0],_=h[h.length-1],O=ea(n)==="top",E=k.top,C=_.bottom,N=O?k.left:_.left,L=O?k.right:_.right;return{top:E,bottom:C,left:N,right:L,width:L-N,height:C-E,x:N,y:E}}const g=ea(n)==="left",m=Hr(...h.map(k=>k.right)),v=Zi(...h.map(k=>k.left)),y=h.filter(k=>g?k.left===v:k.right===m),b=y[0].top,w=y[y.length-1].bottom;return{top:b,bottom:w,left:v,right:m,width:m-v,height:w-b,x:v,y:b}}return p}},floating:r.floating,strategy:a});return o.reference.x!==f.reference.x||o.reference.y!==f.reference.y||o.reference.width!==f.reference.width||o.reference.height!==f.reference.height?{reset:{rects:f}}:{}}}},hhe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:a}=t,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=Ls(e,t),u={x:n,y:r},h=$a(o),p=m_(h);let d=u[p],f=u[h];const g=Ls(s,t),m=typeof g=="number"?{mainAxis:g,crossAxis:0}:A({mainAxis:0,crossAxis:0},g);if(l){const b=p==="y"?"height":"width",w=i.reference[p]-i.floating[b]+m.mainAxis,k=i.reference[p]+i.reference[b]-m.mainAxis;d<w?d=w:d>k&&(d=k)}if(c){var v,y;const b=p==="y"?"width":"height",w=["top","left"].includes(ea(o)),k=i.reference[h]-i.floating[b]+(w&&((v=a.offset)==null?void 0:v[h])||0)+(w?0:m.crossAxis),_=i.reference[h]+i.reference[b]+(w?0:((y=a.offset)==null?void 0:y[h])||0)-(w?m.crossAxis:0);f<k?f=k:f>_&&(f=_)}return{[p]:d,[h]:f}}}},phe=(e,t,n)=>{const r=new Map,o=A({platform:ihe},n),i=K(A({},o.platform),{_c:r});return(async(a,s,l)=>{const{placement:c="bottom",strategy:u="absolute",middleware:h=[],platform:p}=l,d=h.filter(Boolean),f=await(p.isRTL==null?void 0:p.isRTL(s));let g=await p.getElementRects({reference:a,floating:s,strategy:u}),{x:m,y:v}=Gj(g,c,f),y=c,b={},w=0;for(let k=0;k<d.length;k++){const{name:_,fn:O}=d[k],{x:E,y:C,data:N,reset:L}=await O({x:m,y:v,initialPlacement:c,placement:y,strategy:u,middlewareData:b,rects:g,platform:p,elements:{reference:a,floating:s}});m=E??m,v=C??v,b=K(A({},b),{[_]:A(A({},b[_]),N)}),L&&w<=50&&(w++,typeof L=="object"&&(L.placement&&(y=L.placement),L.rects&&(g=L.rects===!0?await p.getElementRects({reference:a,floating:s,strategy:u}):L.rects),{x:m,y:v}=Gj(g,y,f)),k=-1)}return{x:m,y:v,placement:y,strategy:u,middlewareData:b}})(e,t,K(A({},o),{platform:i}))};var Yv=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Qv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!=0;)if(!Qv(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!=0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!=0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof||Qv(e[i],t[i])))return!1}return!0}return e!=e&&t!=t}function oz(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function iz(e,t){const n=oz(e);return Math.round(t*n)/n}function __(e){const t=x.useRef(e);return Yv(()=>{t.current=e}),t}const az=(e,t)=>K(A({},she(e)),{options:[e,t]}),T_=(e,t)=>K(A({},lhe(e)),{options:[e,t]}),sz=(e,t)=>K(A({},hhe(e)),{options:[e,t]}),Xv=(e,t)=>K(A({},che(e)),{options:[e,t]}),mhe=(e,t)=>K(A({},uhe(e)),{options:[e,t]}),am=(e,t)=>K(A({},dhe(e)),{options:[e,t]}),lz=(e,t)=>K(A({},(n=>({name:"arrow",options:n,fn(r){const{element:o,padding:i}=typeof n=="function"?n(r):n;return o&&function(a){return{}.hasOwnProperty.call(a,"current")}(o)?o.current!=null?rz({element:o.current,padding:i}).fn(r):{}:o?rz({element:o,padding:i}).fn(r):{}}}))(e)),{options:[e,t]}),cz=A({},KZ),fhe=cz.useInsertionEffect||(e=>e());function Ds(e){const t=x.useRef(()=>{});return fhe(()=>{t.current=e}),x.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}var qa=typeof document<"u"?x.useLayoutEffect:x.useEffect;let uz=!1,ghe=0;const dz=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+ghe++,hz=cz.useId||function(){const[e,t]=x.useState(()=>uz?dz():void 0);return qa(()=>{e==null&&t(dz())},[]),x.useEffect(()=>{uz=!0},[]),e},vhe=x.createContext(null),bhe=x.createContext(null),S_=()=>{var e;return((e=x.useContext(vhe))==null?void 0:e.id)||null},E_=()=>x.useContext(bhe);function C_(e){return"data-floating-ui-"+e}function O_(e){const t=x.useRef(e);return qa(()=>{t.current=e}),t}const pz=C_("safe-polygon");function Jv(e,t,n){return n&&!d_(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function yhe(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:i,elements:a}=e,{enabled:s=!0,delay:l=0,handleClose:c=null,mouseOnly:u=!1,restMs:h=0,move:p=!0}=t,d=E_(),f=S_(),g=O_(c),m=O_(l),v=O_(n),y=x.useRef(),b=x.useRef(-1),w=x.useRef(),k=x.useRef(-1),_=x.useRef(!0),O=x.useRef(!1),E=x.useRef(()=>{}),C=x.useRef(!1),N=x.useCallback(()=>{var V;const U=(V=o.current.openEvent)==null?void 0:V.type;return(U==null?void 0:U.includes("mouse"))&&U!=="mousedown"},[o]);x.useEffect(()=>{if(s)return i.on("openchange",V),()=>{i.off("openchange",V)};function V(U){let{open:S}=U;S||(clearTimeout(b.current),clearTimeout(k.current),_.current=!0,C.current=!1)}},[s,i]),x.useEffect(()=>{if(!s||!g.current||!n)return;function V(S){N()&&r(!1,S,"hover")}const U=ou(a.floating).documentElement;return U.addEventListener("mouseleave",V),()=>{U.removeEventListener("mouseleave",V)}},[a.floating,n,r,s,g,N]);const L=x.useCallback(function(V,U,S){U===void 0&&(U=!0),S===void 0&&(S="hover");const q=Jv(m.current,"close",y.current);q&&!w.current?(clearTimeout(b.current),b.current=window.setTimeout(()=>r(!1,V,S),q)):U&&(clearTimeout(b.current),r(!1,V,S))},[m,r]),j=Ds(()=>{E.current(),w.current=void 0}),H=Ds(()=>{if(O.current){const V=ou(a.floating).body;V.style.pointerEvents="",V.removeAttribute(pz),O.current=!1}}),F=Ds(()=>!!o.current.openEvent&&["click","mousedown"].includes(o.current.openEvent.type));x.useEffect(()=>{if(s&&Tn(a.domReference)){var V;const P=a.domReference;return n&&P.addEventListener("mouseleave",q),(V=a.floating)==null||V.addEventListener("mouseleave",q),p&&P.addEventListener("mousemove",U,{once:!0}),P.addEventListener("mouseenter",U),P.addEventListener("mouseleave",S),()=>{var Q;n&&P.removeEventListener("mouseleave",q),(Q=a.floating)==null||Q.removeEventListener("mouseleave",q),p&&P.removeEventListener("mousemove",U),P.removeEventListener("mouseenter",U),P.removeEventListener("mouseleave",S)}}function U(P){if(clearTimeout(b.current),_.current=!1,u&&!d_(y.current)||h>0&&!Jv(m.current,"open"))return;const Q=Jv(m.current,"open",y.current);Q?b.current=window.setTimeout(()=>{v.current||r(!0,P,"hover")},Q):n||r(!0,P,"hover")}function S(P){if(F())return;E.current();const Q=ou(a.floating);if(clearTimeout(k.current),C.current=!1,g.current&&o.current.floatingContext){n||clearTimeout(b.current),w.current=g.current(K(A({},o.current.floatingContext),{tree:d,x:P.clientX,y:P.clientY,onClose(){H(),j(),F()||L(P,!0,"safe-polygon")}}));const re=w.current;return Q.addEventListener("mousemove",re),void(E.current=()=>{Q.removeEventListener("mousemove",re)})}(y.current!=="touch"||!im(a.floating,P.relatedTarget))&&L(P)}function q(P){F()||o.current.floatingContext&&(g.current==null||g.current(K(A({},o.current.floatingContext),{tree:d,x:P.clientX,y:P.clientY,onClose(){H(),j(),F()||L(P)}}))(P))}},[a,s,e,u,h,p,L,j,H,r,n,v,d,m,g,o,F]),qa(()=>{var V;if(s&&n&&(V=g.current)!=null&&V.__options.blockPointerEvents&&N()){O.current=!0;const S=a.floating;if(Tn(a.domReference)&&S){var U;const q=ou(a.floating).body;q.setAttribute(pz,"");const P=a.domReference,Q=d==null||(U=d.nodesRef.current.find(re=>re.id===f))==null||(U=U.context)==null?void 0:U.elements.floating;return Q&&(Q.style.pointerEvents=""),q.style.pointerEvents="none",P.style.pointerEvents="auto",S.style.pointerEvents="auto",()=>{q.style.pointerEvents="",P.style.pointerEvents="",S.style.pointerEvents=""}}}},[s,n,f,a,d,g,N]),qa(()=>{n||(y.current=void 0,C.current=!1,j(),H())},[n,j,H]),x.useEffect(()=>()=>{j(),clearTimeout(b.current),clearTimeout(k.current),H()},[s,a.domReference,j,H]);const z=x.useMemo(()=>{function V(U){y.current=U.pointerType}return{onPointerDown:V,onPointerEnter:V,onMouseMove(U){const{nativeEvent:S}=U;function q(){!_.current&&!v.current&&r(!0,S,"hover")}u&&!d_(y.current)||n||h===0||C.current&&U.movementX**2+U.movementY**2<2||(clearTimeout(k.current),y.current==="touch"?q():(C.current=!0,k.current=window.setTimeout(q,h)))}}},[u,r,n,v,h]),B=x.useMemo(()=>({onMouseEnter(){clearTimeout(b.current)},onMouseLeave(V){F()||L(V.nativeEvent,!1)}}),[L,F]);return x.useMemo(()=>s?{reference:z,floating:B}:{},[s,z,B])}const P_=()=>{},mz=x.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:P_,setState:P_,isInstantPhase:!1}),whe=()=>x.useContext(mz);function khe(e){const{children:t,delay:n,timeoutMs:r=0}=e,[o,i]=x.useReducer((l,c)=>A(A({},l),c),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),a=x.useRef(null),s=x.useCallback(l=>{i({currentId:l})},[]);return qa(()=>{o.currentId?a.current===null?a.current=o.currentId:o.isInstantPhase||i({isInstantPhase:!0}):(o.isInstantPhase&&i({isInstantPhase:!1}),a.current=null)},[o.currentId,o.isInstantPhase]),x.createElement(mz.Provider,{value:x.useMemo(()=>K(A({},o),{setState:i,setCurrentId:s}),[o,s])},t)}function A_(e,t){let n=e.filter(o=>{var i;return o.parentId===t&&((i=o.context)==null?void 0:i.open)}),r=n;for(;r.length;)r=e.filter(o=>{var i;return(i=r)==null?void 0:i.some(a=>{var s;return o.parentId===a.id&&((s=o.context)==null?void 0:s.open)})}),n=n.concat(r);return n}const xhe="data-floating-ui-focusable",_he={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},The={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},fz=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null&&t,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)==null||n}};function She(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:o,dataRef:i}=e,{enabled:a=!0,escapeKey:s=!0,outsidePress:l=!0,outsidePressEvent:c="pointerdown",referencePress:u=!1,referencePressEvent:h="pointerdown",ancestorScroll:p=!1,bubbles:d,capture:f}=t,g=E_(),m=Ds(typeof l=="function"?l:()=>!1),v=typeof l=="function"?m:l,y=x.useRef(!1),b=x.useRef(!1),{escapeKey:w,outsidePress:k}=fz(d),{escapeKey:_,outsidePress:O}=fz(f),E=x.useRef(!1),C=Ds(z=>{var B;if(!n||!a||!s||z.key!=="Escape"||E.current)return;const V=(B=i.current.floatingContext)==null?void 0:B.nodeId,U=g?A_(g.nodesRef.current,V):[];if(!w&&(z.stopPropagation(),U.length>0)){let S=!0;if(U.forEach(q=>{var P;(P=q.context)==null||!P.open||q.context.dataRef.current.__escapeKeyBubbles||(S=!1)}),!S)return}r(!1,function(S){return"nativeEvent"in S}(z)?z.nativeEvent:z,"escape-key")}),N=Ds(z=>{var B;const V=()=>{var U;C(z),(U=ch(z))==null||U.removeEventListener("keydown",V)};(B=ch(z))==null||B.addEventListener("keydown",V)}),L=Ds(z=>{var B;const V=y.current;y.current=!1;const U=b.current;if(b.current=!1,c==="click"&&U||V||typeof v=="function"&&!v(z))return;const S=ch(z),q="["+C_("inert")+"]",P=ou(o.floating).querySelectorAll(q);let Q=Tn(S)?S:null;for(;Q&&!ql(Q);){const ue=Is(Q);if(ql(ue)||!Tn(ue))break;Q=ue}if(P.length&&Tn(S)&&!function(ue){return ue.matches("html,body")}(S)&&!im(S,o.floating)&&Array.from(P).every(ue=>!im(Q,ue)))return;if(ti(S)&&F){const ue=S.clientWidth>0&&S.scrollWidth>S.clientWidth,fe=S.clientHeight>0&&S.scrollHeight>S.clientHeight;let je=fe&&z.offsetX>S.clientWidth;if(fe&&vi(S).direction==="rtl"&&(je=z.offsetX<=S.offsetWidth-S.clientWidth),je||ue&&z.offsetY>S.clientHeight)return}const re=(B=i.current.floatingContext)==null?void 0:B.nodeId,_e=g&&A_(g.nodesRef.current,re).some(ue=>{var fe;return h_(z,(fe=ue.context)==null?void 0:fe.elements.floating)});if(h_(z,o.floating)||h_(z,o.domReference)||_e)return;const se=g?A_(g.nodesRef.current,re):[];if(se.length>0){let ue=!0;if(se.forEach(fe=>{var je;(je=fe.context)==null||!je.open||fe.context.dataRef.current.__outsidePressBubbles||(ue=!1)}),!ue)return}r(!1,z,"outside-press")}),j=Ds(z=>{var B;const V=()=>{var U;L(z),(U=ch(z))==null||U.removeEventListener(c,V)};(B=ch(z))==null||B.addEventListener(c,V)});x.useEffect(()=>{if(!n||!a)return;i.current.__escapeKeyBubbles=w,i.current.__outsidePressBubbles=k;let z=-1;function B(P){r(!1,P,"ancestor-scroll")}function V(){window.clearTimeout(z),E.current=!0}function U(){z=window.setTimeout(()=>{E.current=!1},$v()?5:0)}const S=ou(o.floating);s&&(S.addEventListener("keydown",_?N:C,_),S.addEventListener("compositionstart",V),S.addEventListener("compositionend",U)),v&&S.addEventListener(c,O?j:L,O);let q=[];return p&&(Tn(o.domReference)&&(q=Ms(o.domReference)),Tn(o.floating)&&(q=q.concat(Ms(o.floating))),!Tn(o.reference)&&o.reference&&o.reference.contextElement&&(q=q.concat(Ms(o.reference.contextElement)))),q=q.filter(P=>{var Q;return P!==((Q=S.defaultView)==null?void 0:Q.visualViewport)}),q.forEach(P=>{P.addEventListener("scroll",B,{passive:!0})}),()=>{s&&(S.removeEventListener("keydown",_?N:C,_),S.removeEventListener("compositionstart",V),S.removeEventListener("compositionend",U)),v&&S.removeEventListener(c,O?j:L,O),q.forEach(P=>{P.removeEventListener("scroll",B)}),window.clearTimeout(z)}},[i,o,s,v,c,n,r,p,a,w,k,C,_,N,L,O,j]),x.useEffect(()=>{y.current=!1},[v,c]);const H=x.useMemo(()=>({onKeyDown:C,[_he[h]]:z=>{u&&r(!1,z.nativeEvent,"reference-press")}}),[C,r,u,h]),F=x.useMemo(()=>({onKeyDown:C,onMouseDown(){b.current=!0},onMouseUp(){b.current=!0},[The[c]]:()=>{y.current=!0}}),[C,c]);return x.useMemo(()=>a?{reference:H,floating:F}:{},[a,H,F])}function Ehe(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=hz(),i=x.useRef({}),[a]=x.useState(()=>function(){const d=new Map;return{emit(f,g){var m;(m=d.get(f))==null||m.forEach(v=>v(g))},on(f,g){d.set(f,[...d.get(f)||[],g])},off(f,g){var m;d.set(f,((m=d.get(f))==null?void 0:m.filter(v=>v!==g))||[])}}}()),s=S_()!=null,[l,c]=x.useState(r.reference),u=Ds((d,f,g)=>{i.current.openEvent=d?f:void 0,a.emit("openchange",{open:d,event:f,reason:g,nested:s}),n==null||n(d,f,g)}),h=x.useMemo(()=>({setPositionReference:c}),[]),p=x.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return x.useMemo(()=>({dataRef:i,open:t,onOpenChange:u,elements:p,events:a,floatingId:o,refs:h}),[t,u,p,a,o,h])}function N_(e){e===void 0&&(e={});const{nodeId:t}=e,n=Ehe(K(A({},e),{elements:A({reference:null,floating:null},e.elements)})),r=e.rootContext||n,o=r.elements,[i,a]=x.useState(null),[s,l]=x.useState(null),c=(o==null?void 0:o.domReference)||i,u=x.useRef(null),h=E_();qa(()=>{c&&(u.current=c)},[c]);const p=function(y){y===void 0&&(y={});const{placement:b="bottom",strategy:w="absolute",middleware:k=[],platform:_,elements:{reference:O,floating:E}={},transform:C=!0,whileElementsMounted:N,open:L}=y,[j,H]=x.useState({x:0,y:0,strategy:w,placement:b,middlewareData:{},isPositioned:!1}),[F,z]=x.useState(k);Qv(F,k)||z(k);const[B,V]=x.useState(null),[U,S]=x.useState(null),q=x.useCallback(be=>{be!==_e.current&&(_e.current=be,V(be))},[]),P=x.useCallback(be=>{be!==se.current&&(se.current=be,S(be))},[]),Q=O||B,re=E||U,_e=x.useRef(null),se=x.useRef(null),ue=x.useRef(j),fe=N!=null,je=__(N),Qe=__(_),Xe=__(L),ie=x.useCallback(()=>{if(!_e.current||!se.current)return;const be={placement:b,strategy:w,middleware:F};Qe.current&&(be.platform=Qe.current),phe(_e.current,se.current,be).then(we=>{const Oe=K(A({},we),{isPositioned:Xe.current!==!1});Se.current&&!Qv(ue.current,Oe)&&(ue.current=Oe,vs.flushSync(()=>{H(Oe)}))})},[F,b,w,Qe,Xe]);Yv(()=>{L===!1&&ue.current.isPositioned&&(ue.current.isPositioned=!1,H(be=>K(A({},be),{isPositioned:!1})))},[L]);const Se=x.useRef(!1);Yv(()=>(Se.current=!0,()=>{Se.current=!1}),[]),Yv(()=>{if(Q&&(_e.current=Q),re&&(se.current=re),Q&&re){if(je.current)return je.current(Q,re,ie);ie()}},[Q,re,ie,je,fe]);const ae=x.useMemo(()=>({reference:_e,floating:se,setReference:q,setFloating:P}),[q,P]),pe=x.useMemo(()=>({reference:Q,floating:re}),[Q,re]),Te=x.useMemo(()=>{const be={position:w,left:0,top:0};if(!pe.floating)return be;const we=iz(pe.floating,j.x),Oe=iz(pe.floating,j.y);return C?A(K(A({},be),{transform:"translate("+we+"px, "+Oe+"px)"}),oz(pe.floating)>=1.5&&{willChange:"transform"}):{position:w,left:we,top:Oe}},[w,C,pe.floating,j.x,j.y]);return x.useMemo(()=>K(A({},j),{update:ie,refs:ae,elements:pe,floatingStyles:Te}),[j,ie,ae,pe,Te])}(K(A({},e),{elements:A(A({},o),s&&{reference:s})})),d=x.useCallback(y=>{const b=Tn(y)?{getBoundingClientRect:()=>y.getBoundingClientRect(),contextElement:y}:y;l(b),p.refs.setReference(b)},[p.refs]),f=x.useCallback(y=>{(Tn(y)||y===null)&&(u.current=y,a(y)),(Tn(p.refs.reference.current)||p.refs.reference.current===null||y!==null&&!Tn(y))&&p.refs.setReference(y)},[p.refs]),g=x.useMemo(()=>K(A({},p.refs),{setReference:f,setPositionReference:d,domReference:u}),[p.refs,f,d]),m=x.useMemo(()=>K(A({},p.elements),{domReference:c}),[p.elements,c]),v=x.useMemo(()=>K(A(A({},p),r),{refs:g,elements:m,nodeId:t}),[p,g,m,t,r]);return qa(()=>{r.dataRef.current.floatingContext=v;const y=h==null?void 0:h.nodesRef.current.find(b=>b.id===t);y&&(y.context=v)}),x.useMemo(()=>K(A({},p),{context:v,refs:g,elements:m}),[p,g,m,v])}function Che(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:o,dataRef:i,elements:a}=e,{enabled:s=!0,visibleOnly:l=!0}=t,c=x.useRef(!1),u=x.useRef(),h=x.useRef(!0);x.useEffect(()=>{if(!s)return;const d=To(a.domReference);function f(){!n&&ti(a.domReference)&&a.domReference===Vj(ou(a.domReference))&&(c.current=!0)}function g(){h.current=!0}return d.addEventListener("blur",f),d.addEventListener("keydown",g,!0),()=>{d.removeEventListener("blur",f),d.removeEventListener("keydown",g,!0)}},[a.domReference,n,s]),x.useEffect(()=>{if(s)return o.on("openchange",d),()=>{o.off("openchange",d)};function d(f){let{reason:g}=f;(g==="reference-press"||g==="escape-key")&&(c.current=!0)}},[o,s]),x.useEffect(()=>()=>{clearTimeout(u.current)},[]);const p=x.useMemo(()=>({onPointerDown(d){Jde(d.nativeEvent)||(h.current=!1)},onMouseLeave(){c.current=!1},onFocus(d){if(c.current)return;const f=ch(d.nativeEvent);if(l&&Tn(f))try{if(/apple/i.test(navigator.vendor)&&$j().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints)throw Error();if(!f.matches(":focus-visible"))return}catch{if(!h.current&&!function(m){return ti(m)&&m.matches(Zde)}(f))return}r(!0,d.nativeEvent,"focus")},onBlur(d){c.current=!1;const f=d.relatedTarget,g=d.nativeEvent,m=Tn(f)&&f.hasAttribute(C_("focus-guard"))&&f.getAttribute("data-type")==="outside";u.current=window.setTimeout(()=>{var v;const y=Vj(a.domReference?a.domReference.ownerDocument:document);!f&&y===a.domReference||im((v=i.current.floatingContext)==null?void 0:v.refs.floating.current,y)||im(a.domReference,y)||m||r(!1,g,"focus")})}}),[i,a.domReference,r,l]);return x.useMemo(()=>s?{reference:p}:{},[s,p])}const gz="active",vz="selected";function R_(e,t,n){const r=new Map,o=n==="item";let i=e;return o&&e&&(i=xe(e,[W7(gz),W7(vz)])),A(A(A({},n==="floating"&&{tabIndex:-1,[xhe]:""}),i),t.map(a=>{const s=a?a[n]:null;return typeof s=="function"?e?s(e):null:s}).concat(e).reduce((a,s)=>(s&&Object.entries(s).forEach(l=>{let[c,u]=l;if(!o||![gz,vz].includes(c))if(c.indexOf("on")===0){var h;r.has(c)||r.set(c,[]),typeof u=="function"&&((h=r.get(c))==null||h.push(u),a[c]=function(){for(var p,d=arguments.length,f=new Array(d),g=0;g<d;g++)f[g]=arguments[g];return(p=r.get(c))==null?void 0:p.map(m=>m(...f)).find(m=>m!==void 0)})}else a[c]=u}),a),{}))}const Ohe=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function Phe(e,t){var n;t===void 0&&(t={});const{open:r,floatingId:o}=e,{enabled:i=!0,role:a="dialog"}=t,s=(n=Ohe.get(a))!=null?n:a,l=hz(),c=S_()!=null,u=x.useMemo(()=>s==="tooltip"||a==="label"?{["aria-"+(a==="label"?"labelledby":"describedby")]:r?o:void 0}:A(A(A(A(A({"aria-expanded":r?"true":"false","aria-haspopup":s==="alertdialog"?"dialog":s,"aria-controls":r?o:void 0},s==="listbox"&&{role:"combobox"}),s==="menu"&&{id:l}),s==="menu"&&c&&{role:"menuitem"}),a==="select"&&{"aria-autocomplete":"none"}),a==="combobox"&&{"aria-autocomplete":"list"}),[s,o,c,r,l,a]),h=x.useMemo(()=>{const d=A({id:o},s&&{role:s});return s==="tooltip"||a==="label"?d:A(A({},d),s==="menu"&&{"aria-labelledby":l})},[s,o,l,a]),p=x.useCallback(d=>{let{active:f,selected:g}=d;const m=A({role:"option"},f&&{id:o+"-option"});switch(a){case"select":return K(A({},m),{"aria-selected":f&&g});case"combobox":return A(A({},m),f&&{"aria-selected":!0})}return{}},[o,a]);return x.useMemo(()=>i?{reference:u,floating:h,item:p}:{},[i,u,h,p])}const[Ahe,bi]=Xi("ScrollArea.Root component was not found in tree");function ph(e,t){const n=qc(t);Nd(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}const Nhe=x.forwardRef((e,t)=>{const n=e,{style:r}=n,o=xe(n,["style"]),i=bi(),[a,s]=x.useState(0),[l,c]=x.useState(0),u=!(!a||!l);return ph(i.scrollbarX,()=>{var h;const p=((h=i.scrollbarX)==null?void 0:h.offsetHeight)||0;i.onCornerHeightChange(p),c(p)}),ph(i.scrollbarY,()=>{var h;const p=((h=i.scrollbarY)==null?void 0:h.offsetWidth)||0;i.onCornerWidthChange(p),s(p)}),u?Y.jsx("div",K(A({},o),{ref:t,style:K(A({},r),{width:a,height:l})})):null}),Rhe=x.forwardRef((e,t)=>{const n=bi(),r=!(!n.scrollbarX||!n.scrollbarY);return n.type!=="scroll"&&r?Y.jsx(Nhe,K(A({},e),{ref:t})):null}),Ihe={scrollHideDelay:1e3,type:"hover"},bz=x.forwardRef((e,t)=>{const n=Ze("ScrollAreaRoot",Ihe,e),{type:r,scrollHideDelay:o,scrollbars:i}=n,a=xe(n,["type","scrollHideDelay","scrollbars"]),[s,l]=x.useState(null),[c,u]=x.useState(null),[h,p]=x.useState(null),[d,f]=x.useState(null),[g,m]=x.useState(null),[v,y]=x.useState(0),[b,w]=x.useState(0),[k,_]=x.useState(!1),[O,E]=x.useState(!1),C=Qo(t,N=>l(N));return Y.jsx(Ahe,{value:{type:r,scrollHideDelay:o,scrollArea:s,viewport:c,onViewportChange:u,content:h,onContentChange:p,scrollbarX:d,onScrollbarXChange:f,scrollbarXEnabled:k,onScrollbarXEnabledChange:_,scrollbarY:g,onScrollbarYChange:m,scrollbarYEnabled:O,onScrollbarYEnabledChange:E,onCornerWidthChange:y,onCornerHeightChange:w},children:Y.jsx(nt,K(A({},a),{ref:C,__vars:{"--sa-corner-width":i!=="xy"?"0px":`${v}px`,"--sa-corner-height":i!=="xy"?"0px":`${b}px`}}))})});function yz(e,t){const n=e/t;return Number.isNaN(n)?0:n}function Zv(e){const t=yz(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function wz(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function kz(e,t,n="ltr"){const r=Zv(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-o,a=t.content-t.viewport,s=i-r,l=function(c,[u,h]){return Math.min(h,Math.max(u,c))}(e,n==="ltr"?[0,a]:[-1*a,0]);return wz([0,a],[0,s])(l)}function xz(e,t){return e>0&&e<t}function eb(e){return e?parseInt(e,10):0}function au(e,t,{checkForDefaultPrevented:n=!0}={}){return r=>{e==null||e(r),(n===!1||!r.defaultPrevented)&&(t==null||t(r))}}bz.displayName="@mantine/core/ScrollAreaRoot";const[Mhe,_z]=Xi("ScrollAreaScrollbar was not found in tree"),Tz=x.forwardRef((e,t)=>{const n=e,{sizes:r,hasThumb:o,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:s,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:h}=n,p=xe(n,["sizes","hasThumb","onThumbChange","onThumbPointerUp","onThumbPointerDown","onThumbPositionChange","onDragScroll","onWheelScroll","onResize"]),d=bi(),[f,g]=x.useState(null),m=Qo(t,C=>g(C)),v=x.useRef(null),y=x.useRef(""),{viewport:b}=d,w=r.content-r.viewport,k=qc(u),_=qc(l),O=Wc(h,10),E=C=>{if(v.current){const N=C.clientX-v.current.left,L=C.clientY-v.current.top;c({x:N,y:L})}};return x.useEffect(()=>{const C=N=>{const L=N.target;f!=null&&f.contains(L)&&k(N,w)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[b,f,w,k]),x.useEffect(_,[r,_]),ph(f,O),ph(d.content,O),Y.jsx(Mhe,{value:{scrollbar:f,hasThumb:o,onThumbChange:qc(i),onThumbPointerUp:qc(a),onThumbPositionChange:_,onThumbPointerDown:qc(s)},children:Y.jsx("div",K(A({},p),{ref:m,"data-mantine-scrollbar":!0,style:A({position:"absolute"},p.style),onPointerDown:au(e.onPointerDown,C=>{C.preventDefault(),C.button===0&&(C.target.setPointerCapture(C.pointerId),v.current=f.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",E(C))}),onPointerMove:au(e.onPointerMove,E),onPointerUp:au(e.onPointerUp,C=>{const N=C.target;N.hasPointerCapture(C.pointerId)&&(C.preventDefault(),N.releasePointerCapture(C.pointerId))}),onLostPointerCapture:()=>{document.body.style.webkitUserSelect=y.current,v.current=null}}))})}),Sz=x.forwardRef((e,t)=>{const n=e,{sizes:r,onSizesChange:o,style:i}=n,a=xe(n,["sizes","onSizesChange","style"]),s=bi(),[l,c]=x.useState(),u=x.useRef(null),h=Qo(t,u,s.onScrollbarXChange);return x.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),Y.jsx(Tz,K(A({"data-orientation":"horizontal"},a),{ref:h,sizes:r,style:K(A({},i),{"--sa-thumb-width":`${Zv(r)}px`}),onThumbPointerDown:p=>e.onThumbPointerDown(p.x),onDragScroll:p=>e.onDragScroll(p.x),onWheelScroll:(p,d)=>{if(s.viewport){const f=s.viewport.scrollLeft+p.deltaX;e.onWheelScroll(f),xz(f,d)&&p.preventDefault()}},onResize:()=>{u.current&&s.viewport&&l&&o({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:eb(l.paddingLeft),paddingEnd:eb(l.paddingRight)}})}}))});Sz.displayName="@mantine/core/ScrollAreaScrollbarX";const Ez=x.forwardRef((e,t)=>{const n=e,{sizes:r,onSizesChange:o,style:i}=n,a=xe(n,["sizes","onSizesChange","style"]),s=bi(),[l,c]=x.useState(),u=x.useRef(null),h=Qo(t,u,s.onScrollbarYChange);return x.useEffect(()=>{u.current&&c(window.getComputedStyle(u.current))},[]),Y.jsx(Tz,K(A({},a),{"data-orientation":"vertical",ref:h,sizes:r,style:A({"--sa-thumb-height":`${Zv(r)}px`},i),onThumbPointerDown:p=>e.onThumbPointerDown(p.y),onDragScroll:p=>e.onDragScroll(p.y),onWheelScroll:(p,d)=>{if(s.viewport){const f=s.viewport.scrollTop+p.deltaY;e.onWheelScroll(f),xz(f,d)&&p.preventDefault()}},onResize:()=>{u.current&&s.viewport&&l&&o({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:eb(l.paddingTop),paddingEnd:eb(l.paddingBottom)}})}}))});Ez.displayName="@mantine/core/ScrollAreaScrollbarY";const tb=x.forwardRef((e,t)=>{const n=e,{orientation:r="vertical"}=n,o=xe(n,["orientation"]),{dir:i}=sh(),a=bi(),s=x.useRef(null),l=x.useRef(0),[c,u]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=yz(c.viewport,c.content),p=K(A({},o),{sizes:c,onSizesChange:u,hasThumb:h>0&&h<1,onThumbChange:f=>{s.current=f},onThumbPointerUp:()=>{l.current=0},onThumbPointerDown:f=>{l.current=f}}),d=(f,g)=>function(m,v,y,b="ltr"){const w=Zv(y),k=v||w/2,_=w-k,O=y.scrollbar.paddingStart+k,E=y.scrollbar.size-y.scrollbar.paddingEnd-_,C=y.content-y.viewport;return wz([O,E],b==="ltr"?[0,C]:[-1*C,0])(m)}(f,l.current,c,g);return r==="horizontal"?Y.jsx(Sz,K(A({},p),{ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const f=kz(a.viewport.scrollLeft,c,i);s.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollLeft=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollLeft=d(f,i))}})):r==="vertical"?Y.jsx(Ez,K(A({},p),{ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const f=kz(a.viewport.scrollTop,c);c.scrollbar.size===0?s.current.style.setProperty("--thumb-opacity","0"):s.current.style.setProperty("--thumb-opacity","1"),s.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollTop=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollTop=d(f))}})):null});tb.displayName="@mantine/core/ScrollAreaScrollbarVisible";const I_=x.forwardRef((e,t)=>{const n=bi(),r=e,{forceMount:o}=r,i=xe(r,["forceMount"]),[a,s]=x.useState(!1),l=e.orientation==="horizontal",c=Wc(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;s(l?u:h)}},10);return ph(n.viewport,c),ph(n.content,c),o||a?Y.jsx(tb,K(A({"data-state":a?"visible":"hidden"},i),{ref:t})):null});I_.displayName="@mantine/core/ScrollAreaScrollbarAuto";const Cz=x.forwardRef((e,t)=>{const n=e,{forceMount:r}=n,o=xe(n,["forceMount"]),i=bi(),[a,s]=x.useState(!1);return x.useEffect(()=>{const{scrollArea:l}=i;let c=0;if(l){const u=()=>{window.clearTimeout(c),s(!0)},h=()=>{c=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",h)}}},[i.scrollArea,i.scrollHideDelay]),r||a?Y.jsx(I_,K(A({"data-state":a?"visible":"hidden"},o),{ref:t})):null});Cz.displayName="@mantine/core/ScrollAreaScrollbarHover";const Lhe=x.forwardRef((e,t)=>{const n=e,{forceMount:r}=n,o=xe(n,["forceMount"]),i=bi(),a=e.orientation==="horizontal",[s,l]=x.useState("hidden"),c=Wc(()=>l("idle"),100);return x.useEffect(()=>{if(s==="idle"){const u=window.setTimeout(()=>l("hidden"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[s,i.scrollHideDelay]),x.useEffect(()=>{const{viewport:u}=i,h=a?"scrollLeft":"scrollTop";if(u){let p=u[h];const d=()=>{const f=u[h];p!==f&&(l("scrolling"),c()),p=f};return u.addEventListener("scroll",d),()=>u.removeEventListener("scroll",d)}},[i.viewport,a,c]),r||s!=="hidden"?Y.jsx(tb,K(A({"data-state":s==="hidden"?"hidden":"visible"},o),{ref:t,onPointerEnter:au(e.onPointerEnter,()=>l("interacting")),onPointerLeave:au(e.onPointerLeave,()=>l("idle"))})):null}),M_=x.forwardRef((e,t)=>{const n=e,{forceMount:r}=n,o=xe(n,["forceMount"]),i=bi(),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:s}=i,l=e.orientation==="horizontal";return x.useEffect(()=>(l?a(!0):s(!0),()=>{l?a(!1):s(!1)}),[l,a,s]),i.type==="hover"?Y.jsx(Cz,K(A({},o),{ref:t,forceMount:r})):i.type==="scroll"?Y.jsx(Lhe,K(A({},o),{ref:t,forceMount:r})):i.type==="auto"?Y.jsx(I_,K(A({},o),{ref:t,forceMount:r})):i.type==="always"?Y.jsx(tb,K(A({},o),{ref:t})):null});M_.displayName="@mantine/core/ScrollAreaScrollbar";const Oz=x.forwardRef((e,t)=>{const n=e,{style:r}=n,o=xe(n,["style"]),i=bi(),a=_z(),{onThumbPositionChange:s}=a,l=Qo(t,h=>a.onThumbChange(h)),c=x.useRef(void 0),u=Wc(()=>{c.current&&(c.current(),c.current=void 0)},100);return x.useEffect(()=>{const{viewport:h}=i;if(h){const p=()=>{if(u(),!c.current){const d=function(f,g=()=>{}){let m={left:f.scrollLeft,top:f.scrollTop},v=0;return function y(){const b={left:f.scrollLeft,top:f.scrollTop},w=m.left!==b.left,k=m.top!==b.top;(w||k)&&g(),m=b,v=window.requestAnimationFrame(y)}(),()=>window.cancelAnimationFrame(v)}(h,s);c.current=d,s()}};return s(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[i.viewport,u,s]),Y.jsx("div",K(A({"data-state":a.hasThumb?"visible":"hidden"},o),{ref:l,style:A({width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)"},r),onPointerDownCapture:au(e.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),d=h.clientX-p.left,f=h.clientY-p.top;a.onThumbPointerDown({x:d,y:f})}),onPointerUp:au(e.onPointerUp,a.onThumbPointerUp)}))});Oz.displayName="@mantine/core/ScrollAreaThumb";const L_=x.forwardRef((e,t)=>{const n=e,{forceMount:r}=n,o=xe(n,["forceMount"]),i=_z();return r||i.hasThumb?Y.jsx(Oz,A({ref:t},o)):null});L_.displayName="@mantine/core/ScrollAreaThumb";const Pz=x.forwardRef((e,t)=>{var n=e,{children:r,style:o}=n,i=xe(n,["children","style"]);const a=bi(),s=Qo(t,a.onViewportChange);return Y.jsx(nt,K(A({},i),{ref:s,style:A({overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden"},o),children:Y.jsx("div",{style:{minWidth:"100%"},ref:a.onContentChange,children:r})}))});Pz.displayName="@mantine/core/ScrollAreaViewport";var D_={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const Az={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},Dhe=(e,{scrollbarSize:t,overscrollBehavior:n})=>({root:{"--scrollarea-scrollbar-size":Pe(t),"--scrollarea-over-scroll-behavior":n}}),su=wt((e,t)=>{const n=Ze("ScrollArea",Az,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,scrollbarSize:c,vars:u,type:h,scrollHideDelay:p,viewportProps:d,viewportRef:f,onScrollPositionChange:g,children:m,offsetScrollbars:v,scrollbars:y,onBottomReached:b,onTopReached:w,overscrollBehavior:k}=r,_=xe(r,["classNames","className","style","styles","unstyled","scrollbarSize","vars","type","scrollHideDelay","viewportProps","viewportRef","onScrollPositionChange","children","offsetScrollbars","scrollbars","onBottomReached","onTopReached","overscrollBehavior"]),[O,E]=x.useState(!1),[C,N]=x.useState(!1),[L,j]=x.useState(!1),H=Rt({name:"ScrollArea",props:n,classes:D_,className:i,style:a,classNames:o,styles:s,unstyled:l,vars:u,varsResolver:Dhe}),F=x.useRef(null),z=function(B){return x.useMemo(()=>B.every(V=>V==null)?null:V=>{B.forEach(U=>{typeof U=="function"?U(V):U!=null&&(U.current=V)})},B)}([f,F]);return x.useEffect(()=>{if(!F.current||v!=="present")return;const B=F.current,V=new ResizeObserver(()=>{const{scrollHeight:U,clientHeight:S,scrollWidth:q,clientWidth:P}=B;N(U>S),j(q>P)});return V.observe(B),()=>V.disconnect()},[F,v]),Y.jsxs(bz,K(A(A({type:h==="never"?"always":h,scrollHideDelay:p,ref:t,scrollbars:y},H("root")),_),{children:[Y.jsx(Pz,K(A(A({},d),H("viewport",{style:d==null?void 0:d.style})),{ref:z,"data-offset-scrollbars":v===!0?"xy":v||void 0,"data-scrollbars":y||void 0,"data-horizontal-hidden":v!=="present"||L?void 0:"true","data-vertical-hidden":v!=="present"||C?void 0:"true",onScroll:B=>{var V;(V=d==null?void 0:d.onScroll)==null||V.call(d,B),g==null||g({x:B.currentTarget.scrollLeft,y:B.currentTarget.scrollTop});const{scrollTop:U,scrollHeight:S,clientHeight:q}=B.currentTarget;U-(S-q)>=0&&(b==null||b()),U===0&&(w==null||w())},children:m})),(y==="xy"||y==="x")&&Y.jsx(M_,K(A({},H("scrollbar")),{orientation:"horizontal","data-hidden":h==="never"||v==="present"&&!L||void 0,forceMount:!0,onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),children:Y.jsx(L_,A({},H("thumb")))})),(y==="xy"||y==="y")&&Y.jsx(M_,K(A({},H("scrollbar")),{orientation:"vertical","data-hidden":h==="never"||v==="present"&&!C||void 0,forceMount:!0,onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),children:Y.jsx(L_,A({},H("thumb")))})),Y.jsx(Rhe,K(A({},H("corner")),{"data-hovered":O||void 0,"data-hidden":h==="never"||void 0}))]}))});su.displayName="@mantine/core/ScrollArea";const j_=wt((e,t)=>{const n=Ze("ScrollAreaAutosize",Az,e),{children:r,classNames:o,styles:i,scrollbarSize:a,scrollHideDelay:s,type:l,dir:c,offsetScrollbars:u,viewportRef:h,onScrollPositionChange:p,unstyled:d,variant:f,viewportProps:g,scrollbars:m,style:v,vars:y,onBottomReached:b,onTopReached:w}=n,k=xe(n,["children","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","variant","viewportProps","scrollbars","style","vars","onBottomReached","onTopReached"]);return Y.jsx(nt,K(A({},k),{ref:t,style:[{display:"flex",overflow:"auto"},v],children:Y.jsx(nt,{style:{display:"flex",flexDirection:"column",flex:1},children:Y.jsx(su,{classNames:o,styles:i,scrollHideDelay:s,scrollbarSize:a,type:l,dir:c,offsetScrollbars:u,viewportRef:h,onScrollPositionChange:p,unstyled:d,variant:f,viewportProps:g,vars:y,scrollbars:m,onBottomReached:b,onTopReached:w,children:r})})}))});su.classes=D_,j_.displayName="@mantine/core/ScrollAreaAutosize",j_.classes=D_,su.Autosize=j_;var Nz={root:"m_87cf2631"};const jhe={__staticSelector:"UnstyledButton"},Wa=to((e,t)=>{const n=Ze("UnstyledButton",jhe,e),r=n,{className:o,component:i="button",__staticSelector:a,unstyled:s,classNames:l,styles:c,style:u}=r,h=xe(r,["className","component","__staticSelector","unstyled","classNames","styles","style"]),p=Rt({name:a,props:n,classes:Nz,className:o,style:u,classNames:l,styles:c,unstyled:s});return Y.jsx(nt,A(K(A({},p("root",{focusable:!0})),{component:i,ref:t,type:i==="button"?"button":void 0}),h))});Wa.classes=Nz,Wa.displayName="@mantine/core/UnstyledButton";var Rz={root:"m_515a97f8"};const zhe={},z_=wt((e,t)=>{const n=Ze("VisuallyHidden",zhe,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c}=r,u=xe(r,["classNames","className","style","styles","unstyled","vars"]),h=Rt({name:"VisuallyHidden",classes:Rz,props:n,className:i,style:a,classNames:o,styles:s,unstyled:l});return Y.jsx(nt,A(A({component:"span",ref:t},h("root")),u))});z_.classes=Rz,z_.displayName="@mantine/core/VisuallyHidden";var Iz={root:"m_1b7284a3"};const Fhe={},Bhe=(e,{radius:t,shadow:n})=>({root:{"--paper-radius":t===void 0?void 0:Ur(t),"--paper-shadow":B4(n)}}),lu=to((e,t)=>{const n=Ze("Paper",Fhe,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,withBorder:c,vars:u,radius:h,shadow:p,variant:d,mod:f}=r,g=xe(r,["classNames","className","style","styles","unstyled","withBorder","vars","radius","shadow","variant","mod"]),m=Rt({name:"Paper",props:n,classes:Iz,className:i,style:a,classNames:o,styles:s,unstyled:l,vars:u,varsResolver:Bhe});return Y.jsx(nt,A(K(A({ref:t,mod:[{"data-with-border":c},f]},m("root")),{variant:d}),g))});function Mz(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),o=n==="right"?"left":"right";return r===void 0?o:`${o}-${r}`}return t}function Lz(e,t,n,r){return e==="center"||r==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function Dz(e,t,n,r,o){return e==="center"||r==="center"?{left:t}:e==="end"?{[o==="ltr"?"right":"left"]:n}:e==="start"?{[o==="ltr"?"left":"right"]:n}:{}}lu.classes=Iz,lu.displayName="@mantine/core/Paper";const Uhe={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function Hhe({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:o,arrowX:i,arrowY:a,dir:s}){const[l,c="center"]=e.split("-"),u={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[Uhe[l]]:r},h=-t/2;return l==="left"?K(A(A({},u),Lz(c,a,n,o)),{right:h,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}):l==="right"?K(A(A({},u),Lz(c,a,n,o)),{left:h,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}):l==="top"?K(A(A({},u),Dz(c,i,n,o,s)),{bottom:h,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}):l==="bottom"?K(A(A({},u),Dz(c,i,n,o,s)),{top:h,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}):{}}const F_=x.forwardRef((e,t)=>{var n=e,{position:r,arrowSize:o,arrowOffset:i,arrowRadius:a,arrowPosition:s,visible:l,arrowX:c,arrowY:u,style:h}=n,p=xe(n,["position","arrowSize","arrowOffset","arrowRadius","arrowPosition","visible","arrowX","arrowY","style"]);const{dir:d}=sh();return l?Y.jsx("div",K(A({},p),{ref:t,style:A(A({},h),Hhe({position:r,arrowSize:o,arrowOffset:i,arrowRadius:a,arrowPosition:s,dir:d,arrowX:c,arrowY:u}))})):null});F_.displayName="@mantine/core/FloatingArrow";var jz={root:"m_9814e45f"};const Vhe={zIndex:Ji("modal")},$he=(e,{gradient:t,color:n,backgroundOpacity:r,blur:o,radius:i,zIndex:a})=>({root:{"--overlay-bg":t||(n!==void 0||r!==void 0)&&Ua(n||"#000",r??.6)||void 0,"--overlay-filter":o?`blur(${Pe(o)})`:void 0,"--overlay-radius":i===void 0?void 0:Ur(i),"--overlay-z-index":a==null?void 0:a.toString()}}),mh=to((e,t)=>{const n=Ze("Overlay",Vhe,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,fixed:u,center:h,children:p,radius:d,zIndex:f,gradient:g,blur:m,color:v,backgroundOpacity:y,mod:b}=r,w=xe(r,["classNames","className","style","styles","unstyled","vars","fixed","center","children","radius","zIndex","gradient","blur","color","backgroundOpacity","mod"]),k=Rt({name:"Overlay",props:n,classes:jz,className:i,style:a,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:$he});return Y.jsx(nt,K(A(K(A({ref:t},k("root")),{mod:[{center:h,fixed:u},b]}),w),{children:p}))});function B_(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}mh.classes=jz,mh.displayName="@mantine/core/Overlay";const qhe={},nb=wt((e,t)=>{const n=Ze("Portal",qhe,e),{children:r,target:o,reuseTargetNode:i}=n,a=xe(n,["children","target","reuseTargetNode"]),[s,l]=x.useState(!1),c=x.useRef(null);return Nd(()=>(l(!0),c.current=function(u){var h=u,{target:p,reuseTargetNode:d}=h,f=xe(h,["target","reuseTargetNode"]);if(p)return typeof p=="string"?document.querySelector(p)||B_(f):p;if(d){const g=document.querySelector("[data-mantine-shared-portal-node]");if(g)return g;const m=B_(f);return m.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(m),m}return B_(f)}(A({target:o,reuseTargetNode:i},a)),z9(t,c.current),!o&&!i&&c.current&&document.body.appendChild(c.current),()=>{!o&&!i&&c.current&&document.body.removeChild(c.current)}),[o]),s&&c.current?vs.createPortal(Y.jsx(Y.Fragment,{children:r}),c.current):null});nb.displayName="@mantine/core/Portal";const fh=wt((e,t)=>{var n=e,{withinPortal:r=!0,children:o}=n,i=xe(n,["withinPortal","children"]);return kj()!=="test"&&r?Y.jsx(nb,K(A({ref:t},i),{children:o})):Y.jsx(Y.Fragment,{children:o})});fh.displayName="@mantine/core/OptionalPortal";const sm=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${e==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),rb={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:K(A({},sm("bottom")),{common:{transformOrigin:"center center"}}),"pop-bottom-left":K(A({},sm("bottom")),{common:{transformOrigin:"bottom left"}}),"pop-bottom-right":K(A({},sm("bottom")),{common:{transformOrigin:"bottom right"}}),"pop-top-left":K(A({},sm("top")),{common:{transformOrigin:"top left"}}),"pop-top-right":K(A({},sm("top")),{common:{transformOrigin:"top right"}})},zz={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function Whe({transition:e,state:t,duration:n,timingFunction:r}){const o={WebkitBackfaceVisibility:"hidden",willChange:"transform, opacity",transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in rb?A(A(A({transitionProperty:rb[e].transitionProperty},o),rb[e].common),rb[e][zz[t]]):{}:A(A(A({transitionProperty:e.transitionProperty},o),e.common),e[zz[t]])}function Ghe({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:o,onExit:i,onEntered:a,onExited:s,enterDelay:l,exitDelay:c}){const u=_o(),h=B9(),p=!!u.respectReducedMotion&&h,[d,f]=x.useState(p?0:e),[g,m]=x.useState(r?"entered":"exited"),v=x.useRef(-1),y=x.useRef(-1),b=x.useRef(-1),w=k=>{const _=k?o:i,O=k?a:s;window.clearTimeout(v.current);const E=p?0:k?e:t;f(E),E===0?(typeof _=="function"&&_(),typeof O=="function"&&O(),m(k?"entered":"exited")):b.current=requestAnimationFrame(()=>{Ste.flushSync(()=>{m(k?"pre-entering":"pre-exiting")}),b.current=requestAnimationFrame(()=>{typeof _=="function"&&_(),m(k?"entering":"exiting"),v.current=window.setTimeout(()=>{typeof O=="function"&&O(),m(k?"entered":"exited")},E)})})};return Ss(()=>{(k=>{window.clearTimeout(y.current),typeof(k?l:c)=="number"?y.current=window.setTimeout(()=>{w(k)},k?l:c):w(k)})(r)},[r]),x.useEffect(()=>()=>{window.clearTimeout(v.current),cancelAnimationFrame(b.current)},[]),{transitionDuration:d,transitionStatus:g,transitionTimingFunction:n||"ease"}}function ni({keepMounted:e,transition:t="fade",duration:n=250,exitDuration:r=n,mounted:o,children:i,timingFunction:a="ease",onExit:s,onEntered:l,onEnter:c,onExited:u,enterDelay:h,exitDelay:p}){const d=kj(),{transitionDuration:f,transitionStatus:g,transitionTimingFunction:m}=Ghe({mounted:o,exitDuration:r,duration:n,timingFunction:a,onExit:s,onEntered:l,onEnter:c,onExited:u,enterDelay:h,exitDelay:p});return f===0||d==="test"?o?Y.jsx(Y.Fragment,{children:i({})}):e?i({display:"none"}):null:g==="exited"?e?i({display:"none"}):null:Y.jsx(Y.Fragment,{children:i(Whe({transition:t,duration:f,state:g,timingFunction:m}))})}ni.displayName="@mantine/core/Transition";const[Khe,Fz]=Xi("Popover component was not found in the tree");function ob({children:e,active:t=!0,refProp:n="ref",innerRef:r}){const o=function(a=!0){const s=x.useRef(null),l=u=>{let h=u.querySelector("[data-autofocus]");if(!h){const p=Array.from(u.querySelectorAll(nR));h=p.find(oR)||p.find(j9)||null,!h&&j9(u)&&(h=u)}h&&h.focus({preventScroll:!0})},c=x.useCallback(u=>{a&&u!==null&&s.current!==u&&(u?(setTimeout(()=>{u.getRootNode()&&l(u)}),s.current=u):s.current=null)},[a]);return x.useEffect(()=>{if(!a)return;s.current&&setTimeout(()=>l(s.current));const u=h=>{h.key==="Tab"&&s.current&&$ae(s.current,h)};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[a]),c}(t),i=Qo(o,r);return tm(e)?x.cloneElement(e,{[n]:i}):e}function Bz(e){return Y.jsx(z_,A({tabIndex:-1,"data-autofocus":!0},e))}ob.displayName="@mantine/core/FocusTrap",Bz.displayName="@mantine/core/FocusTrapInitialFocus",ob.InitialFocus=Bz;var Uz={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const Yhe={},U_=wt((e,t)=>{var n,r,o,i,a;const s=Ze("PopoverDropdown",Yhe,e),l=s,{className:c,style:u,vars:h,children:p,onKeyDownCapture:d,variant:f,classNames:g,styles:m}=l,v=xe(l,["className","style","vars","children","onKeyDownCapture","variant","classNames","styles"]),y=Fz(),b=tR({opened:y.opened,shouldReturnFocus:y.returnFocus}),w=y.withRoles?{"aria-labelledby":y.getTargetId(),id:y.getDropdownId(),role:"dialog",tabIndex:-1}:{},k=Qo(t,y.floating);return y.disabled?null:Y.jsx(fh,K(A({},y.portalProps),{withinPortal:y.withinPortal,children:Y.jsx(ni,K(A({mounted:y.opened},y.transitionProps),{transition:((n=y.transitionProps)==null?void 0:n.transition)||"fade",duration:(o=(r=y.transitionProps)==null?void 0:r.duration)!=null?o:150,keepMounted:y.keepMounted,exitDuration:typeof((i=y.transitionProps)==null?void 0:i.exitDuration)=="number"?y.transitionProps.exitDuration:(a=y.transitionProps)==null?void 0:a.duration,children:_=>{var O,E;return Y.jsx(ob,{active:y.trapFocus&&y.opened,innerRef:k,children:Y.jsxs(nt,K(A(K(A(A({},w),v),{variant:f,onKeyDownCapture:Cde(()=>{var C,N;(C=y.onClose)==null||C.call(y),(N=y.onDismiss)==null||N.call(y)},{active:y.closeOnEscape,onTrigger:b,onKeyDown:d}),"data-position":y.placement,"data-fixed":y.floatingStrategy==="fixed"||void 0}),y.getStyles("dropdown",{className:c,props:s,classNames:g,styles:m,style:[K(A({},_),{zIndex:y.zIndex,top:(O=y.y)!=null?O:0,left:(E=y.x)!=null?E:0,width:y.width==="target"?void 0:Pe(y.width)}),y.resolvedStyles.dropdown,m==null?void 0:m.dropdown,u]})),{children:[p,Y.jsx(F_,A({ref:y.arrowRef,arrowX:y.arrowX,arrowY:y.arrowY,visible:y.withArrow,position:y.placement,arrowSize:y.arrowSize,arrowRadius:y.arrowRadius,arrowOffset:y.arrowOffset,arrowPosition:y.arrowPosition},y.getStyles("arrow",{props:s,classNames:g,styles:m})))]}))})}}))}))});U_.classes=Uz,U_.displayName="@mantine/core/PopoverDropdown";const Qhe={refProp:"ref",popupType:"dialog"},Hz=wt((e,t)=>{const n=Ze("PopoverTarget",Qhe,e),{children:r,refProp:o,popupType:i}=n,a=xe(n,["children","refProp","popupType"]);if(!tm(r))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=a,l=Fz(),c=Qo(l.reference,U4(r),t),u=l.withRoles?{"aria-haspopup":i,"aria-expanded":l.opened,"aria-controls":l.getDropdownId(),id:l.getTargetId()}:{};return x.cloneElement(r,A(K(A(A(A({},s),u),l.targetProps),{className:eo(l.targetProps.className,s.className,r.props.className),[o]:c}),l.controlled?null:{onClick:l.onToggle}))});function Vz({opened:e,floating:t,position:n,positionDependencies:r}){const[o,i]=x.useState(0);x.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current&&e)return ahe(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,o,n]),Ss(()=>{t.update()},r),Ss(()=>{i(a=>a+1)},[e])}function Xhe(e,t){const n=function(o){if(o===void 0)return{shift:!0,flip:!0};const i=A({},o);return o.shift===void 0&&(i.shift=!0),o.flip===void 0&&(i.flip=!0),i}(e.middlewares),r=[az(e.offset)];return n.shift&&r.push(T_(typeof n.shift=="boolean"?{limiter:sz(),padding:5}:A({limiter:sz(),padding:5},n.shift))),n.flip&&r.push(typeof n.flip=="boolean"?Xv():Xv(n.flip)),n.inline&&r.push(typeof n.inline=="boolean"?am():am(n.inline)),r.push(lz({element:e.arrowRef,padding:e.arrowOffset})),(n.size||e.width==="target")&&r.push(mhe(K(A({},typeof n.size=="boolean"?{}:n.size),{apply(o){var i,a,s=o,{rects:l,availableWidth:c,availableHeight:u}=s,h=xe(s,["rects","availableWidth","availableHeight"]);const p=(a=(i=t().refs.floating.current)==null?void 0:i.style)!=null?a:{};n.size&&(typeof n.size=="object"&&n.size.apply?n.size.apply(A({rects:l,availableWidth:c,availableHeight:u},h)):Object.assign(p,{maxWidth:`${c}px`,maxHeight:`${u}px`})),e.width==="target"&&Object.assign(p,{width:`${l.reference.width}px`})}}))),r}Hz.displayName="@mantine/core/PopoverTarget";const Jhe={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Ji("popover"),__staticSelector:"Popover",width:"max-content"},Zhe=(e,{radius:t,shadow:n})=>({dropdown:{"--popover-radius":t===void 0?void 0:Ur(t),"--popover-shadow":B4(n)}});function Ga(e){var t,n,r,o,i,a;const s=Ze("Popover",Jhe,e),l=s,{children:c,position:u,offset:h,onPositionChange:p,positionDependencies:d,opened:f,transitionProps:g,onExitTransitionEnd:m,onEnterTransitionEnd:v,width:y,middlewares:b,withArrow:w,arrowSize:k,arrowOffset:_,arrowRadius:O,arrowPosition:E,unstyled:C,classNames:N,styles:L,closeOnClickOutside:j,withinPortal:H,portalProps:F,closeOnEscape:z,clickOutsideEvents:B,trapFocus:V,onClose:U,onDismiss:S,onOpen:q,onChange:P,zIndex:Q,radius:re,shadow:_e,id:se,defaultOpened:ue,__staticSelector:fe,withRoles:je,disabled:Qe,returnFocus:Xe,variant:ie,keepMounted:Se,vars:ae,floatingStrategy:pe,withOverlay:Te,overlayProps:be}=l,we=xe(l,["children","position","offset","onPositionChange","positionDependencies","opened","transitionProps","onExitTransitionEnd","onEnterTransitionEnd","width","middlewares","withArrow","arrowSize","arrowOffset","arrowRadius","arrowPosition","unstyled","classNames","styles","closeOnClickOutside","withinPortal","portalProps","closeOnEscape","clickOutsideEvents","trapFocus","onClose","onDismiss","onOpen","onChange","zIndex","radius","shadow","id","defaultOpened","__staticSelector","withRoles","disabled","returnFocus","variant","keepMounted","vars","floatingStrategy","withOverlay","overlayProps"]),Oe=Rt({name:fe,props:s,classes:Uz,classNames:N,styles:L,unstyled:C,rootSelector:"dropdown",vars:ae,varsResolver:Zhe}),{resolvedStyles:ke}=J4({classNames:N,styles:L,props:s}),Me=x.useRef(null),[Le,Ge]=x.useState(null),[Ye,ct]=x.useState(null),{dir:Re}=sh(),ze=Cp(se),He=function(he){const[Ee,$e]=F9({value:he.opened,defaultValue:he.defaultOpened,finalValue:!1,onChange:he.onChange}),Je=x.useRef(Ee),at=N_({strategy:he.strategy,placement:he.position,middleware:Xhe(he,()=>at)});return Vz({opened:Ee,position:he.position,positionDependencies:he.positionDependencies||[],floating:at}),Ss(()=>{var We;(We=he.onPositionChange)==null||We.call(he,at.placement)},[at.placement]),Ss(()=>{var We,bt;Ee!==Je.current&&(Ee?(bt=he.onOpen)==null||bt.call(he):(We=he.onClose)==null||We.call(he)),Je.current=Ee},[Ee,he.onClose,he.onOpen]),{floating:at,controlled:typeof he.opened=="boolean",opened:Ee,onClose:()=>{Ee&&$e(!1)},onToggle:()=>$e(!Ee)}}({middlewares:b,width:y,position:Mz(Re,u),offset:typeof h=="number"?h+(w?k/2:0):h,arrowRef:Me,arrowOffset:_,onPositionChange:p,positionDependencies:d,opened:f,defaultOpened:ue,onChange:P,onOpen:q,onClose:U,onDismiss:S,strategy:pe});(function(he,Ee,$e){const Je=x.useRef(null);x.useEffect(()=>{const at=We=>{const{target:bt}=We??{};if(Array.isArray($e)){const ft=(bt==null?void 0:bt.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(bt)&&bt.tagName!=="HTML";$e.every(ut=>!!ut&&!We.composedPath().includes(ut))&&!ft&&he()}else Je.current&&!Je.current.contains(bt)&&he()};return(Ee||eR).forEach(We=>document.addEventListener(We,at)),()=>{(Ee||eR).forEach(We=>document.removeEventListener(We,at))}},[Je,he,$e])})(()=>{j&&(He.onClose(),S==null||S())},B,[Le,Ye]);const et=x.useCallback(he=>{Ge(he),He.floating.refs.setReference(he)},[He.floating.refs.setReference]),oe=x.useCallback(he=>{ct(he),He.floating.refs.setFloating(he)},[He.floating.refs.setFloating]),X=x.useCallback(()=>{var he;(he=g==null?void 0:g.onExited)==null||he.call(g),m==null||m()},[g==null?void 0:g.onExited,m]),de=x.useCallback(()=>{var he;(he=g==null?void 0:g.onEntered)==null||he.call(g),v==null||v()},[g==null?void 0:g.onEntered,v]);return Y.jsxs(Khe,{value:{returnFocus:Xe,disabled:Qe,controlled:He.controlled,reference:et,floating:oe,x:He.floating.x,y:He.floating.y,arrowX:(r=(n=(t=He.floating)==null?void 0:t.middlewareData)==null?void 0:n.arrow)==null?void 0:r.x,arrowY:(a=(i=(o=He.floating)==null?void 0:o.middlewareData)==null?void 0:i.arrow)==null?void 0:a.y,opened:He.opened,arrowRef:Me,transitionProps:K(A({},g),{onExited:X,onEntered:de}),width:y,withArrow:w,arrowSize:k,arrowOffset:_,arrowRadius:O,arrowPosition:E,placement:He.floating.placement,trapFocus:V,withinPortal:H,portalProps:F,zIndex:Q,radius:re,shadow:_e,closeOnEscape:z,onDismiss:S,onClose:He.onClose,onToggle:He.onToggle,getTargetId:()=>`${ze}-target`,getDropdownId:()=>`${ze}-dropdown`,withRoles:je,targetProps:we,__staticSelector:fe,classNames:N,styles:L,unstyled:C,variant:ie,keepMounted:Se,getStyles:Oe,resolvedStyles:ke,floatingStrategy:pe},children:[c,Te&&Y.jsx(ni,{transition:"fade",mounted:He.opened,duration:(g==null?void 0:g.duration)||250,exitDuration:(g==null?void 0:g.exitDuration)||250,children:he=>Y.jsx(fh,{withinPortal:H,children:Y.jsx(mh,A(A({},be),Oe("overlay",{className:be==null?void 0:be.className,style:[he,be==null?void 0:be.style]})))})})]})}Ga.Target=Hz,Ga.Dropdown=U_,Ga.displayName="@mantine/core/Popover",Ga.extend=e=>e;var ta={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const $z=x.forwardRef((e,t)=>{var n=e,{className:r}=n,o=xe(n,["className"]);return Y.jsxs(nt,K(A({component:"span",className:eo(ta.barsLoader,r)},o),{ref:t,children:[Y.jsx("span",{className:ta.bar}),Y.jsx("span",{className:ta.bar}),Y.jsx("span",{className:ta.bar})]}))});$z.displayName="@mantine/core/Bars";const qz=x.forwardRef((e,t)=>{var n=e,{className:r}=n,o=xe(n,["className"]);return Y.jsxs(nt,K(A({component:"span",className:eo(ta.dotsLoader,r)},o),{ref:t,children:[Y.jsx("span",{className:ta.dot}),Y.jsx("span",{className:ta.dot}),Y.jsx("span",{className:ta.dot})]}))});qz.displayName="@mantine/core/Dots";const Wz=x.forwardRef((e,t)=>{var n=e,{className:r}=n,o=xe(n,["className"]);return Y.jsx(nt,K(A({component:"span",className:eo(ta.ovalLoader,r)},o),{ref:t}))});Wz.displayName="@mantine/core/Oval";const Gz={bars:$z,oval:Wz,dots:qz},e1e={loaders:Gz,type:"oval"},t1e=(e,{size:t,color:n})=>({root:{"--loader-size":$n(t,"loader-size"),"--loader-color":n?gi(n,e):void 0}}),cu=wt((e,t)=>{const n=Ze("Loader",e1e,e),r=n,{size:o,color:i,type:a,vars:s,className:l,style:c,classNames:u,styles:h,unstyled:p,loaders:d,variant:f,children:g}=r,m=xe(r,["size","color","type","vars","className","style","classNames","styles","unstyled","loaders","variant","children"]),v=Rt({name:"Loader",props:n,classes:ta,className:l,style:c,classNames:u,styles:h,unstyled:p,vars:s,varsResolver:t1e});return g?Y.jsx(nt,K(A(K(A({},v("root")),{ref:t}),m),{children:g})):Y.jsx(nt,A(K(A({},v("root")),{ref:t,component:d[a],variant:f,size:o}),m))});cu.defaultLoaders=Gz,cu.classes=ta,cu.displayName="@mantine/core/Loader";var gh={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const Kz={orientation:"horizontal"},n1e=(e,{borderWidth:t})=>({group:{"--ai-border-width":Pe(t)}}),H_=wt((e,t)=>{const n=Ze("ActionIconGroup",Kz,e),r=Ze("ActionIconGroup",Kz,e),{className:o,style:i,classNames:a,styles:s,unstyled:l,orientation:c,vars:u,borderWidth:h,variant:p,mod:d}=r,f=xe(r,["className","style","classNames","styles","unstyled","orientation","vars","borderWidth","variant","mod"]),g=Rt({name:"ActionIconGroup",props:n,classes:gh,className:o,style:i,classNames:a,styles:s,unstyled:l,vars:u,varsResolver:n1e,rootSelector:"group"});return Y.jsx(nt,A(K(A({},g("group")),{ref:t,variant:p,mod:[{"data-orientation":c},d],role:"group"}),f))});H_.classes=gh,H_.displayName="@mantine/core/ActionIconGroup";const Yz={},r1e=(e,{radius:t,color:n,gradient:r,variant:o,autoContrast:i,size:a})=>{const s=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:o||"filled",autoContrast:i});return{groupSection:{"--section-height":$n(a,"section-height"),"--section-padding-x":$n(a,"section-padding-x"),"--section-fz":ei(a),"--section-radius":t===void 0?void 0:Ur(t),"--section-bg":n||o?s.background:void 0,"--section-color":s.color,"--section-bd":n||o?s.border:void 0}}},V_=wt((e,t)=>{const n=Ze("ActionIconGroupSection",Yz,e),r=Ze("ActionIconGroupSection",Yz,e),{className:o,style:i,classNames:a,styles:s,unstyled:l,vars:c,variant:u,gradient:h,radius:p,autoContrast:d}=r,f=xe(r,["className","style","classNames","styles","unstyled","vars","variant","gradient","radius","autoContrast"]),g=Rt({name:"ActionIconGroupSection",props:n,classes:gh,className:o,style:i,classNames:a,styles:s,unstyled:l,vars:c,varsResolver:r1e,rootSelector:"groupSection"});return Y.jsx(nt,A(K(A({},g("groupSection")),{ref:t,variant:u}),f))});V_.classes=gh,V_.displayName="@mantine/core/ActionIconGroupSection";const o1e={},i1e=(e,{size:t,radius:n,variant:r,gradient:o,color:i,autoContrast:a})=>{const s=e.variantColorResolver({color:i||e.primaryColor,theme:e,gradient:o,variant:r||"filled",autoContrast:a});return{root:{"--ai-size":$n(t,"ai-size"),"--ai-radius":n===void 0?void 0:Ur(n),"--ai-bg":i||r?s.background:void 0,"--ai-hover":i||r?s.hover:void 0,"--ai-hover-color":i||r?s.hoverColor:void 0,"--ai-color":s.color,"--ai-bd":i||r?s.border:void 0}}},Jt=to((e,t)=>{const n=Ze("ActionIcon",o1e,e),r=n,{className:o,unstyled:i,variant:a,classNames:s,styles:l,style:c,loading:u,loaderProps:h,size:p,color:d,radius:f,__staticSelector:g,gradient:m,vars:v,children:y,disabled:b,"data-disabled":w,autoContrast:k,mod:_}=r,O=xe(r,["className","unstyled","variant","classNames","styles","style","loading","loaderProps","size","color","radius","__staticSelector","gradient","vars","children","disabled","data-disabled","autoContrast","mod"]),E=Rt({name:["ActionIcon",g],props:n,className:o,style:c,classes:gh,classNames:s,styles:l,unstyled:i,vars:v,varsResolver:i1e});return Y.jsxs(Wa,K(A(A({},E("root",{active:!b&&!u&&!w})),O),{unstyled:i,variant:a,size:p,disabled:b||u,ref:t,mod:[{loading:u,disabled:b||w},_],children:[Y.jsx(ni,{mounted:!!u,transition:"slide-down",duration:150,children:C=>Y.jsx(nt,K(A({component:"span"},E("loader",{style:C})),{"aria-hidden":!0,children:Y.jsx(cu,A({color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)"},h))}))}),Y.jsx(nt,K(A({component:"span",mod:{loading:u}},E("icon")),{children:y}))]}))});Jt.classes=gh,Jt.displayName="@mantine/core/ActionIcon",Jt.Group=H_,Jt.GroupSection=V_;const Qz=x.forwardRef((e,t)=>{var n=e,{size:r="var(--cb-icon-size, 70%)",style:o}=n,i=xe(n,["size","style"]);return Y.jsx("svg",K(A({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:K(A({},o),{width:r,height:r}),ref:t},i),{children:Y.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}))});Qz.displayName="@mantine/core/CloseIcon";var Xz={root:"m_86a44da5","root--subtle":"m_220c80f2"};const a1e={variant:"subtle"},s1e=(e,{size:t,radius:n,iconSize:r})=>({root:{"--cb-size":$n(t,"cb-size"),"--cb-radius":n===void 0?void 0:Ur(n),"--cb-icon-size":Pe(r)}}),lm=to((e,t)=>{const n=Ze("CloseButton",a1e,e),r=n,{iconSize:o,children:i,vars:a,radius:s,className:l,classNames:c,style:u,styles:h,unstyled:p,"data-disabled":d,disabled:f,variant:g,icon:m,mod:v,__staticSelector:y}=r,b=xe(r,["iconSize","children","vars","radius","className","classNames","style","styles","unstyled","data-disabled","disabled","variant","icon","mod","__staticSelector"]),w=Rt({name:y||"CloseButton",props:n,className:l,style:u,classes:Xz,classNames:c,styles:h,unstyled:p,vars:a,varsResolver:s1e});return Y.jsxs(Wa,K(A(K(A({ref:t},b),{unstyled:p,variant:g,disabled:f,mod:[{disabled:f||d},v]}),w("root",{variant:g,active:!f&&!d})),{children:[m||Y.jsx(Qz,{}),i]}))});lm.classes=Xz,lm.displayName="@mantine/core/CloseButton";var Jz={root:"m_4081bf90"};const l1e={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},c1e=(e,{grow:t,preventGrowOverflow:n,gap:r,align:o,justify:i,wrap:a},{childWidth:s})=>({root:{"--group-child-width":t&&n?s:void 0,"--group-gap":xo(r),"--group-align":o,"--group-justify":i,"--group-wrap":a}}),Or=wt((e,t)=>{const n=Ze("Group",l1e,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,children:c,gap:u,align:h,justify:p,wrap:d,grow:f,preventGrowOverflow:g,vars:m,variant:v,__size:y,mod:b}=r,w=xe(r,["classNames","className","style","styles","unstyled","children","gap","align","justify","wrap","grow","preventGrowOverflow","vars","variant","__size","mod"]),k=function(C){return x.Children.toArray(C).filter(Boolean)}(c),_=k.length,O=xo(u??"md"),E=Rt({name:"Group",props:n,stylesCtx:{childWidth:`calc(${100/_}% - (${O} - ${O} / ${_}))`},className:i,style:a,classes:Jz,classNames:o,styles:s,unstyled:l,vars:m,varsResolver:c1e});return Y.jsx(nt,K(A(K(A({},E("root")),{ref:t,variant:v,mod:[{grow:f},b],size:y}),w),{children:k}))});Or.classes=Jz,Or.displayName="@mantine/core/Group";const[u1e,js]=Xi("ModalBase component was not found in tree");function d1e({id:e,transitionProps:t,opened:n,trapFocus:r,closeOnEscape:o,onClose:i,returnFocus:a}){const s=Cp(e),[l,c]=x.useState(!1),[u,h]=x.useState(!1),p=typeof(t==null?void 0:t.duration)=="number"?t==null?void 0:t.duration:200,d=function({opened:f,transitionDuration:g}){const[m,v]=x.useState(f),y=x.useRef(-1),b=B9()?0:g;return x.useEffect(()=>(f?(v(!0),window.clearTimeout(y.current)):b===0?v(!1):y.current=window.setTimeout(()=>v(!1),b),()=>window.clearTimeout(y.current)),[f,b]),m}({opened:n,transitionDuration:p});return Op("keydown",f=>{var g;f.key==="Escape"&&o&&!f.isComposing&&n&&((g=f.target)==null?void 0:g.getAttribute("data-mantine-stop-propagation"))!=="true"&&i()},{capture:!0}),tR({opened:n,shouldReturnFocus:r&&a}),{_id:s,titleMounted:l,bodyMounted:u,shouldLockScroll:d,setTitleMounted:c,setBodyMounted:h}}const Zz=x.forwardRef((e,t)=>{var n=e,{keepMounted:r,opened:o,onClose:i,id:a,transitionProps:s,onExitTransitionEnd:l,onEnterTransitionEnd:c,trapFocus:u,closeOnEscape:h,returnFocus:p,closeOnClickOutside:d,withinPortal:f,portalProps:g,lockScroll:m,children:v,zIndex:y,shadow:b,padding:w,__vars:k,unstyled:_,removeScrollProps:O}=n,E=xe(n,["keepMounted","opened","onClose","id","transitionProps","onExitTransitionEnd","onEnterTransitionEnd","trapFocus","closeOnEscape","returnFocus","closeOnClickOutside","withinPortal","portalProps","lockScroll","children","zIndex","shadow","padding","__vars","unstyled","removeScrollProps"]);const{_id:C,titleMounted:N,bodyMounted:L,shouldLockScroll:j,setTitleMounted:H,setBodyMounted:F}=d1e({id:a,transitionProps:s,opened:o,trapFocus:u,closeOnEscape:h,onClose:i,returnFocus:p}),z=O||{},{key:B}=z,V=xe(z,["key"]);return Y.jsx(fh,K(A({},g),{withinPortal:f,children:Y.jsx(u1e,{value:{opened:o,onClose:i,closeOnClickOutside:d,onExitTransitionEnd:l,onEnterTransitionEnd:c,transitionProps:K(A({},s),{keepMounted:r}),getTitleId:()=>`${C}-title`,getBodyId:()=>`${C}-body`,titleMounted:N,bodyMounted:L,setTitleMounted:H,setBodyMounted:F,trapFocus:u,closeOnEscape:h,zIndex:y,unstyled:_},children:Y.jsx(pj,K(A({enabled:j&&m},V),{children:Y.jsx(nt,K(A({ref:t},E),{__vars:K(A({},k),{"--mb-z-index":(y||Ji("modal")).toString(),"--mb-shadow":B4(b),"--mb-padding":xo(w)}),children:v}))}),B)})}))});Zz.displayName="@mantine/core/ModalBase";var h1e="m_615af6c9",p1e="m_b5489c3c",m1e="m_60c222c7",f1e="m_fd1ab0aa",g1e="m_606cb269",v1e="m_5df29311";const eF=x.forwardRef((e,t)=>{var n=e,{className:r}=n,o=xe(n,["className"]);const i=function(){const s=js();return x.useEffect(()=>(s.setBodyMounted(!0),()=>s.setBodyMounted(!1)),[]),s.getBodyId()}(),a=js();return Y.jsx(nt,K(A({ref:t},o),{id:i,className:eo({[v1e]:!a.unstyled},r)}))});eF.displayName="@mantine/core/ModalBaseBody";const tF=x.forwardRef((e,t)=>{var n=e,{className:r,onClick:o}=n,i=xe(n,["className","onClick"]);const a=js();return Y.jsx(lm,K(A({ref:t},i),{onClick:s=>{a.onClose(),o==null||o(s)},className:eo({[g1e]:!a.unstyled},r),unstyled:a.unstyled}))});tF.displayName="@mantine/core/ModalBaseCloseButton";const nF=x.forwardRef((e,t)=>{var n=e,{transitionProps:r,className:o,innerProps:i,onKeyDown:a,style:s}=n,l=xe(n,["transitionProps","className","innerProps","onKeyDown","style"]);const c=js();return Y.jsx(ni,K(A(K(A({mounted:c.opened,transition:"pop"},c.transitionProps),{onExited:()=>{var u,h,p;(u=c.onExitTransitionEnd)==null||u.call(c),(p=(h=c.transitionProps)==null?void 0:h.onExited)==null||p.call(h)},onEntered:()=>{var u,h,p;(u=c.onEnterTransitionEnd)==null||u.call(c),(p=(h=c.transitionProps)==null?void 0:h.onEntered)==null||p.call(h)}}),r),{children:u=>Y.jsx("div",K(A({},i),{className:eo({[m1e]:!c.unstyled},i.className),children:Y.jsx(ob,{active:c.opened&&c.trapFocus,innerRef:t,children:Y.jsx(lu,K(A({},l),{component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":c.bodyMounted?c.getBodyId():void 0,"aria-labelledby":c.titleMounted?c.getTitleId():void 0,style:[s,u],className:eo({[f1e]:!c.unstyled},o),unstyled:c.unstyled,children:l.children}))})}))}))});nF.displayName="@mantine/core/ModalBaseContent";const rF=x.forwardRef((e,t)=>{var n=e,{className:r}=n,o=xe(n,["className"]);const i=js();return Y.jsx(nt,A({component:"header",ref:t,className:eo({[p1e]:!i.unstyled},r)},o))});rF.displayName="@mantine/core/ModalBaseHeader";const b1e={duration:200,timingFunction:"ease",transition:"fade"},oF=x.forwardRef((e,t)=>{var n=e,{onClick:r,transitionProps:o,style:i,visible:a}=n,s=xe(n,["onClick","transitionProps","style","visible"]);const l=js(),c=function(u){const h=js();return A(A(A({},b1e),h.transitionProps),u)}(o);return Y.jsx(ni,K(A({mounted:a!==void 0?a:l.opened},c),{transition:"fade",children:u=>Y.jsx(mh,A({ref:t,fixed:!0,style:[i,u],zIndex:l.zIndex,unstyled:l.unstyled,onClick:h=>{r==null||r(h),l.closeOnClickOutside&&l.onClose()}},s))}))});oF.displayName="@mantine/core/ModalBaseOverlay";const iF=x.forwardRef((e,t)=>{var n=e,{className:r}=n,o=xe(n,["className"]);const i=function(){const s=js();return x.useEffect(()=>(s.setTitleMounted(!0),()=>s.setTitleMounted(!1)),[]),s.getTitleId()}(),a=js();return Y.jsx(nt,K(A({component:"h2",ref:t,className:eo({[h1e]:!a.unstyled},r)},o),{id:i}))});function y1e({children:e}){return Y.jsx(Y.Fragment,{children:e})}iF.displayName="@mantine/core/ModalBaseTitle";const[w1e,k1e]=F4({size:"sm"}),x1e={},aF=wt((e,t)=>{const n=Ze("InputClearButton",x1e,e),r=n,{size:o,variant:i,vars:a,classNames:s,styles:l}=r,c=xe(r,["size","variant","vars","classNames","styles"]),u=k1e(),{resolvedClassNames:h,resolvedStyles:p}=J4({classNames:s,styles:l,props:n});return Y.jsx(lm,A({variant:i||"transparent",ref:t,size:o||(u==null?void 0:u.size)||"sm",classNames:h,styles:p,__staticSelector:"InputClearButton"},c))});aF.displayName="@mantine/core/InputClearButton";const[_1e,ib]=F4({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var yi={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const sF={},T1e=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${ei(t)} - ${Pe(2)})`}}),ab=wt((e,t)=>{const n=Ze("InputDescription",sF,e),r=Ze("InputDescription",sF,n),{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,size:u,__staticSelector:h,__inheritStyles:p=!0,variant:d}=r,f=xe(r,["classNames","className","style","styles","unstyled","vars","size","__staticSelector","__inheritStyles","variant"]),g=ib(),m=Rt({name:["InputWrapper",h],props:n,classes:yi,className:i,style:a,classNames:o,styles:s,unstyled:l,rootSelector:"description",vars:c,varsResolver:T1e}),v=p&&(g==null?void 0:g.getStyles)||m;return Y.jsx(nt,A(A({component:"p",ref:t,variant:d,size:u},v("description",g!=null&&g.getStyles?{className:i,style:a}:void 0)),f))});ab.classes=yi,ab.displayName="@mantine/core/InputDescription";const S1e={},E1e=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${ei(t)} - ${Pe(2)})`}}),sb=wt((e,t)=>{const n=Ze("InputError",S1e,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,size:u,__staticSelector:h,__inheritStyles:p=!0,variant:d}=r,f=xe(r,["classNames","className","style","styles","unstyled","vars","size","__staticSelector","__inheritStyles","variant"]),g=Rt({name:["InputWrapper",h],props:n,classes:yi,className:i,style:a,classNames:o,styles:s,unstyled:l,rootSelector:"error",vars:c,varsResolver:E1e}),m=ib(),v=p&&(m==null?void 0:m.getStyles)||g;return Y.jsx(nt,A(A({component:"p",ref:t,variant:d,size:u},v("error",m!=null&&m.getStyles?{className:i,style:a}:void 0)),f))});sb.classes=yi,sb.displayName="@mantine/core/InputError";const lF={labelElement:"label"},C1e=(e,{size:t})=>({label:{"--input-label-size":ei(t),"--input-asterisk-color":void 0}}),lb=wt((e,t)=>{const n=Ze("InputLabel",lF,e),r=Ze("InputLabel",lF,n),{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,labelElement:u,size:h,required:p,htmlFor:d,onMouseDown:f,children:g,__staticSelector:m,variant:v,mod:y}=r,b=xe(r,["classNames","className","style","styles","unstyled","vars","labelElement","size","required","htmlFor","onMouseDown","children","__staticSelector","variant","mod"]),w=Rt({name:["InputWrapper",m],props:n,classes:yi,className:i,style:a,classNames:o,styles:s,unstyled:l,rootSelector:"label",vars:c,varsResolver:C1e}),k=ib(),_=(k==null?void 0:k.getStyles)||w;return Y.jsxs(nt,K(A(K(A({},_("label",k!=null&&k.getStyles?{className:i,style:a}:void 0)),{component:u,variant:v,size:h,ref:t,htmlFor:u==="label"?d:void 0,mod:[{required:p},y],onMouseDown:O=>{f==null||f(O),!O.defaultPrevented&&O.detail>1&&O.preventDefault()}}),b),{children:[g,p&&Y.jsx("span",K(A({},_("required")),{"aria-hidden":!0,children:" *"}))]}))});lb.classes=yi,lb.displayName="@mantine/core/InputLabel";const cF={},$_=wt((e,t)=>{const n=Ze("InputPlaceholder",cF,e),r=Ze("InputPlaceholder",cF,n),{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,__staticSelector:u,variant:h,error:p,mod:d}=r,f=xe(r,["classNames","className","style","styles","unstyled","vars","__staticSelector","variant","error","mod"]),g=Rt({name:["InputPlaceholder",u],props:n,classes:yi,className:i,style:a,classNames:o,styles:s,unstyled:l,rootSelector:"placeholder"});return Y.jsx(nt,A(K(A({},g("placeholder")),{mod:[{error:!!p},d],component:"span",variant:h,ref:t}),f))});function O1e(e,{hasDescription:t,hasError:n}){const r=e.findIndex(s=>s==="input"),o=e.slice(0,r),i=e.slice(r+1),a=t&&o.includes("description")||n&&o.includes("error");return{offsetBottom:t&&i.includes("description")||n&&i.includes("error"),offsetTop:a}}$_.classes=yi,$_.displayName="@mantine/core/InputPlaceholder";const P1e={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},A1e=(e,{size:t})=>({label:{"--input-label-size":ei(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${ei(t)} - ${Pe(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${ei(t)} - ${Pe(2)})`}}),q_=wt((e,t)=>{const n=Ze("InputWrapper",P1e,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,size:u,variant:h,__staticSelector:p,inputContainer:d,inputWrapperOrder:f,label:g,error:m,description:v,labelProps:y,descriptionProps:b,errorProps:w,labelElement:k,children:_,withAsterisk:O,id:E,required:C,__stylesApiProps:N,mod:L}=r,j=xe(r,["classNames","className","style","styles","unstyled","vars","size","variant","__staticSelector","inputContainer","inputWrapperOrder","label","error","description","labelProps","descriptionProps","errorProps","labelElement","children","withAsterisk","id","required","__stylesApiProps","mod"]),H=Rt({name:["InputWrapper",p],props:N||n,classes:yi,className:i,style:a,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:A1e}),F={size:u,variant:h,__staticSelector:p},z=Cp(E),B=typeof O=="boolean"?O:C,V=(w==null?void 0:w.id)||`${z}-error`,U=(b==null?void 0:b.id)||`${z}-description`,S=z,q=!!m&&typeof m!="boolean",P=!!v,Q=`${q?V:""} ${P?U:""}`,re=Q.trim().length>0?Q.trim():void 0,_e=(y==null?void 0:y.id)||`${z}-label`,se=g&&Y.jsx(lb,K(A(A({labelElement:k,id:_e,htmlFor:S,required:B},F),y),{children:g}),"label"),ue=P&&Y.jsx(ab,K(A(A({},b),F),{size:(b==null?void 0:b.size)||F.size,id:(b==null?void 0:b.id)||U,children:v}),"description"),fe=Y.jsx(x.Fragment,{children:d(_)},"input"),je=q&&x.createElement(sb,K(A(A({},w),F),{size:(w==null?void 0:w.size)||F.size,key:"error",id:(w==null?void 0:w.id)||V}),m),Qe=f.map(Xe=>{switch(Xe){case"label":return se;case"input":return fe;case"description":return ue;case"error":return je;default:return null}});return Y.jsx(_1e,{value:A({getStyles:H,describedBy:re,inputId:S,labelId:_e},O1e(f,{hasDescription:P,hasError:q})),children:Y.jsx(nt,K(A(A({ref:t,variant:h,size:u,mod:[{error:!!m},L]},H("root")),j),{children:Qe}))})});q_.classes=yi,q_.displayName="@mantine/core/InputWrapper";const N1e={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},R1e=(e,t,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":$n(t.size,"input-height"),"--input-fz":ei(t.size),"--input-radius":t.radius===void 0?void 0:Ur(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?Pe(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?Pe(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?$n(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),wi=to((e,t)=>{const n=Ze("Input",N1e,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,required:c,__staticSelector:u,__stylesApiProps:h,size:p,wrapperProps:d,error:f,disabled:g,leftSection:m,leftSectionProps:v,leftSectionWidth:y,rightSection:b,rightSectionProps:w,rightSectionWidth:k,rightSectionPointerEvents:_,leftSectionPointerEvents:O,variant:E,vars:C,pointer:N,multiline:L,radius:j,id:H,withAria:F,withErrorStyles:z,mod:B,inputSize:V,__clearSection:U,__clearable:S,__defaultRightSection:q}=r,P=xe(r,["classNames","className","style","styles","unstyled","required","__staticSelector","__stylesApiProps","size","wrapperProps","error","disabled","leftSection","leftSectionProps","leftSectionWidth","rightSection","rightSectionProps","rightSectionWidth","rightSectionPointerEvents","leftSectionPointerEvents","variant","vars","pointer","multiline","radius","id","withAria","withErrorStyles","mod","inputSize","__clearSection","__clearable","__defaultRightSection"]),{styleProps:Q,rest:re}=t_(P),_e=ib(),se={offsetBottom:_e==null?void 0:_e.offsetBottom,offsetTop:_e==null?void 0:_e.offsetTop},ue=Rt({name:["Input",u],props:h||n,classes:yi,className:i,style:a,classNames:o,styles:s,unstyled:l,stylesCtx:se,rootSelector:"wrapper",vars:C,varsResolver:R1e}),fe=F?{required:c,disabled:g,"aria-invalid":!!f,"aria-describedby":_e==null?void 0:_e.describedBy,id:(_e==null?void 0:_e.inputId)||H}:{},je=b||S&&U||q;return Y.jsx(w1e,{value:{size:p||"sm"},children:Y.jsxs(nt,K(A(A(A({},ue("wrapper")),Q),d),{mod:[{error:!!f&&z,pointer:N,disabled:g,multiline:L,"data-with-right-section":!!je,"data-with-left-section":!!m},B],variant:E,size:p,children:[m&&Y.jsx("div",K(A(K(A({},v),{"data-position":"left"}),ue("section",{className:v==null?void 0:v.className,style:v==null?void 0:v.style})),{children:m})),Y.jsx(nt,A(K(A(A({component:"input"},re),fe),{ref:t,required:c,mod:{disabled:g,error:!!f&&z},variant:E,__size:V}),ue("input"))),je&&Y.jsx("div",K(A(K(A({},w),{"data-position":"right"}),ue("section",{className:w==null?void 0:w.className,style:w==null?void 0:w.style})),{children:je}))]}))})});wi.classes=yi,wi.Wrapper=q_,wi.Label=lb,wi.Error=sb,wi.Description=ab,wi.Placeholder=$_,wi.ClearButton=aF,wi.displayName="@mantine/core/Input";const I1e={__staticSelector:"InputBase",withAria:!0},vh=to((e,t)=>{const n=function(a,s,l){const c=Ze(a,s,l),u=c,{label:h,description:p,error:d,required:f,classNames:g,styles:m,className:v,unstyled:y,__staticSelector:b,__stylesApiProps:w,errorProps:k,labelProps:_,descriptionProps:O,wrapperProps:E,id:C,size:N,style:L,inputContainer:j,inputWrapperOrder:H,withAsterisk:F,variant:z,vars:B,mod:V}=u,U=xe(u,["label","description","error","required","classNames","styles","className","unstyled","__staticSelector","__stylesApiProps","errorProps","labelProps","descriptionProps","wrapperProps","id","size","style","inputContainer","inputWrapperOrder","withAsterisk","variant","vars","mod"]),{styleProps:S,rest:q}=t_(U),P=A({label:h,description:p,error:d,required:f,classNames:g,className:v,__staticSelector:b,__stylesApiProps:w||c,errorProps:k,labelProps:_,descriptionProps:O,unstyled:y,styles:m,size:N,style:L,inputContainer:j,inputWrapperOrder:H,withAsterisk:F,variant:z,id:C,mod:V},E);return K(A({},q),{classNames:g,styles:m,unstyled:y,wrapperProps:A(A({},P),S),inputProps:{required:f,classNames:g,styles:m,unstyled:y,size:N,__staticSelector:b,__stylesApiProps:w||c,error:d,variant:z,id:C}})}("InputBase",I1e,e),{inputProps:r,wrapperProps:o}=n,i=xe(n,["inputProps","wrapperProps"]);return Y.jsx(wi.Wrapper,K(A({},o),{children:Y.jsx(wi,K(A(A({},r),i),{ref:t}))}))});vh.classes=A(A({},wi.classes),wi.Wrapper.classes),vh.displayName="@mantine/core/InputBase";const M1e={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var uF={root:"m_8bffd616"};const L1e={},Sn=to((e,t)=>{const n=Ze("Flex",L1e,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,gap:u,rowGap:h,columnGap:p,align:d,justify:f,wrap:g,direction:m}=r,v=xe(r,["classNames","className","style","styles","unstyled","vars","gap","rowGap","columnGap","align","justify","wrap","direction"]),y=Rt({name:"Flex",classes:uF,props:n,className:i,style:a,classNames:o,styles:s,unstyled:l,vars:c}),b=_o(),w=o_(),k=Mj({styleProps:{gap:u,rowGap:h,columnGap:p,align:d,justify:f,wrap:g,direction:m},theme:b,data:M1e});return Y.jsxs(Y.Fragment,{children:[k.hasResponsiveStyles&&Y.jsx(Bv,{selector:`.${w}`,styles:k.styles,media:k.media}),Y.jsx(nt,A(A({ref:t},y("root",{className:w,style:nh(k.inlineStyles)})),v))]})});Sn.classes=uF,Sn.displayName="@mantine/core/Flex";const[D1e,W_]=Xi("Accordion component was not found in the tree");function cm(e){var t=e,{style:n,size:r=16}=t,o=xe(t,["style","size"]);return Y.jsx("svg",K(A({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:K(A({},n),{width:Pe(r),height:Pe(r),display:"block"})},o),{children:Y.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}))}cm.displayName="@mantine/core/AccordionChevron";const[j1e,dF]=Xi("Accordion.Item component was not found in the tree");var um={root:"m_9bdbb667",panel:"m_df78851f",content:"m_4ba554d4",itemTitle:"m_8fa820a0",control:"m_4ba585b8","control--default":"m_6939a5e9","control--contained":"m_4271d21b",label:"m_df3ffa0f",chevron:"m_3f35ae96",icon:"m_9bd771fe",item:"m_9bd7b098","item--default":"m_fe19b709","item--contained":"m_1f921b3b","item--filled":"m_2cdf939a","item--separated":"m_9f59b069"};const z1e={},G_=wt((e,t)=>{const n=Ze("AccordionControl",z1e,e),{classNames:r,className:o,style:i,styles:a,vars:s,chevron:l,icon:c,onClick:u,onKeyDown:h,children:p,disabled:d,mod:f}=n,g=xe(n,["classNames","className","style","styles","vars","chevron","icon","onClick","onKeyDown","children","disabled","mod"]),{value:m}=dF(),v=W_(),y=v.isItemActive(m),b=typeof v.order=="number",w=`h${v.order}`,k=Y.jsxs(Wa,K(A(A({},g),v.getStyles("control",{className:o,classNames:r,style:i,styles:a,variant:v.variant})),{unstyled:v.unstyled,mod:["accordion-control",{active:y,"chevron-position":v.chevronPosition,disabled:d},f],ref:t,onClick:_=>{u==null||u(_),v.onChange(m)},type:"button",disabled:d,"aria-expanded":y,"aria-controls":v.getRegionId(m),id:v.getControlId(m),onKeyDown:bj({siblingSelector:"[data-accordion-control]",parentSelector:"[data-accordion]",activateOnFocus:!1,loop:v.loop,orientation:"vertical",onKeyDown:h}),children:[Y.jsx(nt,K(A({component:"span",mod:{rotate:!v.disableChevronRotation&&y,position:v.chevronPosition}},v.getStyles("chevron",{classNames:r,styles:a})),{children:l||v.chevron})),Y.jsx("span",K(A({},v.getStyles("label",{classNames:r,styles:a})),{children:p})),c&&Y.jsx(nt,K(A({component:"span",mod:{"chevron-position":v.chevronPosition}},v.getStyles("icon",{classNames:r,styles:a})),{children:c}))]}));return b?Y.jsx(w,K(A({},v.getStyles("itemTitle",{classNames:r,styles:a})),{children:k})):k});G_.displayName="@mantine/core/AccordionControl",G_.classes=um;const F1e={},K_=wt((e,t)=>{const n=Ze("AccordionItem",F1e,e),{classNames:r,className:o,style:i,styles:a,vars:s,value:l,mod:c}=n,u=xe(n,["classNames","className","style","styles","vars","value","mod"]),h=W_();return Y.jsx(j1e,{value:{value:l},children:Y.jsx(nt,A(A({ref:t,mod:[{active:h.isItemActive(l)},c]},h.getStyles("item",{className:o,classNames:r,styles:a,style:i,variant:h.variant})),u))})});K_.displayName="@mantine/core/AccordionItem",K_.classes=um;const B1e={},Y_=wt((e,t)=>{var n;const r=Ze("AccordionPanel",B1e,e),{classNames:o,className:i,style:a,styles:s,vars:l,children:c}=r,u=xe(r,["classNames","className","style","styles","vars","children"]),{value:h}=dF(),p=W_();return Y.jsx(Bj,K(A(A({ref:t},p.getStyles("panel",{className:i,classNames:o,style:a,styles:s})),u),{in:p.isItemActive(h),transitionDuration:(n=p.transitionDuration)!=null?n:200,role:"region",id:p.getRegionId(h),"aria-labelledby":p.getControlId(h),children:Y.jsx("div",K(A({},p.getStyles("content",{classNames:o,styles:s})),{children:c}))}))});Y_.displayName="@mantine/core/AccordionPanel",Y_.classes=um;const U1e={multiple:!1,disableChevronRotation:!1,chevronPosition:"right",variant:"default",chevron:Y.jsx(cm,{})},H1e=(e,{transitionDuration:t,chevronSize:n,radius:r})=>({root:{"--accordion-transition-duration":t===void 0?void 0:`${t}ms`,"--accordion-chevron-size":n===void 0?void 0:Pe(n),"--accordion-radius":r===void 0?void 0:Ur(r)}});function ri(e){const t=Ze("Accordion",U1e,e),n=t,{classNames:r,className:o,style:i,styles:a,unstyled:s,vars:l,children:c,multiple:u,value:h,defaultValue:p,onChange:d,id:f,loop:g,transitionDuration:m,disableChevronRotation:v,chevronPosition:y,chevronSize:b,order:w,chevron:k,variant:_,radius:O}=n,E=xe(n,["classNames","className","style","styles","unstyled","vars","children","multiple","value","defaultValue","onChange","id","loop","transitionDuration","disableChevronRotation","chevronPosition","chevronSize","order","chevron","variant","radius"]),C=Cp(f),[N,L]=F9({value:h,defaultValue:p,finalValue:u?[]:null,onChange:d}),j=Rt({name:"Accordion",classes:um,props:t,className:o,style:i,classNames:r,styles:a,unstyled:s,vars:l,varsResolver:H1e});return Y.jsx(D1e,{value:{isItemActive:H=>Array.isArray(N)?N.includes(H):H===N,onChange:H=>{const F=Array.isArray(N)?N.includes(H)?N.filter(z=>z!==H):[...N,H]:H===N?null:H;L(F)},getControlId:vj(`${C}-control`,"Accordion.Item component was rendered with invalid value or without value"),getRegionId:vj(`${C}-panel`,"Accordion.Item component was rendered with invalid value or without value"),transitionDuration:m,disableChevronRotation:v,chevronPosition:y,order:w,chevron:k,loop:g,getStyles:j,variant:_,unstyled:s},children:Y.jsx(nt,K(A(K(A({},j("root")),{id:C}),E),{variant:_,"data-accordion":!0,children:c}))})}ri.extend=e=>e,ri.withProps=Fj(ri),ri.classes=um,ri.displayName="@mantine/core/Accordion",ri.Item=K_,ri.Panel=Y_,ri.Control=G_,ri.Chevron=cm;var hF={root:"m_b6d8b162"};function V1e(e){return e==="start"?"start":e==="end"||e?"end":void 0}const $1e={inherit:!1},q1e=(e,{variant:t,lineClamp:n,gradient:r,size:o,color:i})=>({root:{"--text-fz":ei(o),"--text-lh":Ode(o),"--text-gradient":t==="gradient"?q4(r,e):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":i?gi(i,e):void 0}}),qn=to((e,t)=>{const n=Ze("Text",$1e,e),r=n,{lineClamp:o,truncate:i,inline:a,inherit:s,gradient:l,span:c,__staticSelector:u,vars:h,className:p,style:d,classNames:f,styles:g,unstyled:m,variant:v,mod:y,size:b}=r,w=xe(r,["lineClamp","truncate","inline","inherit","gradient","span","__staticSelector","vars","className","style","classNames","styles","unstyled","variant","mod","size"]),k=Rt({name:["Text",u],props:n,classes:hF,className:p,style:d,classNames:f,styles:g,unstyled:m,vars:h,varsResolver:q1e});return Y.jsx(nt,A(K(A({},k("root",{focusable:!0})),{ref:t,component:c?"span":"p",variant:v,mod:[{"data-truncate":V1e(i),"data-line-clamp":typeof o=="number","data-inline":a,"data-inherit":s},y],size:b}),w))});qn.classes=hF,qn.displayName="@mantine/core/Text";var pF={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const W1e={},G1e=(e,{radius:t,color:n,gradient:r,variant:o,size:i,autoContrast:a})=>{const s=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:o||"filled",autoContrast:a});return{root:{"--badge-height":$n(i,"badge-height"),"--badge-padding-x":$n(i,"badge-padding-x"),"--badge-fz":$n(i,"badge-fz"),"--badge-radius":t===void 0?void 0:Ur(t),"--badge-bg":n||o?s.background:void 0,"--badge-color":n||o?s.color:void 0,"--badge-bd":n||o?s.border:void 0,"--badge-dot-color":o==="dot"?gi(n,e):void 0}}},Q_=to((e,t)=>{const n=Ze("Badge",W1e,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,radius:u,color:h,gradient:p,leftSection:d,rightSection:f,children:g,variant:m,fullWidth:v,autoContrast:y,circle:b,mod:w}=r,k=xe(r,["classNames","className","style","styles","unstyled","vars","radius","color","gradient","leftSection","rightSection","children","variant","fullWidth","autoContrast","circle","mod"]),_=Rt({name:"Badge",props:n,classes:pF,className:i,style:a,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:G1e});return Y.jsxs(nt,K(A(K(A({variant:m,mod:[{block:v,circle:b,"with-right-section":!!f,"with-left-section":!!d},w]},_("root",{variant:m})),{ref:t}),k),{children:[d&&Y.jsx("span",K(A({},_("section")),{"data-position":"left",children:d})),Y.jsx("span",K(A({},_("label")),{children:g})),f&&Y.jsx("span",K(A({},_("section")),{"data-position":"right",children:f}))]}))});Q_.classes=pF,Q_.displayName="@mantine/core/Badge";var bh={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const mF={orientation:"horizontal"},K1e=(e,{borderWidth:t})=>({group:{"--button-border-width":Pe(t)}}),X_=wt((e,t)=>{const n=Ze("ButtonGroup",mF,e),r=Ze("ButtonGroup",mF,e),{className:o,style:i,classNames:a,styles:s,unstyled:l,orientation:c,vars:u,borderWidth:h,variant:p,mod:d}=r,f=xe(r,["className","style","classNames","styles","unstyled","orientation","vars","borderWidth","variant","mod"]),g=Rt({name:"ButtonGroup",props:n,classes:bh,className:o,style:i,classNames:a,styles:s,unstyled:l,vars:u,varsResolver:K1e,rootSelector:"group"});return Y.jsx(nt,A(K(A({},g("group")),{ref:t,variant:p,mod:[{"data-orientation":c},d],role:"group"}),f))});X_.classes=bh,X_.displayName="@mantine/core/ButtonGroup";const fF={},Y1e=(e,{radius:t,color:n,gradient:r,variant:o,autoContrast:i,size:a})=>{const s=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:o||"filled",autoContrast:i});return{groupSection:{"--section-height":$n(a,"section-height"),"--section-padding-x":$n(a,"section-padding-x"),"--section-fz":a!=null&&a.includes("compact")?ei(a.replace("compact-","")):ei(a),"--section-radius":t===void 0?void 0:Ur(t),"--section-bg":n||o?s.background:void 0,"--section-color":s.color,"--section-bd":n||o?s.border:void 0}}},J_=wt((e,t)=>{const n=Ze("ButtonGroupSection",fF,e),r=Ze("ButtonGroupSection",fF,e),{className:o,style:i,classNames:a,styles:s,unstyled:l,vars:c,variant:u,gradient:h,radius:p,autoContrast:d}=r,f=xe(r,["className","style","classNames","styles","unstyled","vars","variant","gradient","radius","autoContrast"]),g=Rt({name:"ButtonGroupSection",props:n,classes:bh,className:o,style:i,classNames:a,styles:s,unstyled:l,vars:c,varsResolver:Y1e,rootSelector:"groupSection"});return Y.jsx(nt,A(K(A({},g("groupSection")),{ref:t,variant:u}),f))});J_.classes=bh,J_.displayName="@mantine/core/ButtonGroupSection";const Q1e={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${Pe(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},X1e={},J1e=(e,{radius:t,color:n,gradient:r,variant:o,size:i,justify:a,autoContrast:s})=>{const l=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:o||"filled",autoContrast:s});return{root:{"--button-justify":a,"--button-height":$n(i,"button-height"),"--button-padding-x":$n(i,"button-padding-x"),"--button-fz":i!=null&&i.includes("compact")?ei(i.replace("compact-","")):ei(i),"--button-radius":t===void 0?void 0:Ur(t),"--button-bg":n||o?l.background:void 0,"--button-hover":n||o?l.hover:void 0,"--button-color":l.color,"--button-bd":n||o?l.border:void 0,"--button-hover-color":n||o?l.hoverColor:void 0}}},Zn=to((e,t)=>{const n=Ze("Button",X1e,e),r=n,{style:o,vars:i,className:a,color:s,disabled:l,children:c,leftSection:u,rightSection:h,fullWidth:p,variant:d,radius:f,loading:g,loaderProps:m,gradient:v,classNames:y,styles:b,unstyled:w,"data-disabled":k,autoContrast:_,mod:O}=r,E=xe(r,["style","vars","className","color","disabled","children","leftSection","rightSection","fullWidth","variant","radius","loading","loaderProps","gradient","classNames","styles","unstyled","data-disabled","autoContrast","mod"]),C=Rt({name:"Button",props:n,classes:bh,className:a,style:o,classNames:y,styles:b,unstyled:w,vars:i,varsResolver:J1e}),N=!!u,L=!!h;return Y.jsxs(Wa,K(A(K(A({ref:t},C("root",{active:!l&&!g&&!k})),{unstyled:w,variant:d,disabled:l||g,mod:[{disabled:l||k,loading:g,block:p,"with-left-section":N,"with-right-section":L},O]}),E),{children:[Y.jsx(ni,{mounted:!!g,transition:Q1e,duration:150,children:j=>Y.jsx(nt,K(A({component:"span"},C("loader",{style:j})),{"aria-hidden":!0,children:Y.jsx(cu,A({color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)"},m))}))}),Y.jsxs("span",K(A({},C("inner")),{children:[u&&Y.jsx(nt,K(A({component:"span"},C("section")),{mod:{position:"left"},children:u})),Y.jsx(nt,K(A({component:"span",mod:{loading:g}},C("label")),{children:c})),h&&Y.jsx(nt,K(A({component:"span"},C("section")),{mod:{position:"right"},children:h}))]}))]}))});Zn.classes=bh,Zn.displayName="@mantine/core/Button",Zn.Group=X_,Zn.GroupSection=J_;const[Z1e,epe]=Xi("Card component was not found in tree");var Z_={root:"m_e615b15f",section:"m_599a2148"};const tpe={},cb=to((e,t)=>{const n=Ze("CardSection",tpe,e),{classNames:r,className:o,style:i,styles:a,vars:s,withBorder:l,inheritPadding:c,mod:u}=n,h=xe(n,["classNames","className","style","styles","vars","withBorder","inheritPadding","mod"]),p=epe();return Y.jsx(nt,A(A({ref:t,mod:[{"with-border":l,"inherit-padding":c},u]},p.getStyles("section",{className:o,style:i,styles:a,classNames:r})),h))});cb.classes=Z_,cb.displayName="@mantine/core/CardSection";const npe={},rpe=(e,{padding:t})=>({root:{"--card-padding":xo(t)}}),dm=to((e,t)=>{const n=Ze("Card",npe,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,children:u,padding:h}=r,p=xe(r,["classNames","className","style","styles","unstyled","vars","children","padding"]),d=Rt({name:"Card",props:n,classes:Z_,className:i,style:a,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:rpe}),f=x.Children.toArray(u),g=f.map((m,v)=>typeof m=="object"&&m&&"type"in m&&m.type===cb?x.cloneElement(m,{"data-first-section":v===0||void 0,"data-last-section":v===f.length-1||void 0}):m);return Y.jsx(Z1e,{value:{getStyles:d},children:Y.jsx(lu,K(A(A({ref:t,unstyled:l},d("root")),p),{children:g}))})});dm.classes=Z_,dm.displayName="@mantine/core/Card",dm.Section=cb;var gF={root:"m_7485cace"};const ope={},ipe=(e,{size:t,fluid:n})=>({root:{"--container-size":n?void 0:$n(t,"container-size")}}),eT=wt((e,t)=>{const n=Ze("Container",ope,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,fluid:u,mod:h}=r,p=xe(r,["classNames","className","style","styles","unstyled","vars","fluid","mod"]),d=Rt({name:"Container",classes:gF,props:n,className:i,style:a,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:ipe});return Y.jsx(nt,A(A({ref:t,mod:[{fluid:u},h]},d("root")),p))});eT.classes=gF,eT.displayName="@mantine/core/Container";const ape={timeout:1e3};function vF(e){const t=Ze("CopyButton",ape,e),{children:n,timeout:r,value:o}=t,i=xe(t,["children","timeout","value"]),a=Bae({timeout:r});return Y.jsx(Y.Fragment,{children:n(A({copy:()=>a.copy(o),copied:a.copied},i))})}vF.displayName="@mantine/core/CopyButton";var bF={root:"m_3eebeb36",label:"m_9e365f20"};const spe={orientation:"horizontal"},lpe=(e,{color:t,variant:n,size:r})=>({root:{"--divider-color":t?gi(t,e):void 0,"--divider-border-style":n,"--divider-size":$n(r,"divider-size")}}),tT=wt((e,t)=>{const n=Ze("Divider",spe,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,color:u,orientation:h,label:p,labelPosition:d,mod:f}=r,g=xe(r,["classNames","className","style","styles","unstyled","vars","color","orientation","label","labelPosition","mod"]),m=Rt({name:"Divider",classes:bF,props:n,className:i,style:a,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:lpe});return Y.jsx(nt,K(A(A({ref:t,mod:[{orientation:h,"with-label":!!p},f]},m("root")),g),{role:"separator",children:p&&Y.jsx(nt,K(A({component:"span",mod:{position:d}},m("label")),{children:p}))}))});tT.classes=bF,tT.displayName="@mantine/core/Divider";var yF={root:"m_9e117634"};const cpe={},upe=(e,{radius:t,fit:n})=>({root:{"--image-radius":t===void 0?void 0:Ur(t),"--image-object-fit":n}}),nT=to((e,t)=>{const n=Ze("Image",cpe,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,onError:u,src:h,radius:p,fit:d,fallbackSrc:f,mod:g}=r,m=xe(r,["classNames","className","style","styles","unstyled","vars","onError","src","radius","fit","fallbackSrc","mod"]),[v,y]=x.useState(!h);x.useEffect(()=>y(!h),[h]);const b=Rt({name:"Image",classes:yF,props:n,className:i,style:a,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:upe});return v&&f?Y.jsx(nt,A(K(A({component:"img",ref:t,src:f},b("root")),{onError:u,mod:["fallback",g]}),m)):Y.jsx(nt,A(K(A({component:"img",ref:t},b("root")),{src:h,onError:w=>{u==null||u(w),y(!0)},mod:g}),m))});nT.classes=yF,nT.displayName="@mantine/core/Image";var dpe=x.useLayoutEffect,wF=function(e,t){typeof e!="function"?e.current=t:e(t)},kF={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},xF=function(e){Object.keys(kF).forEach(function(t){e.style.setProperty(t,kF[t],"important")})},So=null,_F=function(e,t){var n=e.scrollHeight;return t.sizingStyle.boxSizing==="border-box"?n+t.borderSize:n-t.paddingSize},TF=function(){},hpe=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],ppe=!!document.documentElement.currentStyle,mpe=function(e){var t=window.getComputedStyle(e);if(t===null)return null;var n=function(o,i){return o.reduce(function(a,s){return a[s]=i[s],a},{})}(hpe,t),r=n.boxSizing;return r===""?null:(ppe&&r==="border-box"&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px"),{sizingStyle:n,paddingSize:parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),borderSize:parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth)})};function rT(e,t,n){var r=function(o){var i=fn.useRef(o);return dpe(function(){i.current=o}),i}(n);x.useLayoutEffect(function(){var o=function(i){return r.current(i)};if(e)return e.addEventListener(t,o),function(){return e.removeEventListener(t,o)}},[])}var fpe=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],gpe=function(e,t){var n=e.cacheMeasurements,r=e.maxRows,o=e.minRows,i=e.onChange,a=i===void 0?TF:i,s=e.onHeightChange,l=s===void 0?TF:s,c=function(m,v){if(m==null)return{};var y={};for(var b in m)if({}.hasOwnProperty.call(m,b)){if(v.indexOf(b)!==-1)continue;y[b]=m[b]}return y}(e,fpe),u=c.value!==void 0,h=x.useRef(null),p=function(m,v){var y=fn.useRef();return fn.useCallback(function(b){m.current=b,y.current&&wF(y.current,null),y.current=v,v&&wF(v,b)},[v])}(h,t),d=x.useRef(0),f=x.useRef(),g=function(){var m=h.current,v=n&&f.current?f.current:mpe(m);if(v){f.current=v;var y=function(k,_,O,E){O===void 0&&(O=1),E===void 0&&(E=1/0),So||((So=document.createElement("textarea")).setAttribute("tabindex","-1"),So.setAttribute("aria-hidden","true"),xF(So)),So.parentNode===null&&document.body.appendChild(So);var C=k.paddingSize,N=k.borderSize,L=k.sizingStyle,j=L.boxSizing;Object.keys(L).forEach(function(V){var U=V;So.style[U]=L[U]}),xF(So),So.value=_;var H=_F(So,k);So.value=_,H=_F(So,k),So.value="x";var F=So.scrollHeight-C,z=F*O;j==="border-box"&&(z=z+C+N),H=Math.max(z,H);var B=F*E;return j==="border-box"&&(B=B+C+N),[H=Math.min(B,H),F]}(v,m.value||m.placeholder||"x",o,r),b=y[0],w=y[1];d.current!==b&&(d.current=b,m.style.setProperty("height",b+"px","important"),l(b,{rowHeight:w}))}};return x.useLayoutEffect(g),function(m,v){rT(document.body,"reset",function(y){m.current.form===y.target&&v(y)})}(h,function(){if(!u){var m=h.current.value;requestAnimationFrame(function(){var v=h.current;v&&m!==v.value&&g()})}}),function(m){rT(window,"resize",m)}(g),function(m){rT(document.fonts,"loadingdone",m)}(g),x.createElement("textarea",jr({},c,{onChange:function(m){u||g(),a(m)},ref:p}))},vpe=x.forwardRef(gpe);const bpe={},oT=wt((e,t)=>{const n=Ze("Textarea",bpe,e),{autosize:r,maxRows:o,minRows:i,__staticSelector:a,resize:s}=n,l=xe(n,["autosize","maxRows","minRows","__staticSelector","resize"]),c=r&&(typeof process<"u"&&process.env?"production":"development")!="test",u=c?{maxRows:o,minRows:i}:{};return Y.jsx(vh,A(K(A({component:c?vpe:"textarea",ref:t},l),{__staticSelector:a||"Textarea",multiline:!0,"data-no-overflow":r&&o===void 0||void 0,__vars:{"--input-resize":s}}),u))});oT.classes=vh.classes,oT.displayName="@mantine/core/Textarea";var SF={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const EF={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:Ji("overlay")},ype=(e,{zIndex:t})=>({root:{"--lo-z-index":t==null?void 0:t.toString()}}),yh=wt((e,t)=>{const n=Ze("LoadingOverlay",EF,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,transitionProps:u,loaderProps:h,overlayProps:p,visible:d,zIndex:f}=r,g=xe(r,["classNames","className","style","styles","unstyled","vars","transitionProps","loaderProps","overlayProps","visible","zIndex"]),m=_o(),v=Rt({name:"LoadingOverlay",classes:SF,props:n,className:i,style:a,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:ype}),y=A(A({},EF.overlayProps),p);return Y.jsx(ni,K(A({transition:"fade"},u),{mounted:!!d,children:b=>Y.jsxs(nt,K(A(K(A({},v("root",{style:b})),{ref:t}),g),{children:[Y.jsx(cu,A(K(A({},v("loader")),{unstyled:l}),h)),Y.jsx(mh,K(A(A({},y),v("overlay")),{darkHidden:!0,unstyled:l,color:(p==null?void 0:p.color)||m.white})),Y.jsx(mh,K(A(A({},y),v("overlay")),{lightHidden:!0,unstyled:l,color:(p==null?void 0:p.color)||m.colors.dark[5]}))]}))}))});yh.classes=SF,yh.displayName="@mantine/core/LoadingOverlay";const[wpe,hm]=Xi("Menu component was not found in the tree");var wh={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const kpe={},iT=wt((e,t)=>{const n=Ze("MenuDivider",kpe,e),{classNames:r,className:o,style:i,styles:a,vars:s}=n,l=xe(n,["classNames","className","style","styles","vars"]),c=hm();return Y.jsx(nt,A(A({ref:t},c.getStyles("divider",{className:o,style:i,styles:a,classNames:r})),l))});iT.classes=wh,iT.displayName="@mantine/core/MenuDivider";const xpe={},aT=wt((e,t)=>{const n=Ze("MenuDropdown",xpe,e),{classNames:r,className:o,style:i,styles:a,vars:s,onMouseEnter:l,onMouseLeave:c,onKeyDown:u,children:h}=n,p=xe(n,["classNames","className","style","styles","vars","onMouseEnter","onMouseLeave","onKeyDown","children"]),d=x.useRef(null),f=hm(),g=Ba(u,y=>{var b,w;(y.key==="ArrowUp"||y.key==="ArrowDown")&&(y.preventDefault(),(w=(b=d.current)==null?void 0:b.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||w.focus())}),m=Ba(l,()=>(f.trigger==="hover"||f.trigger==="click-hover")&&f.openDropdown()),v=Ba(c,()=>(f.trigger==="hover"||f.trigger==="click-hover")&&f.closeDropdown());return Y.jsxs(Ga.Dropdown,K(A(K(A({},p),{onMouseEnter:m,onMouseLeave:v,role:"menu","aria-orientation":"vertical",ref:Qo(t,d)}),f.getStyles("dropdown",{className:o,style:i,styles:a,classNames:r,withStaticClass:!1})),{tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:g,children:[f.withInitialFocusPlaceholder&&Y.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),h]}))});aT.classes=wh,aT.displayName="@mantine/core/MenuDropdown";const _pe={},sT=to((e,t)=>{const n=Ze("MenuItem",_pe,e),{classNames:r,className:o,style:i,styles:a,vars:s,color:l,closeMenuOnClick:c,leftSection:u,rightSection:h,children:p,disabled:d,"data-disabled":f}=n,g=xe(n,["classNames","className","style","styles","vars","color","closeMenuOnClick","leftSection","rightSection","children","disabled","data-disabled"]),m=hm(),v=_o(),{dir:y}=sh(),b=x.useRef(null),w=m.getItemIndex(b.current),k=g,_=Ba(k.onMouseLeave,()=>m.setHovered(-1)),O=Ba(k.onMouseEnter,()=>m.setHovered(m.getItemIndex(b.current))),E=Ba(k.onClick,()=>{f||(typeof c=="boolean"?c&&m.closeDropdownImmediately():m.closeOnItemClick&&m.closeDropdownImmediately())}),C=Ba(k.onFocus,()=>m.setHovered(m.getItemIndex(b.current))),N=l?v.variantColorResolver({color:l,theme:v,variant:"light"}):void 0,L=l?rh({color:l,theme:v}):null;return Y.jsxs(Wa,K(A(K(A({},g),{unstyled:m.unstyled,tabIndex:m.menuItemTabIndex,onFocus:C}),m.getStyles("item",{className:o,style:i,styles:a,classNames:r})),{ref:Qo(b,t),role:"menuitem",disabled:d,"data-menu-item":!0,"data-disabled":d||f||void 0,"data-hovered":m.hovered===w||void 0,"data-mantine-stop-propagation":!0,onMouseEnter:O,onMouseLeave:_,onClick:E,onKeyDown:bj({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:m.loop,dir:y,orientation:"vertical",onKeyDown:k.onKeyDown}),__vars:{"--menu-item-color":L!=null&&L.isThemeColor&&(L==null?void 0:L.shade)===void 0?`var(--mantine-color-${L.color}-6)`:N==null?void 0:N.color,"--menu-item-hover":N==null?void 0:N.hover},children:[u&&Y.jsx("div",K(A({},m.getStyles("itemSection",{styles:a,classNames:r})),{"data-position":"left",children:u})),p&&Y.jsx("div",K(A({},m.getStyles("itemLabel",{styles:a,classNames:r})),{children:p})),h&&Y.jsx("div",K(A({},m.getStyles("itemSection",{styles:a,classNames:r})),{"data-position":"right",children:h}))]}))});sT.classes=wh,sT.displayName="@mantine/core/MenuItem";const Tpe={},lT=wt((e,t)=>{const n=Ze("MenuLabel",Tpe,e),{classNames:r,className:o,style:i,styles:a,vars:s}=n,l=xe(n,["classNames","className","style","styles","vars"]),c=hm();return Y.jsx(nt,A(A({ref:t},c.getStyles("label",{className:o,style:i,styles:a,classNames:r})),l))});lT.classes=wh,lT.displayName="@mantine/core/MenuLabel";const Spe={refProp:"ref"},CF=x.forwardRef((e,t)=>{const n=Ze("MenuTarget",Spe,e),{children:r,refProp:o}=n,i=xe(n,["children","refProp"]);if(!tm(r))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const a=hm(),s=r.props,l=Ba(s.onClick,()=>{a.trigger==="click"?a.toggleDropdown():a.trigger==="click-hover"&&(a.setOpenedViaClick(!0),a.opened||a.openDropdown())}),c=Ba(s.onMouseEnter,()=>(a.trigger==="hover"||a.trigger==="click-hover")&&a.openDropdown()),u=Ba(s.onMouseLeave,()=>{(a.trigger==="hover"||a.trigger==="click-hover"&&!a.openedViaClick)&&a.closeDropdown()});return Y.jsx(Ga.Target,K(A({refProp:o,popupType:"menu",ref:t},i),{children:x.cloneElement(r,{onClick:l,onMouseEnter:c,onMouseLeave:u,"data-expanded":!!a.opened||void 0})}))});CF.displayName="@mantine/core/MenuTarget";const Epe={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function Ft(e){const t=Ze("Menu",Epe,e),n=t,{children:r,onOpen:o,onClose:i,opened:a,defaultOpened:s,trapFocus:l,onChange:c,closeOnItemClick:u,loop:h,closeOnEscape:p,trigger:d,openDelay:f,closeDelay:g,classNames:m,styles:v,unstyled:y,variant:b,vars:w,menuItemTabIndex:k,keepMounted:_,withInitialFocusPlaceholder:O}=n,E=xe(n,["children","onOpen","onClose","opened","defaultOpened","trapFocus","onChange","closeOnItemClick","loop","closeOnEscape","trigger","openDelay","closeDelay","classNames","styles","unstyled","variant","vars","menuItemTabIndex","keepMounted","withInitialFocusPlaceholder"]),C=Rt({name:"Menu",classes:wh,props:t,classNames:m,styles:v,unstyled:y}),[N,{setHovered:L,resetHovered:j}]=function(){const[_e,se]=x.useState(-1);return[_e,{setHovered:se,resetHovered:()=>se(-1)}]}(),[H,F]=F9({value:a,defaultValue:s,finalValue:!1,onChange:c}),[z,B]=x.useState(!1),V=()=>{F(!1),B(!1),H&&(i==null||i())},U=()=>{F(!0),!H&&(o==null||o())},S=()=>{H?V():U()},{openDropdown:q,closeDropdown:P}=function({open:_e,close:se,openDelay:ue,closeDelay:fe}){const je=x.useRef(-1),Qe=x.useRef(-1),Xe=()=>{window.clearTimeout(je.current),window.clearTimeout(Qe.current)};return x.useEffect(()=>Xe,[]),{openDropdown:()=>{Xe(),ue===0||ue===void 0?_e():je.current=window.setTimeout(_e,ue)},closeDropdown:()=>{Xe(),fe===0||fe===void 0?se():Qe.current=window.setTimeout(se,fe)}}}({open:U,close:V,closeDelay:g,openDelay:f}),{resolvedClassNames:Q,resolvedStyles:re}=J4({classNames:m,styles:v,props:t});return Ss(()=>{j()},[H]),Y.jsx(wpe,{value:{getStyles:C,opened:H,toggleDropdown:S,getItemIndex:_e=>function(se,ue,fe){var je;return fe?Array.from(((je=Mv(fe,ue))==null?void 0:je.querySelectorAll(se))||[]).findIndex(Qe=>Qe===fe):null}("[data-menu-item]","[data-menu-dropdown]",_e),hovered:N,setHovered:L,openedViaClick:z,setOpenedViaClick:B,closeOnItemClick:u,closeDropdown:d==="click"?V:P,openDropdown:d==="click"?U:q,closeDropdownImmediately:V,loop:h,trigger:d,unstyled:y,menuItemTabIndex:k,withInitialFocusPlaceholder:O},children:Y.jsx(Ga,K(A({},E),{opened:H,onChange:S,defaultOpened:s,trapFocus:!_&&l,closeOnEscape:p,__staticSelector:"Menu",classNames:Q,styles:re,unstyled:y,variant:b,keepMounted:_,children:r}))})}Ft.extend=e=>e,Ft.withProps=Fj(Ft),Ft.classes=wh,Ft.displayName="@mantine/core/Menu",Ft.Item=sT,Ft.Label=lT,Ft.Dropdown=aT,Ft.Target=CF,Ft.Divider=iT;const[Cpe,kh]=Xi("Modal component was not found in tree");var zs={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const Ope={},ub=wt((e,t)=>{const n=Ze("ModalBody",Ope,e),{classNames:r,className:o,style:i,styles:a,vars:s}=n,l=xe(n,["classNames","className","style","styles","vars"]),c=kh();return Y.jsx(eF,A(A({ref:t},c.getStyles("body",{classNames:r,style:i,styles:a,className:o})),l))});ub.classes=zs,ub.displayName="@mantine/core/ModalBody";const Ppe={},db=wt((e,t)=>{const n=Ze("ModalCloseButton",Ppe,e),{classNames:r,className:o,style:i,styles:a,vars:s}=n,l=xe(n,["classNames","className","style","styles","vars"]),c=kh();return Y.jsx(tF,A(A({ref:t},c.getStyles("close",{classNames:r,style:i,styles:a,className:o})),l))});db.classes=zs,db.displayName="@mantine/core/ModalCloseButton";const Ape={},hb=wt((e,t)=>{const n=Ze("ModalContent",Ape,e),{classNames:r,className:o,style:i,styles:a,vars:s,children:l,__hidden:c}=n,u=xe(n,["classNames","className","style","styles","vars","children","__hidden"]),h=kh(),p=h.scrollAreaComponent||y1e;return Y.jsx(nF,K(A(K(A({},h.getStyles("content",{className:o,style:i,styles:a,classNames:r})),{innerProps:h.getStyles("inner",{className:o,style:i,styles:a,classNames:r}),"data-full-screen":h.fullScreen||void 0,"data-modal-content":!0,"data-hidden":c||void 0,ref:t}),u),{children:Y.jsx(p,{style:{maxHeight:h.fullScreen?"100dvh":`calc(100dvh - (${Pe(h.yOffset)} * 2))`},children:l})}))});hb.classes=zs,hb.displayName="@mantine/core/ModalContent";const Npe={},pb=wt((e,t)=>{const n=Ze("ModalHeader",Npe,e),{classNames:r,className:o,style:i,styles:a,vars:s}=n,l=xe(n,["classNames","className","style","styles","vars"]),c=kh();return Y.jsx(rF,A(A({ref:t},c.getStyles("header",{classNames:r,style:i,styles:a,className:o})),l))});pb.classes=zs,pb.displayName="@mantine/core/ModalHeader";const Rpe={},mb=wt((e,t)=>{const n=Ze("ModalOverlay",Rpe,e),{classNames:r,className:o,style:i,styles:a,vars:s}=n,l=xe(n,["classNames","className","style","styles","vars"]),c=kh();return Y.jsx(oF,A(A({ref:t},c.getStyles("overlay",{classNames:r,style:i,styles:a,className:o})),l))});mb.classes=zs,mb.displayName="@mantine/core/ModalOverlay";const Ipe={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Ji("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},Mpe=(e,{radius:t,size:n,yOffset:r,xOffset:o})=>({root:{"--modal-radius":t===void 0?void 0:Ur(t),"--modal-size":$n(n,"modal-size"),"--modal-y-offset":Pe(r),"--modal-x-offset":Pe(o)}}),fb=wt((e,t)=>{const n=Ze("ModalRoot",Ipe,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,yOffset:u,scrollAreaComponent:h,radius:p,fullScreen:d,centered:f,xOffset:g,__staticSelector:m}=r,v=xe(r,["classNames","className","style","styles","unstyled","vars","yOffset","scrollAreaComponent","radius","fullScreen","centered","xOffset","__staticSelector"]),y=Rt({name:m,classes:zs,props:n,className:i,style:a,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:Mpe});return Y.jsx(Cpe,{value:{yOffset:u,scrollAreaComponent:h,getStyles:y,fullScreen:d},children:Y.jsx(Zz,A(K(A({ref:t},y("root")),{"data-full-screen":d||void 0,"data-centered":f||void 0,"data-offset-scrollbars":h===su.Autosize||void 0,unstyled:l}),v))})});fb.classes=zs,fb.displayName="@mantine/core/ModalRoot";const[Lpe,Dpe]=F4();function OF({children:e}){const[t,n]=x.useState([]),[r,o]=x.useState(Ji("modal"));return Y.jsx(Lpe,{value:{stack:t,addModal:(i,a)=>{n(s=>[...new Set([...s,i])]),o(s=>typeof a=="number"&&typeof s=="number"?Math.max(s,a):s)},removeModal:i=>n(a=>a.filter(s=>s!==i)),getZIndex:i=>`calc(${r} + ${t.indexOf(i)} + 1)`,currentId:t[t.length-1],maxZIndex:r},children:e})}OF.displayName="@mantine/core/ModalStack";const jpe={},gb=wt((e,t)=>{const n=Ze("ModalTitle",jpe,e),{classNames:r,className:o,style:i,styles:a,vars:s}=n,l=xe(n,["classNames","className","style","styles","vars"]),c=kh();return Y.jsx(iF,A(A({ref:t},c.getStyles("title",{classNames:r,style:i,styles:a,className:o})),l))});gb.classes=zs,gb.displayName="@mantine/core/ModalTitle";const zpe={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Ji("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},Pr=wt((e,t)=>{const n=Ze("Modal",zpe,e),{title:r,withOverlay:o,overlayProps:i,withCloseButton:a,closeButtonProps:s,children:l,radius:c,opened:u,stackId:h,zIndex:p}=n,d=xe(n,["title","withOverlay","overlayProps","withCloseButton","closeButtonProps","children","radius","opened","stackId","zIndex"]),f=Dpe(),g=!!r||a,m=f&&h?{closeOnEscape:f.currentId===h,trapFocus:f.currentId===h,zIndex:f.getZIndex(h)}:{},v=o!==!1&&(h&&f?f.currentId===h:u);return x.useEffect(()=>{f&&h&&(u?f.addModal(h,p||Ji("modal")):f.removeModal(h))},[u,h,p]),Y.jsxs(fb,K(A(A({ref:t,radius:c,opened:u,zIndex:f&&h?f.getZIndex(h):p},d),m),{children:[o&&Y.jsx(mb,A({visible:v,transitionProps:f&&h?{duration:0}:void 0},i)),Y.jsxs(hb,{radius:c,__hidden:!!(f&&h&&u)&&h!==f.currentId,children:[g&&Y.jsxs(pb,{children:[r&&Y.jsx(gb,{children:r}),a&&Y.jsx(db,A({},s))]}),Y.jsx(ub,{children:l})]})]}))});Pr.classes=zs,Pr.displayName="@mantine/core/Modal",Pr.Root=fb,Pr.Overlay=mb,Pr.Content=hb,Pr.Body=ub,Pr.Header=pb,Pr.Title=gb,Pr.CloseButton=db,Pr.Stack=OF;var PF={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const Fpe={withCloseButton:!0},Bpe=(e,{radius:t,color:n})=>({root:{"--notification-radius":t===void 0?void 0:Ur(t),"--notification-color":n?gi(n,e):void 0}}),cT=wt((e,t)=>{const n=Ze("Notification",Fpe,e),r=n,{className:o,color:i,radius:a,loading:s,withCloseButton:l,withBorder:c,title:u,icon:h,children:p,onClose:d,closeButtonProps:f,classNames:g,style:m,styles:v,unstyled:y,variant:b,vars:w,mod:k,loaderProps:_,role:O}=r,E=xe(r,["className","color","radius","loading","withCloseButton","withBorder","title","icon","children","onClose","closeButtonProps","classNames","style","styles","unstyled","variant","vars","mod","loaderProps","role"]),C=Rt({name:"Notification",classes:PF,props:n,className:o,style:m,classNames:g,styles:v,unstyled:y,vars:w,varsResolver:Bpe});return Y.jsxs(nt,K(A(K(A({},C("root")),{mod:[{"data-with-icon":!!h||s,"data-with-border":c},k],ref:t,variant:b,role:O||"alert"}),E),{children:[h&&!s&&Y.jsx("div",K(A({},C("icon")),{children:h})),s&&Y.jsx(cu,A(A({size:28,color:i},_),C("loader"))),Y.jsxs("div",K(A({},C("body")),{children:[u&&Y.jsx("div",K(A({},C("title")),{children:u})),Y.jsx(nt,K(A({},C("description")),{mod:{"data-with-title":!!u},children:p}))]})),l&&Y.jsx(lm,A(K(A({iconSize:16,color:"gray"},f),{unstyled:y,onClick:d}),C("closeButton")))]}))});cT.classes=PF,cT.displayName="@mantine/core/Notification";const Upe={duration:100,transition:"fade"};var vb={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const Hpe={refProp:"ref",withinPortal:!0,offset:10,defaultOpened:!1,position:"right",zIndex:Ji("popover")},Vpe=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:Ur(t),"--tooltip-bg":n?gi(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),uT=wt((e,t)=>{var n,r;const o=Ze("TooltipFloating",Hpe,e),i=o,{children:a,refProp:s,withinPortal:l,style:c,className:u,classNames:h,styles:p,unstyled:d,radius:f,color:g,label:m,offset:v,position:y,multiline:b,zIndex:w,disabled:k,defaultOpened:_,variant:O,vars:E,portalProps:C}=i,N=xe(i,["children","refProp","withinPortal","style","className","classNames","styles","unstyled","radius","color","label","offset","position","multiline","zIndex","disabled","defaultOpened","variant","vars","portalProps"]),L=_o(),j=Rt({name:"TooltipFloating",props:o,classes:vb,className:u,style:c,classNames:h,styles:p,unstyled:d,rootSelector:"tooltip",vars:E,varsResolver:Vpe}),{handleMouseMove:H,x:F,y:z,opened:B,boundaryRef:V,floating:U,setOpened:S}=function({offset:Q,position:re,defaultOpened:_e}){const[se,ue]=x.useState(_e),fe=x.useRef(null),{x:je,y:Qe,elements:Xe,refs:ie,update:Se,placement:ae}=N_({placement:re,middleware:[T_({crossAxis:!0,padding:5,rootBoundary:"document"})]}),pe=ae.includes("right")?Q:re.includes("left")?-1*Q:0,Te=ae.includes("bottom")?Q:re.includes("top")?-1*Q:0,be=x.useCallback(({clientX:we,clientY:Oe})=>{ie.setPositionReference({getBoundingClientRect:()=>({width:0,height:0,x:we,y:Oe,left:we+pe,top:Oe+Te,right:we,bottom:Oe})})},[Xe.reference]);return x.useEffect(()=>{if(ie.floating.current){const we=fe.current;we.addEventListener("mousemove",be);const Oe=Ms(ie.floating.current);return Oe.forEach(ke=>{ke.addEventListener("scroll",Se)}),()=>{we.removeEventListener("mousemove",be),Oe.forEach(ke=>{ke.removeEventListener("scroll",Se)})}}},[Xe.reference,ie.floating.current,Se,be,se]),{handleMouseMove:be,x:je,y:Qe,opened:se,setOpened:ue,boundaryRef:fe,floating:ie.setFloating}}({offset:v,position:y,defaultOpened:_});if(!tm(a))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const q=Qo(V,U4(a),t),P=a.props;return Y.jsxs(Y.Fragment,{children:[Y.jsx(fh,K(A({},C),{withinPortal:l,children:Y.jsx(nt,K(A(A({},N),j("tooltip",{style:K(A({},i_(c,L)),{zIndex:w,display:!k&&B?"block":"none",top:(n=z&&Math.round(z))!=null?n:"",left:(r=F&&Math.round(F))!=null?r:""})})),{variant:O,ref:U,mod:{multiline:b},children:m}))})),x.cloneElement(a,K(A({},P),{[s]:q,onMouseEnter:Q=>{var re;(re=P.onMouseEnter)==null||re.call(P,Q),H(Q),S(!0)},onMouseLeave:Q=>{var re;(re=P.onMouseLeave)==null||re.call(P,Q),S(!1)}}))]})});uT.classes=vb,uT.displayName="@mantine/core/TooltipFloating";const AF=x.createContext(!1),$pe=AF.Provider,qpe={openDelay:0,closeDelay:0};function dT(e){const{openDelay:t,closeDelay:n,children:r}=Ze("TooltipGroup",qpe,e);return Y.jsx($pe,{value:!0,children:Y.jsx(khe,{delay:{open:t,close:n},children:r})})}function Wpe(e){const t=function(r){if(r===void 0)return{shift:!0,flip:!0};const o=A({},r);return r.shift===void 0&&(o.shift=!0),r.flip===void 0&&(o.flip=!0),o}(e.middlewares),n=[az(e.offset)];return t.shift&&n.push(T_(typeof t.shift=="boolean"?{padding:8}:A({padding:8},t.shift))),t.flip&&n.push(typeof t.flip=="boolean"?Xv():Xv(t.flip)),n.push(lz({element:e.arrowRef,padding:e.arrowOffset})),t.inline?n.push(typeof t.inline=="boolean"?am():am(t.inline)):e.inline&&n.push(am()),n}function Gpe(e){var t,n,r;const[o,i]=x.useState(e.defaultOpened),a=typeof e.opened=="boolean"?e.opened:o,s=x.useContext(AF),l=Cp(),c=x.useCallback(E=>{i(E),E&&w(l)},[l]),{x:u,y:h,context:p,refs:d,update:f,placement:g,middlewareData:{arrow:{x:m,y:v}={}}}=N_({strategy:e.strategy,placement:e.position,open:a,onOpenChange:c,middleware:Wpe(e)}),{delay:y,currentId:b,setCurrentId:w}=function(E,C){C===void 0&&(C={});const{open:N,onOpenChange:L,floatingId:j}=E,{id:H,enabled:F=!0}=C,z=H??j,B=whe(),{currentId:V,setCurrentId:U,initialDelay:S,setState:q,timeoutMs:P}=B;return qa(()=>{F&&V&&(q({delay:{open:1,close:Jv(S,"close")}}),V!==z&&L(!1))},[F,z,L,q,V,S]),qa(()=>{function Q(){L(!1),q({delay:S,currentId:null})}if(F&&V&&!N&&V===z){if(P){const re=window.setTimeout(Q,P);return()=>{clearTimeout(re)}}Q()}},[F,N,q,V,z,L,S,P]),qa(()=>{F&&(U===P_||!N||U(z))},[F,N,U,z]),B}(p,{id:l}),{getReferenceProps:k,getFloatingProps:_}=function(E){E===void 0&&(E=[]);const C=E.map(z=>z==null?void 0:z.reference),N=E.map(z=>z==null?void 0:z.floating),L=E.map(z=>z==null?void 0:z.item),j=x.useCallback(z=>R_(z,E,"reference"),C),H=x.useCallback(z=>R_(z,E,"floating"),N),F=x.useCallback(z=>R_(z,E,"item"),L);return x.useMemo(()=>({getReferenceProps:j,getFloatingProps:H,getItemProps:F}),[j,H,F])}([yhe(p,{enabled:(t=e.events)==null?void 0:t.hover,delay:s?y:{open:e.openDelay,close:e.closeDelay},mouseOnly:!((n=e.events)!=null&&n.touch)}),Che(p,{enabled:(r=e.events)==null?void 0:r.focus,visibleOnly:!0}),Phe(p,{role:"tooltip"}),She(p,{enabled:e.opened===void 0})]);Vz({opened:a,position:e.position,positionDependencies:e.positionDependencies,floating:{refs:d,update:f}}),Ss(()=>{var E;(E=e.onPositionChange)==null||E.call(e,g)},[g]);const O=a&&b&&b!==l;return{x:u,y:h,arrowX:m,arrowY:v,reference:d.setReference,floating:d.setFloating,getFloatingProps:_,getReferenceProps:k,isGroupPhase:O,opened:a,placement:g}}dT.displayName="@mantine/core/TooltipGroup",dT.extend=e=>e;const NF={position:"top",refProp:"ref",withinPortal:!0,inline:!1,defaultOpened:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:Ji("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},Kpe=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:Ur(t),"--tooltip-bg":n?gi(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),Eo=wt((e,t)=>{const n=Ze("Tooltip",NF,e),r=Ze("Tooltip",NF,n),{children:o,position:i,refProp:a,label:s,openDelay:l,closeDelay:c,onPositionChange:u,opened:h,defaultOpened:p,withinPortal:d,radius:f,color:g,classNames:m,styles:v,unstyled:y,style:b,className:w,withArrow:k,arrowSize:_,arrowOffset:O,arrowRadius:E,arrowPosition:C,offset:N,transitionProps:L,multiline:j,events:H,zIndex:F,disabled:z,positionDependencies:B,onClick:V,onMouseEnter:U,onMouseLeave:S,inline:q,variant:P,keepMounted:Q,vars:re,portalProps:_e,mod:se,floatingStrategy:ue,middlewares:fe}=r,je=xe(r,["children","position","refProp","label","openDelay","closeDelay","onPositionChange","opened","defaultOpened","withinPortal","radius","color","classNames","styles","unstyled","style","className","withArrow","arrowSize","arrowOffset","arrowRadius","arrowPosition","offset","transitionProps","multiline","events","zIndex","disabled","positionDependencies","onClick","onMouseEnter","onMouseLeave","inline","variant","keepMounted","vars","portalProps","mod","floatingStrategy","middlewares"]),{dir:Qe}=sh(),Xe=x.useRef(null),ie=Gpe({position:Mz(Qe,i),closeDelay:c,openDelay:l,onPositionChange:u,opened:h,defaultOpened:p,events:H,arrowRef:Xe,arrowOffset:O,offset:typeof N=="number"?N+(k?_/2:0):N,positionDependencies:[...B,o],inline:q,strategy:ue,middlewares:fe}),Se=Rt({name:"Tooltip",props:n,classes:vb,className:w,style:b,classNames:m,styles:v,unstyled:y,rootSelector:"tooltip",vars:re,varsResolver:Kpe});if(!tm(o))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const ae=Qo(ie.reference,U4(o),t),pe=function(be,we){return A(A(A({},Upe),we),be)}(L,{duration:100,transition:"fade"}),Te=o.props;return Y.jsxs(Y.Fragment,{children:[Y.jsx(fh,K(A({},_e),{withinPortal:d,children:Y.jsx(ni,K(A({},pe),{keepMounted:Q,mounted:!z&&!!ie.opened,duration:ie.isGroupPhase?10:pe.duration,children:be=>{var we,Oe;return Y.jsxs(nt,K(A(K(A({},je),{"data-fixed":ue==="fixed"||void 0,variant:P,mod:[{multiline:j},se]}),ie.getFloatingProps({ref:ie.floating,className:Se("tooltip").className,style:K(A(A({},Se("tooltip").style),be),{zIndex:F,top:(we=ie.y)!=null?we:0,left:(Oe=ie.x)!=null?Oe:0})})),{children:[s,Y.jsx(F_,A({ref:Xe,arrowX:ie.arrowX,arrowY:ie.arrowY,visible:k,position:ie.placement,arrowSize:_,arrowOffset:O,arrowRadius:E,arrowPosition:C},Se("arrow")))]}))}}))})),x.cloneElement(o,ie.getReferenceProps(K(A({onClick:V,onMouseEnter:U,onMouseLeave:S,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,className:eo(w,Te.className)},Te),{[a]:ae})))]})});Eo.classes=vb,Eo.displayName="@mantine/core/Tooltip",Eo.Floating=uT,Eo.Group=dT;var RF={root:"m_6d731127"};const Ype={gap:"md",align:"stretch",justify:"flex-start"},Qpe=(e,{gap:t,align:n,justify:r})=>({root:{"--stack-gap":xo(t),"--stack-align":n,"--stack-justify":r}}),na=wt((e,t)=>{const n=Ze("Stack",Ype,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,align:u,justify:h,gap:p,variant:d}=r,f=xe(r,["classNames","className","style","styles","unstyled","vars","align","justify","gap","variant"]),g=Rt({name:"Stack",props:n,classes:RF,className:i,style:a,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:Qpe});return Y.jsx(nt,A(K(A({ref:t},g("root")),{variant:d}),f))});na.classes=RF,na.displayName="@mantine/core/Stack";const[Xpe,Jpe]=Xi("Table component was not found in the tree");var pm={table:"m_b23fa0ef",th:"m_4e7aa4f3",tr:"m_4e7aa4fd",td:"m_4e7aa4ef",tbody:"m_b2404537",thead:"m_b242d975",caption:"m_9e5a3ac7",scrollContainer:"m_a100c15",scrollContainerInner:"m_62259741"};function uu(e,t){const n=`Table${e.charAt(0).toUpperCase()}${e.slice(1)}`,r=wt((o,i)=>{const a=Ze(n,{},o),s=a,{classNames:l,className:c,style:u,styles:h}=s,p=xe(s,["classNames","className","style","styles"]),d=Jpe();return Y.jsx(nt,A(A(A({component:e,ref:i},function(f,g){if(!g)return;const m={};return g.columnBorder&&f.withColumnBorders&&(m["data-with-column-border"]=!0),g.rowBorder&&f.withRowBorders&&(m["data-with-row-border"]=!0),g.striped&&f.striped&&(m["data-striped"]=f.striped),g.highlightOnHover&&f.highlightOnHover&&(m["data-hover"]=!0),g.captionSide&&f.captionSide&&(m["data-side"]=f.captionSide),g.stickyHeader&&f.stickyHeader&&(m["data-sticky"]=!0),m}(d,t)),d.getStyles(e,{className:c,classNames:l,style:u,styles:h,props:a})),p))});return r.displayName=`@mantine/core/${n}`,r.classes=pm,r}const hT=uu("th",{columnBorder:!0}),IF=uu("td",{columnBorder:!0}),bb=uu("tr",{rowBorder:!0,striped:!0,highlightOnHover:!0}),MF=uu("thead",{stickyHeader:!0}),LF=uu("tbody"),DF=uu("tfoot"),jF=uu("caption",{captionSide:!0});function pT({data:e}){return Y.jsxs(Y.Fragment,{children:[e.caption&&Y.jsx(jF,{children:e.caption}),e.head&&Y.jsx(MF,{children:Y.jsx(bb,{children:e.head.map((t,n)=>Y.jsx(hT,{children:t},n))})}),e.body&&Y.jsx(LF,{children:e.body.map((t,n)=>Y.jsx(bb,{children:t.map((r,o)=>Y.jsx(IF,{children:r},o))},n))}),e.foot&&Y.jsx(DF,{children:Y.jsx(bb,{children:e.foot.map((t,n)=>Y.jsx(hT,{children:t},n))})})]})}pT.displayName="@mantine/core/TableDataRenderer";const Zpe={type:"scrollarea"},eme=(e,{minWidth:t,maxHeight:n,type:r})=>({scrollContainer:{"--table-min-width":Pe(t),"--table-max-height":Pe(n),"--table-overflow":r==="native"?"auto":void 0}}),mT=wt((e,t)=>{const n=Ze("TableScrollContainer",Zpe,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,children:u,minWidth:h,maxHeight:p,type:d}=r,f=xe(r,["classNames","className","style","styles","unstyled","vars","children","minWidth","maxHeight","type"]),g=Rt({name:"TableScrollContainer",classes:pm,props:n,className:i,style:a,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:eme,rootSelector:"scrollContainer"});return Y.jsx(nt,K(A(A(K(A({component:d==="scrollarea"?su:"div"},d==="scrollarea"?p?{offsetScrollbars:"xy"}:{offsetScrollbars:"x"}:{}),{ref:t}),g("scrollContainer")),f),{children:Y.jsx("div",K(A({},g("scrollContainerInner")),{children:u}))}))});mT.classes=pm,mT.displayName="@mantine/core/TableScrollContainer";const tme={withRowBorders:!0,verticalSpacing:7},nme=(e,{layout:t,captionSide:n,horizontalSpacing:r,verticalSpacing:o,borderColor:i,stripedColor:a,highlightOnHoverColor:s,striped:l,highlightOnHover:c,stickyHeaderOffset:u,stickyHeader:h})=>({table:{"--table-layout":t,"--table-caption-side":n,"--table-horizontal-spacing":xo(r),"--table-vertical-spacing":xo(o),"--table-border-color":i?gi(i,e):void 0,"--table-striped-color":l&&a?gi(a,e):void 0,"--table-highlight-on-hover-color":c&&s?gi(s,e):void 0,"--table-sticky-header-offset":h?Pe(u):void 0}}),Ar=wt((e,t)=>{const n=Ze("Table",tme,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,horizontalSpacing:u,verticalSpacing:h,captionSide:p,stripedColor:d,highlightOnHoverColor:f,striped:g,highlightOnHover:m,withColumnBorders:v,withRowBorders:y,withTableBorder:b,borderColor:w,layout:k,variant:_,data:O,children:E,stickyHeader:C,stickyHeaderOffset:N,mod:L,tabularNums:j}=r,H=xe(r,["classNames","className","style","styles","unstyled","vars","horizontalSpacing","verticalSpacing","captionSide","stripedColor","highlightOnHoverColor","striped","highlightOnHover","withColumnBorders","withRowBorders","withTableBorder","borderColor","layout","variant","data","children","stickyHeader","stickyHeaderOffset","mod","tabularNums"]),F=Rt({name:"Table",props:n,className:i,style:a,classes:pm,classNames:o,styles:s,unstyled:l,rootSelector:"table",vars:c,varsResolver:nme});return Y.jsx(Xpe,{value:{getStyles:F,stickyHeader:C,striped:g===!0?"odd":g||void 0,highlightOnHover:m,withColumnBorders:v,withRowBorders:y,captionSide:p||"bottom"},children:Y.jsx(nt,K(A(A({component:"table",variant:_,ref:t,mod:[{"data-with-table-border":b,"data-tabular-nums":j},L]},F("table")),H),{children:E||!!O&&Y.jsx(pT,{data:O})}))})});Ar.classes=pm,Ar.displayName="@mantine/core/Table",Ar.Td=IF,Ar.Th=hT,Ar.Tr=bb,Ar.Thead=MF,Ar.Tbody=LF,Ar.Tfoot=DF,Ar.Caption=jF,Ar.ScrollContainer=mT,Ar.DataRenderer=pT;const rme={},yb=wt((e,t)=>{const n=Ze("TextInput",rme,e);return Y.jsx(vh,K(A({component:"input",ref:t},n),{__staticSelector:"TextInput"}))});yb.classes=vh.classes,yb.displayName="@mantine/core/TextInput";const wb=()=>{const e=W(n=>n.chatBox.botMode),t=yR();return e==="avataiWebRtc"&&(t==null?void 0:t.use_transparent_background)},du=()=>W(Lge)==="loading";var ome=Object.defineProperty,ime=Object.defineProperties,ame=Object.getOwnPropertyDescriptors,zF=Object.getOwnPropertySymbols,sme=Object.prototype.hasOwnProperty,lme=Object.prototype.propertyIsEnumerable,FF=(e,t,n)=>t in e?ome(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const BF={position:"absolute",width:"100%",height:"100%",objectFit:"cover"},hu=()=>{var e,t,n;const r=W(w=>w.chatBox.botMode),o=W(w=>w.chatBox.chatBoxHeight),i=wb(),a=W(w=>w.chatBox.showChatBox),s=W(w=>w.chatBox.showAvatarVideo),l=W(w=>{var k,_,O;return(O=(_=(k=w.chatBox.agent)==null?void 0:k.config)==null?void 0:_.custom_style)==null?void 0:O.transparent_header}),c=du(),u=((t=(e=mt())==null?void 0:e.config)==null?void 0:t.avatai)||{},h=Id(),{zoom_level:p=1,h_offset:d=0,v_offset:f=0}=u,[g,m]=x.useState(null),v=(n=g==null?void 0:g.height)!=null?n:0;x.useLayoutEffect(()=>{const w=()=>{var k,_;const O=(_=(k=De.headerRef)==null?void 0:k.current)==null?void 0:_.getBoundingClientRect();O&&m(O)};return w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[a]);const y={position:"absolute",overflow:"hidden",width:"100%",height:"100%",left:0,bottom:0,zIndex:1};if(r==="avataiToggle"&&(y.width=2/3*o,y.left=-(y.width+10),_t||(y.borderRadius="8px",y.boxShadow=h)),r==="avataiWebRtc"||r==="avataiOnly")if(_t){if(!l){const w=v+70;y.bottom=-3,y.width="100vw",y.height=`calc(100vh - ${w}px)`}}else y.borderRadius="var(--chat-box-border-radius, 8px)";i&&delete y.boxShadow,(!s||c)&&r!=="avataiOnly"&&(y.display="none"),a||(y.display="none");const b=((w,k)=>ime(w,ame(k)))(((w,k)=>{for(var _ in k||(k={}))sme.call(k,_)&&FF(w,_,k[_]);if(zF)for(var _ of zF(k))lme.call(k,_)&&FF(w,_,k[_]);return w})({},BF),{transform:`scale(${p}) translate(${d}%, ${f}%)`});return{style:y,videoContainerStyle:b,videoStyle:BF}},fT=()=>W(e=>e.chatBox.composerMode)==="voice",gT=go("");var cme=Object.defineProperty,UF=Object.getOwnPropertySymbols,ume=Object.prototype.hasOwnProperty,dme=Object.prototype.propertyIsEnumerable,HF=(e,t,n)=>t in e?cme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hme=(e,t)=>{for(var n in t||(t={}))ume.call(t,n)&&HF(e,n,t[n]);if(UF)for(var n of UF(t))dme.call(t,n)&&HF(e,n,t[n]);return e};const pme=()=>{var e,t;const{videoTrack:n}=A4(),{style:r,videoContainerStyle:o}=hu(),[i,a]=An(gT);return delete r.display,o.width="150%",o.transform="scale(0.8) translate(-20%, -15%)",r.borderRadius=10,x.useEffect(()=>{n&&i!=="video"&&a("video")},[a,i,n]),n?R(nb,{target:(t=(e=De.containerRef)==null?void 0:e.current)!=null?t:void 0,children:R("div",{id:"livekit-video-wrapper",style:hme({},r),children:R("div",{id:"livekit-video-container",style:o,children:R(ede,{trackRef:n,style:{width:"100%",objectFit:"contain"}})})})}):null};function VF(){var e,t,n;const r=dt(),{state:o,videoTrack:i,audioTrack:a}=A4(),s=em(De.headerRef),l=function(){const{agentTranscriptions:h}=A4(),p=ide(),{segments:d}=WD(p);return x.useMemo(()=>{const f=[...h.map(y=>Cv(Ev({},y),{role:"assistant"})),...d.map(y=>Cv(Ev({},y),{role:"user"}))].sort((y,b)=>y.firstReceivedTime-b.firstReceivedTime),g=[];let m=null;const v=y=>{y&&(g.push(Cv(Ev({},y),{text:y.text.join(" ")})),m=null)};return f.forEach(y=>{y.role==="assistant"?(v(m),g.push(y)):m?(m.text.push(y.text),m.lastReceivedTime=y.lastReceivedTime):m=Cv(Ev({},y),{text:[y.text]})}),v(m),g},[h,d])}(),c=W(h=>h.chatBox.botMode);if(x.useEffect(()=>{ht(l)||l.forEach(h=>{const p={id:h.id,text:h.text,timestamp:h.receivedAt,format:"markdown",type:h.role==="assistant"?"bot":"user",name:h.role==="assistant"?"bot":"user"};r(Wn(p))})},[l,r]),Ht(c))return null;if(i)return R(pme,{});const u=(e=s==null?void 0:s.height)!=null?e:100;return ce(nb,{target:(n=(t=De.containerRef)==null?void 0:t.current)!=null?n:void 0,children:[R(mme,{id:"voice-agent-view-container",style:{top:u-20},children:R(ode,{state:o,barCount:5,trackRef:a,className:"agent-visualizer",options:{minHeight:24}})}),R(fme,{style:{top:u}})]})}const mme=tt("div",{target:"e1jx82bj1"})({name:"st79xj",styles:"position:absolute;width:100%;height:140px;z-index:200;& .agent-visualizer{gap:10px;display:flex;align-items:center;justify-content:center;width:100%;height:100%;}& .lk-audio-bar{transition:background-color 300ms ease-in-out;width:30px;display:block;background-color:black;border-radius:32px;}& .lk-highlighted{background-color:#adabab;}"}),fme=tt("div",{target:"e1jx82bj0"})({name:"1g6dpdj",styles:`position:absolute;width:100%;height:160px;z-index:20;background:linear-gradient(
    to bottom,
    rgba(255, 255, 255, 1) 0%,
    rgba(255, 255, 255, 1) calc(100% - 40px),
    rgba(255, 255, 255, 0) 100%
  )`}),$F=e=>{let t=0;const n=setInterval(()=>{De.scrollToBottom(0),e(wU(Date.now())),t++,t===6&&clearInterval(n)},100)},Wl=()=>W(s8).status===Yc,pu=()=>W(Dge);var qF,WF;const gme=Li((WF||(WF=1,qF={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),qF));var vme=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function GF(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(gme[n[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var r=e.indexOf("-->");return{type:"comment",comment:r!==-1?e.slice(4,r):""}}for(var o=new RegExp(vme),i=null;(i=o.exec(e))!==null;)if(i[0].trim())if(i[1]){var a=i[1].trim(),s=[a,""];a.indexOf("=")>-1&&(s=a.split("=")),t.attrs[s[0]]=s[1],o.lastIndex--}else i[2]&&(t.attrs[i[2]]=i[3].trim().substring(1,i[3].length-1));return t}var bme=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,yme=/^\s*$/,wme=Object.create(null),kme=function(e,t){t||(t={}),t.components||(t.components=wme);var n,r=[],o=[],i=-1,a=!1;if(e.indexOf("<")!==0){var s=e.indexOf("<");r.push({type:"text",content:s===-1?e:e.substring(0,s)})}return e.replace(bme,function(l,c){if(a){if(l!=="</"+n.name+">")return;a=!1}var u,h=l.charAt(1)!=="/",p=l.startsWith("<!--"),d=c+l.length,f=e.charAt(d);if(p){var g=GF(l);return i<0?(r.push(g),r):((u=o[i]).children.push(g),r)}if(h&&(i++,(n=GF(l)).type==="tag"&&t.components[n.name]&&(n.type="component",a=!0),n.voidElement||a||!f||f==="<"||n.children.push({type:"text",content:e.slice(d,e.indexOf("<",d))}),i===0&&r.push(n),(u=o[i-1])&&u.children.push(n),o[i]=n),(!h||n.voidElement)&&(i>-1&&(n.voidElement||n.name===l.slice(2,-1))&&(i--,n=i===-1?r:o[i]),!a&&f!=="<"&&f)){u=i===-1?r:o[i].children;var m=e.indexOf("<",d),v=e.slice(d,m===-1?void 0:m);yme.test(v)&&(v=" "),(m>-1&&i+u.length>=0||v!==" ")&&u.push({type:"text",content:v})}}),r};function kb(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ki(t[0])&&(t[0]=`react-i18next:: ${t[0]}`)}}const KF={};function xb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ki(t[0])&&KF[t[0]]||(ki(t[0])&&(KF[t[0]]=new Date),kb(...t))}const YF=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},QF=(e,t,n)=>{e.loadNamespaces(t,YF(e,n))},XF=(e,t,n,r)=>{ki(n)&&(n=[n]),n.forEach(o=>{e.options.ns.indexOf(o)<0&&e.options.ns.push(o)}),e.loadLanguages(t,YF(e,r))},ki=e=>typeof e=="string",xh=e=>typeof e=="object"&&e!==null,xme=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,_me={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Tme=e=>_me[e];let vT={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(xme,Tme)};const JF=()=>vT;let ZF;const bT=()=>ZF,yT=(e,t)=>{if(!e)return!1;const n=e.props?e.props.children:e.children;return t?n.length>0:!!n},wT=e=>{if(!e)return[];const t=e.props?e.props.children:e.children;return e.props&&e.props.i18nIsDynamicList?_h(t):t},_h=e=>Array.isArray(e)?e:[e],eB=(e,t)=>{if(!e)return"";let n="";const r=_h(e),o=t.transSupportBasicHtmlNodes&&t.transKeepBasicHtmlNodesFor?t.transKeepBasicHtmlNodesFor:[];return r.forEach((i,a)=>{if(ki(i))n+=`${i}`;else if(x.isValidElement(i)){const{props:s,type:l}=i,c=Object.keys(s).length,u=o.indexOf(l)>-1,h=s.children;if(h||!u||c)if(!h&&(!u||c)||s.i18nIsDynamicList)n+=`<${a}></${a}>`;else if(u&&c===1&&ki(h))n+=`<${l}>${h}</${l}>`;else{const p=eB(h,t);n+=`<${a}>${p}</${a}>`}else n+=`<${l}/>`}else if(i===null)kb("Trans: the passed in value is invalid - seems you passed in a null child.");else if(xh(i)){const s=i,{format:l}=s,c=xe(s,["format"]),u=Object.keys(c);if(u.length===1){const h=l?`${u[0]}, ${l}`:u[0];n+=`{{${h}}}`}else kb("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",i)}else kb("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",i)}),n},Sme=(e,t,n,r,o,i)=>{if(t==="")return[];const a=r.transKeepBasicHtmlNodesFor||[],s=t&&new RegExp(a.map(m=>`<${m}`).join("|")).test(t);if(!e&&!s&&!i)return[t];const l={},c=m=>{_h(m).forEach(v=>{ki(v)||(yT(v)?c(wT(v)):xh(v)&&!x.isValidElement(v)&&Object.assign(l,v))})};c(e);const u=kme(`<0>${t}</0>`),h=A(A({},l),o),p=(m,v,y)=>{const b=wT(m),w=f(b,v.children,y);return(k=>Array.isArray(k)&&k.every(x.isValidElement))(b)&&w.length===0||m.props&&m.props.i18nIsDynamicList?b:w},d=(m,v,y,b,w)=>{m.dummy?(m.children=v,y.push(x.cloneElement(m,{key:b},w?void 0:v))):y.push(...x.Children.map([m],k=>{const _=A({},k.props);return delete _.i18nIsDynamicList,x.createElement(k.type,K(A({},_),{key:b,ref:k.ref}),w?null:v)}))},f=(m,v,y)=>{const b=_h(m);return _h(v).reduce((w,k,_)=>{const O=k.children&&k.children[0]&&k.children[0].content&&n.services.interpolator.interpolate(k.children[0].content,h,n.language);if(k.type==="tag"){let E=b[parseInt(k.name,10)];y.length===1&&!E&&(E=y[0][k.name]),E||(E={});const C=Object.keys(k.attrs).length!==0?((F,z)=>{const B=A({},z);return B.props=Object.assign(F.props,z.props),B})({props:k.attrs},E):E,N=x.isValidElement(C),L=N&&yT(k,!0)&&!k.voidElement,j=s&&xh(C)&&C.dummy&&!N,H=xh(e)&&Object.hasOwnProperty.call(e,k.name);if(ki(C)){const F=n.services.interpolator.interpolate(C,h,n.language);w.push(F)}else if(yT(C)||L){const F=p(C,k,y);d(C,F,w,_)}else if(j){const F=f(b,k.children,y);d(C,F,w,_)}else if(Number.isNaN(parseFloat(k.name)))if(H){const F=p(C,k,y);d(C,F,w,_,k.voidElement)}else if(r.transSupportBasicHtmlNodes&&a.indexOf(k.name)>-1)if(k.voidElement)w.push(x.createElement(k.name,{key:`${k.name}-${_}`}));else{const F=f(b,k.children,y);w.push(x.createElement(k.name,{key:`${k.name}-${_}`},F))}else if(k.voidElement)w.push(`<${k.name} />`);else{const F=f(b,k.children,y);w.push(`<${k.name}>${F}</${k.name}>`)}else if(xh(C)&&!N){const F=k.children[0]?O:null;F&&w.push(F)}else d(C,O,w,_,k.children.length!==1||!O)}else if(k.type==="text"){const E=r.transWrapTextNodes,C=i?r.unescape(n.services.interpolator.interpolate(k.content,h,n.language)):n.services.interpolator.interpolate(k.content,h,n.language);E?w.push(x.createElement(E,{key:`${k.name}-${_}`},C)):w.push(C)}return w},[])},g=f([{dummy:!0,children:e||[]}],u,_h(e||[]));return wT(g[0])},Eme={type:"3rdParty",init(e){(function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};vT=A(A({},vT),t)})(e.options.react),(t=>{ZF=t})(e)}},tB=x.createContext();class Cme{constructor(){((t,n,r)=>{V2(t,typeof n!="symbol"?n+"":n,r)})(this,"getUsedNamespaces",()=>Object.keys(this.usedNamespaces)),this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}}function Ome(e){let t=e,{children:n,count:r,parent:o,i18nKey:i,context:a,tOptions:s={},values:l,defaults:c,components:u,ns:h,i18n:p,t:d,shouldUnescape:f}=t,g=xe(t,["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"]);const{i18n:m,defaultNS:v}=x.useContext(tB)||{},y=p||m||bT(),b=d||y&&y.t.bind(y);return function(w){let k=w,{children:_,count:O,parent:E,i18nKey:C,context:N,tOptions:L={},values:j,defaults:H,components:F,ns:z,i18n:B,t:V,shouldUnescape:U}=k,S=xe(k,["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"]);const q=B||bT();if(!q)return xb("You will need to pass in an i18next instance by using i18nextReactModule"),_;const P=V||q.t.bind(q)||(ae=>ae),Q=A(A({},JF()),q.options&&q.options.react);let re=z||P.ns||q.options&&q.options.defaultNS;re=ki(re)?[re]:re||["translation"];const _e=eB(_,Q),se=H||_e||Q.transEmptyNodeValue||C,{hashTransKey:ue}=Q,fe=C||(ue?ue(_e||se):_e||se);q.options&&q.options.interpolation&&q.options.interpolation.defaultVariables&&(j=j&&Object.keys(j).length>0?A(A({},j),q.options.interpolation.defaultVariables):A({},q.options.interpolation.defaultVariables));const je=j||O!==void 0||!_?L.interpolation:{interpolation:K(A({},L.interpolation),{prefix:"#$?",suffix:"?$#"})},Qe=K(A(A(K(A({},L),{context:N||L.context,count:O}),j),je),{defaultValue:se,ns:re}),Xe=fe?P(fe,Qe):se;F&&Object.keys(F).forEach(ae=>{const pe=F[ae];typeof pe.type=="function"||!pe.props||!pe.props.children||Xe.indexOf(`${ae}/>`)<0&&Xe.indexOf(`${ae} />`)<0||(F[ae]=x.createElement(function(){return x.createElement(x.Fragment,null,pe)}))});const ie=Sme(F||_,Xe,q,Q,Qe,U),Se=E!==void 0?E:Q.defaultTransParent;return Se?x.createElement(Se,S,ie):ie}(A({children:n,count:r,parent:o,i18nKey:i,context:a,tOptions:s,values:l,defaults:c,components:u,ns:h||b&&b.ns||v||y&&y.options&&y.options.defaultNS,i18n:y,t:d,shouldUnescape:f},g))}const nB=(e,t,n,r)=>e.getFixedT(t,n,r),Nr=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=t,{i18n:r,defaultNS:o}=x.useContext(tB)||{},i=n||r||bT();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new Cme),!i){xb("You will need to pass in an i18next instance by using initReactI18next");const w=(_,O)=>ki(O)?O:xh(O)&&ki(O.defaultValue)?O.defaultValue:Array.isArray(_)?_[_.length-1]:_,k=[w,{},!1];return k.t=w,k.i18n={},k.ready=!1,k}i.options.react&&i.options.react.wait!==void 0&&xb("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a=A(A(A({},JF()),i.options.react),t),{useSuspense:s,keyPrefix:l}=a;let c=o||i.options&&i.options.defaultNS;c=ki(c)?[c]:c||["translation"],i.reportNamespaces.addUsedNamespaces&&i.reportNamespaces.addUsedNamespaces(c);const u=(i.isInitialized||i.initializedStoreOnce)&&c.every(w=>function(k,_){let O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return _.languages&&_.languages.length?_.options.ignoreJSONStructure!==void 0?_.hasLoadedNamespace(k,{lng:O.lng,precheck:(E,C)=>{if(O.bindI18n&&O.bindI18n.indexOf("languageChanging")>-1&&E.services.backendConnector.backend&&E.isLanguageChangingTo&&!C(E.isLanguageChangingTo,k))return!1}}):function(E,C){let N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const L=C.languages[0],j=!!C.options&&C.options.fallbackLng,H=C.languages[C.languages.length-1];if(L.toLowerCase()==="cimode")return!0;const F=(z,B)=>{const V=C.services.backendConnector.state[`${z}|${B}`];return V===-1||V===2};return!(N.bindI18n&&N.bindI18n.indexOf("languageChanging")>-1&&C.services.backendConnector.backend&&C.isLanguageChangingTo&&!F(C.isLanguageChangingTo,E)||!(C.hasResourceBundle(L,E)||!C.services.backendConnector.backend||C.options.resources&&!C.options.partialBundledLanguages||F(L,E)&&(!j||F(H,E))))}(k,_,O):(xb("i18n.languages were undefined or empty",_.languages),!0)}(w,i,a)),h=((w,k,_,O)=>x.useCallback(nB(w,k,_,O),[w,k,_,O]))(i,t.lng||null,a.nsMode==="fallback"?c:c[0],l),p=()=>h,d=()=>nB(i,t.lng||null,a.nsMode==="fallback"?c:c[0],l),[f,g]=x.useState(p);let m=c.join();t.lng&&(m=`${t.lng}${m}`);const v=((w,k)=>{const _=x.useRef();return x.useEffect(()=>{_.current=w},[w,k]),_.current})(m),y=x.useRef(!0);x.useEffect(()=>{const{bindI18n:w,bindI18nStore:k}=a;y.current=!0,!u&&!s&&(t.lng?XF(i,t.lng,c,()=>{y.current&&g(d)}):QF(i,c,()=>{y.current&&g(d)})),u&&v&&v!==m&&y.current&&g(d);const _=()=>{y.current&&g(d)};return w&&i&&i.on(w,_),k&&i&&i.store.on(k,_),()=>{y.current=!1,w&&i&&w.split(" ").forEach(O=>i.off(O,_)),k&&i&&k.split(" ").forEach(O=>i.store.off(O,_))}},[i,m]),x.useEffect(()=>{y.current&&u&&g(p)},[i,l,u]);const b=[f,i,u];if(b.t=f,b.i18n=i,b.ready=u,u||!u&&!s)return b;throw new Promise(w=>{t.lng?XF(i,t.lng,c,()=>w()):QF(i,c,()=>w())})},rB=()=>{var e,t,n,r;const o=mt();return(t=(e=o==null?void 0:o.config)==null?void 0:e.style)!=null&&t.font_family?o.config.style.font_family:(r=(n=o==null?void 0:o.config)==null?void 0:n.custom_style)!=null&&r.current_theme_template_name?"Inter, sans-serif":"Poppins, sans-serif"},Pme=e=>["suggestedQuestions",e],Ame=()=>{var e,t;const n=mt(),r=W(c=>c.chatBox.botMode==="searchBar"),o=(t=(e=n==null?void 0:n.config)==null?void 0:e.custom_style)==null?void 0:t.auto_complete_type,i=r||!!o,a=W(c=>c.chatBox.showChatBox),s=W(c=>c.chatBox.showSearchBar),l=a||s;return ZN({queryKey:Pme(n==null?void 0:n.id),queryFn:()=>(async c=>{const{chatbotId:u,size:h=1e4,useCache:p=!0}=c;if(!u)throw new Error("chatbotId is required");const d=`${Bt.gatewayHost}/api/v1/public/suggested-question-list/agents/${u}?size=${h}&use_cache=${p}`,f=await Mt.get(d);if(!f.data.response)throw new Error("Failed to fetch suggested questions");return f.data.response})({chatbotId:n==null?void 0:n.id}),enabled:!!n&&l&&i,staleTime:18e5})},Th=e=>{const t=dt(),n=W(l=>l.chatBox.composedMessage),[r]=function(l,c,u={leading:!1}){const[h,p]=x.useState(l),d=x.useRef(!1),f=x.useRef(null),g=x.useRef(!1),m=()=>window.clearTimeout(f.current);return x.useEffect(()=>{d.current&&(!g.current&&u.leading?(g.current=!0,p(l)):(m(),f.current=window.setTimeout(()=>{g.current=!1,p(l)},c)))},[l,u.leading,c]),x.useEffect(()=>(d.current=!0,m),[]),[h,m]}(e||n,300),{data:o}=Ame(),i=Br(),a=i==null?void 0:i.auto_complete_type,s=W(l=>l.hookState.bestSuggestionsActiveIndex);return{bestSuggestions:x.useMemo(()=>{if(!r||!o)return[];const l=o.filter(c=>c.toLocaleLowerCase()!==r.toLocaleLowerCase()&&(a==="prefix"?c.toLowerCase().startsWith(r.toLowerCase()):a==="contains"&&c.toLowerCase().includes(r.toLowerCase())));return t(Oc(l.length)),l},[t,r,o,a]),bestSuggestionsActiveIndex:s}},Sh=({handleSendClick:e,maxRows:t=9})=>{const n=dt(),r=W(k=>k.chatBox.isMicOn),o=W(k=>k.chatBox.composedMessage),i=W(k=>k.hookState.isUploadingImage),a=W(k=>k.hookState.isUploadingFile),{bestSuggestions:s,bestSuggestionsActiveIndex:l}=Th(),{t:c}=Nr(),{text_input_background_color:u}=pn(),h=Wl(),p=pu(),d=rB(),f=h||p,g=f||r,[m,v]=x.useState("");let y=c("typeYourMessage");g&&(y=c("thinking")),r&&(y=""),(i||a)&&(y="Uploading...");const b=x.useRef(null);De.messageTextAreaRef=b,x.useEffect(()=>{const k=s[l];k?(v(k),setTimeout(()=>{b.current&&(b.current.selectionStart=k.length,b.current.selectionEnd=k.length)},1)):v(o)},[s,l,o]);const w=er(u);return r?R(qn,{px:12,c:w,fz:"sm",children:y}):R(oT,{ref:b,placeholder:y,value:m,onChange:k=>{const _=k.target.value;v(_),n(Kl(_))},onKeyDown:async k=>{if(k.key==="Enter"&&!k.shiftKey){if(f||_t||k.nativeEvent.isComposing)return;k.preventDefault();const _=s[l];_&&n(Kl(_)),e()}if(k.key==="ArrowDown"){let _=l+1;_%=s.length+1,n(Oc(_))}if(k.key==="ArrowUp"){let _=l===-1?s.length:l;_-=1,n(Oc(_))}(k.key==="ArrowLeft"||k.key==="ArrowRight")&&n(Oc(s.length))},onFocus:()=>{_t&&setTimeout(()=>{$F(n)},300)},onBlur:()=>{var k;if(!_t)return;const _=(k=De.avatarVideoContainerRef)==null?void 0:k.current;_&&(_.style.top="0"),setTimeout(()=>{$F(n),window.scrollTo({top:0,behavior:"smooth"})},300)},autosize:!0,minRows:1,maxRows:t,disabled:g,w:"calc(100% - 32px)",styles:{input:{fontFamily:d,fontSize:_t?"var(--message-composer-mobile-font-size, 16px)":"var(--message-composer-font-size, 14px)",border:"none",background:"transparent",color:w,margin:"12px 0",padding:"4px 6px"}}})};var oB={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},iB=fn.createContext&&fn.createContext(oB),Nme=["attr","size","title"];function Rme(e,t){if(e==null)return{};var n,r,o=function(a,s){if(a==null)return{};var l={};for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){if(s.indexOf(c)>=0)continue;l[c]=a[c]}return l}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _b(){return _b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_b.apply(this,arguments)}function aB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Tb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aB(Object(n),!0).forEach(function(r){Ime(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ime(e,t,n){return t=function(r){var o=function(i,a){if(typeof i!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var l=s.call(i,a);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(i)}(r,"string");return typeof o=="symbol"?o:o+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sB(e){return e&&e.map((t,n)=>fn.createElement(t.tag,Tb({key:n},t.attr),sB(t.child)))}function pt(e){return t=>fn.createElement(Mme,_b({attr:Tb({},e.attr)},t),sB(e.child))}function Mme(e){var t=n=>{var r,{attr:o,size:i,title:a}=e,s=Rme(e,Nme),l=i||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),fn.createElement("svg",_b({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,o,s,{className:r,style:Tb(Tb({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&fn.createElement("title",null,a),e.children)};return iB!==void 0?fn.createElement(iB.Consumer,null,n=>t(n)):t(oB)}function Lme(e){return pt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88a9.947 9.947 0 0 1 12.28 0C16.43 19.18 14.03 20 12 20z"},child:[]}]})(e)}function Dme(e){return pt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"circle",attr:{cx:"9",cy:"9",r:"4"},child:[]},{tag:"path",attr:{d:"M9 15c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4zm7.76-9.64-1.68 1.69c.84 1.18.84 2.71 0 3.89l1.68 1.69c2.02-2.02 2.02-5.07 0-7.27zM20.07 2l-1.63 1.63c2.77 3.02 2.77 7.56 0 10.74L20.07 16c3.9-3.89 3.91-9.95 0-14z"},child:[]}]})(e)}function lB(e){return pt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 6h12v12H6z"},child:[]}]})(e)}function jme(e){return pt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 9c-1.6 0-3.15.25-4.6.72v3.1c0 .39-.23.74-.56.9-.98.49-1.87 1.12-2.66 1.85-.18.18-.43.28-.7.28-.28 0-.53-.11-.71-.29L.29 13.08a.956.956 0 0 1-.29-.7c0-.28.11-.53.29-.71C3.34 8.78 7.46 7 12 7s8.66 1.78 11.71 4.67c.18.18.29.43.29.71 0 .28-.11.53-.29.71l-2.48 2.48c-.18.18-.43.29-.71.29-.27 0-.52-.11-.7-.28a11.27 11.27 0 0 0-2.67-1.85.996.996 0 0 1-.56-.9v-3.1C15.15 9.25 13.6 9 12 9z"},child:[]}]})(e)}function zme(e){return pt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5a2.5 2.5 0 0 1 5 0v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5a2.5 2.5 0 0 0 5 0V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"},child:[]}]})(e)}function Fme(e){return pt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M18 13v7H4V6h5.02c.05-.71.22-1.38.48-2H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-5l-2-2zm-1.5 5h-11l2.75-3.53 1.96 2.36 2.75-3.54zm2.8-9.11c.44-.7.7-1.51.7-2.39C20 4.01 17.99 2 15.5 2S11 4.01 11 6.5s2.01 4.5 4.49 4.5c.88 0 1.7-.26 2.39-.7L21 13.42 22.42 12 19.3 8.89zM15.5 9a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5z"},child:[]}]})(e)}function Bme(e){return pt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17.77 3.77 16 2 6 12l10 10 1.77-1.77L9.54 12z"},child:[]}]})(e)}function Ume(e){return pt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"},child:[]}]})(e)}function Hme(e){return pt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"},child:[]}]})(e)}function Fs(e){return pt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(e)}function Vme(e){return pt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"},child:[]}]})(e)}function $me(e){return pt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M17 12h-3V8h-4v4H7l5 5zm2-9h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-.14 0-.27.01-.4.04a2.008 2.008 0 0 0-1.44 1.19c-.1.23-.16.49-.16.77v14c0 .27.06.54.16.78s.25.45.43.64c.27.27.62.47 1.01.55.13.02.26.03.4.03h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7-.25c.41 0 .75.34.75.75s-.34.75-.75.75-.75-.34-.75-.75.34-.75.75-.75zM19 19H5V5h14v14z"},child:[]}]})(e)}function qme(e){return pt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"m9.56 8-2-2-4.15-4.14L2 3.27 4.73 6H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.21 0 .39-.08.55-.18L19.73 21l1.41-1.41-8.86-8.86L9.56 8zM5 16V8h1.73l8 8H5zm10-8v2.61l6 6V6.5l-4 4V7c0-.55-.45-1-1-1h-5.61l2 2H15z"},child:[]}]})(e)}function Wme(e){return pt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M15 8v8H5V8h10m1-2H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4V7c0-.55-.45-1-1-1z"},child:[]}]})(e)}function cB(e){return pt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(e)}function kT(e){return pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function Gme(e){return pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256s111 248 248 248 248-111 248-248zm-448 0c0-110.5 89.5-200 200-200s200 89.5 200 200-89.5 200-200 200S56 366.5 56 256zm296-80v160c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16z"},child:[]}]})(e)}const Sb="0 0 #0000, 0 0 #0000, 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1)",mm=e=>{const t=Vs(),n=Xa(),r=Br(),o=(r==null?void 0:r.message_composer_version)||"v1",i=(r==null?void 0:r.use_conversation_mode)||!1,a={minHeight:o==="v1"&&i===!1?38:92,background:"var(--text-input-background-color, rgba(59, 59, 59, 1))",border:"1px solid var(--text-input-border-color, rgba(59, 59, 59, 1))",borderRadius:"0.75em",flexDirection:"column",justifyContent:"stretch",alignItems:"center",alignSelf:"stretch",margin:14,marginTop:0,gap:4,position:"relative",wordBreak:"break-word",paddingTop:ht(e)?0:110,padding:"0 12px",zIndex:30,boxShadow:`var(--message-composer-box-shadow, ${Sb})`};return t&&(a.padding=0),n?_t||(a.marginBottom=40):a.marginBottom=14,{messageComposerStyle:a}};function Kme(e){return pt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 2L16.2426 6.24264L14.8284 7.65685L12 4.82843L9.17157 7.65685L7.75736 6.24264L12 2ZM2 12L6.24264 7.75736L7.65685 9.17157L4.82843 12L7.65685 14.8284L6.24264 16.2426L2 12ZM22 12L17.7574 16.2426L16.3431 14.8284L19.1716 12L16.3431 9.17157L17.7574 7.75736L22 12ZM12 14C10.8954 14 10 13.1046 10 12C10 10.8954 10.8954 10 12 10C13.1046 10 14 10.8954 14 12C14 13.1046 13.1046 14 12 14ZM12 22L7.75736 17.7574L9.17157 16.3431L12 19.1716L14.8284 16.3431L16.2426 17.7574L12 22Z"},child:[]}]})(e)}function uB(e){return pt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11.9998 1C14.7612 1 16.9998 3.23858 16.9998 6V10C16.9998 12.7614 14.7612 15 11.9998 15C9.23833 15 6.99976 12.7614 6.99976 10V6C6.99976 3.23858 9.23833 1 11.9998 1ZM3.05469 11H5.07065C5.55588 14.3923 8.47329 17 11.9998 17C15.5262 17 18.4436 14.3923 18.9289 11H20.9448C20.4837 15.1716 17.1714 18.4839 12.9998 18.9451V23H10.9998V18.9451C6.82814 18.4839 3.51584 15.1716 3.05469 11Z"},child:[]}]})(e)}function fm(e){return pt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11.9998 3C10.3429 3 8.99976 4.34315 8.99976 6V10C8.99976 11.6569 10.3429 13 11.9998 13C13.6566 13 14.9998 11.6569 14.9998 10V6C14.9998 4.34315 13.6566 3 11.9998 3ZM11.9998 1C14.7612 1 16.9998 3.23858 16.9998 6V10C16.9998 12.7614 14.7612 15 11.9998 15C9.23833 15 6.99976 12.7614 6.99976 10V6C6.99976 3.23858 9.23833 1 11.9998 1ZM3.05469 11H5.07065C5.55588 14.3923 8.47329 17 11.9998 17C15.5262 17 18.4436 14.3923 18.9289 11H20.9448C20.4837 15.1716 17.1714 18.4839 12.9998 18.9451V23H10.9998V18.9451C6.82814 18.4839 3.51584 15.1716 3.05469 11Z"},child:[]}]})(e)}function xT(e){return pt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M16.4249 17.839L21.1925 22.6066L22.6068 21.1924L2.80777 1.3934L1.39355 2.80761L7.00016 8.41421V10C7.00016 12.7614 9.23873 15 12.0002 15C12.4825 15 12.9489 14.9317 13.3902 14.8042L14.9404 16.3544C14.0464 16.7688 13.0503 17 12.0002 17C8.47368 17 5.55627 14.3923 5.07105 11H3.05509C3.51623 15.1716 6.82854 18.4839 11.0002 18.9451V23H13.0002V18.9451C14.2341 18.8087 15.3929 18.4228 16.4249 17.839ZM11.5528 12.9669C10.2541 12.7727 9.22745 11.7461 9.03328 10.4473L11.5528 12.9669ZM19.3747 15.1604L17.9323 13.7179C18.4407 12.9084 18.788 11.9874 18.9293 11H20.9452C20.7754 12.5366 20.2187 13.9565 19.3747 15.1604ZM16.4658 12.2514L14.9173 10.703C14.9715 10.4775 15.0002 10.2421 15.0002 10V6C15.0002 4.34315 13.657 3 12.0002 3C10.7059 3 9.6031 3.81956 9.18237 4.96802L7.68575 3.47139C8.55427 1.99268 10.1613 1 12.0002 1C14.7616 1 17.0002 3.23858 17.0002 6V10C17.0002 10.8099 16.8076 11.5748 16.4658 12.2514Z"},child:[]}]})(e)}function Yme(e){return pt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20.7134 7.12811L20.4668 7.69379C20.2864 8.10792 19.7136 8.10792 19.5331 7.69379L19.2866 7.12811C18.8471 6.11947 18.0555 5.31641 17.0677 4.87708L16.308 4.53922C15.8973 4.35653 15.8973 3.75881 16.308 3.57612L17.0252 3.25714C18.0384 2.80651 18.8442 1.97373 19.2761 0.930828L19.5293 0.319534C19.7058 -0.106511 20.2942 -0.106511 20.4706 0.319534L20.7238 0.930828C21.1558 1.97373 21.9616 2.80651 22.9748 3.25714L23.6919 3.57612C24.1027 3.75881 24.1027 4.35653 23.6919 4.53922L22.9323 4.87708C21.9445 5.31641 21.1529 6.11947 20.7134 7.12811ZM8.5 6H6.5V18H8.5V6ZM4 10H2V14H4V10ZM13 2H11V22H13V2ZM17.5 8H15.5V18H17.5V8ZM22 10H20V14H22V10Z"},child:[]}]})(e)}function Qme(e){return pt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5 7H7V17H5V7ZM1 10H3V14H1V10ZM9 2H11V20H9V2ZM13 4H15V22H13V4ZM17 7H19V17H17V7ZM21 10H23V14H21V10Z"},child:[]}]})(e)}function Xme(e){return pt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M22 15H19V3H22C22.5523 3 23 3.44772 23 4V14C23 14.5523 22.5523 15 22 15ZM16.7071 16.2929L10.3066 22.6934C10.1307 22.8693 9.85214 22.8891 9.65308 22.7398L8.8005 22.1004C8.3158 21.7369 8.09739 21.1174 8.24686 20.5303L9.40017 16H3C1.89543 16 1 15.1046 1 14V11.8957C1 11.6344 1.05118 11.3757 1.15064 11.1342L4.24501 3.61925C4.3993 3.24455 4.76447 3 5.16969 3H16C16.5523 3 17 3.44772 17 4V15.5858C17 15.851 16.8946 16.1054 16.7071 16.2929Z"},child:[]}]})(e)}function Jme(e){return pt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9.40017 16H3C1.89543 16 1 15.1046 1 14V11.8957C1 11.6344 1.05118 11.3757 1.15064 11.1342L4.24501 3.61925C4.3993 3.24455 4.76447 3 5.16969 3H22C22.5523 3 23 3.44772 23 4V14C23 14.5523 22.5523 15 22 15H18.5182C18.1932 15 17.8886 15.1579 17.7012 15.4233L12.2478 23.149C12.1053 23.3508 11.8367 23.4184 11.6157 23.3078L9.80163 22.4008C8.74998 21.875 8.20687 20.6874 8.49694 19.548L9.40017 16ZM17 13.4125V5H5.83939L3 11.8957V14H9.40017C10.7049 14 11.6602 15.229 11.3384 16.4934L10.4351 20.0414C10.3771 20.2693 10.4857 20.5068 10.6961 20.612L11.3572 20.9425L16.0673 14.27C16.3172 13.9159 16.6366 13.6257 17 13.4125ZM19 13H21V5H19V13Z"},child:[]}]})(e)}function Zme(e){return pt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2 8.99997H5V21H2C1.44772 21 1 20.5523 1 20V9.99997C1 9.44769 1.44772 8.99997 2 8.99997ZM7.29289 7.70708L13.6934 1.30661C13.8693 1.13066 14.1479 1.11087 14.3469 1.26016L15.1995 1.8996C15.6842 2.26312 15.9026 2.88253 15.7531 3.46966L14.5998 7.99997H21C22.1046 7.99997 23 8.8954 23 9.99997V12.1043C23 12.3656 22.9488 12.6243 22.8494 12.8658L19.755 20.3807C19.6007 20.7554 19.2355 21 18.8303 21H8C7.44772 21 7 20.5523 7 20V8.41419C7 8.14897 7.10536 7.89462 7.29289 7.70708Z"},child:[]}]})(e)}function efe(e){return pt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M14.5998 8.00033H21C22.1046 8.00033 23 8.89576 23 10.0003V12.1047C23 12.3659 22.9488 12.6246 22.8494 12.8662L19.755 20.3811C19.6007 20.7558 19.2355 21.0003 18.8303 21.0003H2C1.44772 21.0003 1 20.5526 1 20.0003V10.0003C1 9.44804 1.44772 9.00033 2 9.00033H5.48184C5.80677 9.00033 6.11143 8.84246 6.29881 8.57701L11.7522 0.851355C11.8947 0.649486 12.1633 0.581978 12.3843 0.692483L14.1984 1.59951C15.25 2.12534 15.7931 3.31292 15.5031 4.45235L14.5998 8.00033ZM7 10.5878V19.0003H18.1606L21 12.1047V10.0003H14.5998C13.2951 10.0003 12.3398 8.77128 12.6616 7.50691L13.5649 3.95894C13.6229 3.73105 13.5143 3.49353 13.3039 3.38837L12.6428 3.0578L7.93275 9.73038C7.68285 10.0844 7.36341 10.3746 7 10.5878ZM5 11.0003H3V19.0003H5V11.0003Z"},child:[]}]})(e)}function _T(e){return pt({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M163.51,24.81a8,8,0,0,0-8.42.88L85.25,80H40A16,16,0,0,0,24,96v64a16,16,0,0,0,16,16H85.25l69.84,54.31A8,8,0,0,0,168,224V32A8,8,0,0,0,163.51,24.81ZM152,207.64,92.91,161.69A7.94,7.94,0,0,0,88,160H40V96H88a7.94,7.94,0,0,0,4.91-1.69L152,48.36ZM208,104v48a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm32-16v80a8,8,0,0,1-16,0V88a8,8,0,0,1,16,0Z"},child:[]}]})(e)}function TT(e){return pt({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M192,152V104a8,8,0,0,1,16,0v48a8,8,0,0,1-16,0Zm40-72a8,8,0,0,0-8,8v80a8,8,0,0,0,16,0V88A8,8,0,0,0,232,80ZM221.92,210.62a8,8,0,1,1-11.84,10.76L168,175.09V224a8,8,0,0,1-12.91,6.31L85.25,176H40a16,16,0,0,1-16-16V96A16,16,0,0,1,40,80H81.55L50.08,45.38A8,8,0,0,1,61.92,34.62ZM152,157.49,96.1,96H40v64H88a7.94,7.94,0,0,1,4.91,1.69L152,207.64ZM125.06,69.31l26.94-21v58.47a8,8,0,0,0,16,0V32a8,8,0,0,0-12.91-6.31l-39.85,31a8,8,0,0,0,9.82,12.63Z"},child:[]}]})(e)}const Rr=[];for(let e=0;e<256;++e)Rr.push((e+256).toString(16).slice(1));let ST;const tfe=new Uint8Array(16);function dB(){if(!ST){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ST=crypto.getRandomValues.bind(crypto)}return ST(tfe)}const gm={};function mu(e,t,n){var r,o,i,a;let s;const l=(r=e==null?void 0:e._v6)!=null&&r;if(e){const c=Object.keys(e);c.length===1&&c[0]==="_v6"&&(e=void 0)}if(e)s=hB((a=(i=e.random)!=null?i:(o=e.rng)==null?void 0:o.call(e))!=null?a:dB(),e.msecs,e.nsecs,e.clockseq,e.node,t,n);else{const c=Date.now(),u=dB();(function(h,p,d){h.msecs!=null||(h.msecs=-1/0),h.nsecs!=null||(h.nsecs=0),p===h.msecs?(h.nsecs++,h.nsecs>=1e4&&(h.node=void 0,h.nsecs=0)):p>h.msecs?h.nsecs=0:p<h.msecs&&(h.node=void 0),h.node||(h.node=d.slice(10,16),h.node[0]|=1,h.clockseq=16383&(d[8]<<8|d[9])),h.msecs=p})(gm,c,u),s=hB(u,gm.msecs,gm.nsecs,l?void 0:gm.clockseq,l?void 0:gm.node,t,n)}return t??function(c,u=0){return(Rr[c[u+0]]+Rr[c[u+1]]+Rr[c[u+2]]+Rr[c[u+3]]+"-"+Rr[c[u+4]]+Rr[c[u+5]]+"-"+Rr[c[u+6]]+Rr[c[u+7]]+"-"+Rr[c[u+8]]+Rr[c[u+9]]+"-"+Rr[c[u+10]]+Rr[c[u+11]]+Rr[c[u+12]]+Rr[c[u+13]]+Rr[c[u+14]]+Rr[c[u+15]]).toLowerCase()}(s)}function hB(e,t,n,r,o,i,a=0){if(e.length<16)throw new Error("Random bytes length must be >= 16");if(i){if(a<0||a+16>i.length)throw new RangeError(`UUID byte range ${a}:${a+15} is out of buffer bounds`)}else i=new Uint8Array(16),a=0;t!=null||(t=Date.now()),n!=null||(n=0),r!=null||(r=16383&(e[8]<<8|e[9])),o!=null||(o=e.slice(10,16));const s=(1e4*(268435455&(t+=122192928e5))+n)%4294967296;i[a++]=s>>>24&255,i[a++]=s>>>16&255,i[a++]=s>>>8&255,i[a++]=255&s;const l=t/4294967296*1e4&268435455;i[a++]=l>>>8&255,i[a++]=255&l,i[a++]=l>>>24&15|16,i[a++]=l>>>16&255,i[a++]=r>>>8|128,i[a++]=255&r;for(let c=0;c<6;++c)i[a++]=o[c];return i}const vm=()=>{const e=W(r=>r.chatBox.isMicOn),t=Wl(),n=pu();return t||n||e},nfe=go(!1),Eb=()=>{var e,t,n,r,o,i;const a=mt(),[s,l]=An(Eh),{isV4:c}=Pl(),u=W(y=>y.chatBox.languageCode),h=(t=(e=a==null?void 0:a.config)==null?void 0:e.avatai)==null?void 0:t.disable_lip_sync,[p,d]=An(nfe),f=x.useRef(!1),g=x.useCallback(async()=>{ee.log("startMic!!!"),h?ee.log("disableLipSync, skipping startMic"):f.current||(f.current=!0,d(!0),await G9(),d(!1),f.current=!1)},[d,h]),m=x.useCallback(async()=>{h?ee.log("disableLipSync, skipping stopMic"):f.current||(f.current=!0,d(!0),await K9(),d(!1),f.current=!1)},[d,h]),v=x.useCallback(async y=>{var b,w,k,_;if(h)return void ee.log("disableLipSync, skipping joinChat");if(!c)return void ee.log("This is only for v4 avatar, skipping joinChat");const O=jn.getState(),E=Tt(O);ee.log("useAkoolAgora joinChat threadId:",E,"langCode:",y);const C=O.chatBox.streamDetails;if(C==null||!C.agora_channel)return void ee.info("No active stream session, skipping joinChat: ",C);if(ee.log("useAkoolAgora joinChat getSharedAgoraClient"),!await Xn())return void ee.error("Agora client not initialized");ee.log("useAkoolAgora joinChat setAgentJoined(true)"),l(!0);const N={vid:(w=(b=a==null?void 0:a.config)==null?void 0:b.avatai)==null?void 0:w.voice_id,lang:y||u,mode:2},L={liveX_data:{chatbot_id:(a==null?void 0:a.id)||"",conversation_id:E||"",api_base_url:Bt.chatHost,language_code:y||u,use_livex_llm:!0,pronunciation_map:{cemoy:"seemore",cemôy:"seemore",Cemoy:"seemore",Cemôy:"seemore",CEMÔY:"seemore",CEMOY:"seemore"}},vad_config:((_=(k=a==null?void 0:a.config)==null?void 0:k.custom_style)==null?void 0:_.vad_config)||{pre_start_recognize_count:1,start_recognize_count:6,stop_recognize_count:45,active_percent:.2,inactive_percent:1,start_voice_prob:70,stop_voice_prob:50,start_rms:-50,stop_rms:-40,exp_audio_size_bytes:1024}};ee.log("avatarParamsData:",N),ee.log("avatarParamsMetadata:",L),await async function(j,H){ee.log("setAvatarParams getSharedAgoraClient");const F=Xn();if(!F)throw new Error("Agora client not initialized");const z={v:2,type:"command",mid:`msg-${Date.now()}`,pld:{cmd:"set-params",data:j,metadata:H}},B=JSON.stringify(z);return F.sendStreamMessage(B,!1)}(N,L)},[(r=(n=a==null?void 0:a.config)==null?void 0:n.avatai)==null?void 0:r.voice_id,(i=(o=a==null?void 0:a.config)==null?void 0:o.custom_style)==null?void 0:i.vad_config,a==null?void 0:a.id,u,l,c,h]);return window.joinChat=v,{startMic:g,stopMic:m,joinChat:v,isTogglingMic:p}},bm=()=>{const e=dt(),[t,n]=An(gT),{disconnectLivekit:r}=ra(),{stopMic:o}=Eb();return{resetConversationMode:()=>{r(),n(""),e(Nh("text")),ee.log("stopMic resetConversationMode"),o(),Ra.instance.stop()}}};var rfe=Object.defineProperty,ofe=Object.defineProperties,ife=Object.getOwnPropertyDescriptors,pB=Object.getOwnPropertySymbols,afe=Object.prototype.hasOwnProperty,sfe=Object.prototype.propertyIsEnumerable,mB=(e,t,n)=>t in e?rfe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fB=(e,t)=>{for(var n in t||(t={}))afe.call(t,n)&&mB(e,n,t[n]);if(pB)for(var n of pB(t))sfe.call(t,n)&&mB(e,n,t[n]);return e},gB=(e,t)=>ofe(e,ife(t));const lfe=()=>{const e=dt(),t=W(C=>C.chatBox.composedMessage),n=W(C=>C.chatBox.isMicMuted),r=W(C=>C.chatBox.isSpeakerMuted),[o,i]=An(Eh),{primary_color:a}=pn(),{messageComposerStyle:s}=mm([]),l=P4([ye.Source.Microphone]).find(C=>C.participant.isLocal),{livekitRoom:c,status:u,muteMic:h,unmuteMic:p}=ra(),d=u==="connecting",f=$D(l),g=VD(c==null?void 0:c.localParticipant),{resetConversationMode:m}=bm(),v=n?xT:fm,y=n?"orange":"gray.7",b=r?TT:_T,w=r?"orange":"gray.7",k=vm(),_=async()=>{if(k||ht(t))return;const C=t;e(Kl("")),c==null||c.localParticipant.sendText(C,{topic:"lk.chat"});const N={id:mu(),text:C,timestamp:Date.now(),format:"markdown",type:"user"};e(Wn(N))};x.useEffect(()=>{if(u!=="connected"||!c)return;const C=(L,j,H)=>{ee.log("VoiceModeMessageComposer handleTrackSubscribed track:",L," publication:",j," participant:",H),ee.log("VoiceModeMessageComposer handleTrackSubscribed setAgentJoined(true)"),i(!0)};c.on("trackSubscribed",C);const N=c.remoteParticipants;for(const L of N.values())L.identity.startsWith("agent-"),ee.log("VoiceModeMessageComposer handleTrackSubscribed setAgentJoined(true)"),i(!0);return()=>{c.off("trackSubscribed",C)}},[u,c,i]),x.useEffect(()=>{u==="connected"&&o?n?h():p():h()},[n,h,p,u,o]),x.useEffect(()=>{u==="connected"&&o&&(async()=>n?h():ht(t)?p():h())()},[t,n,h,p,u,o]);const O={width:"70%",height:"70%",transition:"opacity 200ms ease"},E={transition:"outline 200ms ease",display:"flex",alignItems:"center"};return g&&(E.outline=`solid ${Math.min(5,Math.max(1,10*f))}px rgba(100, 100, 100, ${Math.min(.8,Math.max(.2,f))})`),ce(lu,{id:"voice-mode-message-composer",withBorder:!0,styles:{root:s},style:E,shadow:"sm",children:[R(yh,{visible:d||!o}),R(qn,{c:"dimmed",size:"xs",children:"Conversation mode"}),ce(Sn,{w:"100%",justify:"space-between",align:"center",style:{overflow:"hidden",position:"relative",height:"32px"},children:[R(Sh,{handleSendClick:_,maxRows:1}),ce(Sn,{gap:"xs",style:{padding:"4px",position:"absolute",right:0,transform:ht(t)&&!k?"translateX(0)":"translateX(29px)",transition:"transform 200ms ease"},children:[ce(Jt,{radius:100,color:ht(t)?y:a,variant:"filled",loading:k,style:{transition:"background-color 200ms ease",backgroundColor:"var(--message-composer-mic-button-bg, #eb4034)"},onClick:()=>{ht(t)?e(e8(!n)):_()},children:[R(v,{style:gB(fB({},O),{opacity:ht(t)?1:0,position:"absolute"})}),R(cB,{style:gB(fB({},O),{opacity:ht(t)?0:1})})]}),R(Jt,{radius:100,color:w,variant:"filled",onClick:()=>{const C=!r;e(Hs(C)),e(Cm(!C))},children:R(b,{style:{width:"70%",height:"70%"}})}),R(Jt,{radius:100,color:"gray.7",variant:"filled",onClick:()=>{m()},children:R(Fs,{style:{width:"70%",height:"70%"}})})]})]})]})},cfe=()=>{const e=W(a=>a.chatBox.isSpeakerMuted),{livekitRoom:t,startLivekit:n,stopLivekit:r}=ra(),o=yu();x.useEffect(()=>(n(),()=>{r()}),[n,r]);const i=vm();return x.useEffect(()=>{var a,s;o||i||_t||(s=(a=De.messageTextAreaRef)==null?void 0:a.current)==null||s.focus()},[o,i]),ce(Jp.Provider,{value:t,children:[R(VF,{}),R(XD,{muted:e}),R(lfe,{})]})},Cb=()=>{var e,t;const n=dt(),r=mt(),o=W(Tt),i=r8(),a=(t=(e=r==null?void 0:r.config)==null?void 0:e.custom_style)==null?void 0:t.akool_avatar_version;return Zr({mutationFn:async()=>{Ra.instance.stop(),n(_U(new Date().getTime())),i!=null&&i.uid&&(a==="v4"?await Ap():await(async s=>{const{chatbot_id:l,conversation_id:c}=s;if(!l||!c)throw new Error("chatbot_id and conversation_id are required");const u=`${Bt.chatHost}/api/v1/live_avatar/stop_stream`;return(await Mt.post(u,s)).data})({chatbot_id:r==null?void 0:r.id,conversation_id:o}))}})};var ufe=Object.defineProperty,dfe=Object.defineProperties,hfe=Object.getOwnPropertyDescriptors,vB=Object.getOwnPropertySymbols,pfe=Object.prototype.hasOwnProperty,mfe=Object.prototype.propertyIsEnumerable,bB=(e,t,n)=>t in e?ufe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yB=(e,t)=>{for(var n in t||(t={}))pfe.call(t,n)&&bB(e,n,t[n]);if(vB)for(var n of vB(t))mfe.call(t,n)&&bB(e,n,t[n]);return e},wB=(e,t)=>dfe(e,hfe(t));const ffe=()=>{const e=dt(),t=W(j=>j.chatBox.composedMessage),n=W(j=>j.chatBox.isMicMuted),r=W(j=>j.chatBox.isSpeakerMuted),o=W(j=>j.chatBox.isAvatarSpeaking);W(j=>j.chatBox.botMode);const i=W(j=>j.chatBox.botVoiceEnabled),a=W(Tt);Cb();const[s,l]=An(Eh),{primary_color:c}=pn(),{messageComposerStyle:u}=mm([]),[h,p]=x.useState(0),[d,f]=x.useState(!1),g=x.useRef(null),m=x.useRef(null),{resetConversationMode:v}=bm(),y=n?xT:fm,b=n?"orange":"gray.7",w=r?TT:_T,k=r?"orange":"gray.7",_=vm(),O=x.useCallback(async()=>{ee.log("VoiceModeMessageComposerAkool initializeLocalAudio getSharedAgoraClient");const j=Xn();if(j&&window.AgoraRTC)if(j.connectionState==="CONNECTED")try{if((await navigator.permissions.query({name:"microphone"})).state==="denied")return void ee.error("Microphone permission denied");const H=await window.AgoraRTC.createMicrophoneAudioTrack({encoderConfig:"speech_low_quality",AEC:!0,ANS:!0,AGC:!0});await j.publish(H),g.current=H,n?await H.setEnabled(!1):await H.setEnabled(!0),ee.log("VoiceModeMessageComposerAkool initializeLocalAudio setAgentJoined(true)"),l(!0),j.enableAudioVolumeIndicator(),m.current&&j.off("volume-indicator",m.current);const F=z=>{z.forEach(B=>{if(B.uid===j.uid){const V=B.level,U=Math.max(0,Math.min(1,(V-30)/50));p(U),f(U>.4)}})};m.current=F,j.on("volume-indicator",F)}catch{}else ee.log("Agora client not connected yet, waiting...");else ee.error("Agora client not initialized")},[l,n]),E=x.useCallback(async()=>{ee.log("VoiceModeMessageComposerAkool cleanupLocalAudio getSharedAgoraClient");const j=Xn();if(j)try{m.current&&(j.off("volume-indicator",m.current),m.current=null),g.current&&(g.current.stop(),g.current.close(),await j.unpublish(g.current),g.current=null),l(!1)}catch{}},[l]);x.useEffect(()=>{ee.log("VoiceModeMessageComposerAkool useEffect getSharedAgoraClient");const j=Xn();if(j){if(j.connectionState!=="CONNECTED"){const H=F=>{F==="CONNECTED"?O():F==="DISCONNECTED"&&E()};return j.on("connection-state-change",H),()=>{j.off("connection-state-change",H)}}return O(),()=>{E()}}},[O,E]),x.useEffect(()=>{g.current&&(async()=>{var j,H;n?await((j=g.current)==null?void 0:j.setEnabled(!0)):await((H=g.current)==null?void 0:H.setEnabled(!1))})()},[n]),x.useEffect(()=>{ee.log("VoiceModeMessageComposerAkool useEffect isSpeakerMuted:",r);const j=Xn();j&&j.remoteUsers.forEach(H=>{H.audioTrack&&(r?H.audioTrack.stop():H.audioTrack.play())})},[r]),x.useEffect(()=>{(async()=>{if(g.current){if(n)return void await g.current.setEnabled(!1);ht(t)?await g.current.setEnabled(!0):await g.current.setEnabled(!1)}})()},[t,n]),x.useEffect(()=>{i||r?i&&r&&e(Hs(!1)):e(Hs(!0))},[i,r,e]);const C=async()=>{if(_||ht(t))return;o&&Ap();const j=t;e(Kl("")),ee.log("VoiceModeMessageComposerAkool handleSendClick getSharedAgoraClient");const H=Xn();if(H){const z={v:2,type:"chat",mid:`msg-${Date.now()}`,pld:{text:j}},B=JSON.stringify(z);await H.sendStreamMessage(B,!1)}const F={id:mu(),text:j,timestamp:Date.now(),format:"markdown",type:"user"};e(Wn(F))},N={width:"70%",height:"70%",transition:"opacity 200ms ease"},L={transition:"outline 200ms ease",display:"flex",alignItems:"center",paddingTop:"4px"};return d&&(L.outline=`solid ${Math.min(5,Math.max(1,10*h))}px rgba(100, 100, 100, ${Math.min(.8,Math.max(.2,h))})`),ce(lu,{id:"voice-mode-message-composer",withBorder:!0,styles:{root:u},style:L,shadow:"sm",children:[R(yh,{visible:!s}),R(qn,{c:"dimmed",size:"xs",children:"Conversation mode"}),ce(Sn,{w:"100%",justify:"space-between",align:"center",style:{overflow:"hidden",position:"relative",height:"32px"},children:[R(Sh,{handleSendClick:C,maxRows:1}),ce(Sn,{gap:"xs",style:{padding:"4px",position:"absolute",right:0,transform:ht(t)&&!_?"translateX(0)":"translateX(29px)",transition:"transform 200ms ease"},children:[ce(Jt,{radius:100,color:ht(t)?b:c,variant:"filled",loading:_,style:{transition:"background-color 200ms ease"},onClick:()=>{ht(t)?e(e8(!n)):C()},children:[R(y,{style:wB(yB({},N),{opacity:ht(t)?1:0,position:"absolute"})}),R(cB,{style:wB(yB({},N),{opacity:ht(t)?0:1})})]}),ht(t)&&R(Jt,{radius:100,color:k,variant:"filled",onClick:()=>{const j=!r;e(Hs(j)),e(Cm(!j))},children:R(w,{style:{width:"70%",height:"70%"}})}),R(Jt,{radius:100,color:"gray.7",variant:"filled",onClick:()=>{Ap(),De.shouldAbort=!0,e(xi(!1)),a&&e(Ti({threadId:a,waiting:!1}))},children:R(lB,{style:{width:"70%",height:"70%"}})}),R(Jt,{radius:100,color:"gray.7",variant:"filled",onClick:()=>{v()},children:R(Fs,{style:{width:"70%",height:"70%"}})})]})]})]})},gfe=()=>{const e=yu(),t=vm();return x.useEffect(()=>{var n,r;e||t||_t||(r=(n=De.messageTextAreaRef)==null?void 0:n.current)==null||r.focus()},[e,t]),R(ffe,{})};var vfe=Object.defineProperty,bfe=Object.defineProperties,yfe=Object.getOwnPropertyDescriptors,kB=Object.getOwnPropertySymbols,wfe=Object.prototype.hasOwnProperty,kfe=Object.prototype.propertyIsEnumerable,xB=(e,t,n)=>t in e?vfe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ob=(e,t)=>{for(var n in t||(t={}))wfe.call(t,n)&&xB(e,n,t[n]);if(kB)for(var n of kB(t))kfe.call(t,n)&&xB(e,n,t[n]);return e},Pb=(e,t)=>bfe(e,yfe(t));const xfe={width:"56px",height:"56px",borderRadius:"16px",padding:"1px"},_fe={width:"100%",height:"100%",borderRadius:"15px",padding:0,border:"none",transition:"background-color 0.2s ease"},Tfe={gap:1,align:"center"},Sfe={size:"xs",c:"white",style:{width:"55px",minHeight:"32px",textAlign:"center",whiteSpace:"normal",fontSize:"var(--voice-mode-button-font-size, 10px)"}},ET=({icon:e,label:t,onClick:n,color:r,disabled:o,isActive:i,onMouseEnter:a,onMouseLeave:s,loading:l})=>{const c=x.useMemo(()=>i?"var(--voice-mode-button-active-bg, #EDF2FF)":r,[i,r]),u=x.useMemo(()=>Pb(Ob({},_fe),{background:c||"var(--voice-mode-button-bg, var(--mantine-color-gray-3))"}),[c]),h=x.useMemo(()=>Pb(Ob({},xfe),{background:"var(--gradient-border-main, linear-gradient(to top, #424242, #ffffff))"}),[]);return ce(na,Pb(Ob({},Tfe),{children:[R("div",{style:h,children:R(Zn,{onClick:n,disabled:o,onMouseEnter:a,onMouseLeave:s,style:u,loading:l,children:e})}),R(qn,Pb(Ob({},Sfe),{children:t}))]}))};function _B(e){return pt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 6 9 17l-5-5"},child:[]}]})(e)}function Efe(e){return pt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 8h.01"},child:[]},{tag:"path",attr:{d:"M12 12h.01"},child:[]},{tag:"path",attr:{d:"M14 8h.01"},child:[]},{tag:"path",attr:{d:"M16 12h.01"},child:[]},{tag:"path",attr:{d:"M18 8h.01"},child:[]},{tag:"path",attr:{d:"M6 8h.01"},child:[]},{tag:"path",attr:{d:"M7 16h10"},child:[]},{tag:"path",attr:{d:"M8 12h.01"},child:[]},{tag:"rect",attr:{width:"20",height:"16",x:"2",y:"4",rx:"2"},child:[]}]})(e)}function Cfe(e){return pt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 12h6"},child:[]},{tag:"path",attr:{d:"M15 6h6"},child:[]},{tag:"path",attr:{d:"m3 13 3.553-7.724a.5.5 0 0 1 .894 0L11 13"},child:[]},{tag:"path",attr:{d:"M3 18h18"},child:[]},{tag:"path",attr:{d:"M4 11h6"},child:[]}]})(e)}const TB=()=>{const e=W(o=>o.chatBox.triedToGetAvataiSession),t=W(o=>o.chatBox.streamDetails),n=W(o=>{var i,a,s;return(s=(a=(i=o.chatBox.agent)==null?void 0:i.config)==null?void 0:a.avatai)==null?void 0:s.disable_lip_sync}),r=W(o=>o.chatBox.botMode);return e&&!(t!=null&&t.agora_channel)&&!n&&Ht(r)},CT=1500,Ofe=9e3,OT=.5,Pfe=go(!1),Afe=go([]);var Zt=tt.bind(null);["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){Zt[e]=Zt(e)});const Nfe=go([]),SB=go(""),Rfe=go(!1);function Ife(e){return pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"square",strokeMiterlimit:"10",strokeWidth:"48",d:"M328 112 184 256l144 144"},child:[]}]})(e)}function Mfe(e){return pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M368 368 144 144m224 0L144 368"},child:[]}]})(e)}function EB(e){return pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(e)}function CB(e){return pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M93.72 183.25C49.49 198.05 16 233.1 16 288c0 66 54 112 120 112h184.37m147.45-22.26C485.24 363.3 496 341.61 496 312c0-59.82-53-85.76-96-88-8.89-89.54-71-144-144-144-26.16 0-48.79 6.93-67.6 18.14"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M448 448 64 64"},child:[]}]})(e)}function Lfe(e){return pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M456.69 421.39 362.6 327.3a173.81 173.81 0 0 0 34.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 0 0 327.3 362.6l94.09 94.09a25 25 0 0 0 35.3-35.3zM97.92 222.72a124.8 124.8 0 1 1 124.8 124.8 124.95 124.95 0 0 1-124.8-124.8z"},child:[]}]})(e)}function Dfe(e){return pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M262.29 192.31a64 64 0 1 0 57.4 57.4 64.13 64.13 0 0 0-57.4-57.4zM416.39 256a154.34 154.34 0 0 1-1.53 20.79l45.21 35.46a10.81 10.81 0 0 1 2.45 13.75l-42.77 74a10.81 10.81 0 0 1-13.14 4.59l-44.9-18.08a16.11 16.11 0 0 0-15.17 1.75A164.48 164.48 0 0 1 325 400.8a15.94 15.94 0 0 0-8.82 12.14l-6.73 47.89a11.08 11.08 0 0 1-10.68 9.17h-85.54a11.11 11.11 0 0 1-10.69-8.87l-6.72-47.82a16.07 16.07 0 0 0-9-12.22 155.3 155.3 0 0 1-21.46-12.57 16 16 0 0 0-15.11-1.71l-44.89 18.07a10.81 10.81 0 0 1-13.14-4.58l-42.77-74a10.8 10.8 0 0 1 2.45-13.75l38.21-30a16.05 16.05 0 0 0 6-14.08c-.36-4.17-.58-8.33-.58-12.5s.21-8.27.58-12.35a16 16 0 0 0-6.07-13.94l-38.19-30A10.81 10.81 0 0 1 49.48 186l42.77-74a10.81 10.81 0 0 1 13.14-4.59l44.9 18.08a16.11 16.11 0 0 0 15.17-1.75A164.48 164.48 0 0 1 187 111.2a15.94 15.94 0 0 0 8.82-12.14l6.73-47.89A11.08 11.08 0 0 1 213.23 42h85.54a11.11 11.11 0 0 1 10.69 8.87l6.72 47.82a16.07 16.07 0 0 0 9 12.22 155.3 155.3 0 0 1 21.46 12.57 16 16 0 0 0 15.11 1.71l44.89-18.07a10.81 10.81 0 0 1 13.14 4.58l42.77 74a10.8 10.8 0 0 1-2.45 13.75l-38.21 30a16.05 16.05 0 0 0-6.05 14.08c.33 4.14.55 8.3.55 12.47z"},child:[]}]})(e)}function jfe(e){return pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M336 192h40a40 40 0 0 1 40 40v192a40 40 0 0 1-40 40H136a40 40 0 0 1-40-40V232a40 40 0 0 1 40-40h40m160-64-80-80-80 80m80 193V48"},child:[]}]})(e)}function zfe(e){return pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M126 192H56a8 8 0 0 0-8 8v112a8 8 0 0 0 8 8h69.65a15.93 15.93 0 0 1 10.14 3.54l91.47 74.89A8 8 0 0 0 240 392V120a8 8 0 0 0-12.74-6.43l-91.47 74.89A15 15 0 0 1 126 192zm194 128c9.74-19.38 16-40.84 16-64 0-23.48-6-44.42-16-64m48 176c19.48-33.92 32-64.06 32-112s-12-77.74-32-112m48 272c30-46 48-91.43 48-160s-18-113-48-160"},child:[]}]})(e)}function Ffe(e){return pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M416 432 64 80"},child:[]},{tag:"path",attr:{d:"M224 136.92v33.8a4 4 0 0 0 1.17 2.82l24 24a4 4 0 0 0 6.83-2.82v-74.15a24.53 24.53 0 0 0-12.67-21.72 23.91 23.91 0 0 0-25.55 1.83 8.27 8.27 0 0 0-.66.51l-31.94 26.15a4 4 0 0 0-.29 5.92l17.05 17.06a4 4 0 0 0 5.37.26zm0 238.16-78.07-63.92a32 32 0 0 0-20.28-7.16H64v-96h50.72a4 4 0 0 0 2.82-6.83l-24-24a4 4 0 0 0-2.82-1.17H56a24 24 0 0 0-24 24v112a24 24 0 0 0 24 24h69.76l91.36 74.8a8.27 8.27 0 0 0 .66.51 23.93 23.93 0 0 0 25.85 1.69A24.49 24.49 0 0 0 256 391.45v-50.17a4 4 0 0 0-1.17-2.82l-24-24a4 4 0 0 0-6.83 2.82zM125.82 336zM352 256c0-24.56-5.81-47.88-17.75-71.27a16 16 0 0 0-28.5 14.54C315.34 218.06 320 236.62 320 256q0 4-.31 8.13a8 8 0 0 0 2.32 6.25l19.66 19.67a4 4 0 0 0 6.75-2A146.89 146.89 0 0 0 352 256zm64 0c0-51.19-13.08-83.89-34.18-120.06a16 16 0 0 0-27.64 16.12C373.07 184.44 384 211.83 384 256c0 23.83-3.29 42.88-9.37 60.65a8 8 0 0 0 1.9 8.26l16.77 16.76a4 4 0 0 0 6.52-1.27C410.09 315.88 416 289.91 416 256z"},child:[]},{tag:"path",attr:{d:"M480 256c0-74.26-20.19-121.11-50.51-168.61a16 16 0 1 0-27 17.22C429.82 147.38 448 189.5 448 256c0 47.45-8.9 82.12-23.59 113a4 4 0 0 0 .77 4.55L443 391.39a4 4 0 0 0 6.4-1C470.88 348.22 480 307 480 256z"},child:[]}]})(e)}const Bfe=()=>{const{t:e}=Nr(),[t,n]=An(Nfe),[r,o]=An(SB),[i,a]=An(Rfe);return x.useEffect(()=>{const s=async()=>{const c=await(async()=>{try{return await navigator.mediaDevices.getUserMedia({audio:!0}),(await navigator.mediaDevices.enumerateDevices()).filter(u=>u.kind==="audioinput").map(u=>({deviceId:u.deviceId,label:u.label||`Microphone ${u.deviceId.slice(0,8)}...`,groupId:u.groupId}))}catch{return[]}})();n(c),c.length>0&&!r&&o(c[0].deviceId)};s();const l=()=>{s()};return navigator.mediaDevices.addEventListener("devicechange",l),()=>{navigator.mediaDevices.removeEventListener("devicechange",l)}},[n,r,o]),ce(Ft,{opened:i,onOpen:()=>a(!0),onClose:()=>a(!1),position:"top",shadow:"md",children:[R(Ft.Target,{children:R(Jt,{size:"xs",variant:"subtle",color:"dark.7",onClick:()=>a(!i),style:{position:"absolute",right:6},children:R(Dfe,{})})}),ce(Ft.Dropdown,{children:[R(Ft.Label,{children:R(qn,{size:"xs",c:"dimmed",children:e("select_microphone")})}),t.map(s=>R(Ft.Item,{onClick:()=>(l=>{o(l),a(!1)})(s.deviceId),style:{backgroundColor:s.deviceId===r?"var(--menu-item-hover-color, #364FC7)":"transparent"},children:ce(Or,{gap:"xs",children:[R(qn,{size:"xs",truncate:!0,style:{color:"var(--dropdown-item-color, white)"},children:s.label}),s.deviceId===r&&R(qn,{size:"xs",c:"blue",children:"✓"})]})},s.deviceId)),t.length===0&&R(Ft.Item,{disabled:!0,children:R(qn,{size:"xs",c:"dimmed",children:e("no_microphones_found")})})]})]})},Ufe=({barCount:e=42,height:t=30,className:n,style:r})=>{const{volumesArray:o,isSpeaking:i}=(()=>{const[h,p]=An(Pfe),[d,f]=An(Afe),g=x.useRef(null),{livekitRoom:m,status:v}=ra(),y=$D(P4([ye.Source.Microphone]).find(E=>E.participant.isLocal)),b=VD(m==null?void 0:m.localParticipant),w=x.useMemo(()=>(ee.log("useVolumeVisualizer useMemo getSharedAgoraClient"),Xn()),[]),k=x.useCallback(()=>{ee.log("startAgoraVolumeMonitoring getSharedAgoraClient");const E=Xn();if(!E||E.connectionState!=="CONNECTED")return;g.current&&cancelAnimationFrame(g.current);const C=()=>{var N,L;const j=((L=(N=E.getLocalAudioStats)==null?void 0:N.call(E))==null?void 0:L.sendVolumeLevel)||0;if(j>CT){const H=Math.max(0,Math.min(1,(j-CT)/(Ofe-CT)));p(!0),f(F=>[...F,H].slice(-42))}else p(!1),f(H=>[...H,0].slice(-42));g.current=requestAnimationFrame(C)};g.current=requestAnimationFrame(C)},[p,f]),_=x.useCallback(()=>{g.current&&(cancelAnimationFrame(g.current),g.current=null)},[]);x.useEffect(()=>{if(v==="connected"&&y!==void 0)if(y>OT){const E=Math.max(0,Math.min(1,(y-OT)/(1-OT)));p(!0),f(C=>[...C,E].slice(-42))}else p(!1),f(E=>[...E,0].slice(-42))},[y,b,v,p,f]),x.useEffect(()=>{ee.log("useVolumeVisualizer useEffect getSharedAgoraClient");const E=Xn();if(!E)return;const C=N=>{N==="CONNECTED"?k():N==="DISCONNECTED"&&_()};return E.on("connection-state-change",C),E.connectionState==="CONNECTED"&&k(),()=>{E.off("connection-state-change",C),_()}},[k,_]);const O=x.useCallback(E=>{E.forEach(C=>{const N=Math.max(0,Math.min(1,(C.level-50)/50));p(N>.4),f(L=>[...L,N].slice(-42))})},[p,f]);return{isSpeaking:h,volumesArray:d,onVolumeChange:O,resetVolumes:x.useCallback(()=>{p(!1),f([])},[p,f]),isLiveKitConnected:v==="connected",isAgoraConnected:(w==null?void 0:w.connectionState)==="CONNECTED"}})(),{primary_color:a}=pn(),[s]=An(Eh);(()=>{const[h]=An(SB),p=W(g=>g.chatBox.composerMode),{muteMic:d,unmuteMic:f}=ra();x.useEffect(()=>{p==="voice"&&(async()=>h&&(Md()?(ee.log("handleMicrophoneChange selectedMicrophoneId:",h),await K9(),await G9(h)):await f(h)))()},[p,h,d,f])})();const l=o.slice(-e),c=Array.from({length:e},(h,p)=>l[p]||0),u=t-2;return ce(Hfe,{className:n,style:r,children:[R(yh,{visible:!s}),R($fe,{children:c.map((h,p)=>R(Vfe,{isActive:i&&h>.1,primaryColor:a,style:{"--bar-height":`${Math.max(4,h*u)}px`}},p))}),R(Bfe,{})]})},Hfe=Zt.div`
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 2px;
  height: 36px;
  overflow: hidden;
  padding: 8px 24px;
  border-radius: 32px;
  /* background:
    linear-gradient(rgba(248, 249, 250, 0.8), rgba(248, 249, 250, 0.8)) padding-box,
    var(--gradient-border-main) border-box; */
  background: rgba(248, 249, 250, 0.8);
  backdrop-filter: blur(5px);
  z-index: 10;
`,Vfe=Zt.div`
  width: 2px;
  height: var(--bar-height, 4px);
  background: #343a40;
  border-radius: 1px;
  transition: all 0.1s ease;
  min-height: 4px;
`,$fe=Zt.div`
  display: flex;
  align-items: center;
  gap: 2px;
`;var qfe=Object.defineProperty,Wfe=Object.defineProperties,Gfe=Object.getOwnPropertyDescriptors,OB=Object.getOwnPropertySymbols,Kfe=Object.prototype.hasOwnProperty,Yfe=Object.prototype.propertyIsEnumerable,PB=(e,t,n)=>t in e?qfe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ab=(e,t)=>{for(var n in t||(t={}))Kfe.call(t,n)&&PB(e,n,t[n]);if(OB)for(var n of OB(t))Yfe.call(t,n)&&PB(e,n,t[n]);return e},PT=(e,t)=>Wfe(e,Gfe(t));const Qfe={top:"70px",left:"24.5px"},Xfe={width:"40px",height:"40px"},Jfe={container:"8px",button:"8px"},Zfe={width:"100%",height:"100%",background:"#424242",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:0},e0e={background:"var(--gradient-border-main, linear-gradient(to top, #424242, #ffffff))",padding:"1px"},t0e={color:"var(--voice-mode-toggle-button-color, #F1F3F5)",fontSize:"var(--voice-mode-toggle-button-font-size, 10px)",fontWeight:"400",marginTop:"6px",textAlign:"center",whiteSpace:"nowrap",overflow:"visible"},AB=({icon:e=R(Yme,{style:{width:"24px",height:"24px",color:"#F1F3F5"}}),label:t,onClick:n,position:r=Qfe,size:o=Xfe,disabled:i=!1,zIndex:a=300,borderRadius:s=Jfe})=>{const{t:l}=Nr(),[c,u]=x.useState(null),h=t||l("voice_mode");x.useEffect(()=>{var m;const v=(m=De.containerRef)==null?void 0:m.current;v&&u(v)},[]);const p=PT(Ab({width:o.width,position:"absolute"},r),{gap:0,zIndex:a}),d=PT(Ab(Ab({},e0e),o),{borderRadius:s.container}),f=PT(Ab({},Zfe),{borderRadius:s.button,opacity:i?.5:1,cursor:i?"not-allowed":"pointer"}),g=ce(na,{style:p,align:"center",gap:0,children:[R("div",{style:d,children:R("button",{onClick:n,disabled:i,style:f,children:e})}),R("div",{style:{textAlign:"center"},children:R("p",{style:t0e,children:h})})]});return c?vs.createPortal(g,c):g};var n0e=Object.defineProperty,NB=Object.getOwnPropertySymbols,r0e=Object.prototype.hasOwnProperty,o0e=Object.prototype.propertyIsEnumerable,RB=(e,t,n)=>t in e?n0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,IB=(e,t)=>{for(var n in t||(t={}))r0e.call(t,n)&&RB(e,n,t[n]);if(NB)for(var n of NB(t))o0e.call(t,n)&&RB(e,n,t[n]);return e};const i0e=()=>{const e=dt(),{t}=Nr(),n=W(L=>L.chatBox.composedMessage),r=W(L=>L.chatBox.isMicMuted),o=W(L=>L.chatBox.isSpeakerMuted),i=W(L=>L.chatBox.botVoiceEnabled),{endCall:a}=(()=>{const L=dt(),j=mt(),H=W(Tt),{resetConversationMode:F}=bm();return{endCall:async()=>{F(),De.shouldAbort=!0,H&&j!=null&&j.id&&await L(fo({threadId:H,keepOpen:!0}))}}})(),s=TB(),[l,c]=x.useState(!1),{startMic:u,stopMic:h,isTogglingMic:p}=Eb(),{livekitRoom:d,status:f,muteMic:g,unmuteMic:m,startLivekit:v,disconnectLivekit:y,onConnectButtonClicked:b}=ra(),[w,k]=An(Eh);x.useEffect(()=>()=>{f==="connected"&&(ee.log("VoiceModeMessageComposerV2Avatar useEffect disconnectLivekit"),y())},[f,y]),x.useEffect(()=>{Md()||(ee.log("VoiceModeMessageComposerV2Avatar useEffect onConnectButtonClicked"),b())},[b]),x.useEffect(()=>{ee.log("VoiceModeMessageComposerV2Avatar livekitStatus:",f),f==="connected"&&(ee.log("VoiceModeMessageComposerV2Avatar useEffect startLivekit"),v())},[v,f]),x.useEffect(()=>{if(ee.log("VoiceModeMessageComposerV2Avatar useEffect livekitStatus:",f,"livekitRoom:",d),f!=="connected"||!d)return;const L=(H,F,z)=>{ee.log("VoiceModeMessageComposerV2Avatar handleTrackSubscribed. track:",H," publication:",F," participant:",z),k(!0)};d.on("trackSubscribed",L);const j=d.remoteParticipants;for(const H of j.values())H.identity.startsWith("agent-"),ee.log("VoiceModeMessageComposerV2Avatar handleTrackSubscribed setAgentJoined(true)"),k(!0);return()=>{d.off("trackSubscribed",L)}},[f,d,k]),x.useState(0),x.useState(!1);const _=x.useRef(null);x.useRef(null);const{resetConversationMode:O}=bm(),E=r?xT:fm,C=o?TT:_T;x.useEffect(()=>{ee.log("VoiceModeMessageComposerV2Avatar useEffect getSharedAgoraClient");const L=Xn();if(!L)return;const j=H=>{H==="CONNECTED"?(ee.log("startMic handleConnectionChange CONNECTED"),u()):H==="DISCONNECTED"&&(ee.log("stopMic handleConnectionChange DISCONNECTED"),h())};return L.on("connection-state-change",j),()=>{L.off("connection-state-change",j),ee.log("stopMic useEffect"),h()}},[u,h]),x.useEffect(()=>{_.current&&(async()=>{var L,j;r?await((L=_.current)==null?void 0:L.setEnabled(!0)):await((j=_.current)==null?void 0:j.setEnabled(!1))})()},[r]),x.useEffect(()=>{ee.log("VoiceModeMessageComposerV2Avatar useEffect isSpeakerMuted:",o);const L=Xn();L&&L.remoteUsers.forEach(j=>{j.audioTrack&&(o?j.audioTrack.stop():j.audioTrack.play())})},[o]),x.useEffect(()=>{(async()=>{if(_.current){if(r)return void await _.current.setEnabled(!1);ht(n)?await _.current.setEnabled(!0):await _.current.setEnabled(!1)}})()},[n,r]),x.useEffect(()=>{i||o?i&&o&&e(Hs(!1)):e(Hs(!0))},[i,o,e]);const N={width:"24px",height:"24px"};return ee.log("VoiceModeMessageComposerV2Avatar render agentJoined:",w,"isOffline:",s,"isSpeakerMuted:",o,"isMicMuted:",r,"canUseAgora:",Md()),ce(or,{children:[w&&!Md()&&ce(Jp.Provider,{value:d,children:[R(VF,{}),R(XD,{muted:o})]}),R(AB,{icon:R(Efe,{style:{width:"24px",height:"24px",color:"#F1F3F5"}}),label:t("keyboard"),onClick:()=>{O()}}),ce(eT,{id:"voice-mode-message-composer",style:{zIndex:30,marginBottom:45},children:[R(Jp.Provider,{value:d,children:R(Ufe,{style:{marginBottom:"12px",marginTop:"8px"}})}),ce(nt,{style:{display:"flex",alignItems:"center",position:"relative",gap:"24px"},children:[R(ET,{icon:R(E,{style:IB({color:r?"var(--voice-mode-button-active-icon-color, #4263EB)":"var(--voice-mode-button-icon-color, var(--mantine-color-dark-6))"},N)}),label:t("mic"),onClick:()=>{const L=!r;e(e8(L)),L?(ee.log("stopMic handleMicClick"),h(),g()):(ee.log("startMic handleMicClick"),u(),m())},loading:p,isActive:r}),R(ET,{icon:R(jme,{style:{color:l?"var(--voice-mode-end-call-icon-color, var(--mantine-color-gray-0))":"var(--voice-mode-button-icon-color, var(--mantine-color-dark-6))",width:"24px",height:"24px"}}),label:t("end_chat"),onClick:a,color:l?"var(--voice-mode-end-call-bg-color, #ED1C24)":"var(--voice-mode-button-bg, var(--mantine-color-gray-3))",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1)}),R(ET,{icon:R(C,{style:IB({color:o?"var(--voice-mode-button-active-icon-color, #4263EB)":"var(--voice-mode-button-icon-color, var(--mantine-color-dark-6))"},N)}),label:t("speaker"),onClick:()=>{const L=!o;e(Hs(L)),e(Cm(!L))},isActive:o})]})]})]})},a0e=()=>{const e=yu(),t=vm();return x.useEffect(()=>{var n,r;e||t||_t||(r=(n=De.messageTextAreaRef)==null?void 0:n.current)==null||r.focus()},[e,t]),R(i0e,{})},Eh=go(!1),AT=()=>{const e=W(o=>o.chatBox.botMode),t=W(o=>{var i,a,s;return(s=(a=(i=o.chatBox.agent)==null?void 0:i.config)==null?void 0:a.avatai)==null?void 0:s.disable_lip_sync}),n=W(o=>o.chatBox.streamDetails),{isV2Avatar:r}=Nl();return r?R(a0e,{}):!t&&n!=null&&n.agora_channel&&Ht(e)?R(gfe,{}):R(cfe,{})};Ol()?mM(Fp.debug):mM(Fp.silent);const s0e=go(new Xd),l0e=go("disconnected");function MB(e){ee.error("useLiveKit onDeviceFailure error:",e),alert("Error acquiring camera or microphone permissions. Please make sure you grant the necessary permissions in your browser and reload the tab")}const ra=()=>{const e=mt(),t=W(Tt),n=W(m=>m.chatBox.source),[r,o]=An(s0e),[i,a]=An(l0e),[s,l]=An(Eh),c=x.useRef(r);x.useEffect(()=>{c.current=r},[r]);const u=x.useCallback(async m=>{if(ee.log("useLiveKit onConnectButtonClicked triggered"),a("connecting"),c.current&&c.current.state==="connected"){ee.log("useLiveKit disconnecting existing room before creating new connection");try{await c.current.disconnect()}catch(b){ee.warn("useLiveKit error disconnecting existing room:",b)}}const v=new Xd,y=Kc(n);try{const b=mu();ee.log("useLiveKit onConnectButtonClicked roomSuffix:",b);const w=await fetch(`${Bt.chatHost}/api/v1/livekit/get_room_token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({agent_id:e==null?void 0:e.id,conversation_id:m||t,visitor_id:y,room_suffix:b})});if(!w.ok){let _=`HTTP error! status: ${w.status}`;try{const O=await w.json();_=O.message||O.error||JSON.stringify(O),ee.log("useLiveKit onConnectButtonClicked errorData:",O)}catch{_=w.statusText||_}return void a(`error: ${_}`)}const k=await w.json();ee.log("useLiveKit onConnectButtonClicked connectionDetailsData:",k),await v.connect(k.server_url,k.participant_token),await v.localParticipant.setMicrophoneEnabled(!0),a("connected"),o(v)}catch(b){a(`error: ${b.message||"Failed to connect to LiveKit"}`)}},[a,o,e==null?void 0:e.id,t,n]),h=x.useCallback(()=>{ee.log("useLiveKit startLivekit triggered"),r.on(Ce.MediaDevicesError,MB)},[r]),p=x.useCallback(()=>{ee.log("useLiveKit stopLivekit triggered"),r.off(Ce.MediaDevicesError,MB)},[r]),d=x.useCallback(async m=>{ee.log("useLiveKit muteMic triggered"),r.state==="connected"?await r.localParticipant.setMicrophoneEnabled(!1,{deviceId:m}):ee.warn("Cannot mute mic - room not connected")},[r]),f=x.useCallback(async m=>{ee.log("useLiveKit unmuteMic triggered"),r.state==="connected"?await r.localParticipant.setMicrophoneEnabled(!0,{deviceId:m}):ee.warn("Cannot unmute mic - room not connected")},[r]),g=x.useCallback(()=>{ee.log("useLiveKit disconnectLivekit triggered"),r.disconnect(),a("disconnected"),l(!1)},[r,a,l]);return{livekitRoom:r,onConnectButtonClicked:u,status:i,startLivekit:h,stopLivekit:p,muteMic:d,unmuteMic:f,disconnectLivekit:g}},LB=`Failed to get a session.
Please try again later.`,ym=()=>{const e=dt(),t=W(p=>p.chatBox.botMode),n=W(p=>p.chatBox.streamDetails),r=W(p=>p.hookState.isAvatarSessionPending),o=W(p=>p.hookState.avatarSessionError),i=W(Tt),{mutateAsync:a}=(()=>{var p,d;const f=dt(),g=mt(),m=W(y=>y.chatBox.source),v=W(Tt);return Zr({mutationFn:((d=(p=g==null?void 0:g.config)==null?void 0:p.custom_style)==null?void 0:d.akool_avatar_version)==="v4"?async({stream_mode:y="agora",background_url:b="",createNewThread:w=!1}={})=>{var k,_,O;if(ee.log("mutationFnV4 triggered createNewThread: ",w),!g||!m)return ee.log("mutationFnV4 useAvatarSessionMutationV4 agent or source is missing. agent:",g," source:",m),null;const E=zi((k=g.config)==null?void 0:k.avatai)||$9,C={source:m,host_page_url:Q9(),chatbot_id:g.id,avatar_id:E.avatar_id,voice_id:E.voice_id,stream_mode:y,background_url:b,visitor_id:Kc(m),disable_lip_sync:(O=(_=g.config)==null?void 0:_.avatai)==null?void 0:O.disable_lip_sync,conversation_id:w?void 0:v,akool_version:"v4",duration:600};ee.log("mutationFnV4 data:",C);const N=await(await fetch(`${Bt.chatHost}/api/v1/create_live_avatar_session`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)})).json();return f(Em(!0)),N}:async({stream_mode:y="agora",background_url:b="",createNewThread:w=!1}={})=>{var k,_,O;if(ee.log("mutationFn triggered createNewThread: ",w),!g||!m)return ee.log("mutationFn useAvatarSessionMutation agent or source is missing. agent:",g," source:",m),null;const E=zi((k=g.config)==null?void 0:k.avatai)||$9,C={source:m,host_page_url:Q9(),chatbot_id:g.id,avatar_id:E.avatar_id,voice_id:E.voice_id,stream_mode:y,background_url:b,visitor_id:Kc(m),conversation_id:w?void 0:v,disable_lip_sync:(O=(_=g.config)==null?void 0:_.avatai)==null?void 0:O.disable_lip_sync};ee.log("mutationFn data:",C);const N=await(await fetch(`${Bt.chatHost}/api/v1/create_live_avatar_session`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)})).json();return f(Em(!0)),N},onError:y=>{window.console.error("useAvatarSessionMutation onError",y),f(Em(!0))}})})(),{saveStreamDetails:s}=Sse(),{onConnectButtonClicked:l}=ra(),{isV2Avatar:c}=Nl(),u=Br(),h=fT();return x.useEffect(()=>{e(rg(null))},[e,i]),{initiateSession:async(p=!1,d=0)=>{var f;ee.log("useCreateAvatarSession initiateSession triggered");let g=!1;if(t!=="avataiOnly")return ee.log("botMode !== avataiOnly, skipping initiateSession: ",t),g;if(n&&!p)return ee.log(" initiateSession has streamDetails, skipping initiateSession: ",n),e(ia(!0)),!0;De.isGettingAvatarSession=!0,e(ia(!0)),e(TU(!0)),e(Em(!1)),e(rg(null)),e(s9(!0));let m=null;try{d>0&&await new Promise(y=>setTimeout(y,d));const v=await a({createNewThread:p});ee.log(" initiateSession res:",v),(!i||p)&&(m=v==null?void 0:v.conversation_id,m?await e(Rg({conversation_id:m,kind:"new"})):window.console.error("Failed to get a new thread. conversation_id is not returned.")),(v==null?void 0:v.status)===200&&(f=v==null?void 0:v.stream_details)!=null&&f.agora_app_id?(s(v),g=!0):e(rg(LB))}catch(v){window.console.error("Failed to get stream details:",v),e(rg(LB))}finally{if(e(s9(!1)),De.isGettingAvatarSession=!1,c){const v=(u==null?void 0:u.default_composer_mode)||"text";if(ee.log("useCreateAvatarSession initiateSession defaultComposerMode:",v),e(Nh(v)),!g)try{const y=m||i;y&&h&&await l(y)}catch(y){window.console.error("Failed to initiate LiveKit fallback:",y)}}}return g},errorMessage:o,isPending:r}},DB=()=>{var e;const t=mt(),n=(e=t==null?void 0:t.config)==null?void 0:e.device_visibility;return(n==null?void 0:n.disable_on_mobile)&&_t},wm=_l("chat/newThreadThunk",async(e,{getState:t,dispatch:n})=>{const r=t(),{agent:o,source:i,initialBotMode:a}=r.chatBox;if(!o||(o==null?void 0:o.id)==="loading"||!i)return;const s=await Nse(o,i),{conversation_id:l,pull_stream_url:c}=s,u={conversation_id:l,kind:"new"},h=s.stream_details||{pull_stream_url:c};return Ht(a)&&a!=="avataiOnly"&&(a==="avataiWebRtc"||a==="avataiToggle")&&h.agora_app_id&&(u.stream_details=h),n(Rg(u)),l});var c0e=Object.defineProperty,u0e=Object.defineProperties,d0e=Object.getOwnPropertyDescriptors,jB=Object.getOwnPropertySymbols,h0e=Object.prototype.hasOwnProperty,p0e=Object.prototype.propertyIsEnumerable,zB=(e,t,n)=>t in e?c0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const NT=e=>{if(e.type==="audio")return null;const t=Number(e.id);return isNaN(t)?(ee.warn("🚀 ~ :49 ~ convertMessageResponse ~ id:",e.id," typeof id: ",typeof e.id),null):((n,r)=>u0e(n,d0e(r)))(((n,r)=>{for(var o in r||(r={}))h0e.call(r,o)&&zB(n,o,r[o]);if(jB)for(var o of jB(r))p0e.call(r,o)&&zB(n,o,r[o]);return n})({id:t,threadId:e.conversation_id,timestamp:e.time,type:"bot",format:"text"},e.json_response),{done:e.done,stoppedByUser:e.stoppedByUser})},Nb=_l("chat/submitFormThunk",async({form:e,values:t},{dispatch:n,rejectWithValue:r})=>{var o,i,a,s;const l=await Ase(Bt.chatHost,e.action,t);if((l==null?void 0:l.status)>=400)return r({message:(l==null?void 0:l.error)||"An error occurred",status:l==null?void 0:l.status});const c=l?(a=(i=(o=l==null?void 0:l.json_response)==null?void 0:o.text)!=null?i:e.success_message)!=null?a:"Form submitted":(s=e.failure_message)!=null?s:"Fail to submit form";if(l!=null&&l.json_response){const u=NT(l);n(Wn(u))}else n(Wn({id:t.message_id,threadId:t.conversation_id,text:c,type:"bot"}));return{values:t}});var m0e=Object.defineProperty,FB=Object.getOwnPropertySymbols,f0e=Object.prototype.hasOwnProperty,g0e=Object.prototype.propertyIsEnumerable,BB=(e,t,n)=>t in e?m0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const km=e=>{var t;const n=(t=De.agent)==null?void 0:t.id;if(!n)return;const{threads:r}=e;for(const o in r){const i=r[o];if(i.agentId===n)return i}},v0e=e=>((t,n)=>{for(var r in n||(n={}))f0e.call(n,r)&&BB(t,r,n[r]);if(FB)for(var r of FB(n))g0e.call(n,r)&&BB(t,r,n[r]);return t})({format:e.format||"text",timestamp:new Date().toISOString()},e),UB=(e,t)=>{var n,r,o,i,a;const s=v0e(t),l=km(e);if(l){if(s.type==="bot"&&(l.waitingForReply=!1),s.live_chat_message_id)return void(l.messages.find(c=>c.live_chat_message_id===s.live_chat_message_id)||l.messages.push(s));if(s.id===null||s.id===void 0)s.id=(c=>{var u,h;return((h=(u=r9(c))==null?void 0:u.id)!=null?h:-1)+1})(l.messages),l.messages.push(s);else{const c=l.messages.findIndex(u=>u.id===s.id);if(c===-1)l.messages.push(s);else{const u=(r=(n=l.messages[c])==null?void 0:n.text)!=null?r:"";let h=(o=s.text)!=null?o:"";s.incremental_text&&((i=s.incremental_text)!=null&&i.d?h=u.substring(0,u.length-s.incremental_text.d)+s.text:(a=s.incremental_text)!=null&&a.a?h=u+s.text:ee.warn("incremental_text should have either d or a")),s.text=h,l.messages[c]=s}}}};var b0e=Object.defineProperty,y0e=Object.defineProperties,w0e=Object.getOwnPropertyDescriptors,HB=Object.getOwnPropertySymbols,k0e=Object.prototype.hasOwnProperty,x0e=Object.prototype.propertyIsEnumerable,VB=(e,t,n)=>t in e?b0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$B=(e,t)=>{for(var n in t||(t={}))k0e.call(t,n)&&VB(e,n,t[n]);if(HB)for(var n of HB(t))x0e.call(t,n)&&VB(e,n,t[n]);return e};const oa=_l("chat/sendMessageThunk",async(e,{dispatch:t,getState:n})=>{var r,o;Ra.instance.stop(),De.shouldAbort=!1;const i=n(),{agent:a,source:s,botMode:l,selectedResponseLength:c}=i.chatBox,u=Tt(i),h=i.chatBox.languageCode;if(!a||!s||!u)return;const p=a.attach_agent?a.config:null,{text:d,command:f,imageGcsUri:g,options:m}=e;let v=f??"";if(typeof f!="string"){let b=f;(b==null?void 0:b.type)==="support"&&(b={type:b==null?void 0:b.type,parameters:{tsi:b==null?void 0:b.parameters.target_step_id,twi:b==null?void 0:b.parameters.target_workflow_id}}),v=JSON.stringify(b)}t(Vb(!1));let y="";try{const b={agentId:a.id,threadId:u,message:d,command:v,agentConfig:p,onData:k=>{var _;const O=(_=k.value)==null?void 0:_.live_chat_access_token;O&&(t(Ege(O)),t(t8(!1)));const E=NT(((C,N)=>y0e(C,w0e(N)))($B({},k.value),{done:k.done,stoppedByUser:k.stoppedByUser}));E&&(y=`${E==null?void 0:E.id}`,t(Wn(E)),k.done&&(setTimeout(()=>{t(Wn(E))},500),(C=>{var N;if((N=C.buttons)==null||!N.length)return;const L=C.buttons.filter(H=>{if(!H.text||H==null||!H.command)return!1;try{const F=JSON.parse(H.command);return!(F==null||!F.auto_execute_on_frontend)}catch{return!1}});if(L.length===0)return;L.length;const[j]=L;Rn.sendMessage(j.text,j.command)})(E)))},imageGcsUri:g,languageCode:h,options:m},w=(o=(r=a.config)==null?void 0:r.custom_style)==null?void 0:o.response_length;if(c&&w!=null&&w.enabled){let k=null;switch(c){case"short":k=w.short;break;case"medium":k=w.medium;break;case"long":k=w.long}b.responseLength=k}await Rse(b),Xo({event_name:Lt.MessageSent,source:s,bot_mode:l,chatbot_id:a==null?void 0:a.id,conversation_id:u,message_id:y})}catch(b){ee.error("Error api.sendMessageInThread:",b)}finally{t(Ti({threadId:u,waiting:!1}))}}),_0e=_l("chatBox/setCancelParamsThunk",async(e,{dispatch:t,getState:n})=>{if(t(Tge(e)),ht(e))return;const r=n(),o=_i(r);o!=null&&o.id&&t(Rg({conversation_id:o.id,kind:"update",updatedThread:{conversationType:"churnControl"}}))}),T0e=_l("chatBox/setShowSearchBarThunk",async(e,{dispatch:t,getState:n})=>{const r=n(),o=_i(r),i=EU(r);let a=!1;o&&(Gb(o)?await t(fo({threadId:(o==null?void 0:o.id)||""})):e&&i&&(a=!0)),t(bu({showSearchBar:e,showChatBox:a}))}),qB=e=>(e==null?void 0:e.search_bar_z_index)||9999,WB=e=>{const t=Gc();return x.useMemo(()=>qB(t),[t])+0},RT=x.createContext(null);function S0e({id:e,cancelProps:t,confirmProps:n,labels:r={cancel:"",confirm:""},closeOnConfirm:o=!0,closeOnCancel:i=!0,groupProps:a,onCancel:s,onConfirm:l,children:c}){const{cancel:u,confirm:h}=r,p=function(){const d=x.useContext(RT);if(!d)throw new Error("[@mantine/modals] useModals hook was called outside of context, wrap your app with ModalsProvider component");return d}();return Y.jsxs(Y.Fragment,{children:[c&&Y.jsx(nt,{mb:"md",children:c}),Y.jsxs(Or,K(A({mt:c?0:"md",justify:"flex-end"},a),{children:[Y.jsx(Zn,K(A({variant:"default"},t),{onClick:d=>{typeof(t==null?void 0:t.onClick)=="function"&&(t==null||t.onClick(d)),typeof s=="function"&&s(),i&&p.closeModal(e)},children:(t==null?void 0:t.children)||u})),Y.jsx(Zn,K(A({},n),{onClick:d=>{typeof(n==null?void 0:n.onClick)=="function"&&(n==null||n.onClick(d)),typeof l=="function"&&l(),o&&p.closeModal(e)},children:(n==null?void 0:n.children)||h}))]}))]})}RT.displayName="@mantine/modals/ModalsContext";const[E0e,IT]=function(e){return[function(t){const n=Object.keys(t).reduce((r,o)=>(r[`${e}:${o}`]=i=>t[o](i.detail),r),{});Nd(()=>(Object.keys(n).forEach(r=>{window.removeEventListener(r,n[r]),window.addEventListener(r,n[r])}),()=>Object.keys(n).forEach(r=>{window.removeEventListener(r,n[r])})),[n])},function(t){return(...n)=>function(r,o){window.dispatchEvent(new CustomEvent(r,{detail:o}))}(`${e}:${String(t)}`,n[0])}]}("mantine-modals"),MT=(IT("closeModal"),IT("closeAllModals"),e=>{const t=e.modalId||Ep();return IT("openContextModal")(K(A({},e),{modalId:t})),t});function GB(e,t){var n,r,o,i;t&&e.type==="confirm"&&((r=(n=e.props).onCancel)==null||r.call(n)),(i=(o=e.props).onClose)==null||i.call(o)}function C0e(e,t){var n;switch(t.type){case"OPEN":return{current:t.modal,modals:[...e.modals,t.modal]};case"CLOSE":{const r=e.modals.find(i=>i.id===t.modalId);if(!r)return e;GB(r,t.canceled);const o=e.modals.filter(i=>i.id!==t.modalId);return{current:o[o.length-1]||e.current,modals:o}}case"CLOSE_ALL":return e.modals.length?(e.modals.concat().reverse().forEach(r=>{GB(r,t.canceled)}),{current:e.current,modals:[]}):e;case"UPDATE":{const{modalId:r,newProps:o}=t,i=e.modals.map(s=>s.id!==r?s:s.type==="content"||s.type==="confirm"?K(A({},s),{props:A(A({},s.props),o)}):s.type==="context"?K(A({},s),{props:K(A(A({},s.props),o),{innerProps:A(A({},s.props.innerProps),o.innerProps)})}):s),a=((n=e.current)==null?void 0:n.id)===r&&i.find(s=>s.id===r)||e.current;return K(A({},e),{modals:i,current:a})}default:return e}}function O0e({children:e,modalProps:t,labels:n,modals:r}){const[o,i]=x.useReducer(C0e,{modals:[],current:null}),a=x.useRef(o);a.current=o;const s=x.useCallback(v=>{i({type:"CLOSE_ALL",canceled:v})},[a,i]),l=x.useCallback(v=>{var y=v,{modalId:b}=y,w=xe(y,["modalId"]);const k=b||Ep();return i({type:"OPEN",modal:{id:k,type:"content",props:w}}),k},[i]),c=x.useCallback(v=>{var y=v,{modalId:b}=y,w=xe(y,["modalId"]);const k=b||Ep();return i({type:"OPEN",modal:{id:k,type:"confirm",props:w}}),k},[i]),u=x.useCallback((v,y)=>{var b=y,{modalId:w}=b,k=xe(b,["modalId"]);const _=w||Ep();return i({type:"OPEN",modal:{id:_,type:"context",props:k,ctx:v}}),_},[i]),h=x.useCallback((v,y)=>{i({type:"CLOSE",modalId:v,canceled:y})},[a,i]),p=x.useCallback(v=>{var y=v,{modalId:b}=y,w=xe(y,["modalId"]);i({type:"UPDATE",modalId:b,newProps:w})},[i]),d=x.useCallback(v=>{var y=v,{modalId:b}=y,w=xe(y,["modalId"]);i({type:"UPDATE",modalId:b,newProps:w})},[i]);E0e({openModal:l,openConfirmModal:c,openContextModal:v=>{var y=v,{modal:b}=y,w=xe(y,["modal"]);return u(b,w)},closeModal:h,closeContextModal:h,closeAllModals:s,updateModal:p,updateContextModal:d});const f={modalProps:t||{},modals:o.modals,openModal:l,openConfirmModal:c,openContextModal:u,closeModal:h,closeContextModal:h,closeAll:s,updateModal:p,updateContextModal:d},{modalProps:g,content:m}=(()=>{const v=a.current.current;switch(v==null?void 0:v.type){case"context":{const y=v.props,{innerProps:b}=y,w=xe(y,["innerProps"]),k=r[v.ctx];return{modalProps:w,content:Y.jsx(k,{innerProps:b,context:f,id:v.id})}}case"confirm":{const{modalProps:y,confirmProps:b}=function(w){if(!w)return{confirmProps:{},modalProps:{}};const k=w,{id:_,children:O,onCancel:E,onConfirm:C,closeOnConfirm:N,closeOnCancel:L,cancelProps:j,confirmProps:H,groupProps:F,labels:z}=k,B=xe(k,["id","children","onCancel","onConfirm","closeOnConfirm","closeOnCancel","cancelProps","confirmProps","groupProps","labels"]);return{confirmProps:{id:_,children:O,onCancel:E,onConfirm:C,closeOnConfirm:N,closeOnCancel:L,cancelProps:j,confirmProps:H,groupProps:F,labels:z},modalProps:A({id:_},B)}}(v.props);return{modalProps:y,content:Y.jsx(S0e,K(A({},b),{id:v.id,labels:v.props.labels||n}))}}case"content":{const y=v.props,{children:b}=y;return{modalProps:xe(y,["children"]),content:b}}default:return{modalProps:{},content:null}}})();return Y.jsxs(RT.Provider,{value:f,children:[Y.jsx(Pr,K(A(A({zIndex:Ji("modal")+1},t),g),{opened:o.modals.length>0,onClose:()=>{var v;return h((v=o.current)==null?void 0:v.id)},children:m})),e]})}const Rb=e=>(e==null?void 0:e.z_index)||9999,Ib=e=>{const t=Gc();return x.useMemo(()=>Rb(t),[t])+(e||0)},P0e=e=>["accountQuota",e],A0e=e=>["publicAgent",e];var N0e=Object.defineProperty,R0e=Object.defineProperties,I0e=Object.getOwnPropertyDescriptors,KB=Object.getOwnPropertySymbols,M0e=Object.prototype.hasOwnProperty,L0e=Object.prototype.propertyIsEnumerable,YB=(e,t,n)=>t in e?N0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,LT=(e,t)=>{for(var n in t||(t={}))M0e.call(t,n)&&YB(e,n,t[n]);if(KB)for(var n of KB(t))L0e.call(t,n)&&YB(e,n,t[n]);return e},DT=(e,t)=>R0e(e,I0e(t));const Mb=e=>{if(!e||typeof e!="string"||!/^\d{4}-\d{2}-\d{2}$/.test(e))return!1;const t=new Date(e);return!isNaN(t.getTime())},Rn={},D0e=({onClose:e,autoScrollToBottom:t})=>{var n,r;const o=mt(),i=yu(),a=W(F=>F.chatBox.botMode),s=W(F=>F.chatBox.source),l=W(F=>F.chatBox.chatAgentType),c=dt(),u=DB(),h=W(F=>F.chatBox.showChatBox),p=W(Tt),d=W(Ja),{resetPosition:f}=Rd(),{mutateAsync:g}=(()=>{const F=W(B=>B.chatBox.source),z=mt();return Zr({mutationFn:async({userData:B,expire:V})=>{if(z==null||!z.id)return null;const U=Kc(F),S=`${Bt.chatHost}/api/v1/user_data`,{data:q}=await Mt.post(S,{visitor_id:U,chatbot_id:z==null?void 0:z.id,user_data:B,expire:V});return q}})})(),{mutateAsync:m}=Ig(),v=W(F=>F.chatBox.cancelParams),{initiateSession:y}=ym(),b=((n=o==null?void 0:o.config)==null?void 0:n.deployment_stage)||"production",w=WB(),{isTop:k,isLeft:_}=Sg(),O=qb(),E=Ib(),C=((r=o==null?void 0:o.config)==null?void 0:r.livex_global_object_name)||"livexChatbot",N=D9(),L=async F=>await N.fetchQuery({queryKey:P0e(F),queryFn:async()=>(async z=>{var B;const{botId:V}=z,U=z.gatewayHost||Bt.gatewayHost;if(!V)return window.console.error("botId is required"),null;const S=`${U}/api/v1/users/subscriptions/public-account-quota/${V}`,q=await Mt.get(S);return(B=q==null?void 0:q.data)!=null&&B.response?q.data.response:(window.console.error("Failed to fetch account quota"),null)})({botId:F}),staleTime:z=>{const B=z.state.data;return B&&B.has_quota!==!1?18e5:0}}),j=async F=>{const z=(q=>{try{return JSON.parse(q||"{}")}catch(P){return void window.console.debug("JSON parse error: ",P)}})(F);ee.log("🚀 ~ :168 ~ handleSupportCommand ~ commandJson:",z);let B=!1;if(!z||z.type!=="support"||!z.subscription)return{skipWelcomeVideo:B,shouldReturn:!1};B=!0;const V=(q=>{if(q==null||!q.subscription)return null;const{cancel_link:P,cancel_function_name:Q}=q.subscription;return P?()=>{window.location.href=P}:Q?()=>{const re=window[Q];typeof re=="function"?re():window.console.error(`Function ${Q} not found on window object`)}:null})(z);if(!V)return ee.error("No cancel now function found"),{skipWelcomeVideo:B,shouldReturn:!1};const U=await L((o==null?void 0:o.id)||"");if(U==null||!U.has_quota)return ee.error("Quota exceeded"),V(),{skipWelcomeVideo:B,shouldReturn:!0};let S=z;return o!=null&&o.config&&(S=((q,P)=>{var Q;const re=zi(q),{use_cancel_function_with_link:_e}=P.custom_style;if(_e&&(Q=re.subscription)!=null&&Q.cancel_link){const se=re.subscription.cancel_link,ue=`livexCancelLinkFn_${mu()}`,fe=()=>{window.location.href=se};window[ue]=fe,re.subscription.cancel_function_name=ue,delete re.subscription.cancel_link}return re})(z,o.config)),De.cancelHandlerCalled?(ee.warn("Custom handler already executed"),{skipWelcomeVideo:B,shouldReturn:!0}):(De.cancelHandlerCalled=!0,ht(v)?(c(_0e(S)),{skipWelcomeVideo:B,shouldReturn:!1,commandJson:S}):(await Rn.clickChatbotButton({skipWelcomeVideo:B}),{skipWelcomeVideo:B,shouldReturn:!0}))};if(x.useEffect(()=>{const F=async z=>{const{data:B}=z;if(B&&B.type==="LiveXAPI"&&typeof B.functionName=="string"){const{functionName:V,args:U,requestId:S}=B,q=Rn[V];if(typeof q=="function")try{const P=await q(...yr(U)?U:[]);z.source&&S&&z.source.postMessage({type:"LiveXAPIResponse",requestId:S,result:P},z.origin)}catch(P){z.source&&S&&z.source.postMessage({type:"LiveXAPIResponse",requestId:S,error:P.message||"Unknown error during API call"},z.origin)}else z.source&&S&&z.source.postMessage({type:"LiveXAPIResponse",requestId:S,error:`API function ${V} not found.`},z.origin)}};return window.addEventListener("message",F),()=>{window.removeEventListener("message",F)}},[C]),!o||u)return;window[C]||(window[C]={});const H={addEventListener:(F,z)=>{Cc[F]||(Cc[F]=[]),Cc[F].push(z)},removeEventListener:(F,z)=>{Cc[F]&&(Cc[F]=Cc[F].filter(B=>B!==z))},open:()=>{c(ia(!0)),c(Hb(!1))},close:(F=!1)=>{e({shiftKey:F})},openStatus:()=>h?"open":"closed",clickChatbotButton:async({skipWelcomeVideo:F}={})=>{F!==void 0&&c(Sge(F)),c(JT("canAutoPlay")),c(Hb(!1)),a==="avataiOnly"?await y():c(ia(!0))},setAgentWithId:async(F,z=!0)=>{var B;if(!F)throw new Error("Agent ID is required");if(((B=De.agent)==null?void 0:B.id)===F)return;p&&(De.shouldAbort=!0,await c(fo({threadId:p})));const V=await L(F);V!=null&&V.has_quota||ee.error("No quota found: ",V);const U=await N.fetchQuery({queryKey:A0e(F),queryFn:async()=>(async S=>{var q,P,Q;const{botId:re}=S,_e=S.gatewayHost||Bt.gatewayHost;if(!re)throw new Error("botId is required");const se=`${_e}/api/v1/users/publicagents/${re}`,ue=await Mt.get(se);return(q=ue.data)!=null&&q.response?(Q=(P=ue.data)==null?void 0:P.response)!=null&&Q.inactive?(window.console.error("Public agent is inactive"),null):ue.data.response:(window.console.error("Failed to fetch public agent"),null)})({botId:F}),staleTime:S=>{const q=S.state.data;return!q||i||!z||q.inactive?0:3e5}});U||ee.error("No agent found or agent is not active"),await c(Ub(U||null))},setAgentConfig:F=>{if(o==null||!o.config)return;const z=mi({},o.config,F);c(Ub(DT(LT({},o),{config:z})))},clearConversations:async()=>{await m({}),c(jge(null))},setUseLiveXCopilot:F=>{c(Bb(F))},setShowSearchBar:async F=>{if(document.activeElement&&document.activeElement.blur(),l!=="liveChat"){if(jn.getState().chatBox.showChatBox){const z=!!O,B=`${_?"right":"left"}-${k?"bottom":"top"}`;await Rn.fadeChatbot(B,200,z)}c(T0e(F))}else MT({modal:"error",title:"Using Live Chat",centered:!0,withCloseButton:!0,innerProps:{message:"Search bar is not supported in live chat"}})},sendMessage:async(F,z,B)=>{p||(ee.warn("No thread id found, creating a new thread"),await c(wm()));const{skipWelcomeVideo:V,shouldReturn:U,commandJson:S}=await j(z);U||(await Rn.clickChatbotButton({skipWelcomeVideo:V}),await new Promise(q=>setTimeout(q,100)),await c(oa({text:F,command:S?JSON.stringify(S):z,options:B})),setTimeout(()=>{t&&De.scrollToBottom(200)},100))},getConversationId:()=>p||(window.console.warn("No conversation id found"),""),setData:(F,z,B)=>{const V="livexChatbotDataLayer";B=B??1800;const U={data:z,expire:Date.now()+1e3*B},S=localStorage.getItem(V),q=S?JSON.parse(S):{};Object.keys(q).forEach(P=>{q[P].expire<Date.now()&&delete q[P]}),q[F]=U,localStorage.setItem(V,JSON.stringify(q)),F=="user"&&g({userData:U.data,expire:B})},setCssVariables:F=>{qge(F)},showChatbotButton:F=>{const z=zi(o);o9(z,"config.style.hide_chatbot_button",!F),c(Ub(z))},setRootZIndex:F=>{var z;const B=(z=De.rootRef.current)==null?void 0:z.parentElement;B&&(B.style.zIndex=F.toString())},resetToDefaultZIndex:()=>{H.setRootZIndex(E)},resetToDefaultSearchBarZIndex:()=>{H.setRootZIndex(w)},isValidSubscriptionData:F=>{const z=[];if((!(F!=null&&F.customer_id)||typeof(F==null?void 0:F.customer_id)!="string")&&z.push("customer_id is required and must be a string"),(typeof(F==null?void 0:F.plan_price)!="number"||isNaN(F==null?void 0:F.plan_price))&&z.push("plan_price is required and must be a number"),F!=null&&F.plan_price||ee.warn("Plan price is 0."),Mb(F==null?void 0:F.plan_start_date)||z.push("plan_start_date is required and must be in YYYY-MM-DD format"),Mb(F==null?void 0:F.plan_renew_date)||z.push("plan_renew_date is required and must be in YYYY-MM-DD format"),z.length>0){if(window.console.error(z),["development","debug"].includes(b))throw Rn.resetToDefaultZIndex(),MT({modal:"error",title:"Validation Error",centered:!0,withCloseButton:!0,innerProps:{message:z.join(`
`)}}),new Error("Validation error");return!1}return!0},fadeChatbot:async(F,z=500,B=!1)=>{var V;let U="0",S="0";const q=window.innerWidth/6,P=window.innerHeight/6;switch(F){case"right-top":U=`${q}px`,S=`-${P}px`;break;case"right-bottom":U=`${q}px`,S=`${P}px`;break;case"left-top":U=`-${q}px`,S=`-${P}px`;break;case"left-bottom":U=`-${q}px`,S=`${P}px`}const Q=(V=De.containerRef)==null?void 0:V.current;if(!Q)return;const re={transition:Q.style.transition,transform:Q.style.transform,opacity:Q.style.opacity};return Q.style.transition=`transform ${z}ms ease-in-out, opacity ${z}ms ease-in-out`,Q.style.transform=`translate(${U}, ${S})`,Q.style.opacity="0",await new Promise(_e=>setTimeout(_e,z+1)),B&&(Q.style.transition=`opacity ${z}ms ease-in-out`,Q.style.transform="translate(0, 0)",Q.style.opacity="1"),()=>{Q.style.transition=re.transition,Q.style.transform=re.transform,Q.style.opacity=re.opacity}},resetPosition:f,sendChatbotEvent:async(F,z)=>{await Xo({event_name:F,source:s,bot_mode:a,chatbot_id:o==null?void 0:o.id,conversation_id:p,message_id:d,note:z})},setVadConfig:F=>{if(o==null||!o.config)return;const z=mi({},o.config,{custom_style:DT(LT({},o.config.custom_style),{vad_config:F})});c(Ub(DT(LT({},o),{config:z})))},setLanguageCode:F=>{c(xU(F))}};o9(window,C,H),Object.assign(Rn,H)};var j0e=Object.defineProperty,z0e=Object.defineProperties,F0e=Object.getOwnPropertyDescriptors,QB=Object.getOwnPropertySymbols,B0e=Object.prototype.hasOwnProperty,U0e=Object.prototype.propertyIsEnumerable,XB=(e,t,n)=>t in e?j0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jT=(e,t)=>{for(var n in t||(t={}))B0e.call(t,n)&&XB(e,n,t[n]);if(QB)for(var n of QB(t))U0e.call(t,n)&&XB(e,n,t[n]);return e},zT=(e,t)=>z0e(e,F0e(t));const FT=[];let BT=!1;const H0e=e=>{FT.push(e),(async()=>{if(!BT){for(BT=!0;FT.length>0;){const t=FT.shift();if(t)try{await t()}catch{}}BT=!1}})()},V0e=async e=>{var t,n,r,o,i,a;const{buttonCommand:s,command:l,state:c,dispatch:u}=e,h=Tt(c),p=_i(c),d=c.chatBox.agent,f=async()=>{var g,m,v;(v=(m=(g=d==null?void 0:d.config)==null?void 0:g.custom_style)==null?void 0:m.search_bar_config)!=null&&v.use_default_mode_for_live_chat&&c.chatBox.botMode==="searchBar"&&c.chatBox.chatAgentType!=="liveChat"&&(await Rn.fadeChatbot("right-bottom",200,!0),u(Ph(void 0)))};switch(l){case"call_function":{const g=(t=s.parameters)==null?void 0:t.function_name,m=(n=s.parameters)==null?void 0:n.function_arguments;await JB({functionName:g,functionArguments:m});break}case"switch_to_live_chat":{await f();const g=zT(jT({},p),{chatAgentType:"liveChat"});u(l8(g)),u(_m.actions.setChatAgentType("liveChat"));break}case"request_salesforce_conversation":{if(await f(),!d||!h)throw new Error("Agent or conversation ID is missing");const g=(r=s.parameters)==null?void 0:r.user_data;try{const{detail:m}=await(async v=>{const y=`${Bt.chatHost}/api/salesforce/messaging-conversation`;return(await Mt.post(y,v)).data})({chatbot_id:d.id,conversation_id:h,user_data:{name:g==null?void 0:g.name,email:g==null?void 0:g.email}});if(m!=="OK")throw new Error(`Failed to request Salesforce conversation: ${m}`)}catch(m){const v=zT(jT({},p),{chatAgentType:"ai"});u(l8(v)),u(_m.actions.setChatAgentType("ai")),Xo({event_name:Lt.ChatbotError,note:`Salesforce conversation request failed: ${m instanceof Error?m.message:String(m)}`,bot_mode:c.chatBox.botMode,chatbot_id:d.id,conversation_id:h})}finally{u(t8(!0))}break}case"hide_chatbot":u(_m.actions.setShowChatBox(!1));break;case"close_conversation":h?(u(Dd("")),u(Og(!1)),u(Pg([])),await u(fo({threadId:h}))):Xo({event_name:Lt.ChatbotError,note:"No thread id found on close_conversation command",bot_mode:c.chatBox.botMode,chatbot_id:(o=c.chatBox.agent)==null?void 0:o.id,conversation_id:h});break;case"switch_zendesk_live_chat":{await f();const g=(a=(i=Oge(c))==null?void 0:i.live_chat_options)==null?void 0:a.agent_id;if(!g)return;$0e(u,g,p);break}}},JB=async e=>{const{functionName:t,functionArguments:n}=e,r=$P(window,t),o=jn.getState(),{botMode:i,source:a,agent:s,cancelParams:l}=o.chatBox,c=Tt(o),u=Ja(o),h={source:a,bot_mode:i,chatbot_id:s==null?void 0:s.id,conversation_id:c,message_id:u};let p={cancelParams:l},d=Lt.ChurnWindowFunctionCallNotFound;if(r)try{n?await r(n):await r(),d=Lt.ChurnWindowFunctionCallSuccess}catch(f){d=Lt.ChurnWindowFunctionCallError,p={cancelParams:l,error:f}}Xo(zT(jT({},h),{event_name:d,note:JSON.stringify(p)}))},UT=e=>{try{const t=JSON.parse(e);if(t&&typeof t=="object")return t}catch{return null}return null},ZB=(e,t)=>{if(window.zE("webWidget","identify",{name:Mh.name,email:Mh.email}),window.zE("webWidget","chat:addTags",["livex_chat"]),window.zE("webWidget","chat:send",`User Info

Name: ${Mh.name}
Email: ${Mh.email}
Description: ${Mh.description}

`),t){const n=(r=>`Customer Journey

${r.messages.map(o=>{const{type:i,text:a}=o;return`${i==="bot"?"Bot":"User"}: ${a}
`}).join(`
`)}`)(t);window.zE("webWidget","chat:send",n)}e(Bb(!1)),e(bu({showSearchBar:!1}))},$0e=(e,t,n)=>{const r=window.zE;if((()=>{const o=window.zE;if(o)try{if(o("webWidget:get","chat:isChatting")!==void 0)return!0}catch{}return!1})())try{r("webWidget","show"),r("webWidget","open"),ZB(e,n)}catch{}else{const o=document.createElement("script");o.id="ze-snippet",o.src=`https://static.zdassets.com/ekr/snippet.js?key=${t}`,o.async=!1,document.body.appendChild(o),o.onload=()=>{window.zE("webWidget","open"),setTimeout(()=>{ZB(e,n)},1e3)}}};var HT,eU,VT,tU,fu=function(){if(eU)return HT;function e(d){this._maxSize=d,this.clear()}eU=1,e.prototype.clear=function(){this._size=0,this._values=Object.create(null)},e.prototype.get=function(d){return this._values[d]},e.prototype.set=function(d,f){return this._size>=this._maxSize&&this.clear(),d in this._values||this._size++,this._values[d]=f};var t=/[^.^\]^[]+|(?=\[\]|\.\.)/g,n=/^\d+$/,r=/^\d/,o=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,i=/^\s*(['"]?)(.*?)(\1)\s*$/,a=new e(512),s=new e(512),l=new e(512);function c(d){return a.get(d)||a.set(d,u(d).map(function(f){return f.replace(i,"$2")}))}function u(d){return d.match(t)||[""]}function h(d){return typeof d=="string"&&d&&["'",'"'].indexOf(d.charAt(0))!==-1}function p(d){return!h(d)&&(function(f){return f.match(r)&&!f.match(n)}(d)||function(f){return o.test(f)}(d))}return HT={Cache:e,split:u,normalizePath:c,setter:function(d){var f=c(d);return s.get(d)||s.set(d,function(g,m){for(var v=0,y=f.length,b=g;v<y-1;){var w=f[v];if(w==="__proto__"||w==="constructor"||w==="prototype")return g;b=b[f[v++]]}b[f[v]]=m})},getter:function(d,f){var g=c(d);return l.get(d)||l.set(d,function(m){for(var v=0,y=g.length;v<y;){if(m==null&&f)return;m=m[g[v++]]}return m})},join:function(d){return d.reduce(function(f,g){return f+(h(g)||n.test(g)?"["+g+"]":(f?".":"")+g)},"")},forEach:function(d,f,g){(function(m,v,y){var b,w,k,_,O=m.length;for(w=0;w<O;w++)(b=m[w])&&(p(b)&&(b='"'+b+'"'),_=h(b),k=!_&&/^\d+$/.test(b),v.call(y,b,_,k,w,m))})(Array.isArray(d)?d:u(d),f,g)}},HT}(),nU,$T=function(){if(tU)return VT;tU=1;const e=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,t=i=>i.match(e)||[],n=i=>i[0].toUpperCase()+i.slice(1),r=(i,a)=>t(i).join(a).toLowerCase(),o=i=>t(i).reduce((a,s)=>`${a}${a?s[0].toUpperCase()+s.slice(1).toLowerCase():s.toLowerCase()}`,"");return VT={words:t,upperFirst:n,camelCase:o,pascalCase:i=>n(o(i)),snakeCase:i=>r(i,"_"),kebabCase:i=>r(i,"-"),sentenceCase:i=>n(r(i," ")),titleCase:i=>t(i).map(n).join(" ")},VT}(),Lb={exports:{}},q0e=function(){if(nU)return Lb.exports;function e(t,n){var r=t.length,o=new Array(r),i={},a=r,s=function(u){for(var h=new Map,p=0,d=u.length;p<d;p++){var f=u[p];h.has(f[0])||h.set(f[0],new Set),h.has(f[1])||h.set(f[1],new Set),h.get(f[0]).add(f[1])}return h}(n),l=function(u){for(var h=new Map,p=0,d=u.length;p<d;p++)h.set(u[p],p);return h}(t);for(n.forEach(function(u){if(!l.has(u[0])||!l.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});a--;)i[a]||c(t[a],a,new Set);return o;function c(u,h,p){if(p.has(u)){var d;try{d=", node was:"+JSON.stringify(u)}catch{d=""}throw new Error("Cyclic dependency"+d)}if(!l.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!i[h]){i[h]=!0;var f=s.get(u)||new Set;if(h=(f=Array.from(f)).length){p.add(u);do{var g=f[--h];c(g,l.get(g),p)}while(h);p.delete(u)}o[--r]=u}}}return nU=1,Lb.exports=function(t){return e(function(n){for(var r=new Set,o=0,i=n.length;o<i;o++){var a=n[o];r.add(a[0]),r.add(a[1])}return Array.from(r)}(t),t)},Lb.exports.array=e,Lb.exports}();const W0e=Li(q0e),G0e=Object.prototype.toString,K0e=Error.prototype.toString,Y0e=RegExp.prototype.toString,Q0e=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",X0e=/^Symbol\((.*)\)(.*)$/;function rU(e,t=!1){if(e==null||e===!0||e===!1)return""+e;const n=typeof e;if(n==="number")return function(o){return o!=+o?"NaN":o===0&&1/o<0?"-0":""+o}(e);if(n==="string")return t?`"${e}"`:e;if(n==="function")return"[Function "+(e.name||"anonymous")+"]";if(n==="symbol")return Q0e.call(e).replace(X0e,"Symbol($1)");const r=G0e.call(e).slice(8,-1);return r==="Date"?isNaN(e.getTime())?""+e:e.toISOString(e):r==="Error"||e instanceof Error?"["+K0e.call(e)+"]":r==="RegExp"?Y0e.call(e):null}function Gl(e,t){let n=rU(e,t);return n!==null?n:JSON.stringify(e,function(r,o){let i=rU(this[r],t);return i!==null?i:o},2)}function oU(e){return e==null?[]:[].concat(e)}let iU,aU,sU,J0e=/\$\{\s*(\w+)\s*\}/g;iU=Symbol.toStringTag;class lU{constructor(t,n,r,o){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[iU]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=o,this.errors=[],this.inner=[],oU(t).forEach(i=>{if(Co.isError(i)){this.errors.push(...i.errors);const a=i.inner.length?i.inner:[i];this.inner.push(...a)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}aU=Symbol.hasInstance,sU=Symbol.toStringTag;class Co extends Error{static formatError(t,n){const r=n.label||n.path||"this";return n=Object.assign({},n,{path:r,originalPath:n.path}),typeof t=="string"?t.replace(J0e,(o,i)=>Gl(n[i])):typeof t=="function"?t(n):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,n,r,o,i){const a=new lU(t,n,r,o);if(i)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[sU]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Co)}static[aU](t){return lU[Symbol.hasInstance](t)||super[Symbol.hasInstance](t)}}let Ka={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:n,originalValue:r})=>{const o=r!=null&&r!==n?` (cast from the value \`${Gl(r,!0)}\`).`:".";return t!=="mixed"?`${e} must be a \`${t}\` type, but the final value was: \`${Gl(n,!0)}\``+o:`${e} must match the configured type. The validated value was: \`${Gl(n,!0)}\``+o}},Oo={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},qT={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Db={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"};Object.assign(Object.create(null),{mixed:Ka,string:Oo,number:{min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},date:qT,object:Db,array:{min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},boolean:{isValue:"${path} field must be ${value}"},tuple:{notType:e=>{const{path:t,value:n,spec:r}=e,o=r.types.length;if(Array.isArray(n)){if(n.length<o)return`${t} tuple value has too few items, expected a length of ${o} but got ${n.length} for value: \`${Gl(n,!0)}\``;if(n.length>o)return`${t} tuple value has too many items, expected a length of ${o} but got ${n.length} for value: \`${Gl(n,!0)}\``}return Co.formatError(Ka.notType,e)}}});const WT=e=>e&&e.__isYupSchema__;class jb{static fromOptions(t,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:o,otherwise:i}=n,a=typeof r=="function"?r:(...s)=>s.every(l=>l===r);return new jb(t,(s,l)=>{var c;let u=a(...s)?o:i;return(c=u==null?void 0:u(l))!=null?c:l})}constructor(t,n){this.fn=void 0,this.refs=t,this.refs=t,this.fn=n}resolve(t,n){let r=this.refs.map(i=>i.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),o=this.fn(r,t,n);if(o===void 0||o===t)return t;if(!WT(o))throw new TypeError("conditions must return a schema object");return o.resolve(n)}}const cU="$",uU=".";class gu{constructor(t,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===cU,this.isValue=this.key[0]===uU,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?cU:this.isValue?uU:"";this.path=this.key.slice(r.length),this.getter=this.path&&fu.getter(this.path,!0),this.map=n.map}getValue(t,n,r){let o=this.isContext?r:this.isValue?t:n;return this.getter&&(o=this.getter(o||{})),this.map&&(o=this.map(o)),o}cast(t,n){return this.getValue(t,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}gu.prototype.__isYupRef=!0;const vu=e=>e==null;function Ch(e){function t({value:n,path:r="",options:o,originalValue:i,schema:a},s,l){const{name:c,test:u,params:h,message:p,skipAbsent:d}=e;let{parent:f,context:g,abortEarly:m=a.spec.abortEarly,disableStackTrace:v=a.spec.disableStackTrace}=o;function y(N){return gu.isRef(N)?N.getValue(n,f,g):N}function b(N={}){const L=Object.assign({value:n,originalValue:i,label:a.spec.label,path:N.path||r,spec:a.spec,disableStackTrace:N.disableStackTrace||v},h,N.params);for(const H of Object.keys(L))L[H]=y(L[H]);const j=new Co(Co.formatError(N.message||p,L),n,L.path,N.type||c,L.disableStackTrace);return j.params=L,j}const w=m?s:l;let k={path:r,parent:f,type:c,from:o.from,createError:b,resolve:y,options:o,originalValue:i,schema:a};const _=N=>{Co.isError(N)?w(N):N?l(null):w(b())},O=N=>{Co.isError(N)?w(N):s(N)};if(d&&vu(n))return _(!0);let E;try{var C;if(E=u.call(k,n,k),typeof((C=E)==null?void 0:C.then)=="function"){if(o.sync)throw new Error(`Validation test of type: "${k.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(E).then(_,O)}}catch(N){return void O(N)}_(E)}return t.OPTIONS=e,t}function Z0e(e,t,n,r=n){let o,i,a;return t?(fu.forEach(t,(s,l,c)=>{let u=l?s.slice(1,s.length-1):s,h=(e=e.resolve({context:r,parent:o,value:n})).type==="tuple",p=c?parseInt(u,10):0;if(e.innerType||h){if(h&&!c)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${a}" must contain an index to the tuple element, e.g. "${a}[0]"`);if(n&&p>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${s}, in the path: ${t}. because there is no value at that index. `);o=n,n=n&&n[p],e=h?e.spec.types[p]:e.innerType}if(!c){if(!e.fields||!e.fields[u])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${a} which is a type: "${e.type}")`);o=n,n=n&&n[u],e=e.fields[u]}i=u,a=l?"["+s+"]":"."+s}),{schema:e,parent:o,parentPath:i}):{parent:o,parentPath:t,schema:e}}class zb extends Set{describe(){const t=[];for(const n of this.values())t.push(gu.isRef(n)?n.describe():n);return t}resolveAll(t){let n=[];for(const r of this.values())n.push(t(r));return n}clone(){return new zb(this.values())}merge(t,n){const r=this.clone();return t.forEach(o=>r.add(o)),n.forEach(o=>r.delete(o)),r}}function Oh(e,t=new Map){if(WT(e)||!e||typeof e!="object")return e;if(t.has(e))return t.get(e);let n;if(e instanceof Date)n=new Date(e.getTime()),t.set(e,n);else if(e instanceof RegExp)n=new RegExp(e),t.set(e,n);else if(Array.isArray(e)){n=new Array(e.length),t.set(e,n);for(let r=0;r<e.length;r++)n[r]=Oh(e[r],t)}else if(e instanceof Map){n=new Map,t.set(e,n);for(const[r,o]of e.entries())n.set(r,Oh(o,t))}else if(e instanceof Set){n=new Set,t.set(e,n);for(const r of e)n.add(Oh(r,t))}else{if(!(e instanceof Object))throw Error(`Unable to clone ${e}`);n={},t.set(e,n);for(const[r,o]of Object.entries(e))n[r]=Oh(o,t)}return n}let Ya=class{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new zb,this._blacklist=new zb,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Ka.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(t=>{t.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=Oh(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(e.length===0)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=t,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,n=e.clone();const r=Object.assign({},t.spec,n.spec);return n.spec=r,n.internalTests=Object.assign({},t.internalTests,n.internalTests),n._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),n.tests=t.tests,n.exclusiveTests=t.exclusiveTests,n.withMutation(o=>{e.tests.forEach(i=>{o.test(i.OPTIONS)})}),n.transforms=[...t.transforms,...n.transforms],n}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let n=t.conditions;t=t.clone(),t.conditions=[],t=n.reduce((r,o)=>o.resolve(r,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,n,r,o;return Object.assign({},e,{from:e.from||[],strict:(t=e.strict)!=null?t:this.spec.strict,abortEarly:(n=e.abortEarly)!=null?n:this.spec.abortEarly,recursive:(r=e.recursive)!=null?r:this.spec.recursive,disableStackTrace:(o=e.disableStackTrace)!=null?o:this.spec.disableStackTrace})}cast(e,t={}){let n=this.resolve(Object.assign({value:e},t)),r=t.assert==="ignore-optionality",o=n._cast(e,t);if(t.assert!==!1&&!n.isType(o)){if(r&&vu(o))return o;let i=Gl(e),a=Gl(o);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${i} 
`+(a!==i?`result of cast: ${a}`:""))}return o}_cast(e,t){let n=e===void 0?e:this.transforms.reduce((r,o)=>o.call(this,r,e,this),e);return n===void 0&&(n=this.getDefault(t)),n}_validate(e,t={},n,r){let{path:o,originalValue:i=e,strict:a=this.spec.strict}=t,s=e;a||(s=this._cast(s,Object.assign({assert:!1},t)));let l=[];for(let c of Object.values(this.internalTests))c&&l.push(c);this.runTests({path:o,value:s,originalValue:i,options:t,tests:l},n,c=>{if(c.length)return r(c,s);this.runTests({path:o,value:s,originalValue:i,options:t,tests:this.tests},n,r)})}runTests(e,t,n){let r=!1,{tests:o,value:i,originalValue:a,path:s,options:l}=e,c=f=>{r||(r=!0,t(f,i))},u=f=>{r||(r=!0,n(f,i))},h=o.length,p=[];if(!h)return u([]);let d={value:i,originalValue:a,path:s,options:l,schema:this};for(let f=0;f<o.length;f++)(0,o[f])(d,c,function(g){g&&(Array.isArray(g)?p.push(...g):p.push(g)),--h<=0&&u(p)})}asNestedTest({key:e,index:t,parent:n,parentPath:r,originalParent:o,options:i}){const a=e??t;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const s=typeof a=="number";let l=n[a];const c=Object.assign({},i,{strict:!0,parent:n,value:l,originalValue:o[a],key:void 0,[s?"index":"key"]:a,path:s||a.includes(".")?`${r||""}[${s?a:`"${a}"`}]`:(r?`${r}.`:"")+e});return(u,h,p)=>this.resolve(c)._validate(l,c,h,p)}validate(e,t){var n;let r=this.resolve(Object.assign({},t,{value:e})),o=(n=t==null?void 0:t.disableStackTrace)!=null?n:r.spec.disableStackTrace;return new Promise((i,a)=>r._validate(e,t,(s,l)=>{Co.isError(s)&&(s.value=l),a(s)},(s,l)=>{s.length?a(new Co(s,l,void 0,void 0,o)):i(l)}))}validateSync(e,t){var n;let r,o=this.resolve(Object.assign({},t,{value:e})),i=(n=t==null?void 0:t.disableStackTrace)!=null?n:o.spec.disableStackTrace;return o._validate(e,Object.assign({},t,{sync:!0}),(a,s)=>{throw Co.isError(a)&&(a.value=s),a},(a,s)=>{if(a.length)throw new Co(a,e,void 0,void 0,i);r=s}),r}isValid(e,t){return this.validate(e,t).then(()=>!0,n=>{if(Co.isError(n))return!1;throw n})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(n){if(Co.isError(n))return!1;throw n}}_getDefault(e){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this,e):Oh(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const n=this.clone({nullable:e});return n.internalTests.nullable=Ch({message:t,name:"nullable",test(r){return r!==null||this.schema.spec.nullable}}),n}optionality(e,t){const n=this.clone({optional:e});return n.internalTests.optionality=Ch({message:t,name:"optionality",test(r){return r!==void 0||this.schema.spec.optional}}),n}optional(){return this.optionality(!0)}defined(e=Ka.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Ka.notNull){return this.nullability(!1,e)}required(e=Ka.required){return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(t=e.length===1?typeof e[0]=="function"?{test:e[0]}:e[0]:e.length===2?{name:e[0],test:e[1]}:{name:e[0],message:e[1],test:e[2]},t.message===void 0&&(t.message=Ka.default),typeof t.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),r=Ch(t),o=t.exclusive||t.name&&n.exclusiveTests[t.name]===!0;if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(n.exclusiveTests[t.name]=!!t.exclusive),n.tests=n.tests.filter(i=>!(i.OPTIONS.name===t.name&&(o||i.OPTIONS.test===r.OPTIONS.test))),n.tests.push(r),n}when(e,t){!Array.isArray(e)&&typeof e!="string"&&(t=e,e=".");let n=this.clone(),r=oU(e).map(o=>new gu(o));return r.forEach(o=>{o.isSibling&&n.deps.push(o.key)}),n.conditions.push(typeof t=="function"?new jb(r,t):jb.fromOptions(r,t)),n}typeError(e){let t=this.clone();return t.internalTests.typeError=Ch({message:e,name:"typeError",skipAbsent:!0,test(n){return!!this.schema._typeCheck(n)||this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=Ka.oneOf){let n=this.clone();return e.forEach(r=>{n._whitelist.add(r),n._blacklist.delete(r)}),n.internalTests.whiteList=Ch({message:t,name:"oneOf",skipAbsent:!0,test(r){let o=this.schema._whitelist,i=o.resolveAll(this.resolve);return!!i.includes(r)||this.createError({params:{values:Array.from(o).join(", "),resolved:i}})}}),n}notOneOf(e,t=Ka.notOneOf){let n=this.clone();return e.forEach(r=>{n._blacklist.add(r),n._whitelist.delete(r)}),n.internalTests.blacklist=Ch({message:t,name:"notOneOf",test(r){let o=this.schema._blacklist,i=o.resolveAll(this.resolve);return!i.includes(r)||this.createError({params:{values:Array.from(o).join(", "),resolved:i}})}}),n}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:n,meta:r,optional:o,nullable:i}=t.spec;return{meta:r,label:n,optional:o,nullable:i,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map(a=>({name:a.OPTIONS.name,params:a.OPTIONS.params})).filter((a,s,l)=>l.findIndex(c=>c.name===a.name)===s)}}};Ya.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])Ya.prototype[`${e}At`]=function(t,n,r={}){const{parent:o,parentPath:i,schema:a}=Z0e(this,t,n,r.context);return a[e](o&&o[i],Object.assign({},r,{parent:o,path:t}))};for(const e of["equals","is"])Ya.prototype[e]=Ya.prototype.oneOf;for(const e of["not","nope"])Ya.prototype[e]=Ya.prototype.notOneOf;const ege=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function GT(e){var t,n;const r=ege.exec(e);return r?{year:Bs(r[1]),month:Bs(r[2],1)-1,day:Bs(r[3],1),hour:Bs(r[4]),minute:Bs(r[5]),second:Bs(r[6]),millisecond:r[7]?Bs(r[7].substring(0,3)):0,precision:(t=(n=r[7])==null?void 0:n.length)!=null?t:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:Bs(r[10]),minuteOffset:Bs(r[11])}:null}function Bs(e,t=0){return Number(e)||t}let tge=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,nge=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,rge=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,oge=new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"),ige=e=>vu(e)||e===e.trim(),age={}.toString();function Qa(){return new dU}class dU extends Ya{constructor(){super({type:"string",check:t=>(t instanceof String&&(t=t.valueOf()),typeof t=="string")}),this.withMutation(()=>{this.transform((t,n,r)=>{if(!r.spec.coerce||r.isType(t)||Array.isArray(t))return t;const o=t!=null&&t.toString?t.toString():t;return o===age?t:o})})}required(t){return super.required(t).withMutation(n=>n.test({message:t||Ka.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(t=>(t.tests=t.tests.filter(n=>n.OPTIONS.name!=="required"),t))}length(t,n=Oo.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(r){return r.length===this.resolve(t)}})}min(t,n=Oo.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(r){return r.length>=this.resolve(t)}})}max(t,n=Oo.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:t},skipAbsent:!0,test(r){return r.length<=this.resolve(t)}})}matches(t,n){let r,o,i=!1;return n&&(typeof n=="object"?{excludeEmptyString:i=!1,message:r,name:o}=n:r=n),this.test({name:o||"matches",message:r||Oo.matches,params:{regex:t},skipAbsent:!0,test:a=>a===""&&i||a.search(t)!==-1})}email(t=Oo.email){return this.matches(tge,{name:"email",message:t,excludeEmptyString:!0})}url(t=Oo.url){return this.matches(nge,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=Oo.uuid){return this.matches(rge,{name:"uuid",message:t,excludeEmptyString:!1})}datetime(t){let n,r,o="";return t&&(typeof t=="object"?{message:o="",allowOffset:n=!1,precision:r}=t:o=t),this.matches(oge,{name:"datetime",message:o||Oo.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:o||Oo.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:i=>{if(!i||n)return!0;const a=GT(i);return!!a&&!!a.z}}).test({name:"datetime_precision",message:o||Oo.datetime_precision,params:{precision:r},skipAbsent:!0,test:i=>{if(!i||r==null)return!0;const a=GT(i);return!!a&&a.precision===r}})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=Oo.trim){return this.transform(n=>n!=null?n.trim():n).test({message:t,name:"trim",test:ige})}lowercase(t=Oo.lowercase){return this.transform(n=>vu(n)?n:n.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>vu(n)||n===n.toLowerCase()})}uppercase(t=Oo.uppercase){return this.transform(n=>vu(n)?n:n.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>vu(n)||n===n.toUpperCase()})}}Qa.prototype=dU.prototype;let sge=new Date("");class KT extends Ya{constructor(){super({type:"date",check:t=>(n=>Object.prototype.toString.call(n)==="[object Date]")(t)&&!isNaN(t.getTime())}),this.withMutation(()=>{this.transform((t,n,r)=>!r.spec.coerce||r.isType(t)||t===null?t:(t=function(o){const i=GT(o);if(!i)return Date.parse?Date.parse(o):Number.NaN;if(i.z===void 0&&i.plusMinus===void 0)return new Date(i.year,i.month,i.day,i.hour,i.minute,i.second,i.millisecond).valueOf();let a=0;return i.z!=="Z"&&i.plusMinus!==void 0&&(a=60*i.hourOffset+i.minuteOffset,i.plusMinus==="+"&&(a=0-a)),Date.UTC(i.year,i.month,i.day,i.hour,i.minute+a,i.second,i.millisecond)}(t),isNaN(t)?KT.INVALID_DATE:new Date(t)))})}prepareParam(t,n){let r;if(gu.isRef(t))r=t;else{let o=this.cast(t);if(!this._typeCheck(o))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=o}return r}min(t,n=qT.min){let r=this.prepareParam(t,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(o){return o>=this.resolve(r)}})}max(t,n=qT.max){let r=this.prepareParam(t,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(o){return o<=this.resolve(r)}})}}function hU(e,t){let n=1/0;return e.some((r,o)=>{var i;if((i=t.path)!=null&&i.includes(r))return n=o,!0}),n}function pU(e){return(t,n)=>hU(e,t)-hU(e,n)}KT.INVALID_DATE=sge;const lge=(e,t,n)=>{if(typeof e!="string")return e;let r=e;try{r=JSON.parse(e)}catch{}return n.isType(r)?r:e};function Fb(e){if("fields"in e){const t={};for(const[n,r]of Object.entries(e.fields))t[n]=Fb(r);return e.setFields(t)}if(e.type==="array"){const t=e.optional();return t.innerType&&(t.innerType=Fb(t.innerType)),t}return e.type==="tuple"?e.optional().clone({types:e.spec.types.map(Fb)}):"optional"in e?e.optional():e}let mU=e=>Object.prototype.toString.call(e)==="[object Object]";function fU(e,t){let n=Object.keys(e.fields);return Object.keys(t).filter(r=>n.indexOf(r)===-1)}const cge=pU([]);function xm(e){return new gU(e)}class gU extends Ya{constructor(t){super({type:"object",check:n=>mU(n)||typeof n=="function"}),this.fields=Object.create(null),this._sortErrors=cge,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{t&&this.shape(t)})}_cast(t,n={}){var r;let o=super._cast(t,n);if(o===void 0)return this.getDefault(n);if(!this._typeCheck(o))return o;let i=this.fields,a=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,s=[].concat(this._nodes,Object.keys(o).filter(h=>!this._nodes.includes(h))),l={},c=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),u=!1;for(const h of s){let p=i[h],d=h in o;if(p){let f,g=o[h];c.path=(n.path?`${n.path}.`:"")+h,p=p.resolve({value:g,context:n.context,parent:l});let m=p instanceof Ya?p.spec:void 0,v=m==null?void 0:m.strict;if(m!=null&&m.strip){u=u||h in o;continue}f=n.__validating&&v?o[h]:p.cast(o[h],c),f!==void 0&&(l[h]=f)}else d&&!a&&(l[h]=o[h]);(d!==h in l||l[h]!==o[h])&&(u=!0)}return u?l:o}_validate(t,n={},r,o){let{from:i=[],originalValue:a=t,recursive:s=this.spec.recursive}=n;n.from=[{schema:this,value:a},...i],n.__validating=!0,n.originalValue=a,super._validate(t,n,r,(l,c)=>{if(!s||!mU(c))return void o(l,c);a=a||c;let u=[];for(let h of this._nodes){let p=this.fields[h];!p||gu.isRef(p)||u.push(p.asNestedTest({options:n,key:h,parent:c,parentPath:n.path,originalParent:a}))}this.runTests({tests:u,value:c,originalValue:a,options:n},r,h=>{o(h.sort(this._sortErrors).concat(l),c)})})}clone(t){const n=super.clone(t);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(t){let n=super.concat(t),r=n.fields;for(let[o,i]of Object.entries(this.fields)){const a=r[o];r[o]=a===void 0?i:a}return n.withMutation(o=>o.setFields(r,[...this._excludedEdges,...t._excludedEdges]))}_getDefault(t){if("default"in this.spec)return super._getDefault(t);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var o;const i=this.fields[r];let a=t;(o=a)!=null&&o.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[r]})),n[r]=i&&"getDefault"in i?i.getDefault(a):void 0}),n}setFields(t,n){let r=this.clone();return r.fields=t,r._nodes=function(o,i=[]){let a=[],s=new Set,l=new Set(i.map(([u,h])=>`${u}-${h}`));function c(u,h){let p=fu.split(u)[0];s.add(p),l.has(`${h}-${p}`)||a.push([h,p])}for(const u of Object.keys(o)){let h=o[u];s.add(u),gu.isRef(h)&&h.isSibling?c(h.path,u):WT(h)&&"deps"in h&&h.deps.forEach(p=>c(p,u))}return W0e.array(Array.from(s),a).reverse()}(t,n),r._sortErrors=pU(Object.keys(t)),n&&(r._excludedEdges=n),r}shape(t,n=[]){return this.clone().withMutation(r=>{let o=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),o=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,t),o)})}partial(){const t={};for(const[n,r]of Object.entries(this.fields))t[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(t)}deepPartial(){return Fb(this)}pick(t){const n={};for(const r of t)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,o])=>t.includes(r)&&t.includes(o)))}omit(t){const n=[];for(const r of Object.keys(this.fields))t.includes(r)||n.push(r);return this.pick(n)}from(t,n,r){let o=fu.getter(t,!0);return this.transform(i=>{if(!i)return i;let a=i;return((s,l)=>{const c=[...fu.normalizePath(l)];if(c.length===1)return c[0]in s;let u=c.pop(),h=fu.getter(fu.join(c),!0)(s);return!(!h||!(u in h))})(i,t)&&(a=Object.assign({},i),r||delete a[t],a[n]=o(i)),a})}json(){return this.transform(lge)}exact(t){return this.test({name:"exact",exclusive:!0,message:t||Db.exact,test(n){if(n==null)return!0;const r=fU(this.schema,n);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(t=!0,n=Db.noUnknown){typeof t!="boolean"&&(n=t,t=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(o){if(o==null)return!0;const i=fU(this.schema,o);return!t||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return r.spec.noUnknown=t,r}unknown(t=!0,n=Db.noUnknown){return this.noUnknown(!t,n)}transformKeys(t){return this.transform(n=>{if(!n)return n;const r={};for(const o of Object.keys(n))r[t(o)]=n[o];return r})}camelCase(){return this.transformKeys($T.camelCase)}snakeCase(){return this.transformKeys($T.snakeCase)}constantCase(){return this.transformKeys(t=>$T.snakeCase(t).toUpperCase())}describe(t){const n=(t?this.resolve(t):this).clone(),r=super.describe(t);r.fields={};for(const[i,a]of Object.entries(n.fields)){var o;let s=t;(o=s)!=null&&o.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[i]})),r.fields[i]=a.describe(s)}return r}}xm.prototype=gU.prototype;const uge=e=>e instanceof Error?e.message:typeof e=="string"?e:typeof e=="number"?`Error code: ${e}`:e&&typeof e=="object"&&"message"in e?String(e.message):"Unknown error",dge=xm({visitorId:Qa().strict().required(),user:xm({account:xm({account_id:Qa().strict().optional(),name:Qa().strict().optional(),email:Qa().strict().optional()}).optional(),subscription:xm({subscription_id:Qa().strict().optional(),plan_name:Qa().strict().optional(),plan_price:Qa().strict().optional(),plan_start_date:Qa().strict().optional().test("is-valid-date","Invalid date format",e=>!e||Mb(e)),plan_renew_date:Qa().strict().optional().test("is-valid-date","Invalid date format",e=>!e||Mb(e))}).optional()}).optional()}),hge=e=>{try{return dge.validateSync(e),!0}catch(t){return(n=>{var r;const{errorMessage:o,invalidData:i}=n;let a="";try{a=` | Invalid data: ${JSON.stringify(i)}`}catch{a=" (Non-serializable data)"}const s=`Validation failed for livexDataLayer: ${o}${a}`;if(!Ol())return Xo({event_name:Lt.SetDataValidationError,note:s,source:De.source,bot_mode:De.botMode,chatbot_id:(r=De.agent)==null?void 0:r.id}).catch(l=>{ee.error("Failed to track validation error:",l)});ee.log("🚀 ~ :45 ~ trackValidationError ~ note: ",s)})({errorMessage:uge(t),invalidData:e}),!1}},De={agent:void 0,threadId:void 0,botMode:void 0,source:void 0,scrollToBottom:e=>{},scrollToLastMessagePair:(e=200)=>{},firebaseApp:void 0,firestore:void 0,analytics:void 0,avatarPlayer:void 0,avatarVideoContainerRef:null,headerRef:null,footerRef:null,containerRef:null,chatWrapperRef:null,messageTextAreaRef:null,lastBotMessageRef:x.createRef(),rootRef:x.createRef(),shadowRootRef:null,isMobileKeyboardShown:!1,shouldAbort:!1,cancelHandlerCalled:!1,isGettingAvatarSession:!1};Ol()&&(window.chatBoxUtils=De);const pge=["zendeskSideApp","fullScreen"],mge=["playground"],vU={useLiveXCopilot:!1,agent:void 0,botMode:void 0,botLanguage:"en",initialBotMode:void 0,showWelcomeMessage:(()=>{const e=localStorage.getItem("welcomeMessageHiddenAt");if(!e)return!0;const t=new Date(e).getTime();return new Date().getTime()-t>864e5})(),chatBoxWidth:0,chatBoxHeight:0,chatBoxDefaultWidth:0,chatBoxDefaultHeight:0,expanded:!1,visualViewportUpdatedAt:0,composedMessage:"",showChatBox:!1,showNavigationView:!1,showConfirmCloseView:!1,showAvatarVideo:!1,expiredTime:kP.expiredTime,showSearchBar:!1,showPopupImageSrc:"",source:void 0,chatAgentType:"ai",isLiveChatEnded:!1,live_chat_access_token:localStorage.getItem("livex_live_chat_access_token"),languageCode:"en",resizingType:null,isMicOn:!1,isAvatarSpeaking:!1,isChurnControlEnabled:!1,voiceControlPermissionState:null,isDragging:!1,stopRequestedAt:null,videoAutoPlayStatus:null,cancelParams:{},streamDetails:null,isWelcomeVideoPlayed:!1,triedToGetAvataiSession:!1,clickToStartClicked:!1,botVoiceEnabled:!0,showDoneVideo:!1,skipWelcomeVideo:!1,messageComposerEnabled:!0,composerMode:"text",isMicMuted:!1,isSpeakerMuted:!1,selectedResponseLength:null},bU=(e,t)=>{var n,r,o,i,a,s,l,c;t?(e.chatBoxWidth=((i=(o=(r=(n=e.agent)==null?void 0:n.config)==null?void 0:r.style)==null?void 0:o.expansion)==null?void 0:i.width)||.9*window.innerWidth,e.chatBoxHeight=((c=(l=(s=(a=e.agent)==null?void 0:a.config)==null?void 0:s.style)==null?void 0:l.expansion)==null?void 0:c.height)||.9*window.innerHeight):(e.chatBoxWidth=e.chatBoxDefaultWidth,e.chatBoxHeight=e.chatBoxDefaultHeight),e.chatBoxWidth=isNaN(e.chatBoxWidth)?e.chatBoxDefaultWidth:e.chatBoxWidth,e.chatBoxHeight=isNaN(e.chatBoxHeight)?e.chatBoxDefaultHeight:e.chatBoxHeight};function yU(e){var t,n;e.botMode!=="searchBar"?e.showNavigationView=!ht((n=(t=e.agent)==null?void 0:t.config)==null?void 0:n.navigation_items):e.showNavigationView=!1}const _m=V0({name:"chatBox",initialState:vU,reducers:{initSetting:(e,t)=>{var n,r,o;window.livexChatbotLatencies=[];const i=t.payload,{agent:a,options:s}=i;e.agent=a,e.languageCode=IA((n=a==null?void 0:a.config)==null?void 0:n.language),e.botLanguage=i.botLanguage;const l=MA("livexChatboxWidth",s.style.width),c=MA("livexChatboxHeight",s.style.height);e.chatBoxDefaultWidth=l,e.chatBoxDefaultHeight=c,e.expanded=i.initExpanded;let u=i.botMode;if(u==="voice"&&(u=void 0),e.botMode=u,e.initialBotMode=u,e.showConfirmCloseView=!1,e.expiredTime=s.expiredTime,yU(e),function(p){p.botMode!=="searchBar"?p.showWelcomeMessage=!0:p.showWelcomeMessage=!1}(e),De.agent=i.agent,De.botMode=u,e.cancelParams={},Ht(u)){e.expiredTime=600,e.showAvatarVideo=!0;const{width:p,height:d}=((f,g)=>{const m=window.innerWidth,v=window.innerHeight,y=Math.min(f,m),b=Math.min(g,v),w=Math.min(y,b);let k,_;return w===y?(k=w,_=Math.round(1.5*k)):(_=w,k=Math.round(2*_/3)),{width:k,height:_}})(l,c);e.chatBoxDefaultWidth=p,e.chatBoxDefaultHeight=d}((o=(r=a==null?void 0:a.config)==null?void 0:r.custom_style)==null?void 0:o.default_composer_mode)==="voice"&&(e.composerMode="voice"),bU(e,i.initExpanded);const h=i.source||"chatbox";De.source=h,e.source=h,function(){var p,d;if((p=window.Android)!=null&&p.getDataFromApp){const f=window.Android.getDataFromApp();window.livexDataLayer=mi({},window.livexDataLayer,f)}else if((d=window.iOS)!=null&&d.getDataFromApp){const f=window.iOS.getDataFromApp();window.livexDataLayer=mi({},window.livexDataLayer,f)}if(window.livexDataLayer){hge(window.livexDataLayer),window.livexDataLayer.user&&Rn.setData("user",window.livexDataLayer.user),window.livexDataLayer.visitorId&&localStorage.setItem("lvxcplt-visitor-id",window.livexDataLayer.visitorId);const f=window.livexDataLayer.initSetting;f!=null&&f.onLoad&&f.onLoad()}}()},setBotMode:(e,t)=>{e.botMode=t.payload},setUseLiveXCopilot:(e,t)=>{e.useLiveXCopilot=t.payload},reset:()=>(localStorage.removeItem("livex_live_chat_access_token"),vU),setAgent:(e,t)=>{var n,r;e.agent=t.payload,De.agent=t.payload;const o=(r=(n=t.payload)==null?void 0:n.config)==null?void 0:r.chatbot_mode;e.botMode=o,e.initialBotMode=o},setChatBoxWidth:(e,t)=>{e.chatBoxWidth=t.payload},setChatBoxHeight:(e,t)=>{e.chatBoxHeight=t.payload},setChatBoxDefaultWidth:(e,t)=>{e.chatBoxDefaultWidth=t.payload,localStorage.setItem("livexChatboxWidth",`${t.payload}`)},setChatBoxDefaultHeight:(e,t)=>{e.chatBoxDefaultHeight=t.payload,localStorage.setItem("livexChatboxHeight",`${t.payload}`)},setExpanded:(e,t)=>{e.expanded=t.payload,bU(e,t.payload)},setVisualViewportUpdatedAt:(e,t)=>{e.visualViewportUpdatedAt=t.payload},setComposedMessage:(e,t)=>{e.composedMessage=t.payload},setShowChatBox:(e,t)=>{var n,r,o,i,a;if(e.showChatBox=t.payload,_t){const s=(o=(r=(n=e.agent)==null?void 0:n.config)==null?void 0:r.style)==null?void 0:o.search_bar_z_index;if(s)if(t.payload)Rn.setRootZIndex(s);else{const l=Rb((a=(i=e.agent)==null?void 0:i.config)==null?void 0:a.style);Rn.setRootZIndex(l)}}if(t.payload||(De.cancelHandlerCalled=!1),!Ht(e.botMode)||e.botMode==="avataiOnly"||!e.showChatBox){if(!ht(e.cancelParams))return void localStorage.removeItem("openChatBox");localStorage.setItem("openChatBox",t.payload.toString())}},setShowSearchBar:(e,t)=>{var n,r,o,i;if(e.showSearchBar=t.payload.showSearchBar,e.showChatBox=t.payload.showChatBox||!1,t.payload.showSearchBar){const a=qB((r=(n=e.agent)==null?void 0:n.config)==null?void 0:r.style);Rn.setRootZIndex(a),e.botMode="searchBar",e.showWelcomeMessage=!1}else{const a=Rb((i=(o=e.agent)==null?void 0:o.config)==null?void 0:i.style);Rn.setRootZIndex(a);const s=e.initialBotMode;setTimeout(()=>{jn.dispatch(Ph(s))},300)}},setShowWelcomeMessage:(e,t)=>{e.showWelcomeMessage=t.payload,t.payload?localStorage.removeItem("welcomeMessageHiddenAt"):localStorage.setItem("welcomeMessageHiddenAt",new Date().toString())},setShowAvatarVideo:(e,t)=>{e.showAvatarVideo=t.payload},resetShowNavigationView:e=>{yU(e)},setShowNavigationView:(e,t)=>{e.showNavigationView=t.payload},setShowConfirmCloseView:(e,t)=>{e.showConfirmCloseView=t.payload},setShowPopupImageSrc:(e,t)=>{e.showPopupImageSrc=t.payload},setChatAgentType:(e,t)=>{e.chatAgentType=t.payload,t.payload==="liveChat"&&(e.showNavigationView=!1)},setIsLiveChatEnded:(e,t)=>{e.isLiveChatEnded=t.payload},setLanguageCode:(e,t)=>{e.languageCode=t.payload,o8(RA,t.payload)},setResizingType:(e,t)=>{e.resizingType=t.payload},setIsAvatarSpeaking:(e,t)=>{e.isAvatarSpeaking=t.payload},setIsMicOn:(e,t)=>{e.isMicOn=t.payload},setIsChurnControlEnabled:(e,t)=>{e.isChurnControlEnabled=t.payload},setVoiceControlPermissionState:(e,t)=>{e.voiceControlPermissionState=t.payload},setIsDragging:(e,t)=>{e.isDragging=t.payload},setStopRequestedAt:(e,t)=>{e.stopRequestedAt=t.payload},setVideoAutoPlayStatus:(e,t)=>{e.videoAutoPlayStatus=t.payload},setCancelParams:(e,t)=>{e.cancelParams=t.payload},setStreamDetails:(e,t)=>{e.streamDetails=t.payload,t.payload!==null&&setTimeout(()=>{Ld.startSessionMonitoring(t.payload)},0)},setIsWelcomeVideoPlayed:(e,t)=>{e.isWelcomeVideoPlayed=t.payload},setTriedToGetAvataiSession:(e,t)=>{e.triedToGetAvataiSession=t.payload},setClickToStartClicked:(e,t)=>{e.clickToStartClicked=t.payload},setBotVoiceEnabled:(e,t)=>{e.botVoiceEnabled=t.payload},setShowDoneVideo:(e,t)=>{e.showDoneVideo=t.payload},setSkipWelcomeVideo:(e,t)=>{e.skipWelcomeVideo=t.payload},setLiveChatAccessToken:(e,t)=>{e.live_chat_access_token=t.payload,t.payload?localStorage.setItem("livex_live_chat_access_token",t.payload):localStorage.removeItem("livex_live_chat_access_token")},setMessageComposerEnabled:(e,t)=>{e.messageComposerEnabled=t.payload},setComposerMode:(e,t)=>{e.composerMode=t.payload},setIsMicMuted:(e,t)=>{e.isMicMuted=t.payload},setIsSpeakerMuted:(e,t)=>{e.isSpeakerMuted=t.payload},setSelectedResponseLength:(e,t)=>{e.selectedResponseLength=t.payload}},extraReducers:e=>{(t=>{t.addCase(oa.pending,(n,r)=>{var o,i;const a=(i=(o=r==null?void 0:r.meta)==null?void 0:o.arg)==null?void 0:i.command;if(a){let s;if(typeof a=="string")try{s=JSON.parse(a)}catch(l){window.console.debug("JSON parse error: ",l)}else s=a;["cancel_subscription","pause_subscription"].some(l=>{var c,u;return(u=(c=s==null?void 0:s.parameters)==null?void 0:c.twi)==null?void 0:u.startsWith(l)})&&(n.isChurnControlEnabled=!0)}})})(e),(t=>{t.addCase(fo.pending,n=>{n.composedMessage="",n.isChurnControlEnabled=!1,n.cancelParams={},n.live_chat_access_token=null,localStorage.removeItem("livex_live_chat_access_token")})})(e)}}),{setUseLiveXCopilot:Bb,setAgent:Ub,setBotMode:Ph,setChatBoxWidth:fge,setChatBoxHeight:gge,setChatBoxDefaultWidth:vge,setChatBoxDefaultHeight:bge,setExpanded:D3e,setVisualViewportUpdatedAt:wU,setComposedMessage:Kl,setShowChatBox:ia,setShowSearchBar:bu,initSetting:yge,reset:wge,setShowWelcomeMessage:Hb,resetShowNavigationView:kge,setShowNavigationView:Vb,setShowConfirmCloseView:$b,setShowPopupImageSrc:kU,setShowAvatarVideo:xge,setChatAgentType:YT,setIsLiveChatEnded:QT,setLanguageCode:xU,setResizingType:Tm,setIsAvatarSpeaking:xi,setIsMicOn:Us,setIsChurnControlEnabled:_ge,setVoiceControlPermissionState:Ah,setIsDragging:XT,setStopRequestedAt:_U,setVideoAutoPlayStatus:JT,setCancelParams:Tge,setStreamDetails:Sm,setIsWelcomeVideoPlayed:ZT,setTriedToGetAvataiSession:Em,setClickToStartClicked:TU,setBotVoiceEnabled:Cm,setShowDoneVideo:Yl,setSkipWelcomeVideo:Sge,setLiveChatAccessToken:Ege,setComposerMode:Nh,setIsMicMuted:e8,setIsSpeakerMuted:Hs,setSelectedResponseLength:Cge,setMessageComposerEnabled:t8}=_m.actions,SU=e=>{var t,n;return!((n=(t=e.chatBox.agent)==null?void 0:t.config)==null||!n.style.enable_display_verified_source)},Oge=e=>{var t,n,r,o,i;return(i=(o=(r=(n=(t=e.chatBox.agent)==null?void 0:t.config)==null?void 0:n.tools)==null?void 0:r.document_qa)==null?void 0:o.no_answer_action)==null?void 0:i.zendesk},Pge=e=>e.chatBox.live_chat_access_token,Vs=()=>W(e=>e.chatBox.botMode)==="zendeskSideApp",Om=()=>W(e=>e.chatBox.botMode)==="fullScreen",yu=()=>W(e=>e.chatBox.source)==="playground",Xa=()=>W(e=>e.chatBox.botMode)==="searchBar",EU=e=>{const t=Ja(e);return!!t&&t>0},qb=()=>W(EU),n8=()=>W(e=>e.chatBox.chatAgentType)==="liveChat",wu=()=>W(e=>e.chatBox.messageComposerEnabled),r8=()=>{const e=W(_i);return W(t=>t.chatBox.streamDetails)||(e==null?void 0:e.stream_details)},Pm=()=>{const e=W(i=>i.chatBox.botMode),t=W(i=>i.chatBox.triedToGetAvataiSession),n=W(i=>i.chatBox.streamDetails),r=W(i=>i.chatBox.showChatBox),o=x.useMemo(()=>e==="avataiOnly"&&!n&&!t,[e,n,t]);return _t?!!o||!r:e==="avataiOnly"&&!n&&!t},o8=(e,t)=>{const n=JSON.stringify(t);localStorage.setItem(e,n)},i8=(e,t)=>{try{return JSON.parse(localStorage.getItem(e))||t}catch{return localStorage.removeItem(e),t}},CU="livexChatbotThreads",a8=()=>i8(CU,{}),Ql=e=>{De.botMode!=="zendeskSideApp"&&o8(CU,e)};var Age=Object.defineProperty,Nge=Object.defineProperties,Rge=Object.getOwnPropertyDescriptors,Wb=Object.getOwnPropertySymbols,OU=Object.prototype.hasOwnProperty,PU=Object.prototype.propertyIsEnumerable,AU=(e,t,n)=>t in e?Age(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rh=(e,t)=>{for(var n in t||(t={}))OU.call(t,n)&&AU(e,n,t[n]);if(Wb)for(var n of Wb(t))PU.call(t,n)&&AU(e,n,t[n]);return e},Ih=(e,t)=>Nge(e,Rge(t));const Mh={name:"",email:"",description:""},Gb=(e,t=1800)=>{var n;const r=r9((n=e==null?void 0:e.messages)!=null?n:[]),o=(r==null?void 0:r.timestamp)||(e==null?void 0:e.createdAt);if(!e||!o)return!1;const i=new Date,a=new Date(o);return Math.abs(i.getTime()-a.getTime())>1e3*t},Ige={messagesUpdatedAt:Date.now(),config:i8("config",{agreeToTerms:!0}),threads:(()=>{const e=a8();for(const t in e){const n=e[t];Gb(n)&&delete e[t],n.conversationType==="churnControl"&&delete e[t],n.id||delete e[t]}return e})(),new:{},close:{},send:{},submitForm:{status:Gse,error:null,cache:{}},source:void 0},NU=V0({name:"chat",initialState:Ige,reducers:{setThread:(e,t)=>{const n=t.payload;n&&(e.threads=Ih(Rh({},e.threads),{[n.id]:n}),Ql(e.threads))},setThreads:(e,t)=>{e.threads=t.payload,Ql(e.threads)},clearThreads:e=>{e.threads={},Ql(e.threads)},updateAgreeToTerms:(e,t)=>{e.config.agreeToTerms=t.payload,o8("config",e.config)},updateThreadMessage:(e,t)=>{const n=t.payload,{doNotScrollToBottom:r}=n,o=((i,a)=>{var s={};for(var l in i)OU.call(i,l)&&a.indexOf(l)<0&&(s[l]=i[l]);if(i!=null&&Wb)for(var l of Wb(i))a.indexOf(l)<0&&PU.call(i,l)&&(s[l]=i[l]);return s})(n,["doNotScrollToBottom"]);UB(e,o),Ql(e.threads),!r&&(e.messagesUpdatedAt=Date.now())},updateWaitingForReply:(e,t)=>{const{threadId:n,waiting:r}=t.payload,o=Ih(Rh({},e.threads[n]),{waitingForReply:r});return Ih(Rh({},e),{threads:Ih(Rh({},e.threads),{[n]:o})})},clearSubmitFormError:e=>{e.submitForm.error=null}},extraReducers:e=>{(t=>{t.addCase(fo.fulfilled,n=>{n.close.status=Ag,n.close.error=null}).addCase(fo.pending,n=>{n.send={},n.close.status=Yc,n.close.error=null}).addCase(fo.rejected,(n,r)=>{n.close.status=Ng,n.close.error=r.error})})(e),(t=>{t.addCase(wm.fulfilled,n=>{n.new.status=Ag,n.new.error=null}).addCase(wm.pending,n=>{n.new.status=Yc,n.new.error=null}).addCase(wm.rejected,(n,r)=>{n.new.status=Ng,n.new.error=r.error})})(e),(t=>{t.addCase(Nb.fulfilled,(n,r)=>{n.submitForm.cache.email=r.payload.values.email,n.submitForm.cache.name=r.payload.values.name,n.submitForm.cache.phone=r.payload.values.phone,n.submitForm.status=Ag,n.submitForm.error=null}).addCase(Nb.pending,n=>{n.submitForm.status=Yc}).addCase(Nb.rejected,(n,r)=>{n.submitForm.status=Ng,n.submitForm.error=r.payload||r.error})})(e),(t=>{t.addCase(oa.fulfilled,n=>{n.send.status=Ag,n.send.error=null,Ql(n.threads)}).addCase(oa.pending,(n,r)=>{const o=km(n);o&&(n.send.status=Yc,n.send.error=null,n.threads[o.id].waitingForReply=!0,UB(n,$B({type:"user"},r.meta.arg)),Ql(n.threads))}).addCase(oa.rejected,(n,r)=>{n.send.status=Ng,n.send.error=r.error})})(e)}}),Mge=e=>e.chat.config.agreeToTerms,s8=e=>e.chat.send,RU=e=>e.chat.submitForm,_i=e=>km(e.chat),Tt=e=>{const t=km(e.chat);return t==null?void 0:t.id},Lge=e=>e.chat.new.status,Dge=e=>{const t=km(e.chat);return t==null?void 0:t.waitingForReply},Kb=mP(_i,e=>{var t;const n=e.chatBox.agent,r=e.chatBox.botLanguage;if((t=n==null?void 0:n.config)==null||!t.initial_message)return[];const o=n.config.initial_message;return(yr(o)?o:[o]).map(i=>{const a=(i.json_response.multi_lang_text||{})[r]||i.json_response.text,s=(i.json_response.buttons||[]).map(l=>{const c=(l.multi_lang_text||{})[r]||l.text;return Ih(Rh({},l),{text:c})});return Ih(Rh({},i.json_response),{text:a,buttons:s,done:i.done})})},(e,t)=>{var n;const r=e!=null&&e.waitingForReply?[{type:"loading"}]:[];return[...t,...(n=e==null?void 0:e.messages)!=null?n:[],...r]}),Ja=mP(Kb,e=>{let t=e.length-1;return t<0&&(t=null),t}),IU=(e,t)=>{const n=Number(t);if(isNaN(n))return null;const r=e.findIndex(i=>i.id===t);if(r===-1)return null;const o=e.slice(0,r+1).filter(i=>i.type==="user").at(-1);return(o==null?void 0:o.text)||null},{clearThreads:jge,updateAgreeToTerms:j3e,updateThreadMessage:Wn,clearSubmitFormError:zge,setThread:l8,setThreads:Fge,updateWaitingForReply:Ti}=NU.actions,Bge=NU.reducer,c8=[];c8.push(e=>t=>n=>{const r=e.getState();r.chatBox.source!=="playground"&&ose(r,n),t(n)}),c8.push(e=>t=>n=>{(r=>{var o,i;const{store:a,action:s}=r,l=UT((i=(o=s.meta)==null?void 0:o.arg)==null?void 0:i.command),{dispatch:c,getState:u}=a,h=l==null?void 0:l.frontend_action;if(h)for(const p of h){const{perform_on:d,command:f}=p;d&&d!==s.type||H0e(async()=>{const g=u();await V0e({buttonCommand:l,command:f,state:g,dispatch:c})})}})({store:e,action:n}),t(n)});const jn=function(e){var t,n=ere(),r=e||{},o=r.reducer,i=o===void 0?void 0:o,a=r.middleware,s=a===void 0?n():a,l=r.devTools,c=l===void 0||l,u=r.preloadedState,h=u===void 0?void 0:u,p=r.enhancers,d=p===void 0?void 0:p;if(typeof i=="function")t=i;else{if(!function(b){if(typeof b!="object"||b===null)return!1;var w=Object.getPrototypeOf(b);if(w===null)return!0;for(var k=w;Object.getPrototypeOf(k)!==null;)k=Object.getPrototypeOf(k);return w===k}(i))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Bne(i)}var f=s;typeof f=="function"&&(f=f(n));var g=Une.apply(void 0,f),m=U0;c&&(m=Xne(kl({trace:!1},typeof c=="object"&&c)));var v=new Zne(g),y=v;return Array.isArray(d)?y=bd([g],d):typeof d=="function"&&(y=d(v)),pP(t,h,m.apply(void 0,y))}({reducer:{chat:Bge,chatBox:_m.reducer,searchBar:YR.reducer,hookState:jA.reducer},middleware:e=>e({immutableCheck:!1,serializableCheck:!1}).concat(c8),devTools:{}}),dt=hne,W=FO;var Uge=Object.defineProperty,MU=Object.getOwnPropertySymbols,Hge=Object.prototype.hasOwnProperty,Vge=Object.prototype.propertyIsEnumerable,LU=(e,t,n)=>t in e?Uge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Am=(e,t)=>{for(var n in t||(t={}))Hge.call(t,n)&&LU(e,n,t[n]);if(MU)for(var n of MU(t))Vge.call(t,n)&&LU(e,n,t[n]);return e};const DU=(e,t)=>function(n){if(n.length!==9||n[0]!=="#")return n;let r=parseInt(n.slice(1,3),16),o=parseInt(n.slice(3,5),16),i=parseInt(n.slice(5,7),16),a=parseInt(n.slice(7,9),16)/255,s=Math.round(255*(1-a)+a*r),l=Math.round(255*(1-a)+a*o),c=Math.round(255*(1-a)+a*i);return`#${s.toString(16).padStart(2,"0")}${l.toString(16).padStart(2,"0")}${c.toString(16).padStart(2,"0")}`}(`#${e==null?void 0:e.substring(1,7)}${Math.round(255*t).toString(16).padStart(2,"0")}`.toUpperCase()),Nm="#3D5AFE",jU="#E5E7EB",zU="#98FF98",u8="#51cf66",d8="#f03e3e",pn=e=>{var t;const n=W(a=>a.chatBox.agent)||e,r=(t=n==null?void 0:n.config)==null?void 0:t.custom_style,o=x.useMemo(()=>{var a;return Am(Am(Am({},(s=>{var l;const c=((l=s==null?void 0:s.style)==null?void 0:l.primary_color)||Nm,u=Xl(.3,c,"command_button_bg"),h=c,p=er(u),d=er(h),f=Xl(.1,u8,"promotion_command_button_bg"),g=Xl(.1,d8,"cancel_command_button_bg");return{primary_color:c,secondary_color:"#FF1744",tooltip_color:"#212529",text_color:"var(--gray-blue-grey-blue-60, #6b7a99);",background_color:"#FFFFFF",bot_message_background_color:"#F1F3F5",user_message_background_color:c,text_input_background_color:"white",text_input_border_color:"#E5E7EB",text_input_icon_color:c,header_background_color:c,header_border_bottom:"",search_bar_header_background_color:"white",search_bar_header_border_bottom:`2px solid ${jU}`,markdown_link_color:Nm,markdown_link_hover_color:ku(.2,Nm,"markdown_link_hover_color"),markdown_link_font_weight:"400",markdown_link_text_decoration:"underline",markdown_user_link_color:zU,markdown_user_link_hover_color:ku(.2,zU,"markdown_user_link_hover_color"),markdown_user_link_font_weight:"500",markdown_user_link_text_decoration:"underline",border_color:jU,name:"professional",command_button_bg:u,command_button_hover_bg:h,command_button_text_color:p,command_button_hover_text_color:d,wm_command_button_bg:u,wm_command_button_hover_bg:h,wm_command_button_text_color:p,wm_command_button_hover_text_color:d,promotion_command_button_bg:f,promotion_command_button_text_color:er(f),promotion_command_button_hover_bg:u8,promotion_command_button_hover_text_color:er(u8),cancel_command_button_bg:g,cancel_command_button_text_color:er(g),cancel_command_button_hover_bg:d8,cancel_command_button_hover_text_color:er(d8)}})(n==null?void 0:n.config)),OA((a=n==null?void 0:n.config)==null?void 0:a.style,SA)),OA(r==null?void 0:r.theme,SA))},[n,r]),i={placeholder_color:DU(o.text_color,.5),label_color:DU(o.text_color,.8),secondary_color:o.secondary_color};return Am(Am({},i),o)},er=e=>{try{let t=e;if(e.includes("gradient")){const n=e.match(/#[a-fA-F0-9]{3,8}|rgba?\([^)]+\)/);n&&(t=n[0])}return t.startsWith("rgba(")&&(t=$ge(t)),function(n){if(n==="transparent")return 0;var r=pd(n),o=Object.keys(r).map(function(l){var c=r[l]/255;return c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4)}),i=o[0],a=o[1],s=o[2];return parseFloat((.2126*i+.7152*a+.0722*s).toFixed(3))}(t)>.5?"#000":"#fff"}catch(t){return ee.error("getContrastText: invalid color: ",e," error: ",t),"#000"}},$ge=e=>{try{const t=e.match(/rgba?\(([^)]+)\)/);if(!t)return e;const n=t[1].split(",").map(c=>parseFloat(c.trim()));if(n.length<4)return e;const[r,o,i,a]=n,s=Math.round(255*(1-a)+a*r),l=Math.round(255*(1-a)+a*o);return`rgb(${s}, ${l}, ${Math.round(255*(1-a)+a*i)})`}catch(t){return ee.error("convertRgbaToOpaque: invalid rgba color: ",e," error: ",t),e}},ku=(e,t,n)=>{try{return Cne(e,t)}catch(r){return window.console.error(`darken ${n}: invalid color: ${t} error: ${r}`),Nm}},Xl=(e,t,n)=>{try{return Pne(e,t)}catch(r){return window.console.error(`lighten ${n}: invalid color: ${t} error: ${r}`),Nm}},qge=e=>{var t;try{const n=(t=De.shadowRootRef)==null?void 0:t.current;if(!n||!n.shadowRoot)return window.console.error("setShadowDomCssVariables: No shadow root available"),!1;const r=n.shadowRoot.getElementById("chatbox-theme-variables");if(!r)return window.console.error("setShadowDomCssVariables: No style element found"),!1;const o=Array.isArray(e)?e:[e];let i=r.textContent||"",a=!1;for(const{key:s,value:l}of o){const c=s.includes("_")?s.replace(/_/g,"-"):s,u=c.startsWith("--")?c:`--${c}`,h=/:host\s*{([^}]*)}/g;let p,d=!1,f="",g=0;for(;(p=h.exec(i))!==null;){f+=i.substring(g,p.index),g=p.index;const m=p[1],v=h.lastIndex,y=new RegExp(`${u}:\\s*([^;]+);`,"g");y.exec(m)?(f+=`:host {${m.replace(y,`${u}: ${l};`)}}`,g=v,d=!0,a=!0):(f+=p[0],g=v)}f+=i.substring(g),d||(f=f.includes(":host {")?f.replace(/:host\s*{/,`:host {
  ${u}: ${l};`):`:host {
  ${u}: ${l};
}

${f}`,a=!0),i=f}return r.textContent=i,a}catch(n){return window.console.error("Error setting CSS variables:",n),!1}};var Wge=Object.defineProperty,FU=Object.getOwnPropertySymbols,Gge=Object.prototype.hasOwnProperty,Kge=Object.prototype.propertyIsEnumerable,BU=(e,t,n)=>t in e?Wge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yge=(e,t)=>{for(var n in t||(t={}))Gge.call(t,n)&&BU(e,n,t[n]);if(FU)for(var n of FU(t))Kge.call(t,n)&&BU(e,n,t[n]);return e};function Yb(e){const{children:t,borderRadius:n,variant:r="contained",color:o="white",disabled:i,onClick:a,style:s={},title:l,tooltipPosition:c}=e,[u,h]=x.useState(!1);x.useEffect(()=>{h(!1)},[i,t]);const p=u?ku(.1,o,"IconButton.buttonColor"):o;let d=p,f=p;i&&(d="#ccc");const g=n||"4px";let m="transparent";switch(r){case"outlined":d="transparent",m=o;break;case"contained":f=er(o);break;case"flat":f=o,i&&(f="#ccc"),d="transparent",m=u?ku(.1,o,"IconButton.borderColor"):"transparent"}return R(Eo,{openDelay:300,label:l,disabled:!l,position:c,withArrow:!0,children:R(Qge,{style:Yge({background:d,borderRadius:g,border:`1px solid ${m}`,color:f,cursor:i?"not-allowed":"pointer"},s),onClick:v=>{i||!a||a(v)},onMouseOver:()=>{i||h(!0)},onMouseOut:()=>{i||h(!1)},children:t})})}const Qge=tt("span",{target:"e1x8uzgu0"})(()=>({cursor:"pointer",color:"white",padding:"5px",margin:"-5px",border:"none",borderRadius:"50%",width:"34px",height:"34px",display:"flex",justifyContent:"center",alignItems:"center",transition:"background-color 0.2s ease-in-out","& svg":{width:"100%",height:"100%"}}),""),Po=e=>{const t=e||fr.maxVolumes;return new Array(t).fill(-1)},fr={volumes:Po(40),maxVolumes:40},UU=e=>{const t=Math.round(.3*e);return Math.max(10,t)};var Xge=Object.defineProperty,Jge=Object.defineProperties,Zge=Object.getOwnPropertyDescriptors,HU=Object.getOwnPropertySymbols,eve=Object.prototype.hasOwnProperty,tve=Object.prototype.propertyIsEnumerable,VU=(e,t,n)=>t in e?Xge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$U=(e,t)=>{for(var n in t||(t={}))eve.call(t,n)&&VU(e,n,t[n]);if(HU)for(var n of HU(t))tve.call(t,n)&&VU(e,n,t[n]);return e},qU=(e,t)=>Jge(e,Zge(t));const WU=()=>{const e=W(Tt),t=W(s=>s.chatBox.botMode),n=mt(),r=dt(),[o,i]=x.useState(!1),a=Zr({mutationFn:async s=>{if(!e||!n)return;i(!0),De.shouldAbort=!1,r(Vb(!1)),r(Ti({threadId:e,waiting:!0}));const l=qU($U({},s),{conversation_id:e,chatbot_id:n.id,is_audio_input:s.is_audio_input||!0,output_type:s.output_type||"avatai",stream:!0,audio_mime_type:s.mimeType}),c=Ia.createController(),{signal:u}=c,h=await fetch(`${Bt.chatHost}/api/v1/live_avatar/multi_input_chat_stream`,{method:"POST",signal:u,headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});let p=e;const d=h.headers.get("x-transcribed-text");try{const O={type:"user",text:d?new TextDecoder().decode(Uint8Array.from(atob(d),E=>E.charCodeAt(0))):""};r(Wn(O))}catch(O){window.console.error("file: usePostVoiceRecording.ts:73  mutationFn:  error:",O)}r(Us(!1)),i(!1);let f=0,g=5;Ht(t)&&(g=50);let m=!1;const v=[],y=O=>{var E;if((E=O.value)!=null&&E.audio)Ra.instance.addToQueue(O.value.audio);else{const C=NT(qU($U({},O.value),{done:O.done,stoppedByUser:O.stoppedByUser}));r(Wn(C))}},b=()=>{for(;v.length>0;){const O=v.shift();O&&y(O)}};let w,k={},_={};try{w=RR(h.body).getReader(),_=await w.read()}catch(O){window.console.error("file: usePostVoiceRecording.ts:53  mutationFn:  error:",O)}if(!w)throw new Error("Reader is undefined");for(;!_.done;){if(De.shouldAbort){Ia.abort(c),m=!0;break}const O=jn.getState();if(p=Tt(O),e!==p)break;v.push(_),(f===0||f%g==0)&&b(),f+=1,_=await w.read(),_.done||(k=_)}return b(),r(Ti({threadId:e,waiting:!1})),y({done:!0,value:k.value,stoppedByUser:m}),Ia.removeController(c),k.value}});return{postVoiceRecording:a.mutateAsync,isLoading:a.isPending,error:a.error,isUploading:o}};var nve=Object.defineProperty,Vr=(e,t,n)=>((r,o,i)=>o in r?nve(r,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[o]=i)(e,typeof t!="symbol"?t+"":t,n);const rve={audio:{autoGainControl:!0,echoCancellation:!0,noiseSuppression:!0}},no=new class{constructor(){Vr(this,"currentMediaStream"),Vr(this,"currentAudioContext"),Vr(this,"audioRecorder"),Vr(this,"isSpeaking",!1),Vr(this,"enableCheckAvatarVoice",!1),Vr(this,"enablePause",!1),Vr(this,"averageAvatarVolume",0),Vr(this,"avatarVoiceCount",0),Vr(this,"checkVolumeTaskId"),Vr(this,"shouldCancelRecord",!1),Vr(this,"shouldDestroyRecorder",!1),Vr(this,"chunks",[]),Vr(this,"silenceTimer"),Vr(this,"SILENCE_THRESHOLD",.1),Vr(this,"SILENCE_DURATION",1500),Vr(this,"isAutoRecording",!1)}async requestPermission(){var e;if((e=navigator==null?void 0:navigator.permissions)==null||!e.query)return"notSupported";try{return(await navigator.permissions.query({name:"microphone"})).state}catch(t){return window.console.error("Permission request failed:",t),"failed"}}async initRecorder({oninit:e,onsend:t,onInitFailed:n}){ee.log("initRecorder called");try{this.shouldDestroyRecorder=!1,this.shouldCancelRecord=!1,this.chunks=[];const r=await navigator.mediaDevices.getUserMedia(rve),o=await this.requestPermission();if(o!=="granted")return ee.log("initRecorder failed - permission not granted:",o),n==null||n(o),!1;if(this.shouldDestroyRecorder)return ee.log("initRecorder cancelled - shouldDestroyRecorder is true"),!1;if(this.currentAudioContext=new AudioContext,this.currentMediaStream=this.createFilterStream(r),!window.MediaRecorder)throw new Error("MediaRecorder not supported");return this.audioRecorder=new MediaRecorder(r),this.audioRecorder.addEventListener("dataavailable",i=>{this.shouldCancelRecord||i.data.size>0&&this.chunks.push(i.data)}),this.audioRecorder.addEventListener("stop",()=>{if(this.shouldCancelRecord||this.chunks.length===0)return void(this.chunks=[]);const i=new Blob(this.chunks,{type:this.chunks[0].type});(a=>new Promise((s,l)=>{const c=new FileReader;c.onload=()=>{const u=c.result.split(",")[1];s(u)},c.onerror=()=>{l(new Error("Failed to convert blob to base64"))},c.readAsDataURL(a)}))(i).then(a=>{const s=i.type.split(";");t==null||t(a,s.length>1?s[0]:i.type)}),this.chunks=[],this.stopRecord()}),e==null||e(),ee.log("initRecorder completed successfully"),!0}catch(r){return ee.log("initRecorder failed:",r),window.console.error("Recorder initialization failed:",r),r instanceof Error&&r.name==="NotAllowedError"&&window.console.warn("Please enable microphone access in your browser settings"),n==null||n("failed"),!1}}startRecord(e){var t,n;if(ee.log("startRecord called"),!this.audioRecorder||!this.currentMediaStream||!this.currentAudioContext)return ee.log("startRecord failed - recorder not initialized"),void window.console.error("Recorder not initialized");((t=this.audioRecorder)==null?void 0:t.state)==="inactive"&&(ee.log("Starting MediaRecorder..."),(n=this.audioRecorder)==null||n.start(1e3)),this.shouldCancelRecord=!1;const r=this.currentAudioContext.createMediaStreamSource(this.currentMediaStream),o=this.currentAudioContext.createAnalyser();r==null||r.connect(o),o.fftSize=2048;const i=o.frequencyBinCount,a=new Uint8Array(i);this.checkVolumeTaskId=window.setInterval(()=>{o.getByteFrequencyData(a);let s=0;for(let u=0;u<i;u++)s+=a[u]/30*(a[u]/30);const l=Math.sqrt(s/i),c=l<.01?0:l;(u=>{ht(fr.volumes)&&(fr.volumes=Po()),fr.volumes.length>=fr.maxVolumes&&fr.volumes.shift(),fr.volumes.push(u)})(c),this.enablePause&&(c<this.SILENCE_THRESHOLD?this.silenceTimer||(this.silenceTimer=setTimeout(()=>{var u;((u=this.audioRecorder)==null?void 0:u.state)==="recording"&&this.stopRecord()},this.SILENCE_DURATION)):this.silenceTimer&&(clearTimeout(this.silenceTimer),this.silenceTimer=void 0))},100)}createFilterStream(e){if(!this.currentAudioContext)return e;const t=this.currentAudioContext.createBiquadFilter();t.type="bandpass",t.frequency.value=1e3,t.Q.value=10;const n=this.currentAudioContext.createGain();n.gain.value=2.5;const r=this.currentAudioContext.createMediaStreamDestination();return this.currentAudioContext.createMediaStreamSource(e).connect(t),t.connect(n),n.connect(r),r.stream}stopRecord(){var e,t;this.currentMediaStream!==void 0&&(this.checkVolumeTaskId&&(clearInterval(this.checkVolumeTaskId),this.checkVolumeTaskId=void 0),this.silenceTimer&&(clearTimeout(this.silenceTimer),this.silenceTimer=void 0),((e=this.audioRecorder)==null?void 0:e.state)==="recording"&&((t=this.audioRecorder)==null||t.stop()),this.enableCheckAvatarVoice=!1,this.averageAvatarVolume=0,this.avatarVoiceCount=0)}cancelRecord(){this.shouldCancelRecord=!0,this.stopRecord()}destroyRecorder(){ee.log("destroyRecorder called"),this.shouldDestroyRecorder=!0,this.stopRecord(),this.cleanupRecorder()}cleanupRecorder(){var e;this.checkVolumeTaskId&&(clearInterval(this.checkVolumeTaskId),this.checkVolumeTaskId=void 0),this.silenceTimer&&(clearTimeout(this.silenceTimer),this.silenceTimer=void 0),(e=this.currentAudioContext)==null||e.close(),this.currentAudioContext=void 0,this.currentMediaStream&&(this.currentMediaStream.getAudioTracks().forEach(t=>t.stop()),this.currentMediaStream=void 0),this.audioRecorder=void 0}startAutoRecording({oninit:e,onsend:t,onInitFailed:n}){this.isAutoRecording=!0,this.enablePause=!0;const r=async()=>{this.isAutoRecording&&(this.cleanupRecorder(),await this.initRecorder({oninit:()=>{e==null||e(),this.enablePause=!0,this.startRecord()},onsend:async(o,i)=>{await(t==null?void 0:t(o,i)),this.isAutoRecording&&(this.enablePause=!0,setTimeout(r,100))},onInitFailed:n})||(this.isAutoRecording=!1,this.enablePause=!1))};r()}stopAutoRecording(e=!1){this.isAutoRecording=!1,this.enablePause=!1,e&&this.cancelRecord(),this.cleanupRecorder()}},ove=Zt.div`
  position: absolute;
  bottom: -2px;
  left: -1;
  display: flex;
  align-items: center;
  background: rgba(0, 0, 0, 0.8);
  padding: 6px;
  border-radius: 8px;
  gap: 16px;
  width: calc(100% + 2px);
`,ive=Zt.div`
  flex: 1;
  height: ${30}px;
  display: flex;
  align-items: center;
  gap: 2px;
  overflow: hidden;
`,ave=Zt.div`
  flex: 1;
  display: flex;
  align-items: center;
  gap: 2px;
  height: 100%;
`,sve=Zt.div`
  width: 3px;
  height: ${e=>e.height<0?"4px":`${Math.max(4,e.height)}px`};
  background: ${e=>e.height<0?"rgba(255, 255, 255, 0.2)":"white"};
  border-radius: 1px;
`,lve=Zt.div`
  color: white;
  font-size: 14px;
  min-width: 40px;
  text-align: right;
`,cve=()=>{var e;const t=dt(),n=W(b=>b.chatBox.isMicOn),r=W(b=>b.chatBox.botMode),{postVoiceRecording:o,isUploading:i}=WU(),a=W(b=>b.chatBox.streamDetails),{mutate:s}=fi(),[l,c]=x.useState(0),[u,h]=x.useState(Po()),p=W(b=>b.chatBox.chatBoxWidth),d=W(b=>b.chatBox.voiceControlPermissionState)==="granted",f=Br(),g=!((e=f==null?void 0:f.response_length)!=null&&e.enabled);x.useEffect(()=>{if(n)return no.initRecorder({oninit:()=>{t(Ah("granted")),no.startRecord()},onInitFailed:b=>{t(Ah(b)),t(Us(!1))},onsend:async(b,w)=>{let k="text";Ht(r)&&(k=a!=null&&a.agora_channel?"avatai":"audio"),o({output_type:k,question:b,mimeType:w})}}),()=>{no.destroyRecorder()}},[r,o,n,t,a]),x.useEffect(()=>{const b=p/400*40;fr.maxVolumes=Math.floor(b);const w=Po();h(w)},[p]),x.useEffect(()=>{let b,w;return n&&d&&(b=setInterval(()=>{c(k=>k+1)},1e3),w=setInterval(()=>{const k=[...fr.volumes].slice(-fr.maxVolumes);h(k)},100)),()=>{clearInterval(b),clearInterval(w),fr.volumes=Po(),h(Po()),c(0)}},[n,d]);const m=()=>{s({event_name:Lt.VoiceInputCancel}),t(Us(!1)),no.cancelRecord()},v=()=>{s({event_name:Lt.VoiceInputClose}),no.stopRecord()};if(!n&&!i)return null;const y=b=>{let w=[R(Jt,{radius:100,color:"gray.7",onClick:m,disabled:i,children:R(Fs,{style:{width:20}})},"cancel"),R(Jt,{autoContrast:!0,radius:100,variant:"filled",onClick:v,color:"gray.1",loading:i,disabled:i||l<1||!d,children:R(kT,{style:{width:"70%",height:"70%"}})},"confirm")];return g&&(w=w.reverse()),w[b]};return ce(ove,{children:[y(0),R(ive,{children:R(ave,{style:{width:5*u.length},children:u.map((b,w)=>R(sve,{height:Math.min(28*b,28)},w))})}),R(lve,{children:(b=>`${Math.floor(b/60)}:${(b%60).toString().padStart(2,"0")}`)(l)}),y(1)]})},uve=Zt.div`
  display: flex;
  align-items: center;
  /* background: rgba(0, 0, 0, 0.8); */
  padding: 6px 16px;
  border-radius: 8px;
  gap: 16px;
  width: calc(100% + 2px);
`,dve=Zt.div`
  flex: 1;
  height: ${30}px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 2px;
  overflow: hidden;
`,hve=Zt.div`
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 4px;
  height: 100%;
`,pve=Zt.div`
  width: 4px;
  height: ${e=>e.height<0?"4px":`${Math.max(4,e.height)}px`};
  background: ${e=>e.height<0?"#CED4DA":"#868E96"};
  border-radius: 1px;
`,mve=()=>{const e=dt(),t=W(d=>d.chatBox.isMicOn),n=W(d=>d.chatBox.botMode),{postVoiceRecording:r,isUploading:o}=WU(),i=W(d=>d.chatBox.streamDetails),{mutate:a}=fi(),[s,l]=x.useState(0),[c,u]=x.useState(Po()),h=W(d=>d.chatBox.chatBoxWidth),p=W(d=>d.chatBox.voiceControlPermissionState)==="granted";return x.useEffect(()=>{if(t)return no.initRecorder({oninit:()=>{e(Ah("granted")),no.startRecord()},onInitFailed:d=>{e(Ah(d)),e(Us(!1))},onsend:async(d,f)=>{let g="text";Ht(n)&&(g=i!=null&&i.agora_channel?"avatai":"audio"),r({output_type:g,question:d,mimeType:f})}}),()=>{no.destroyRecorder()}},[n,r,t,e,i]),x.useEffect(()=>{const d=h/400*50;fr.maxVolumes=Math.floor(d);const f=Po();u(f)},[h]),x.useEffect(()=>{let d,f;return t&&p&&(d=setInterval(()=>{l(g=>g+1)},1e3),f=setInterval(()=>{const g=[...fr.volumes].slice(-fr.maxVolumes);u(g)},100)),()=>{clearInterval(d),clearInterval(f),fr.volumes=Po(),u(Po()),l(0)}},[t,p]),t||o?ce(na,{h:"100%",w:"100%",gap:"0px",children:[R(uve,{children:R(dve,{children:R(hve,{style:{width:5*c.length},children:c.map((d,f)=>R(pve,{height:Math.min(28*d,28)},f))})})}),ce(Or,{ml:"auto",style:{paddingRight:"16px"},children:[R(Jt,{radius:100,color:"gray.7",onClick:()=>{a({event_name:Lt.VoiceInputCancel}),e(Us(!1)),no.cancelRecord()},disabled:o,children:R(Fs,{style:{width:20}})},"cancel"),R(Jt,{autoContrast:!0,radius:100,variant:"filled",onClick:()=>{a({event_name:Lt.VoiceInputClose}),no.stopRecord()},color:"gray.1",loading:o,disabled:o||s<1||!p,children:R(kT,{style:{width:"70%",height:"70%"}})},"confirm")]})]}):null};var fve=Object.defineProperty,gve=Object.defineProperties,vve=Object.getOwnPropertyDescriptors,GU=Object.getOwnPropertySymbols,bve=Object.prototype.hasOwnProperty,yve=Object.prototype.propertyIsEnumerable,KU=(e,t,n)=>t in e?fve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const wve=()=>{const e=W(Tt),t=mt(),n=dt();return Zr({mutationFn:async r=>{if(!e||!t||!r.question)return void ee.log("useRequestTranscribeAudio threadId or agent or data.question is missing. agent:",t," threadId:",e," data:",r);De.shouldAbort=!1,n(Vb(!1)),n(Ti({threadId:e,waiting:!0}));const o=((i,a)=>gve(i,vve(a)))(((i,a)=>{for(var s in a||(a={}))bve.call(a,s)&&KU(i,s,a[s]);if(GU)for(var s of GU(a))yve.call(a,s)&&KU(i,s,a[s]);return i})({},r),{conversation_id:e,chatbot_id:t.id,is_audio_input:!0,audio_mime_type:r.mimeType});try{const i=await fetch(`${Bt.chatHost}/api/v1/live_avatar/transcribe_audio`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return(await i.json()).transcribed_text}catch(i){return ee.error("Error transcribing audio:",i),""}}})},kve=Zt.div`
  display: flex;
  align-items: center;
  /* background: rgba(0, 0, 0, 0.8); */
  padding: 6px 16px;
  border-radius: 8px;
  gap: 16px;
  width: calc(100% + 2px);
`,xve=Zt.div`
  flex: 1;
  height: ${30}px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 2px;
  overflow: hidden;
`,_ve=Zt.div`
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 4px;
  height: 100%;
`,Tve=Zt.div`
  width: 4px;
  height: ${e=>e.height<0?"4px":`${Math.max(4,e.height)}px`};
  background: ${e=>e.height<0?"#CED4DA":"#868E96"};
  border-radius: 1px;
`,Sve=({handleSendClick:e})=>{const t=dt(),n=W(m=>m.chatBox.isMicOn),r=W(m=>m.chatBox.botMode),{mutateAsync:o,isPending:i}=wve(),a=W(m=>m.chatBox.streamDetails),{mutateAsync:s}=fi(),[l,c]=x.useState(0),[u,h]=x.useState(Po()),p=W(m=>m.chatBox.chatBoxWidth),d=W(m=>m.chatBox.voiceControlPermissionState),f=d==="granted",g=x.useRef(e);return x.useEffect(()=>{g.current=e},[e]),x.useEffect(()=>(ee.log("useEffect triggered"),no.initRecorder({oninit:()=>{ee.log("oninit callback fired"),t(Ah("granted"))},onInitFailed:m=>{ee.log("onInitFailed callback fired:",m),t(Ah(m))},onsend:async(m,v)=>{ee.log("onsend callback fired");const y=await o({question:m,mimeType:v});ee.log(" onsend: transcribedText:",y),g.current&&g.current(y),t(Us(!1))}}),()=>{ee.log("useEffect cleanup - destroying recorder"),no.destroyRecorder()}),[r,o,t,a]),x.useEffect(()=>{ee.log("Recording effect - isMicOn:",n,"voiceControlPermissionState:",d),n&&d==="granted"&&(ee.log("Starting recording..."),no.startRecord())},[n,d]),x.useEffect(()=>{const m=p/400*50;fr.maxVolumes=Math.floor(m);const v=Po();h(v)},[p]),x.useEffect(()=>{let m,v;return n&&f&&(m=setInterval(()=>{c(y=>y+1)},1e3),v=setInterval(()=>{const y=[...fr.volumes].slice(-fr.maxVolumes);h(y)},100)),()=>{clearInterval(m),clearInterval(v),fr.volumes=Po(),h(Po()),c(0)}},[n,f]),n||i?ce(na,{h:"100%",w:"100%",gap:"0px",children:[R(kve,{children:R(xve,{children:R(_ve,{style:{width:5*u.length},children:u.map((m,v)=>R(Tve,{height:Math.min(28*m,28)},v))})})}),ce(Or,{ml:"auto",style:{paddingRight:"16px"},children:[R(Jt,{radius:100,color:"gray.7",onClick:()=>{s({event_name:Lt.VoiceInputCancel}),t(Us(!1)),no.cancelRecord()},disabled:i,children:R(Fs,{style:{width:20}})},"cancel"),R(Jt,{autoContrast:!0,radius:100,variant:"filled",onClick:()=>{no.stopRecord(),s({event_name:Lt.VoiceInputClose})},color:"gray.1",loading:i,disabled:i||l<1||!f,children:R(kT,{style:{width:"70%",height:"70%"}})},"confirm")]})]}):null},h8=({handleSendClick:e})=>{const{isV1:t,isV2Avatar:n}=Nl();return t?R(cve,{}):n?R(Sve,{handleSendClick:e}):R(mve,{})};var Eve=Object.defineProperty,Cve=Object.defineProperties,Ove=Object.getOwnPropertyDescriptors,Qb=Object.getOwnPropertySymbols,YU=Object.prototype.hasOwnProperty,QU=Object.prototype.propertyIsEnumerable,XU=(e,t,n)=>t in e?Eve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JU=(e,t)=>{for(var n in t||(t={}))YU.call(t,n)&&XU(e,n,t[n]);if(Qb)for(var n of Qb(t))QU.call(t,n)&&XU(e,n,t[n]);return e},ZU=(e,t)=>Cve(e,Ove(t)),eH=(e,t)=>{var n={};for(var r in e)YU.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Qb)for(var r of Qb(e))t.indexOf(r)<0&&QU.call(e,r)&&(n[r]=e[r]);return n};const Pve=({progress:e,size:t,strokeWidth:n})=>{const r=(t-n)/2,o=2*Math.PI*r,i=o-e/100*o;return ce("svg",{width:t,height:t,viewBox:`0 0 ${t} ${t}`,xmlns:"http://www.w3.org/2000/svg",children:[R("circle",{cx:t/2,cy:t/2,r,fill:"none",stroke:"#e6e6e6",strokeWidth:n}),R("circle",{cx:t/2,cy:t/2,r,fill:"none",stroke:"#007bff",strokeWidth:n,strokeDasharray:o,strokeDashoffset:i,strokeLinecap:"round"})]})},p8=e=>{const{images:t,setImages:n,progressMap:r}=e,o=W(a=>a.hookState.isUploadingImage);if(ht(t))return null;const i=a=>{if(o){const s=r.get(a)||0;return R("div",{style:{position:"absolute",right:0,top:0,padding:4,transform:"rotate(-90deg)"},children:R(Pve,{progress:s,size:15,strokeWidth:3})})}return R(Yb,{onClick:()=>(s=>{n(l=>l.filter((c,u)=>u!==s))})(a),style:{position:"absolute",right:0,top:0},variant:"flat",color:"black",children:R(Fs,{})})};return R(Ave,{children:t.map((a,s)=>ce(Nve,{children:[R("img",{src:a.dataURL,alt:""}),i(s)]},s))})},Ave=tt(e=>{const t=e,{className:n}=t,r=eH(t,["className"]);return R("livex-chatbox-message-image-view",ZU(JU({},r),{class:n}))},{target:"e13izj6h1"})(e=>{const{disabled:t}=e,n={display:"flex",alignItems:"center",padding:8,position:"absolute",top:0,left:0};return t&&(n.cursor="not-allowed",n["& textarea"]={cursor:"not-allowed"}),n},""),Nve=tt(e=>{const t=e,{className:n}=t,r=eH(t,["className"]);return R("livex-chatbox-message-image-view-image-container",ZU(JU({},r),{class:n}))},{target:"e13izj6h0"})(()=>({border:"1px solid #e5e7eb",display:"flex",alignItems:"center",flexGrow:1,borderRadius:"0.5em",padding:8,width:100,height:100,position:"relative","& img":{width:"100%",height:"100%",objectFit:"contain"}}),"");function tH(e){return pt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 0 1 .865-.501 48.172 48.172 0 0 0 3.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"},child:[]}]})(e)}function Rve(e){return pt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"},child:[]}]})(e)}function Ive(e){return pt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M10.5 3.75a.75.75 0 0 0-1.264-.546L5.203 7H2.667a.75.75 0 0 0-.7.48A6.985 6.985 0 0 0 1.5 10c0 .887.165 1.737.468 2.52.111.29.39.48.7.48h2.535l4.033 3.796a.75.75 0 0 0 1.264-.546V3.75ZM16.45 5.05a.75.75 0 0 0-1.06 1.061 5.5 5.5 0 0 1 0 7.778.75.75 0 0 0 1.06 1.06 7 7 0 0 0 0-9.899Z"},child:[]},{tag:"path",attr:{d:"M14.329 7.172a.75.75 0 0 0-1.061 1.06 2.5 2.5 0 0 1 0 3.536.75.75 0 0 0 1.06 1.06 4 4 0 0 0 0-5.656Z"},child:[]}]})(e)}function Mve(e){return pt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M10.047 3.062a.75.75 0 0 1 .453.688v12.5a.75.75 0 0 1-1.264.546L5.203 13H2.667a.75.75 0 0 1-.7-.48A6.985 6.985 0 0 1 1.5 10c0-.887.165-1.737.468-2.52a.75.75 0 0 1 .7-.48h2.535l4.033-3.796a.75.75 0 0 1 .811-.142ZM13.78 7.22a.75.75 0 1 0-1.06 1.06L14.44 10l-1.72 1.72a.75.75 0 0 0 1.06 1.06l1.72-1.72 1.72 1.72a.75.75 0 1 0 1.06-1.06L16.56 10l1.72-1.72a.75.75 0 0 0-1.06-1.06L15.5 8.94l-1.72-1.72Z"},child:[]}]})(e)}const m8=()=>{const[e,t]=x.useState(!1),n=W(r=>r.chatBox.stopRequestedAt);return x.useEffect(()=>{if(n){t(!0);const r=setTimeout(()=>{t(!1)},2e3);return()=>clearTimeout(r)}},[n]),R(ni,{mounted:e,transition:"fade-up",duration:300,timingFunction:"ease-out",children:r=>R(Lve,{style:r,children:"Stop Requested..."})})},Lve=tt("div",{target:"e1bkyjkp0"})({name:"twdfza",styles:"position:absolute;right:0px;top:-42px;padding:4px;background-color:rgba(255, 255, 255, 0.8);border-radius:4px"});function Dve(e){return pt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2 160 448c0 17.7 14.3 32 32 32s32-14.3 32-32l0-306.7L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"},child:[]}]})(e)}function jve(e){return pt({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14.5 1.5a.5.5 0 0 1 .5.5v4.8a2.5 2.5 0 0 1-2.5 2.5H2.707l3.347 3.346a.5.5 0 0 1-.708.708l-4.2-4.2a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 8.3H12.5A1.5 1.5 0 0 0 14 6.8V2a.5.5 0 0 1 .5-.5"},child:[]}]})(e)}function zve(e){return pt({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2 15.5V2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.74.439L8 13.069l-5.26 2.87A.5.5 0 0 1 2 15.5M6.854 5.146a.5.5 0 1 0-.708.708L7.293 7 6.146 8.146a.5.5 0 1 0 .708.708L8 7.707l1.146 1.147a.5.5 0 1 0 .708-.708L8.707 7l1.147-1.146a.5.5 0 0 0-.708-.708L8 6.293z"},child:[]}]})(e)}function Fve(e){return pt({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6.146 5.146a.5.5 0 0 1 .708 0L8 6.293l1.146-1.147a.5.5 0 1 1 .708.708L8.707 7l1.147 1.146a.5.5 0 0 1-.708.708L8 7.707 6.854 8.854a.5.5 0 1 1-.708-.708L7.293 7 6.146 5.854a.5.5 0 0 1 0-.708"},child:[]},{tag:"path",attr:{d:"M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1z"},child:[]}]})(e)}function Bve(e){return pt({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.854.146a.5.5 0 0 1 .11.54l-5.819 14.547a.75.75 0 0 1-1.329.124l-3.178-4.995L.643 7.184a.75.75 0 0 1 .124-1.33L15.314.037a.5.5 0 0 1 .54.11ZM6.636 10.07l2.761 4.338L14.13 2.576zm6.787-8.201L1.591 6.602l4.339 2.76z"},child:[]}]})(e)}function Uve(e){return pt({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3m5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3m5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3"},child:[]}]})(e)}var Hve=Object.defineProperty,Vve=Object.defineProperties,$ve=Object.getOwnPropertyDescriptors,Xb=Object.getOwnPropertySymbols,nH=Object.prototype.hasOwnProperty,rH=Object.prototype.propertyIsEnumerable,oH=(e,t,n)=>t in e?Hve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rm=(e,t)=>{for(var n in t||(t={}))nH.call(t,n)&&oH(e,n,t[n]);if(Xb)for(var n of Xb(t))rH.call(t,n)&&oH(e,n,t[n]);return e};const iH=e=>{var t=e,{children:n,disabled:r=!1,disabledStyle:o,style:i,onClick:a}=t,s=((c,u)=>{var h={};for(var p in c)nH.call(c,p)&&u.indexOf(p)<0&&(h[p]=c[p]);if(c!=null&&Xb)for(var p of Xb(c))u.indexOf(p)<0&&rH.call(c,p)&&(h[p]=c[p]);return h})(t,["children","disabled","disabledStyle","style","onClick"]);let l=Rm({},i);return r&&(l=Rm(Rm(Rm({},l),{opacity:.4,cursor:"not-allowed",color:"var(--mantine-color-gray-5)"}),o||{})),R(Jt,((c,u)=>Vve(c,$ve(u)))(Rm({},s),{disabled:!1,variant:s.variant||"filled",style:l,onClick:()=>{ee.log("LiveXActionIcon onClick. disabled: ",r),r||a==null||a()},children:n}))},Jb=({handleSendClick:e})=>{const t=dt(),{t:n}=Nr(),r=W(w=>w.chatBox.botMode),o=W(w=>w.chatBox.isAvatarSpeaking),i=W(w=>w.chatBox.isMicOn),a=W(w=>w.chatBox.composedMessage),s=W(Tt),l=wu(),c=Br(),{isV4:u}=Pl(),{isV2Avatar:h}=Nl(),{primary_color:p}=pn(),d=Wl(),f=pu(),{mutate:g}=Cb(),{onConnectButtonClicked:m}=ra(),v=d||f||i,y=()=>{Ht(r)&&g(),De.shouldAbort=!0,t(xi(!1)),s&&t(Ti({threadId:s,waiting:!1}))};if(i)return null;let b=c==null?void 0:c.use_conversation_mode;return Ht(r)&&(b=u),ce(Or,{style:{display:"flex",alignItems:"center",flexWrap:"nowrap",gap:"var(--message-composer-icon-gap, 8px)"},children:[ht(a)&&!d&&b?h?null:R(Eo,{label:n("conversation_mode"),children:R(nt,{children:R(Jt,{radius:100,color:p,variant:"filled",disabled:v,onClick:()=>{t(Nh("voice")),m()},style:{width:"var(--message-composer-icon-size, 20px)",height:"var(--message-composer-icon-size, 20px)"},children:R(Dme,{style:{width:"70%",height:"70%"}})})})}):R(Eo,{label:n("send"),children:R(nt,{children:h?R(iH,{color:"var(--message-composer-icon-color, rgba(134, 142, 150, 1))",disabled:v||ht(a)||!l,onClick:e,variant:"subtle",disabledStyle:{backgroundColor:"transparent"},style:{width:"var(--message-composer-icon-size, 20px)",height:"var(--message-composer-icon-size, 20px)",alignItems:"center",display:"flex"},children:R(Bve,{style:{width:"90%",height:"90%"}})}):R(Jt,{style:{borderRadius:"100%",width:"var(--message-composer-icon-size, 20px)",height:"var(--message-composer-icon-size, 20px)"},color:p,variant:"filled",disabled:v||ht(a)||!l,onClick:e,children:R(Dve,{style:{width:"70%",height:"70%"}})})})}),R(Eo,{label:n("stop"),children:R(nt,{children:h?R(iH,{color:"var(--message-composer-icon-color, rgba(134, 142, 150, 1))",disabled:!o,onClick:y,disabledStyle:{backgroundColor:"transparent"},variant:"subtle",style:{width:"var(--message-composer-icon-size, 20px)",height:"var(--message-composer-icon-size, 20px)",alignItems:"center",display:"flex"},children:R(Gme,{})}):R(Jt,{radius:100,color:p,variant:"filled",onClick:y,disabled:!o,style:{width:"var(--message-composer-icon-size, 20px)",height:"var(--message-composer-icon-size, 20px)",alignItems:"center",display:"flex"},children:R(lB,{})})})})]})};var qve=Object.defineProperty,Wve=Object.defineProperties,Gve=Object.getOwnPropertyDescriptors,aH=Object.getOwnPropertySymbols,Kve=Object.prototype.hasOwnProperty,Yve=Object.prototype.propertyIsEnumerable,sH=(e,t,n)=>t in e?qve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qve=(e,t)=>{for(var n in t||(t={}))Kve.call(t,n)&&sH(e,n,t[n]);if(aH)for(var n of aH(t))Yve.call(t,n)&&sH(e,n,t[n]);return e},Xve=(e,t)=>Wve(e,Gve(t));const f8=()=>{const e=dt(),t=W(f=>f.chatBox.isMicOn),n=n8(),r=W(f=>f.chatBox.botMode),o=W(f=>f.chatBox.isAvatarSpeaking),i=W(f=>f.chatBox.voiceControlPermissionState),{isV4:a}=Pl(),{text_input_icon_color:s}=pn(),{mutate:l}=Cb(),{mutate:c}=fi(),u=wu(),h=!!i&&i!=="granted"||!u,p=t?uB:fm,d=!t&&!n;return Ht(r)&&a?null:R(ni,{mounted:d,transition:"scale",duration:200,timingFunction:"ease",children:f=>R(Eo,{disabled:!h,label:h?"Please allow microphone access":"",position:"top-start",children:R(Jt,{color:s,variant:"subtle",disabled:h,style:Xve(Qve({},f),{transformOrigin:"center",color:"var(--message-composer-icon-color, rgba(134, 142, 150, 1))",width:"var(--message-composer-icon-size, 20px)",height:"var(--message-composer-icon-size, 20px)"}),onClick:()=>{c({event_name:Lt.VoiceInputStart}),Ht(r)&&o&&l(),De.shouldAbort=!0,e(Us(!0))},children:R(p,{style:{width:"90%",height:"90%"}})})})})};var Jve=Object.defineProperty,Zve=Object.defineProperties,ebe=Object.getOwnPropertyDescriptors,lH=Object.getOwnPropertySymbols,tbe=Object.prototype.hasOwnProperty,nbe=Object.prototype.propertyIsEnumerable,cH=(e,t,n)=>t in e?Jve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uH=(e,t)=>{for(var n in t||(t={}))tbe.call(t,n)&&cH(e,n,t[n]);if(lH)for(var n of lH(t))nbe.call(t,n)&&cH(e,n,t[n]);return e},dH=(e,t)=>Zve(e,ebe(t));const rbe=()=>{const e=W(Tt),t=mt(),n=dt(),r=W(i=>i.hookState.isUploadingFile),o=Zr({mutationFn:i=>(async a=>{const{file:s,conversationId:l,chatbotId:c}=a;if(!l||!c||!s)throw new Error("conversationId, chatbotId or file is missing");const u=new FormData;u.append("file",s),u.append("conversation_id",l),u.append("chatbot_id",c);const h=`${Bt.chatHost}/api/live_chat_upload_file`;return(await Mt.post(h,u,{headers:{"Content-Type":"multipart/form-data"}})).data})(dH(uH({},i),{chatbotId:t==null?void 0:t.id,conversationId:e})),onMutate:()=>{n(zA(!0))},onSettled:()=>{n(zA(!1))}});return dH(uH({},o),{isUploadingFile:r})};var hH,pH,g8,mH,v8,fH,b8,gH,y8,vH,w8,bH,k8,yH,wH,kH,xH,_H,TH,SH,EH,CH,OH,PH,AH,NH,RH,IH,MH,LH,x8,DH,_8,jH,zH,FH,T8,BH,UH,HH,VH,$H,S8,qH,E8,WH,GH,KH,YH,QH,C8,XH,JH,ZH,eV,tV,nV,rV,oV,iV,O8,aV,sV,lV,P8,cV,uV,dV,hV,pV,mV,fV,A8,gV,N8,vV,R8,bV,I8,yV,M8,wV,kV,xV,L8,_V,TV,SV,EV,CV,OV,PV,D8,AV,j8,NV,z8,RV,IV,MV,F8,LV,DV,jV,zV,FV,BV,UV;function HV(){return mH||(mH=1,g8=function(e,t){return e===t||e!=e&&t!=t}),g8}function Zb(){if(fH)return v8;fH=1;var e=HV();return v8=function(t,n){for(var r=t.length;r--;)if(e(t[r][0],n))return r;return-1},v8}function ey(){if(kH)return wH;kH=1;var e=pH?hH:(pH=1,hH=function(){this.__data__=[],this.size=0}),t=function(){if(gH)return b8;gH=1;var a=Zb(),s=Array.prototype.splice;return b8=function(l){var c=this.__data__,u=a(c,l);return!(u<0||(u==c.length-1?c.pop():s.call(c,u,1),--this.size,0))},b8}(),n=function(){if(vH)return y8;vH=1;var a=Zb();return y8=function(s){var l=this.__data__,c=a(l,s);return c<0?void 0:l[c][1]},y8}(),r=function(){if(bH)return w8;bH=1;var a=Zb();return w8=function(s){return a(this.__data__,s)>-1},w8}(),o=function(){if(yH)return k8;yH=1;var a=Zb();return k8=function(s,l){var c=this.__data__,u=a(c,s);return u<0?(++this.size,c.push([s,l])):c[u][1]=l,this},k8}();function i(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var c=a[s];this.set(c[0],c[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=o,wH=i}function VV(){if(NH)return AH;NH=1;var e=typeof M0=="object"&&M0&&M0.Object===Object&&M0;return AH=e}function Za(){if(IH)return RH;IH=1;var e=VV(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return RH=n}function B8(){if(LH)return MH;LH=1;var e=Za().Symbol;return MH=e}function ty(){if(FH)return zH;FH=1;var e=B8(),t=function(){if(DH)return x8;DH=1;var o=B8(),i=Object.prototype,a=i.hasOwnProperty,s=i.toString,l=o?o.toStringTag:void 0;return x8=function(c){var u=a.call(c,l),h=c[l];try{c[l]=void 0;var p=!0}catch{}var d=s.call(c);return p&&(u?c[l]=h:delete c[l]),d},x8}(),n=function(){if(jH)return _8;jH=1;var o=Object.prototype.toString;return _8=function(i){return o.call(i)},_8}(),r=e?e.toStringTag:void 0;return zH=function(o){return o==null?o===void 0?"[object Undefined]":"[object Null]":r&&r in Object(o)?t(o):n(o)}}function Im(){return BH||(BH=1,T8=function(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}),T8}function $V(){if(HH)return UH;HH=1;var e=ty(),t=Im();return UH=function(n){if(!t(n))return!1;var r=e(n);return r=="[object Function]"||r=="[object GeneratorFunction]"||r=="[object AsyncFunction]"||r=="[object Proxy]"}}function obe(){if(qH)return S8;qH=1;var e=function(){if($H)return VH;$H=1;var n=Za()["__core-js_shared__"];return VH=n}(),t=function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();return S8=function(n){return!!t&&t in n},S8}function qV(){if(WH)return E8;WH=1;var e=Function.prototype.toString;return E8=function(t){if(t!=null){try{return e.call(t)}catch{}try{return t+""}catch{}}return""},E8}function xu(){if(XH)return C8;XH=1;var e=function(){if(KH)return GH;KH=1;var n=$V(),r=obe(),o=Im(),i=qV(),a=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,c=s.toString,u=l.hasOwnProperty,h=RegExp("^"+c.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return GH=function(p){return!(!o(p)||r(p))&&(n(p)?h:a).test(i(p))}}(),t=(QH||(QH=1,YH=function(n,r){return n==null?void 0:n[r]}),YH);return C8=function(n,r){var o=t(n,r);return e(o)?o:void 0},C8}function U8(){if(ZH)return JH;ZH=1;var e=xu()(Za(),"Map");return JH=e}function ny(){if(tV)return eV;tV=1;var e=xu()(Object,"create");return eV=e}function ibe(){if(dV)return uV;dV=1;var e=function(){if(rV)return nV;rV=1;var a=ny();return nV=function(){this.__data__=a?a(null):{},this.size=0}}(),t=(iV||(iV=1,oV=function(a){var s=this.has(a)&&delete this.__data__[a];return this.size-=s?1:0,s}),oV),n=function(){if(aV)return O8;aV=1;var a=ny(),s=Object.prototype.hasOwnProperty;return O8=function(l){var c=this.__data__;if(a){var u=c[l];return u==="__lodash_hash_undefined__"?void 0:u}return s.call(c,l)?c[l]:void 0},O8}(),r=function(){if(lV)return sV;lV=1;var a=ny(),s=Object.prototype.hasOwnProperty;return sV=function(l){var c=this.__data__;return a?c[l]!==void 0:s.call(c,l)}}(),o=function(){if(cV)return P8;cV=1;var a=ny();return P8=function(s,l){var c=this.__data__;return this.size+=this.has(s)?0:1,c[s]=a&&l===void 0?"__lodash_hash_undefined__":l,this},P8}();function i(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var c=a[s];this.set(c[0],c[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=o,uV=i}function ry(){if(gV)return A8;gV=1;var e=(fV||(fV=1,mV=function(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}),mV);return A8=function(t,n){var r=t.__data__;return e(n)?r[typeof n=="string"?"string":"hash"]:r.map},A8}function abe(){if(xV)return kV;xV=1;var e=function(){if(pV)return hV;pV=1;var a=ibe(),s=ey(),l=U8();return hV=function(){this.size=0,this.__data__={hash:new a,map:new(l||s),string:new a}}}(),t=function(){if(vV)return N8;vV=1;var a=ry();return N8=function(s){var l=a(this,s).delete(s);return this.size-=l?1:0,l},N8}(),n=function(){if(bV)return R8;bV=1;var a=ry();return R8=function(s){return a(this,s).get(s)},R8}(),r=function(){if(yV)return I8;yV=1;var a=ry();return I8=function(s){return a(this,s).has(s)},I8}(),o=function(){if(wV)return M8;wV=1;var a=ry();return M8=function(s,l){var c=a(this,s),u=c.size;return c.set(s,l),this.size+=c.size==u?0:1,this},M8}();function i(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var c=a[s];this.set(c[0],c[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=o,kV=i}function sbe(){if(SV)return TV;SV=1;var e=ey(),t=function(){if(_H)return xH;_H=1;var s=ey();return xH=function(){this.__data__=new s,this.size=0}}(),n=(SH||(SH=1,TH=function(s){var l=this.__data__,c=l.delete(s);return this.size=l.size,c}),TH),r=(CH||(CH=1,EH=function(s){return this.__data__.get(s)}),EH),o=(PH||(PH=1,OH=function(s){return this.__data__.has(s)}),OH),i=function(){if(_V)return L8;_V=1;var s=ey(),l=U8(),c=abe();return L8=function(u,h){var p=this.__data__;if(p instanceof s){var d=p.__data__;if(!l||d.length<199)return d.push([u,h]),this.size=++p.size,this;p=this.__data__=new c(d)}return p.set(u,h),this.size=p.size,this},L8}();function a(s){var l=this.__data__=new e(s);this.size=l.size}return a.prototype.clear=t,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=o,a.prototype.set=i,TV=a}function WV(){if(AV)return D8;AV=1;var e=function(){if(PV)return OV;PV=1;var t=xu(),n=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return OV=n}();return D8=function(t,n,r){n=="__proto__"&&e?e(t,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[n]=r},D8}function GV(){if(NV)return j8;NV=1;var e=WV(),t=HV(),n=Object.prototype.hasOwnProperty;return j8=function(r,o,i){var a=r[o];(!n.call(r,o)||!t(a,i)||i===void 0&&!(o in r))&&e(r,o,i)},j8}function oy(){if(RV)return z8;RV=1;var e=GV(),t=WV();return z8=function(n,r,o,i){var a=!o;o||(o={});for(var s=-1,l=r.length;++s<l;){var c=r[s],u=i?i(o[c],n[c],c,o,n):void 0;u===void 0&&(u=n[c]),a?t(o,c,u):e(o,c,u)}return o},z8}function Mm(){return LV||(LV=1,F8=function(e){return e!=null&&typeof e=="object"}),F8}function lbe(){if(FV)return zV;FV=1;var e=function(){if(jV)return DV;jV=1;var a=ty(),s=Mm();return DV=function(l){return s(l)&&a(l)=="[object Arguments]"}}(),t=Mm(),n=Object.prototype,r=n.hasOwnProperty,o=n.propertyIsEnumerable,i=e(function(){return arguments}())?e:function(a){return t(a)&&r.call(a,"callee")&&!o.call(a,"callee")};return zV=i}function H8(){if(UV)return BV;UV=1;var e=Array.isArray;return BV=e}var KV,YV,QV,V8,XV,$8,JV,q8,ZV,W8,e$,iy={exports:{}};function t$(){return QV||(QV=1,function(e,t){var n=Za(),r=YV?KV:(YV=1,KV=function(){return!1}),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o?n.Buffer:void 0,s=(a?a.isBuffer:void 0)||r;e.exports=s}(iy,iy.exports)),iy.exports}function n$(){return JV?$8:(JV=1,$8=function(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991},$8)}function G8(){return e$||(e$=1,W8=function(e){return function(t){return e(t)}}),W8}iy.exports;var r$,o$,i$,K8,a$,Y8,s$,Q8,l$,c$,u$,X8,d$,J8,h$,p$,m$,Z8,f$,g$,v$,eS,b$,y$,w$,tS,k$,ay={exports:{}};function nS(){return r$||(r$=1,function(e,t){var n=VV(),r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,i=o&&o.exports===r&&n.process,a=function(){try{return o&&o.require&&o.require("util").types||i&&i.binding&&i.binding("util")}catch{}}();e.exports=a}(ay,ay.exports)),ay.exports}function cbe(){if(i$)return o$;i$=1;var e=function(){if(ZV)return q8;ZV=1;var i=ty(),a=n$(),s=Mm(),l={};return l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l["[object Arguments]"]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l["[object Function]"]=l["[object Map]"]=l["[object Number]"]=l["[object Object]"]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object WeakMap]"]=!1,q8=function(c){return s(c)&&a(c.length)&&!!l[i(c)]},q8}(),t=G8(),n=nS(),r=n&&n.isTypedArray,o=r?t(r):e;return o$=o}function x$(){if(a$)return K8;a$=1;var e=(MV||(MV=1,IV=function(s,l){for(var c=-1,u=Array(s);++c<s;)u[c]=l(c);return u}),IV),t=lbe(),n=H8(),r=t$(),o=function(){if(XV)return V8;XV=1;var s=/^(?:0|[1-9]\d*)$/;return V8=function(l,c){var u=typeof l;return!!(c=c??9007199254740991)&&(u=="number"||u!="symbol"&&s.test(l))&&l>-1&&l%1==0&&l<c},V8}(),i=cbe(),a=Object.prototype.hasOwnProperty;return K8=function(s,l){var c=n(s),u=!c&&t(s),h=!c&&!u&&r(s),p=!c&&!u&&!h&&i(s),d=c||u||h||p,f=d?e(s.length,String):[],g=f.length;for(var m in s)(l||a.call(s,m))&&(!d||!(m=="length"||h&&(m=="offset"||m=="parent")||p&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||o(m,g)))&&f.push(m);return f},K8}function rS(){if(s$)return Y8;s$=1;var e=Object.prototype;return Y8=function(t){var n=t&&t.constructor;return t===(typeof n=="function"&&n.prototype||e)},Y8}function _$(){return l$||(l$=1,Q8=function(e,t){return function(n){return e(t(n))}}),Q8}function ube(){if(d$)return X8;d$=1;var e=rS(),t=function(){if(u$)return c$;u$=1;var r=_$()(Object.keys,Object);return c$=r}(),n=Object.prototype.hasOwnProperty;return X8=function(r){if(!e(r))return t(r);var o=[];for(var i in Object(r))n.call(r,i)&&i!="constructor"&&o.push(i);return o},X8}function T$(){if(h$)return J8;h$=1;var e=$V(),t=n$();return J8=function(n){return n!=null&&t(n.length)&&!e(n)},J8}function oS(){if(m$)return p$;m$=1;var e=x$(),t=ube(),n=T$();return p$=function(r){return n(r)?e(r):t(r)}}function dbe(){if(b$)return eS;b$=1;var e=Im(),t=rS(),n=(v$||(v$=1,g$=function(o){var i=[];if(o!=null)for(var a in Object(o))i.push(a);return i}),g$),r=Object.prototype.hasOwnProperty;return eS=function(o){if(!e(o))return n(o);var i=t(o),a=[];for(var s in o)s=="constructor"&&(i||!r.call(o,s))||a.push(s);return a},eS}function iS(){if(w$)return y$;w$=1;var e=x$(),t=dbe(),n=T$();return y$=function(r){return n(r)?e(r,!0):t(r)}}ay.exports;var S$,E$,C$,O$,P$,A$,N$,R$,I$,aS,M$,sS,L$,D$,j$,z$,F$,lS,B$,cS,U$,H$,V$,$$,q$,W$,G$,K$,Y$,Q$,X$,J$,Z$,eq,tq,uS,nq,rq,oq,dS,iq,hS,aq,pS,sq,lq,cq,mS,uq,fS,dq,hq,pq,mq,fq,gq,vq,bq,yq,wq,kq,xq,_q,gS,Tq,Sq,Eq,sy={exports:{}};function Cq(){return N$?A$:(N$=1,A$=function(){return[]})}function vS(){if(I$)return R$;I$=1;var e=(P$||(P$=1,O$=function(i,a){for(var s=-1,l=i==null?0:i.length,c=0,u=[];++s<l;){var h=i[s];a(h,s,i)&&(u[c++]=h)}return u}),O$),t=Cq(),n=Object.prototype.propertyIsEnumerable,r=Object.getOwnPropertySymbols,o=r?function(i){return i==null?[]:(i=Object(i),e(r(i),function(a){return n.call(i,a)}))}:t;return R$=o}function Oq(){return L$||(L$=1,sS=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}),sS}function Pq(){if(j$)return D$;j$=1;var e=_$()(Object.getPrototypeOf,Object);return D$=e}function Aq(){if(F$)return z$;F$=1;var e=Oq(),t=Pq(),n=vS(),r=Cq(),o=Object.getOwnPropertySymbols?function(i){for(var a=[];i;)e(a,n(i)),i=t(i);return a}:r;return z$=o}function Nq(){if(U$)return cS;U$=1;var e=Oq(),t=H8();return cS=function(n,r,o){var i=r(n);return t(n)?i:e(i,o(n))},cS}function bS(){if(tq)return eq;tq=1;var e=function(){if(G$)return W$;G$=1;var y=xu()(Za(),"DataView");return W$=y}(),t=U8(),n=function(){if(Y$)return K$;Y$=1;var y=xu()(Za(),"Promise");return K$=y}(),r=function(){if(X$)return Q$;X$=1;var y=xu()(Za(),"Set");return Q$=y}(),o=function(){if(Z$)return J$;Z$=1;var y=xu()(Za(),"WeakMap");return J$=y}(),i=ty(),a=qV(),s="[object Map]",l="[object Promise]",c="[object Set]",u="[object WeakMap]",h="[object DataView]",p=a(e),d=a(t),f=a(n),g=a(r),m=a(o),v=i;return(e&&v(new e(new ArrayBuffer(1)))!=h||t&&v(new t)!=s||n&&v(n.resolve())!=l||r&&v(new r)!=c||o&&v(new o)!=u)&&(v=function(y){var b=i(y),w=b=="[object Object]"?y.constructor:void 0,k=w?a(w):"";if(k)switch(k){case p:return h;case d:return s;case f:return l;case g:return c;case m:return u}return b}),eq=v}function yS(){if(iq)return dS;iq=1;var e=function(){if(oq)return rq;oq=1;var t=Za().Uint8Array;return rq=t}();return dS=function(t){var n=new t.constructor(t.byteLength);return new e(n).set(new e(t)),n},dS}function hbe(){if(dq)return fS;dq=1;var e=yS(),t=function(){if(aq)return hS;aq=1;var i=yS();return hS=function(a,s){var l=s?i(a.buffer):a.buffer;return new a.constructor(l,a.byteOffset,a.byteLength)},hS}(),n=function(){if(sq)return pS;sq=1;var i=/\w*$/;return pS=function(a){var s=new a.constructor(a.source,i.exec(a));return s.lastIndex=a.lastIndex,s},pS}(),r=function(){if(cq)return lq;cq=1;var i=B8(),a=i?i.prototype:void 0,s=a?a.valueOf:void 0;return lq=function(l){return s?Object(s.call(l)):{}}}(),o=function(){if(uq)return mS;uq=1;var i=yS();return mS=function(a,s){var l=s?i(a.buffer):a.buffer;return new a.constructor(l,a.byteOffset,a.length)},mS}();return fS=function(i,a,s){var l=i.constructor;switch(a){case"[object ArrayBuffer]":return e(i);case"[object Boolean]":case"[object Date]":return new l(+i);case"[object DataView]":return t(i,s);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return o(i,s);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(i);case"[object RegExp]":return n(i);case"[object Symbol]":return r(i)}},fS}function pbe(){if(fq)return mq;fq=1;var e=function(){if(pq)return hq;pq=1;var r=Im(),o=Object.create,i=function(){function a(){}return function(s){if(!r(s))return{};if(o)return o(s);a.prototype=s;var l=new a;return a.prototype=void 0,l}}();return hq=i}(),t=Pq(),n=rS();return mq=function(r){return typeof r.constructor!="function"||n(r)?{}:e(t(r))}}function mbe(){if(yq)return bq;yq=1;var e=function(){if(vq)return gq;vq=1;var i=bS(),a=Mm();return gq=function(s){return a(s)&&i(s)=="[object Map]"}}(),t=G8(),n=nS(),r=n&&n.isMap,o=r?t(r):e;return bq=o}function fbe(){if(_q)return xq;_q=1;var e=function(){if(kq)return wq;kq=1;var i=bS(),a=Mm();return wq=function(s){return a(s)&&i(s)=="[object Set]"}}(),t=G8(),n=nS(),r=n&&n.isSet,o=r?t(r):e;return xq=o}function gbe(){if(Tq)return gS;Tq=1;var e=sbe(),t=(CV||(CV=1,EV=function(N,L){for(var j=-1,H=N==null?0:N.length;++j<H&&L(N[j],j,N)!==!1;);return N}),EV),n=GV(),r=function(){if(f$)return Z8;f$=1;var N=oy(),L=oS();return Z8=function(j,H){return j&&N(H,L(H),j)},Z8}(),o=function(){if(k$)return tS;k$=1;var N=oy(),L=iS();return tS=function(j,H){return j&&N(H,L(H),j)},tS}(),i=(S$||(S$=1,function(N,L){var j=Za(),H=L&&!L.nodeType&&L,F=H&&N&&!N.nodeType&&N,z=F&&F.exports===H?j.Buffer:void 0,B=z?z.allocUnsafe:void 0;N.exports=function(V,U){if(U)return V.slice();var S=V.length,q=B?B(S):new V.constructor(S);return V.copy(q),q}}(sy,sy.exports)),sy.exports),a=(C$||(C$=1,E$=function(N,L){var j=-1,H=N.length;for(L||(L=Array(H));++j<H;)L[j]=N[j];return L}),E$),s=function(){if(M$)return aS;M$=1;var N=oy(),L=vS();return aS=function(j,H){return N(j,L(j),H)},aS}(),l=function(){if(B$)return lS;B$=1;var N=oy(),L=Aq();return lS=function(j,H){return N(j,L(j),H)},lS}(),c=function(){if(V$)return H$;V$=1;var N=Nq(),L=vS(),j=oS();return H$=function(H){return N(H,j,L)}}(),u=function(){if(q$)return $$;q$=1;var N=Nq(),L=Aq(),j=iS();return $$=function(H){return N(H,j,L)}}(),h=bS(),p=function(){if(nq)return uS;nq=1;var N=Object.prototype.hasOwnProperty;return uS=function(L){var j=L.length,H=new L.constructor(j);return j&&typeof L[0]=="string"&&N.call(L,"index")&&(H.index=L.index,H.input=L.input),H},uS}(),d=hbe(),f=pbe(),g=H8(),m=t$(),v=mbe(),y=Im(),b=fbe(),w=oS(),k=iS(),_="[object Arguments]",O="[object Function]",E="[object Object]",C={};return C[_]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object DataView]"]=C["[object Boolean]"]=C["[object Date]"]=C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Map]"]=C["[object Number]"]=C[E]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object Symbol]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Error]"]=C[O]=C["[object WeakMap]"]=!1,gS=function N(L,j,H,F,z,B){var V,U=1&j,S=2&j,q=4&j;if(H&&(V=z?H(L,F,z,B):H(L)),V!==void 0)return V;if(!y(L))return L;var P=g(L);if(P){if(V=p(L),!U)return a(L,V)}else{var Q=h(L),re=Q==O||Q=="[object GeneratorFunction]";if(m(L))return i(L,U);if(Q==E||Q==_||re&&!z){if(V=S||re?{}:f(L),!U)return S?l(L,o(V,L)):s(L,r(V,L))}else{if(!C[Q])return z?L:{};V=d(L,Q,U)}}B||(B=new e);var _e=B.get(L);if(_e)return _e;B.set(L,V),b(L)?L.forEach(function(ue){V.add(N(ue,j,H,ue,L,B))}):v(L)&&L.forEach(function(ue,fe){V.set(fe,N(ue,j,H,fe,L,B))});var se=P?void 0:(q?S?u:c:S?k:w)(L);return t(se||L,function(ue,fe){se&&(ue=L[fe=ue]),n(V,fe,N(ue,j,H,fe,L,B))}),V},gS}sy.exports;var vbe=function(){if(Eq)return Sq;Eq=1;var e=gbe();return Sq=function(t){return e(t,5)}}();const bbe=Li(vbe),_u={SUNSHINE:"sunshine",INTERCOM:"intercom"},ybe={[_u.SUNSHINE]:["video/3gpp2","video/3gpp","video/x-msvideo","video/mp4","video/quicktime","video/mpeg","video/ogg","video/webm","video/x-ms-wmv","audio/aac","audio/amr","audio/x-caf","audio/m4a","audio/mp3","audio/mpeg","audio/ogg","audio/wav","image/bmp","image/heic","image/heif","image/jpeg","image/png","image/svg+xml","image/tiff","image/webp","text/csv","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","message/rfc822","text/calendar","application/x-iwork-keynote-sffkey","text/plain","application/vnd.oasis.opendocument.text","application/vnd.apple-pages","application/pdf","application/vnd.apple-pkpass","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/xml","text/yaml","model/vnd.usdz+zip","text/x-vcard","application/x-7z-compressed","application/zip","application/x-iwork-numbers-sffnumbers"],[_u.INTERCOM]:["*/*"]},wbe=()=>{const e=W(n=>n.chatBox.agent),t=x.useMemo(()=>{var n,r,o,i;return(a=>{const s=[{platform:_u.SUNSHINE,isEnabled:l=>{var c,u;return l.action==="zendesk"&&((u=(c=l.zendesk)==null?void 0:c.live_chat_options)==null?void 0:u.channel)==="sunshine"}},{platform:_u.INTERCOM,isEnabled:l=>l.action==="intercom"},{platform:_u.INTERCOM,isEnabled:l=>{var c,u;return!(l.action!=="workflow"||(u=(c=l.intercom)==null?void 0:c.live_chat_options)==null||!u.enabled)}},{platform:_u.SUNSHINE,isEnabled:l=>{var c,u,h,p;return!(l.action!=="workflow"||(u=(c=l.zendesk)==null?void 0:c.live_chat_options)==null||!u.enabled||((p=(h=l.zendesk)==null?void 0:h.live_chat_options)==null?void 0:p.channel)!=="sunshine")}}].find(l=>l.isEnabled(a));return(s==null?void 0:s.platform)||_u.INTERCOM})((i=(o=(r=(n=e==null?void 0:e.config)==null?void 0:n.tools)==null?void 0:r.document_qa)==null?void 0:o.no_answer_action)!=null?i:{})},[e]);return(n=>bbe(ybe[n]))(t)},ly=({setFileItemsToUpload:e})=>{const{text_input_icon_color:t}=pn(),n=x.useRef(null),r=wbe(),{mutateAsync:o}=rbe(),i=wu();return n8()?ce(or,{children:[R(Jt,{disabled:!i,color:t,variant:"subtle",onClick:()=>{var a;(a=n.current)==null||a.click()},children:R(zme,{style:{width:"70%",height:"70%"}})}),R(kbe,{ref:n,type:"file",multiple:!0,onChange:async a=>{var s,l;if((s=a.target)==null||!s.files)return;const c=Array.from((l=a.target)==null?void 0:l.files),u=c.filter(h=>h.size>52428800?(alert(`File "${h.name}" exceeds 50 MB size limit`),!1):!(!r.includes("*/*")&&!r.some(p=>h.type===p))||(alert(`File "${h.name}" has unsupported format.`),!1));if(u.length!==0){e(h=>[...h.filter(p=>!u.some(d=>d.name===p.file.name)),...u.map(p=>({file:p}))]);for(const h of u)try{await o({file:h})}catch{}a.target.value="",e([])}else a.target.value=""},accept:r.join(",")})]}):null},kbe=tt("input",{target:"e6gsq9w0"})({name:"1ce4s23",styles:"clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;bottom:0;left:0;white-space:nowrap;width:1px"}),Rq=[{value:"short",key:"response_length_short"},{value:"medium",key:"response_length_medium"},{value:"long",key:"response_length_long"}];function wS(){var e;const t=dt(),{primary_color:n}=pn(),r=Br(),o=W(s=>s.chatBox.selectedResponseLength),{t:i}=Nr();if((e=r==null?void 0:r.response_length)==null||!e.enabled)return null;const a=Rq.find(s=>s.value===o);return ce(Ft,{position:"bottom-start",shadow:"md",styles:{dropdown:{zIndex:1e4}},children:[R(Ft.Target,{children:R(Zn,{variant:o?"filled":"outline",size:"xs",radius:"lg",color:"var(--message-composer-icon-color, rgba(134, 142, 150, 1))",children:a?i(a.key):R(Cfe,{})})}),ce(Ft.Dropdown,{children:[R(Ft.Label,{children:i("response_length")}),Rq.map(s=>R(Ft.Item,{onClick:()=>(l=>{t(Cge(l))})(s.value===o?null:s.value),color:s.value===o?n:void 0,rightSection:s.value===o?R(_B,{size:16}):null,children:i(s.key)},s.value))]})]})}const Iq=({text:e,query:t})=>{if(!t||!e)return R(or,{children:e});const n=e.toLowerCase(),r=t.toLowerCase(),o=n.indexOf(r);if(o===-1)return R(or,{children:e});const i=o+r.length;return ce(or,{children:[o>0&&R(qn,{component:"span",c:"dimmed",children:e.substring(0,o)}),R(qn,{component:"span",fw:500,style:{color:"var(--highlighted-text-color, black)"},children:e.substring(o,i)}),i<e.length&&R(qn,{component:"span",c:"dimmed",children:e.substring(i)})]})},kS=({handleSendClick:e})=>{const t=dt(),n=W(s=>s.chatBox.composedMessage),r=Wl(),{primary_color:o}=pn(),{bestSuggestions:i,bestSuggestionsActiveIndex:a}=Th();return ht(i)||r||!n?null:ce(Sn,{w:"100%",direction:"column",children:[R(na,{gap:"0px",style:{padding:"4px"},w:"100%",children:i.slice(0,3).map((s,l)=>{const c=l===a;return R(Zn,{color:o,style:{paddingLeft:"4px",paddingRight:"4px"},onClick:()=>(async u=>{await t(Kl(u)),e()})(s),styles:{inner:{width:"100%",justifyContent:"flex-start"},label:{width:"100%"}},variant:c?"light":"subtle",children:ce(Sn,{w:"100%",gap:"xs",children:[R(nt,{display:"flex",style:{alignItems:"center",justifyContent:"center",flexShrink:0},children:R(Rve,{style:{color:"var(--magnifying-glass-color, black)"},size:16})}),R(qn,{size:"md",children:R(Iq,{text:s,query:n})}),c&&R(Sn,{ml:"auto",children:R(jve,{size:12})})]})},l)})}),R(tT,{})]})},xbe=({callbacks:e})=>{var t;const n=dt(),r=W(Tt),o=du(),i=Br(),a=yu(),s=(t=i==null?void 0:i.response_length)==null?void 0:t.enabled,l=W(F=>F.chatBox.isLiveChatEnded),c=W(F=>F.chatBox.botMode),u=W(F=>F.chatBox.botVoiceEnabled),h=W(F=>F.chatBox.isMicOn),p=W(F=>F.chatBox.composerMode),[d,f]=x.useState([]),[g,m]=x.useState([]),[v,y]=x.useState(new Map),b=Wl(),w=pu(),k=wu(),_=b||w||!k,O=Pm(),{mutateAsync:E}=Eg(),{bestSuggestions:C,bestSuggestionsActiveIndex:N}=Th(),L=async()=>{var F,z;if(_||h)return;_t||(z=(F=De.messageTextAreaRef)==null?void 0:F.current)==null||z.focus();const B=jn.getState().chatBox.composedMessage,V=C[N]||B;if(ht(V)&&ht(d)&&ht(g))return;n(Kl("")),n(Oc(-1));let U="";if(!ht(d))for(const[S,q]of d.entries())U=(await E({image:q,onUploadProgress:P=>{const{loaded:Q,total:re=1}=P,_e=Math.round(100*Q/re);y(se=>new Map(se.set(S,_e)))}})).image_gcs_uri;f([]),e==null||e.onSendMessage({text:V,imageGcsUri:U})},j=_||h;x.useEffect(()=>{var F,z,B,V;if(!a&&!j&&!_t){if(p==="voice")return void((z=(F=De.messageTextAreaRef)==null?void 0:F.current)==null||z.blur());(V=(B=De.messageTextAreaRef)==null?void 0:B.current)==null||V.focus()}},[a,j,p]);const{messageComposerStyle:H}=mm(d);return l||o||!r||O?null:p==="voice"?R(AT,{}):ce(Sn,{styles:{root:H},children:[R(m8,{}),R(h8,{}),R(p8,{images:d,setImages:f,progressMap:v}),Ht(c)&&R(Yb,{color:"white",variant:"flat",onClick:()=>{const F=!u;F||(n(Yl(!0)),Ra.instance.stop()),n(Cm(F))},title:u?"Disable bot voice":"Enable bot voice",style:{position:"absolute",left:6,top:-40,background:"black"},children:R(u?Ive:Mve,{})}),R(kS,{handleSendClick:L}),s?ce(or,{children:[R(Sn,{w:"100%",children:R(Sh,{handleSendClick:L})}),!h&&ce(Sn,{justify:"space-between",style:{padding:"4px",paddingTop:"0px"},w:"100%",children:[ce(Sn,{gap:"4px",align:"center",children:[R(ly,{setFileItemsToUpload:m}),R(wS,{})]}),ce(Sn,{gap:"4px",children:[R(f8,{}),R(Jb,{handleSendClick:L})]})]})]}):R(Sn,{justify:"space-between",style:{paddingLeft:"4px",paddingRight:"4px"},w:"100%",children:!h&&ce(Sn,{align:"center",w:"100%",children:[R(f8,{}),R(ly,{setFileItemsToUpload:m}),R(Sh,{handleSendClick:L}),R(Jb,{handleSendClick:L})]})})]})},Mq=()=>{const e=dt(),{t}=Nr(),n=W(o=>o.chatBox.botMode),r=W(o=>o.chatBox.botVoiceEnabled);return Ht(n)?R(Eo,{label:t(r?"disable_bot_voice":"enable_bot_voice"),children:R(Jt,{variant:"subtle",onClick:async()=>{var o,i;const a=!r,s=await Xn();if(a){if(e(Hs(!1)),s){const l=(i=s.remoteUsers[0])==null?void 0:i.audioTrack;l&&l.play()}}else if(Ra.instance.stop(),e(Hs(!0)),s){const l=(o=s.remoteUsers[0])==null?void 0:o.audioTrack;l&&l.stop()}e(Cm(a))},color:"var(--message-composer-icon-color, rgba(134, 142, 150, 1))",style:{width:"var(--message-composer-icon-size, 20px)",height:"var(--message-composer-icon-size, 20px)"},children:R(r?zfe:Ffe,{})})}):null},_be=({callbacks:e})=>{const t=dt(),n=W(Tt),r=du(),o=yu(),i=W(j=>j.chatBox.isLiveChatEnded),a=W(j=>j.chatBox.isMicOn),s=W(j=>j.chatBox.composerMode),l=W(j=>j.chatBox.isAvatarSpeaking),[c,u]=x.useState([]),[h,p]=x.useState([]),[d,f]=x.useState(new Map),g=Wl(),m=pu(),v=wu(),y=g||m||!v,b=Pm(),{mutateAsync:w}=Eg(),{bestSuggestions:k,bestSuggestionsActiveIndex:_}=Th(),O=W(j=>j.chatBox.streamDetails),{isV4:E}=Pl(),C=async()=>{var j,H;if(y||a)return;_t||(H=(j=De.messageTextAreaRef)==null?void 0:j.current)==null||H.focus(),l&&E&&Ap();const F=jn.getState().chatBox.composedMessage,z=k[_]||F;if(ht(z)&&ht(c)&&ht(h))return;t(Kl("")),t(Oc(-1));let B="";if(!ht(c))for(const[V,U]of c.entries())B=(await w({image:U,onUploadProgress:S=>{const{loaded:q,total:P=1}=S,Q=Math.round(100*q/P);f(re=>new Map(re.set(V,Q)))}})).image_gcs_uri;u([]);try{E&&O!=null&&O.agora_channel?(n&&t(Ti({threadId:n,waiting:!0})),t(Wn({type:"user",text:z,id:Date.now().toString(),done:!0})),await HR(z)):e==null||e.onSendMessage({text:z,imageGcsUri:B})}catch{n&&t(Ti({threadId:n,waiting:!1}))}},N=y||a;x.useEffect(()=>{var j,H,F,z;if(!o&&!N&&!_t){if(s==="voice")return void((H=(j=De.messageTextAreaRef)==null?void 0:j.current)==null||H.blur());(z=(F=De.messageTextAreaRef)==null?void 0:F.current)==null||z.focus()}},[o,N,s]);const{messageComposerStyle:L}=mm(c);return i||r||!n||b?null:s==="voice"?R(AT,{}):ce(Sn,{styles:{root:L},children:[R(m8,{}),R(h8,{}),R(p8,{images:c,setImages:u,progressMap:d}),R(kS,{handleSendClick:C}),R(Sn,{w:"100%",children:R(Sh,{handleSendClick:C})}),!a&&ce(Sn,{justify:"space-between",style:{padding:"0px 4px 14px 4px"},w:"100%",children:[ce(Or,{align:"center",style:{gap:"var(--message-composer-icon-gap, 8px)"},children:[R(Mq,{}),R(wS,{}),R(ly,{setFileItemsToUpload:p})]}),ce(Or,{align:"center",style:{gap:"var(--message-composer-icon-gap, 8px)"},children:[R(f8,{}),R(Jb,{handleSendClick:C})]})]})]})};var Tbe=Object.defineProperty,Sbe=Object.defineProperties,Ebe=Object.getOwnPropertyDescriptors,Lq=Object.getOwnPropertySymbols,Cbe=Object.prototype.hasOwnProperty,Obe=Object.prototype.propertyIsEnumerable,Dq=(e,t,n)=>t in e?Tbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pbe=(e,t)=>{for(var n in t||(t={}))Cbe.call(t,n)&&Dq(e,n,t[n]);if(Lq)for(var n of Lq(t))Obe.call(t,n)&&Dq(e,n,t[n]);return e},Abe=(e,t)=>Sbe(e,Ebe(t));const Nbe=()=>{const e=dt(),t=W(m=>m.chatBox.isMicOn),n=n8(),r=W(m=>m.chatBox.botMode),o=W(m=>m.chatBox.isAvatarSpeaking),i=W(m=>m.chatBox.voiceControlPermissionState),{isV4:a}=Pl(),{isV2Avatar:s}=Nl(),l=W(m=>m.chatBox.composerMode),{text_input_icon_color:c}=pn(),{mutate:u}=Cb(),{mutate:h}=fi(),p=wu(),d=!!i&&i!=="granted"||!p,f=t?uB:fm,g=!t&&!n;return Ht(r)&&a&&s&&l!=="voice"?R(ni,{mounted:g,transition:"scale",duration:200,timingFunction:"ease",children:m=>R(Eo,{disabled:!d,label:d?"Please allow microphone access":"",position:"top-start",children:R(Jt,{color:c,variant:"subtle",disabled:d,style:Abe(Pbe({},m),{transformOrigin:"center",color:"var(--message-composer-icon-color, rgba(134, 142, 150, 1))",width:"var(--message-composer-icon-size, 20px)",height:"var(--message-composer-icon-size, 20px)"}),onClick:()=>{h({event_name:Lt.VoiceInputStart}),Ht(r)&&o&&u(),De.shouldAbort=!0,e(Us(!0))},children:R(f,{})})})}):null},Rbe=({callbacks:e})=>{const t=dt(),n=W(Tt),r=du(),o=yu(),i=W(j=>j.chatBox.isLiveChatEnded),a=W(j=>j.chatBox.isMicOn),s=W(j=>j.chatBox.composerMode),l=W(j=>j.chatBox.isAvatarSpeaking),[c,u]=x.useState([]),[h,p]=x.useState([]),[d,f]=x.useState(new Map),g=Wl(),m=pu(),v=wu(),y=g||m||!v,b=Pm(),{mutateAsync:w}=Eg(),{bestSuggestions:k,bestSuggestionsActiveIndex:_}=Th(),O=W(j=>j.chatBox.streamDetails),{isV4:E}=Pl(),C=async j=>{var H,F;if(ee.log(" handleSendClick messageToSend:",j," isV4:",E," streamDetails:",O),!j&&(y||a))return;_t||(F=(H=De.messageTextAreaRef)==null?void 0:H.current)==null||F.focus(),l&&E&&Ap();const z=jn.getState(),B=j||z.chatBox.composedMessage,V=k[_]||B;if(ht(V)&&ht(c)&&ht(h))return;t(Kl("")),t(Oc(-1));let U="";if(!ht(c))for(const[S,q]of c.entries())U=(await w({image:q,onUploadProgress:P=>{const{loaded:Q,total:re=1}=P,_e=Math.round(100*Q/re);f(se=>new Map(se.set(S,_e)))}})).image_gcs_uri;u([]);try{E&&O!=null&&O.agora_channel?(n&&t(Ti({threadId:n,waiting:!0})),t(Wn({type:"user",text:V,id:Date.now().toString(),done:!0})),await HR(V)):e==null||e.onSendMessage({text:V,imageGcsUri:U})}catch{n&&t(Ti({threadId:n,waiting:!1}))}},N=y||a;x.useEffect(()=>{var j,H,F,z;if(!o&&!N&&!_t){if(s==="voice")return void((H=(j=De.messageTextAreaRef)==null?void 0:j.current)==null||H.blur());(z=(F=De.messageTextAreaRef)==null?void 0:F.current)==null||z.focus()}},[o,N,s]);const{messageComposerStyle:L}=mm(c);return i||r||!n||b?null:s==="voice"?R(AT,{}):ce(Sn,{styles:{root:L},children:[R(AB,{onClick:()=>{t(Nh("voice"))}}),R(m8,{}),R(h8,{handleSendClick:C}),R(p8,{images:c,setImages:u,progressMap:d}),R(kS,{handleSendClick:C}),R(Sn,{w:"100%",children:R(Sh,{handleSendClick:C})}),!a&&ce(Sn,{justify:"space-between",style:{padding:"0px 4px 14px 4px"},w:"100%",children:[ce(Or,{align:"center",style:{gap:"var(--message-composer-icon-gap, 8px)"},children:[R(Mq,{}),R(wS,{}),R(ly,{setFileItemsToUpload:p})]}),ce(Or,{align:"center",style:{gap:"var(--message-composer-icon-gap, 8px)"},children:[R(Nbe,{}),R(Jb,{handleSendClick:C})]})]})]})},jq=()=>Zr({mutationFn:e=>(async t=>{const{conversation_id:n,rating:r}=t;if(!n||!r)return;const o=`${Bt.chatHost}/api/v1/survey`,i=await Mt.post(o,t);if(i.status!==200||i==null||!i.data)throw new Error("Error sending survey");return i.data})(e),onError:e=>{}}),zq=go(void 0),Fq=go(""),xS=go(!1),Bq=()=>{const e=dt(),{mutate:t}=jq(),{resetConversationMode:n}=bm(),r=W(Tt),[o]=An(Fq),[i]=An(zq),[a,s]=An(xS),l=mt();return{closeChatbot:async()=>{var c,u;if(r){s(!0);try{n();const h=(u=(c=l==null?void 0:l.config)==null?void 0:c.custom_style)==null?void 0:u.default_composer_mode;h&&e(Nh(h)),i&&t({conversation_id:r,rating:i,comment:o}),await e(fo({threadId:r,keepOpen:!0})),e($b(!1)),e(ia(!1))}catch{}finally{setTimeout(()=>{s(!1)},300)}}},isClosing:a}},Ibe=({callbacks:e})=>{const t=Br(),n=t==null?void 0:t.message_composer_version;if(sx(xS))return null;switch(n){case"v2":return R(_be,{callbacks:e});case"v2-avatar":return R(Rbe,{callbacks:e});default:return R(xbe,{callbacks:e})}};var Mbe=Object.defineProperty,Lbe=Object.defineProperties,Dbe=Object.getOwnPropertyDescriptors,Uq=Object.getOwnPropertySymbols,jbe=Object.prototype.hasOwnProperty,zbe=Object.prototype.propertyIsEnumerable,Hq=(e,t,n)=>t in e?Mbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fbe=(e,t)=>{for(var n in t||(t={}))jbe.call(t,n)&&Hq(e,n,t[n]);if(Uq)for(var n of Uq(t))zbe.call(t,n)&&Hq(e,n,t[n]);return e},Bbe=(e,t)=>Lbe(e,Dbe(t));const Vq=e=>{var t,n;return((t=e==null?void 0:e.parameters)==null?void 0:t.intention)==="cancel_subscription"?"cancel":((n=e==null?void 0:e.parameters)==null?void 0:n.intention)==="get_promotion"?"promotion":"default"},Ube=e=>{const{button:t,onClick:n}=e,{text:r,command:o}=t,i=UT(o||""),a=Vq(i);return R(Hbe,{onClick:()=>{n==null||n(t)},$buttonType:a,children:r})},Hbe=tt("button",{target:"e1t4r4ou1"})(({$buttonType:e})=>{const t={cursor:"pointer",display:"flex",padding:"0em 1em",fontSize:"var(--command-button-font-size, 12px)",fontWeight:"var(--command-button-font-weight, 400)",borderRadius:"var(--command-button-border-radius, 0.5em)",textAlign:"end",alignItems:"center",wordBreak:"normal",boxShadow:`var(--command-button-box-shadow, ${Sb})`,whiteSpace:"var(--command-button-white-space, wrap)",border:"var(--command-button-border, 0px)",height:"var(--command-button-height, 32px)"};return Bbe(Fbe({},t),e==="cancel"?{color:"var(--cancel-command-button-text-color, rgba(184, 184, 184, 1))",background:"var(--cancel-command-button-bg)",border:"var(--cancel-command-button-border)","&:hover":{background:"var(--cancel-command-button-hover-bg)",color:"var(--cancel-command-button-hover-text-color)",border:"var(--cancel-command-button-hover-border)"}}:e==="promotion"?{color:"var(--promotion-command-button-text-color)",background:"var(--promotion-command-button-bg)",border:"var(--promotion-command-button-border)","&:hover":{background:"var(--promotion-command-button-hover-bg)",color:"var(--promotion-command-button-hover-text-color)",border:"var(--promotion-command-button-hover-border)"}}:{color:"var(--command-button-text-color)",background:"var(--command-button-bg)","&:hover":{background:"var(--command-button-hover-bg)",color:"var(--command-button-hover-text-color)"}})},""),Vbe=({message:e,callbacks:t,isLastMessage:n})=>{const{mutate:r}=fi(),o=(e==null?void 0:e.buttons)||[];return ht(o)||!n&&!e.shouldShowCommandButtons?null:R($be,{children:o.map((i,a)=>R(Ube,{button:i,onClick:()=>(s=>{try{t==null||t.onSendMessage(s),r({event_name:"ButtonClicked",note:JSON.stringify(s)})}catch{}})(i)},`${e.id}-command-${a}`))})},$be=tt("div",{target:"e1t4r4ou0"})({display:"flex",flexDirection:"var(--message-commands-flex-direction, column)",gap:"0.5em",alignItems:"flex-end",marginTop:"auto",width:"100%",overflow:"auto",paddingBottom:"var(--message-commands-container-padding-bottom, 9px)"},""),Lm=e=>{const{className:t}=e,n=e.size||20;return ce("div",{role:"status",className:t,style:{width:n,height:n,flex:`0 0 ${n}px`},children:[ce("svg",{"aria-hidden":"true",className:"text-gray-200 animate-spin fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[R("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),R("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),R("span",{className:"sr-only",children:"Loading..."})]})};var qbe=Object.defineProperty,Wbe=Object.defineProperties,Gbe=Object.getOwnPropertyDescriptors,$q=Object.getOwnPropertySymbols,Kbe=Object.prototype.hasOwnProperty,Ybe=Object.prototype.propertyIsEnumerable,qq=(e,t,n)=>t in e?qbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cy=(e,t)=>{for(var n in t||(t={}))Kbe.call(t,n)&&qq(e,n,t[n]);if($q)for(var n of $q(t))Ybe.call(t,n)&&qq(e,n,t[n]);return e},_S=(e,t)=>Wbe(e,Gbe(t));const Qbe=e=>{const{fields:t,initialValues:n,onClickHandler:r}=e,o=(()=>{var b,w,k,_,O,E;const C=W(N=>N.chatBox.agent);return(E=(O=(_=(k=(w=(b=C==null?void 0:C.config)==null?void 0:b.tools)==null?void 0:w.document_qa)==null?void 0:k.no_answer_action)==null?void 0:_.salesforce)==null?void 0:O.ticket_options)==null?void 0:E.enabled})(),i=pn(),a=dt();x.useLayoutEffect(()=>{De.scrollToLastMessagePair()},[]);const s="h-10 bg-white block w-full rounded-md border-0 p-2 ring-1 ring-inset ring-gray-300 placeholder:text-sm placeholder:text-gray-400 sm:text-sm sm:leading-6",l=W(RU),c=l.status==="loading",u={email:{default:"",hasLabel:!0,render:(b,w)=>R("input",{type:"email",id:b.name,name:b.name,value:w[b.name],placeholder:b.placeholder,required:b.required||!1,className:s,disabled:c,pattern:"[a-zA-Z0-9._%+\\-]+@[a-zA-Z0-9.\\-]+\\.[a-zA-Z]{2,}$",onInvalid:k=>{k.target.setCustomValidity("Please enter a valid email address")},onChange:k=>{k.target.setCustomValidity(""),v(k)}})},phone:{default:"",hasLabel:!0,render:(b,w)=>R("input",{type:"tel",id:b.name,name:b.name,value:w[b.name],placeholder:b.placeholder,pattern:"^(?:\\+\\d{1,2}\\s?)?(?:\\(\\d{3}\\)|\\d{3})[\\-.\\s]?\\d{3}[\\-.\\s]?\\d{4}$",onInvalid:k=>{k.target.setCustomValidity("Please enter a valid phone number")},onChange:k=>{k.target.setCustomValidity(""),v(k)},required:b.required||!1,className:s,disabled:c})},number:{default:"",hasLabel:!0,render:(b,w)=>R("input",{type:"number",id:b.name,name:b.name,value:w[b.name],onChange:v,placeholder:b.placeholder,className:s,disabled:c})},text:{default:"",hasLabel:!0,render:(b,w)=>R("input",{type:"text",id:b.name,name:b.name,value:w[b.name],pattern:b.name==="name"&&o?"^[a-zA-Z]+ [a-zA-Z]+.*$":void 0,onInvalid:k=>{b.name==="name"&&o&&k.target.setCustomValidity("Please enter your full name (first and last name)")},onChange:k=>{k.target.setCustomValidity(""),v(k)},required:b.required||!1,className:s,placeholder:b.placeholder,disabled:c})},textarea:{default:"",hasLabel:!0,render:(b,w)=>{var k;return R("input",{type:"textarea",id:b.name,name:b.name,value:w[b.name],onChange:v,placeholder:b.placeholder,className:((k=b.style)==null?void 0:k.this)||s,disabled:c})}},fieldset:{default:null,hasLabel:!1,render:(b,w)=>{var k;return ce("fieldset",{className:"flex flex-col",children:[b.label&&R("legend",{className:"text-sm leading-6",children:b.label}),b.subtitle&&R("p",{className:"text-sm leading-6",children:b.subtitle}),R("div",{className:"mt-4 flex gap-5 justify-center flex-wrap",children:(k=b.fields)==null?void 0:k.map((_,O)=>{var E,C;return ce("div",{className:"flex items-center gap-2",children:[_.label&&((E=u[_.type])==null?void 0:E.hasLabel)&&R("label",{htmlFor:_.name,className:"block text-sm leading-6",children:_.label}),R("div",{children:(C=u[_.type])==null?void 0:C.render(_,w)})]},`${_.name}_${O}`)})})]})}},checkbox:{default:!1,hasLabel:!1,render:(b,w)=>{var k,_;const O=!!w[b.name];return R("livex-checkbox-container",{children:ce("label",{htmlFor:b.name,className:((k=b.style)==null?void 0:k.label)||"",style:{display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},children:[R("livex-checkmark-container",{style:{background:O?i.primary_color:"white"},children:R(Hme,{style:{color:"white"}})}),R("input",{type:"checkbox",id:b.name,name:b.name,checked:O,onChange:()=>{m(b.name,!w[b.name])},className:((_=b.style)==null?void 0:_.this)||"",style:{display:"none",accentColor:i.primary_color,color:er(i.primary_color)},disabled:c}),b.label]})})}},radio:{default:null,hasLabel:!1,render:(b,w)=>{var k,_,O;return ce("fieldset",{children:[R("legend",{className:((k=b.style)==null?void 0:k.label)||"text-sm leading-6",children:b.label}),b.subtitle&&R("p",{className:((_=b.style)==null?void 0:_.subtitle)||"mt-1 text-sm leading-6 text-gray-600",children:b.subtitle}),R("livex-form-component-radio-buttons-container",{children:(O=b.options)==null?void 0:O.map((E,C)=>{var N;const L=w[b.name]===E.value;return R("livex-radio-button-container",{children:ce("label",{htmlFor:E.name,className:((N=b.style)==null?void 0:N.optionLabel)||"block text-sm leading-6",style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[R("livex-radio-button-check-marker",{style:{background:L?i.primary_color:"white"}}),R("input",{type:"radio",id:E.name,name:b.name,value:E.value,checked:L,onChange:()=>{m(b.name,E.value)},style:{display:"none"},disabled:c}),E.label]})},C)})})]})}},select:{default:"",hasLabel:!1,render:(b,w)=>{var k;return ce("div",{className:"flex flex-col gap-2",children:[R("label",{htmlFor:b.name,children:b.label}),ce("select",{id:b.name,value:w[b.name],name:b.name,onChange:v,className:s,required:b.required||!1,children:[R("option",{value:"",disabled:!0,children:"Select option"}),(k=b.options)==null?void 0:k.map((_,O)=>R("option",{value:_.value,className:"h-4 w-4 text-sm border-gray-300 text-indigo-600 focus:ring-indigo-600 text-white",children:_.label},O))]})]})}},button:{hasLabel:!1,render:(b,w)=>{var k;const _=["submit","send_message"].includes(b.onclick)?"submit":"button";let O=((k=b.style)==null?void 0:k.this)||"rounded-md px-2.5 py-1.5 text-sm shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50";c&&(O+=" opacity-50 cursor-not-allowed");const E=ce("div",{className:"flex items-center gap-4",children:[b.label,c&&_==="submit"&&R(Lm,{className:"w-4 h-4"})]});return R("button",{type:_,value:w[b.name],onClick:_==="submit"&&(()=>d(b))||b.onclick&&(()=>y(b))||void 0,className:O,disabled:c,children:E})}}},h=b=>u[b.type].default!==void 0,[p,d]=x.useState(null),[f,g]=x.useState(t.filter(b=>h(b)).reduce((b,w)=>{var k,_;return w.type==="fieldset"?(_=(k=w.fields)==null?void 0:k.filter(O=>h(O)))==null||_.forEach(O=>{b[O.name]=O.value||u[w.type].default}):b[w.name]=w.value||u[w.type].default,b},cy({},n))),m=(b,w)=>{g(_S(cy({},f),{[b]:w}))},v=b=>{m(b.target.name,b.target.value)},y=b=>{r==null||r(_S(cy({},f),{[b.name]:b.value}),b)};return ce(Xbe,{onSubmit:b=>{b.preventDefault(),r==null||r(_S(cy({},f),{[p.name]:p.value}),p)},theme:i,children:[(b=>{if(b){const w=(b==null?void 0:b.message)||"Something went wrong. Please try again later.";return setTimeout(()=>{a(zge(null))},5e3),R("div",{className:"w-full text-center absolute bottom-9 text-sm text-red-600",children:w})}return null})(l.error),t.map((b,w)=>{var k,_,O,E,C,N;return ce("div",{className:((k=b.style)==null?void 0:k.root)||"livex-chatbox-markdown",children:[b.label&&((_=u[b.type])==null?void 0:_.hasLabel)&&R("label",{htmlFor:b.name,className:(O=b.style)==null?void 0:O.label,children:b.label}),(N=(C=(E=u[b.type])==null?void 0:E.render)==null?void 0:C.call(E,b,f))!=null?N:void 0]},w)})]})},Xbe=Zt.form`
  display: flex;
  flex-direction: column;
  align-self: stretch;
  width: 100%;
  gap: 0.5em;
  position: relative;
  background-color: var(--message-form-background-color, white);

  & label {
    color: var(--message-form-label-color, ${e=>e.theme.label_color});
    font-size: 0.875em;
    line-height: 1.25em;
    font-weight: 500;
  }

  & select {
    background-color: var(--message-form-select-background-color, white);
    color: var(--message-form-select-color, black);
  }

  & input {
    background: var(--message-form-input-background-color, white);
  }

  & button {
    background-color: var(--message-form-button-background-color, white);
    color: var(--message-form-button-color, black);
  }

  & button:hover {
    background-color: var(--message-form-button-background-color-hover, rgba(66, 99, 235, 1));
    color: var(--message-form-button-color-hover, white);
  }

  & input:focus,
  & button:focus,
  & select:focus {
    outline: 0;
    /* border-color: ${e=>e.theme.primary_color}; */
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.15);
  }

  & input::placeholder {
    color: ${e=>`var(--message-form-placeholder-color, ${e.theme.placeholder_color})`};
  }
`;var Jbe=Object.defineProperty,Zbe=Object.defineProperties,eye=Object.getOwnPropertyDescriptors,Wq=Object.getOwnPropertySymbols,tye=Object.prototype.hasOwnProperty,nye=Object.prototype.propertyIsEnumerable,Gq=(e,t,n)=>t in e?Jbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,TS=(e,t)=>{for(var n in t||(t={}))tye.call(t,n)&&Gq(e,n,t[n]);if(Wq)for(var n of Wq(t))nye.call(t,n)&&Gq(e,n,t[n]);return e},rye=(e,t)=>Zbe(e,eye(t));const oye=({message:e,callbacks:t})=>{var n,r,o;const i=W(Tt),a=mt(),s=dt(),l=e.id,c=a==null?void 0:a.id,u=W(RU),h=TS({},e==null?void 0:e.form);return e&&e!=null&&e.form&&((r=(n=e==null?void 0:e.form)==null?void 0:n.fields)==null?void 0:r.length)>0&&(h.fields=h.fields.map(p=>{const d=TS({},p);return u.cache&&(p.name==="email"&&u.cache.email?d.value=u.cache.email:p.name==="phone"&&u.cache.phone?d.value=u.cache.phone:p.name==="name"&&u.cache.name&&(d.value=u.cache.name)),d})),h.form_name=(o=e==null?void 0:e.form)==null?void 0:o.form_name,ht(h.fields)?null:R(iye,{children:R(aye,{className:"w-full md:w-96 md:max-w-96 shadow-md",children:R(Qbe,{fields:h.fields,onClickHandler:(p,d)=>{var f;const{field:g,label:m,command:v,onclick:y}=d,b=(f=h.success_message)!=null?f:"Form submit";switch(y){case"send_message":Object.assign(Mh,{name:p.name,email:p.email,description:p.description}),s(Wn({id:l,threadId:i,text:b,type:"bot"})),s(oa({text:m,command:v}));break;case"submit":((w,k)=>{var _,O,E;if(!h.action)return;const C={form:h,values:rye(TS({},w),{message_id:l,conversation_id:i,agent_id:c,form_name:(_=h.form_name)!=null?_:"",tsi:(O=h.tsi)!=null?O:"",twi:(E=h.twi)!=null?E:"",tags:[]})};s(Nb(C))})(p);break;case"cancel":((w,k)=>{var _;const O=(_=h.cancel_message)!=null?_:"Form cancel";s(Wn({id:l,threadId:i,text:O,type:"bot"}))})()}}})})})},iye=tt("div",{target:"es5thjq1"})({name:"l9dduf",styles:"max-width:100%;display:flex;justify-content:center"}),aye=tt("div",{target:"es5thjq0"})({name:"1a84xpq",styles:"background:var(--message-form-background-color, white);display:flex;flex-direction:row;justify-content:flex-start;align-items:flex-start;align-self:stretch;padding:0.75em;border:2px solid #eee;border-radius:0.75em;color:var(--message-form-color, rgba(134, 142, 150, 1))"});var sye=Object.defineProperty,Kq=Object.getOwnPropertySymbols,lye=Object.prototype.hasOwnProperty,cye=Object.prototype.propertyIsEnumerable,Yq=(e,t,n)=>t in e?sye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Qq=e=>{const t=e.replace(/[^0-9.]/g,"");try{return Number(parseFloat(t).toFixed(2))}catch{return-1}},uye=e=>{const{mutate:t}=fi(),[n,r]=x.useState(!1),{messageId:o,product:i,opacity:a,itemWidth:s,itemHeight:l}=e,{image_url:c,name:u,variant:h,price:p,url:d,compare_at_price:f}=i,[g,m]=x.useState(!1),v=pn(),y=Qq(p);let b=Qq(f);b<=y&&(b=-1);const w=p,{platform:k,product_id:_,variant_id:O,enable_add_to_cart:E,add_to_cart:C}=i,N=E||(C==null?void 0:C.enable);let L="transparent";return g&&(L=v.primary_color||"#edf2f7;"),ce(hye,{style:{opacity:a,height:l,minWidth:s,border:"1px solid #ddd"},className:"shadow-md",children:[R("livex-product-info-container",{style:{borderColor:L},onMouseOver:()=>m(!0),onMouseOut:()=>m(!1),children:R(pye,{className:"py-1.5",src:c,onClick:()=>{const j=function(H,F,z){try{const B=new URL(H);return B.searchParams.set(F,z),B.toString()}catch{return H}}(d,"from_livex","true");kR(j),window.open(j,"_blank")}})}),ce("livex-product-desc-container",{children:[R("livex-product-name",{children:u}),R("livex-product-name",{children:h}),ce("livex-product-price-container",{children:[y>=0&&R("span",{style:{fontSize:"0.6em"},children:w}),b>=0&&R("span",{style:{fontSize:"0.6em",color:"black",textDecoration:"line-through",textDecorationThickness:"1.5px"},children:f})]}),N&&R(dye,{onClick:j=>(async H=>{if(!n){if(H.preventDefault(),r(!0),k==="shopify"&&_&&O){const F="/cart/add.js",z=new FormData;z.append("quantity","1"),z.append("form_type","product"),z.append("utf8","✓"),z.append("id",O),z.append("product-id",_);const B=document.querySelector("cart-drawer")||document.querySelector("cart-notification");if(B&&B.getSectionsToRender)try{z.append("sections",B.getSectionsToRender().map(V=>V.id))}catch{}try{const V=await Mt({method:"post",url:F,data:z,headers:{"Content-Type":"multipart/form-data",Accept:"application/javascript"}});t({event_name:Lt.LivexAddToCart}),window.publish&&typeof window.publish=="function"&&window.publish("cart-update",{source:"product-form",productVariantId:O,cartData:V.data}),B&&B.renderContents&&(B.renderContents(V.data),B.classList.contains("is-empty")&&B.classList.remove("is-empty"))}catch{}}(C==null?void 0:C.action)==="redirect"&&C!=null&&C.redirect_link&&(window.top.location.href=C.redirect_link),r(!1)}})(j),className:"p-1 rounded-md",children:n?"Adding to cart...":"Add to cart"})]})]})},dye=tt("button",{target:"eek3ldp3"})({name:"1f80il9",styles:"position:absolute;bottom:4px;font-size:0.6em;color:white;cursor:pointer;font-weight:700;width:90%;border:1px solid rgb(68, 135, 213);text-align:center;transition:all 0.3s ease;background-color:rgb(88, 166, 255);&:hover{background-color:rgb(68, 135, 213);}"}),hye=tt("div",{target:"eek3ldp2"})({name:"77lf7d",styles:"background:white;transition:border-color 0.3s ease;border-width:2px;border-style:solid;border-color:transparent;cursor:default;border-radius:0.5em;display:flex;flex-direction:column;align-items:center"}),pye=tt("img",{target:"eek3ldp1"})({name:"8gl11u",styles:"width:auto;height:120px"}),mye=e=>{const{message:t,itemWidth:n=170,gap:r=10,itemHeight:o=200}=e,i=W(Tt),a=Vs(),{products:s=[]}=t,l=x.useRef(null);let c=!1;const u=s==null?void 0:s.map((h,p)=>{var d,f;const g=`${i}-product-${p}`;return(h.enable_add_to_cart||(d=h.add_to_cart)!=null&&d.enable)&&(c=!0),R(uye,((m,v)=>{for(var y in v||(v={}))lye.call(v,y)&&Yq(m,y,v[y]);if(Kq)for(var y of Kq(v))cye.call(v,y)&&Yq(m,y,v[y]);return m})({},{messageId:(f=t==null?void 0:t.id)!=null?f:null,product:h,opacity:1,itemHeight:o,itemWidth:n}),g)});return ht(s)||a?null:R(fye,{style:{minHeight:o,marginBottom:c?"20px":0},ref:l,children:R("livex-product-selector-center-column",{style:{gap:r},children:u})})},fye=tt("div",{target:"eek3ldp0"})({name:"gggxmf",styles:"display:flex;width:100%;position:relative"}),Xq=["http","https","mailto","tel"];function gye(e){const t=(e||"").trim(),n=t.charAt(0);if(n==="#"||n==="/")return t;const r=t.indexOf(":");if(r===-1)return t;let o=-1;for(;++o<Xq.length;){const i=Xq[o];if(r===i.length&&t.slice(0,i.length).toLowerCase()===i)return t}return o=t.indexOf("?"),o!==-1&&r>o||(o=t.indexOf("#"),o!==-1&&r>o)?t:"javascript:void(0)";/*!
     * Determine if an object is a Buffer
     *
     * @author   Feross Aboukhadijeh <https://feross.org>
     * @license  MIT
     */}var Jq,Zq,vye=(Zq||(Zq=1,Jq=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}),Jq);const eW=Li(vye);function Dm(e){return e&&typeof e=="object"?"position"in e||"type"in e?tW(e.position):"start"in e||"end"in e?tW(e):"line"in e||"column"in e?SS(e):"":""}function SS(e){return nW(e&&e.line)+":"+nW(e&&e.column)}function tW(e){return SS(e&&e.start)+"-"+SS(e&&e.end)}function nW(e){return e&&typeof e=="number"?e:1}let Si=class extends Error{constructor(e,t,n){const r=[null,null];let o={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof t=="string"&&(n=t,t=void 0),typeof n=="string"){const i=n.indexOf(":");i===-1?r[1]=n:(r[0]=n.slice(0,i),r[1]=n.slice(i+1))}t&&("type"in t||"position"in t?t.position&&(o=t.position):"start"in t||"end"in t?o=t:("line"in t||"column"in t)&&(o.start=t)),this.name=Dm(t)||"1:1",this.message=typeof e=="object"?e.message:e,this.stack="",typeof e=="object"&&e.stack&&(this.stack=e.stack),this.reason=this.message,this.fatal,this.line=o.start.line,this.column=o.start.column,this.position=o,this.source=r[0],this.ruleId=r[1],this.file,this.actual,this.expected,this.url,this.note}};Si.prototype.file="",Si.prototype.name="",Si.prototype.reason="",Si.prototype.message="",Si.prototype.stack="",Si.prototype.fatal=null,Si.prototype.column=null,Si.prototype.line=null,Si.prototype.source=null,Si.prototype.ruleId=null,Si.prototype.position=null;const es={basename:function(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');jm(e);let n,r=0,o=-1,i=e.length;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(n){r=i+1;break}}else o<0&&(n=!0,o=i+1);return o<0?"":e.slice(r,o)}if(t===e)return"";let a=-1,s=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(n){r=i+1;break}}else a<0&&(n=!0,a=i+1),s>-1&&(e.charCodeAt(i)===t.charCodeAt(s--)?s<0&&(o=i):(s=-1,o=a));return r===o?o=a:o<0&&(o=e.length),e.slice(r,o)},dirname:function(e){if(jm(e),e.length===0)return".";let t,n=-1,r=e.length;for(;--r;)if(e.charCodeAt(r)===47){if(t){n=r;break}}else t||(t=!0);return n<0?e.charCodeAt(0)===47?"/":".":n===1&&e.charCodeAt(0)===47?"//":e.slice(0,n)},extname:function(e){jm(e);let t,n=e.length,r=-1,o=0,i=-1,a=0;for(;n--;){const s=e.charCodeAt(n);if(s!==47)r<0&&(t=!0,r=n+1),s===46?i<0?i=n:a!==1&&(a=1):i>-1&&(a=-1);else if(t){o=n+1;break}}return i<0||r<0||a===0||a===1&&i===r-1&&i===o+1?"":e.slice(i,r)},join:function(...e){let t,n=-1;for(;++n<e.length;)jm(e[n]),e[n]&&(t=t===void 0?e[n]:t+"/"+e[n]);return t===void 0?".":function(r){jm(r);const o=r.charCodeAt(0)===47;let i=function(a,s){let l,c,u="",h=0,p=-1,d=0,f=-1;for(;++f<=a.length;){if(f<a.length)l=a.charCodeAt(f);else{if(l===47)break;l=47}if(l===47){if(p!==f-1&&d!==1)if(p!==f-1&&d===2){if(u.length<2||h!==2||u.charCodeAt(u.length-1)!==46||u.charCodeAt(u.length-2)!==46){if(u.length>2){if(c=u.lastIndexOf("/"),c!==u.length-1){c<0?(u="",h=0):(u=u.slice(0,c),h=u.length-1-u.lastIndexOf("/")),p=f,d=0;continue}}else if(u.length>0){u="",h=0,p=f,d=0;continue}}s&&(u=u.length>0?u+"/..":"..",h=2)}else u.length>0?u+="/"+a.slice(p+1,f):u=a.slice(p+1,f),h=f-p-1;p=f,d=0}else l===46&&d>-1?d++:d=-1}return u}(r,!o);return i.length===0&&!o&&(i="."),i.length>0&&r.charCodeAt(r.length-1)===47&&(i+="/"),o?"/"+i:i}(t)},sep:"/"};function jm(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const bye={cwd:function(){return"/"}};function ES(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function yye(e){if(typeof e=="string")e=new URL(e);else if(!ES(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return function(t){if(t.hostname!==""){const o=new TypeError('File URL host must be "localhost" or empty on darwin');throw o.code="ERR_INVALID_FILE_URL_HOST",o}const n=t.pathname;let r=-1;for(;++r<n.length;)if(n.charCodeAt(r)===37&&n.charCodeAt(r+1)===50){const o=n.charCodeAt(r+2);if(o===70||o===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(n)}(e)}const CS=["history","path","basename","stem","extname","dirname"];let rW=class{constructor(e){let t;t=e?typeof e=="string"||function(o){return eW(o)}(e)?{value:e}:ES(e)?{path:e}:e:{},this.data={},this.messages=[],this.history=[],this.cwd=bye.cwd(),this.value,this.stored,this.result,this.map;let n,r=-1;for(;++r<CS.length;){const o=CS[r];o in t&&t[o]!==void 0&&t[o]!==null&&(this[o]=o==="history"?[...t[o]]:t[o])}for(n in t)CS.includes(n)||(this[n]=t[n])}get path(){return this.history[this.history.length-1]}set path(e){ES(e)&&(e=yye(e)),PS(e,"path"),this.path!==e&&this.history.push(e)}get dirname(){return typeof this.path=="string"?es.dirname(this.path):void 0}set dirname(e){oW(this.basename,"dirname"),this.path=es.join(e||"",this.basename)}get basename(){return typeof this.path=="string"?es.basename(this.path):void 0}set basename(e){PS(e,"basename"),OS(e,"basename"),this.path=es.join(this.dirname||"",e)}get extname(){return typeof this.path=="string"?es.extname(this.path):void 0}set extname(e){if(OS(e,"extname"),oW(this.dirname,"extname"),e){if(e.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=es.join(this.dirname,this.stem+(e||""))}get stem(){return typeof this.path=="string"?es.basename(this.path,this.extname):void 0}set stem(e){PS(e,"stem"),OS(e,"stem"),this.path=es.join(this.dirname||"",e+(this.extname||""))}toString(e){return(this.value||"").toString(e||void 0)}message(e,t,n){const r=new Si(e,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}info(e,t,n){const r=this.message(e,t,n);return r.fatal=null,r}fail(e,t,n){const r=this.message(e,t,n);throw r.fatal=!0,r}};function OS(e,t){if(e&&e.includes(es.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+es.sep+"`")}function PS(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function oW(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function uy(e){if(e)throw e}var AS,iW,wye=function(){if(iW)return AS;iW=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=function(l){return typeof Array.isArray=="function"?Array.isArray(l):t.call(l)==="[object Array]"},i=function(l){if(!l||t.call(l)!=="[object Object]")return!1;var c,u=e.call(l,"constructor"),h=l.constructor&&l.constructor.prototype&&e.call(l.constructor.prototype,"isPrototypeOf");if(l.constructor&&!u&&!h)return!1;for(c in l);return c===void 0||e.call(l,c)},a=function(l,c){n&&c.name==="__proto__"?n(l,c.name,{enumerable:!0,configurable:!0,value:c.newValue,writable:!0}):l[c.name]=c.newValue},s=function(l,c){if(c==="__proto__"){if(!e.call(l,c))return;if(r)return r(l,c).value}return l[c]};return AS=function l(){var c,u,h,p,d,f,g=arguments[0],m=1,v=arguments.length,y=!1;for(typeof g=="boolean"&&(y=g,g=arguments[1]||{},m=2),(g==null||typeof g!="object"&&typeof g!="function")&&(g={});m<v;++m)if((c=arguments[m])!=null)for(u in c)h=s(g,u),g!==(p=s(c,u))&&(y&&p&&(i(p)||(d=o(p)))?(d?(d=!1,f=h&&o(h)?h:[]):f=h&&i(h)?h:{},a(g,{name:u,newValue:l(y,f,p)})):p!==void 0&&a(g,{name:u,newValue:p}));return g},AS}();const zm=Li(wye);function Lh(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return!(t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null||Symbol.toStringTag in e||Symbol.iterator in e)}function aW(){const e=[],t={run:function(...n){let r=-1;const o=n.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);(function i(a,...s){const l=e[++r];let c=-1;if(a)o(a);else{for(;++c<n.length;)(s[c]===null||s[c]===void 0)&&(s[c]=n[c]);n=s,l?function(u,h){let p;return d;function d(...m){const v=u.length>m.length;let y;v&&m.push(f);try{y=u.apply(this,m)}catch(b){if(v&&p)throw b;return f(b)}v||(y&&y.then&&typeof y.then=="function"?y.then(g,f):y instanceof Error?f(y):g(y))}function f(m,...v){p||(p=!0,h(m,...v))}function g(m){f(null,m)}}(l,i)(...s):o(null,...s)}})(null,...n)},use:function(n){if(typeof n!="function")throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}const kye=function e(){const t=aW(),n=[];let r,o={},i=-1;return a.data=function(s,l){return typeof s=="string"?arguments.length===2?(IS("data",r),o[s]=l,a):sW.call(o,s)&&o[s]||null:s?(IS("data",r),o=s,a):o},a.Parser=void 0,a.Compiler=void 0,a.freeze=function(){if(r)return a;for(;++i<n.length;){const[s,...l]=n[i];if(l[0]===!1)continue;l[0]===!0&&(l[0]=void 0);const c=s.call(a,...l);typeof c=="function"&&t.use(c)}return r=!0,i=Number.POSITIVE_INFINITY,a},a.attachers=n,a.use=function(s,...l){let c;if(IS("use",r),s!=null)if(typeof s=="function")d(s,...l);else{if(typeof s!="object")throw new TypeError("Expected usable value, not `"+s+"`");Array.isArray(s)?p(s):h(s)}return c&&(o.settings=Object.assign(o.settings||{},c)),a;function u(f){if(typeof f=="function")d(f);else{if(typeof f!="object")throw new TypeError("Expected usable value, not `"+f+"`");if(Array.isArray(f)){const[g,...m]=f;d(g,...m)}else h(f)}}function h(f){p(f.plugins),f.settings&&(c=Object.assign(c||{},f.settings))}function p(f){let g=-1;if(f!=null){if(!Array.isArray(f))throw new TypeError("Expected a list of plugins, not `"+f+"`");for(;++g<f.length;)u(f[g])}}function d(f,g){let m,v=-1;for(;++v<n.length;)if(n[v][0]===f){m=n[v];break}m?(Lh(m[1])&&Lh(g)&&(g=zm(!0,m[1],g)),m[1]=g):n.push([...arguments])}},a.parse=function(s){a.freeze();const l=Fm(s),c=a.Parser;return NS("parse",c),lW(c,"parse")?new c(String(l),l).parse():c(String(l),l)},a.stringify=function(s,l){a.freeze();const c=Fm(l),u=a.Compiler;return RS("stringify",u),cW(s),lW(u,"compile")?new u(s,c).compile():u(s,c)},a.run=function(s,l,c){if(cW(s),a.freeze(),!c&&typeof l=="function"&&(c=l,l=void 0),!c)return new Promise(u);function u(h,p){function d(f,g,m){g=g||s,f?p(f):h?h(g):c(null,g,m)}t.run(s,Fm(l),d)}u(null,c)},a.runSync=function(s,l){let c,u;return a.run(s,l,h),uW("runSync","run",u),c;function h(p,d){uy(p),c=d,u=!0}},a.process=function(s,l){if(a.freeze(),NS("process",a.Parser),RS("process",a.Compiler),!l)return new Promise(c);function c(u,h){const p=Fm(s);function d(f,g){f||!g?h(f):u?u(g):l(null,g)}a.run(a.parse(p),p,(f,g,m)=>{if(!f&&g&&m){const v=a.stringify(g,m);v==null||(function(y){return typeof y=="string"||eW(y)}(v)?m.value=v:m.result=v),d(f,m)}else d(f)})}c(null,l)},a.processSync=function(s){let l;a.freeze(),NS("processSync",a.Parser),RS("processSync",a.Compiler);const c=Fm(s);return a.process(c,u),uW("processSync","process",l),c;function u(h){l=!0,uy(h)}},a;function a(){const s=e();let l=-1;for(;++l<n.length;)s.use(...n[l]);return s.data(zm(!0,{},o)),s}}().freeze(),sW={}.hasOwnProperty;function lW(e,t){return typeof e=="function"&&e.prototype&&(function(n){let r;for(r in n)if(sW.call(n,r))return!0;return!1}(e.prototype)||t in e.prototype)}function NS(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function RS(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function IS(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function cW(e){if(!Lh(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function uW(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Fm(e){return function(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}(e)?e:new rW(e)}const xye={};function dW(e,t,n){if(function(r){return!(!r||typeof r!="object")}(e)){if("value"in e)return e.type!=="html"||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return hW(e.children,t,n)}return Array.isArray(e)?hW(e,t,n):""}function hW(e,t,n){const r=[];let o=-1;for(;++o<e.length;)r[o]=dW(e[o],t,n);return r.join("")}function oi(e,t,n,r){const o=e.length;let i,a=0;if(t=t<0?-t>o?0:o+t:t>o?o:t,n=n>0?n:0,r.length<1e4)i=Array.from(r),i.unshift(t,n),e.splice(...i);else for(n&&e.splice(t,n);a<r.length;)i=r.slice(a,a+1e4),i.unshift(t,0),e.splice(...i),a+=1e4,t+=1e4}function Ei(e,t){return e.length>0?(oi(e,e.length,0,t),e):t}const pW={}.hasOwnProperty;function mW(e){const t={};let n=-1;for(;++n<e.length;)_ye(t,e[n]);return t}function _ye(e,t){let n;for(n in t){const r=(pW.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let i;if(o)for(i in o){pW.call(r,i)||(r[i]=[]);const a=o[i];Tye(r[i],Array.isArray(a)?a:a?[a]:[])}}}function Tye(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);oi(e,0,0,r)}const ro=Jl(/[A-Za-z]/),$r=Jl(/[\dA-Za-z]/),Sye=Jl(/[#-'*+\--9=?A-Z^-~]/);function dy(e){return e!==null&&(e<32||e===127)}const MS=Jl(/\d/),Eye=Jl(/[\dA-Fa-f]/),Cye=Jl(/[!-/:-@[-`{-~]/);function vt(e){return e!==null&&e<-2}function mn(e){return e!==null&&(e<0||e===32)}function Dt(e){return e===-2||e===-1||e===32}const hy=Jl(/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/),Tu=Jl(/\s/);function Jl(e){return function(t){return t!==null&&e.test(String.fromCharCode(t))}}function qt(e,t,n,r){const o=r?r-1:Number.POSITIVE_INFINITY;let i=0;return function(s){return Dt(s)?(e.enter(n),a(s)):t(s)};function a(s){return Dt(s)&&i++<o?(e.consume(s),a):(e.exit(n),t(s))}}const Oye={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,function(i){return i===null?void e.consume(i):(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),qt(e,t,"linePrefix"))},function(i){return e.enter("paragraph"),r(i)});let n;return t;function r(i){const a=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=a),n=a,o(i)}function o(i){return i===null?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(i)):vt(i)?(e.consume(i),e.exit("chunkText"),r):(e.consume(i),o)}}},Pye={tokenize:function(e){const t=this,n=[];let r,o,i,a=0;return s;function s(b){if(a<n.length){const w=n[a];return t.containerState=w[1],e.attempt(w[0].continuation,l,c)(b)}return c(b)}function l(b){if(a++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&y();const w=t.events.length;let k,_=w;for(;_--;)if(t.events[_][0]==="exit"&&t.events[_][1].type==="chunkFlow"){k=t.events[_][1].end;break}v(a);let O=w;for(;O<t.events.length;)t.events[O][1].end=Object.assign({},k),O++;return oi(t.events,_+1,0,t.events.slice(w)),t.events.length=O,c(b)}return s(b)}function c(b){if(a===n.length){if(!r)return p(b);if(r.currentConstruct&&r.currentConstruct.concrete)return f(b);t.interrupt=!(!r.currentConstruct||r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(fW,u,h)(b)}function u(b){return r&&y(),v(a),p(b)}function h(b){return t.parser.lazy[t.now().line]=a!==n.length,i=t.now().offset,f(b)}function p(b){return t.containerState={},e.attempt(fW,d,f)(b)}function d(b){return a++,n.push([t.currentConstruct,t.containerState]),p(b)}function f(b){return b===null?(r&&y(),v(0),void e.consume(b)):(r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:o,_tokenizer:r}),g(b))}function g(b){return b===null?(m(e.exit("chunkFlow"),!0),v(0),void e.consume(b)):vt(b)?(e.consume(b),m(e.exit("chunkFlow")),a=0,t.interrupt=void 0,s):(e.consume(b),g)}function m(b,w){const k=t.sliceStream(b);if(w&&k.push(null),b.previous=o,o&&(o.next=b),o=b,r.defineSkip(b.start),r.write(k),t.parser.lazy[b.start.line]){let _=r.events.length;for(;_--;)if(r.events[_][1].start.offset<i&&(!r.events[_][1].end||r.events[_][1].end.offset>i))return;const O=t.events.length;let E,C,N=O;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type==="chunkFlow"){if(E){C=t.events[N][1].end;break}E=!0}for(v(a),_=O;_<t.events.length;)t.events[_][1].end=Object.assign({},C),_++;oi(t.events,N+1,0,t.events.slice(O)),t.events.length=_}}function v(b){let w=n.length;for(;w-- >b;){const k=n[w];t.containerState=k[1],k[0].exit.call(t,e)}n.length=b}function y(){r.write([null]),o=void 0,r=void 0,t.containerState._closeFlow=void 0}}},fW={tokenize:function(e,t,n){return qt(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};function py(e){return e===null||mn(e)||Tu(e)?1:hy(e)?2:void 0}function my(e,t,n){const r=[];let o=-1;for(;++o<e.length;){const i=e[o].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const LS={name:"attention",tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,o=py(r);let i;return function(s){return i=s,e.enter("attentionSequence"),a(s)};function a(s){if(s===i)return e.consume(s),a;const l=e.exit("attentionSequence"),c=py(s),u=!c||c===2&&o||n.includes(s),h=!o||o===2&&c||n.includes(r);return l._open=!!(i===42?u:u&&(o||!h)),l._close=!!(i===42?h:h&&(c||!u)),t(s)}},resolveAll:function(e,t){let n,r,o,i,a,s,l,c,u=-1;for(;++u<e.length;)if(e[u][0]==="enter"&&e[u][1].type==="attentionSequence"&&e[u][1]._close){for(n=u;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[u][1]).charCodeAt(0)){if((e[n][1]._close||e[u][1]._open)&&(e[u][1].end.offset-e[u][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[u][1].end.offset-e[u][1].start.offset)%3))continue;s=e[n][1].end.offset-e[n][1].start.offset>1&&e[u][1].end.offset-e[u][1].start.offset>1?2:1;const h=Object.assign({},e[n][1].end),p=Object.assign({},e[u][1].start);gW(h,-s),gW(p,s),i={type:s>1?"strongSequence":"emphasisSequence",start:h,end:Object.assign({},e[n][1].end)},a={type:s>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[u][1].start),end:p},o={type:s>1?"strongText":"emphasisText",start:Object.assign({},e[n][1].end),end:Object.assign({},e[u][1].start)},r={type:s>1?"strong":"emphasis",start:Object.assign({},i.start),end:Object.assign({},a.end)},e[n][1].end=Object.assign({},i.start),e[u][1].start=Object.assign({},a.end),l=[],e[n][1].end.offset-e[n][1].start.offset&&(l=Ei(l,[["enter",e[n][1],t],["exit",e[n][1],t]])),l=Ei(l,[["enter",r,t],["enter",i,t],["exit",i,t],["enter",o,t]]),l=Ei(l,my(t.parser.constructs.insideSpan.null,e.slice(n+1,u),t)),l=Ei(l,[["exit",o,t],["enter",a,t],["exit",a,t],["exit",r,t]]),e[u][1].end.offset-e[u][1].start.offset?(c=2,l=Ei(l,[["enter",e[u][1],t],["exit",e[u][1],t]])):c=0,oi(e,n-1,u-n+3,l),u=n+l.length-c-2;break}}for(u=-1;++u<e.length;)e[u][1].type==="attentionSequence"&&(e[u][1].type="data");return e}};function gW(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Aye={name:"autolink",tokenize:function(e,t,n){let r=0;return function(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o};function o(p){return ro(p)?(e.consume(p),i):l(p)}function i(p){return p===43||p===45||p===46||$r(p)?(r=1,a(p)):l(p)}function a(p){return p===58?(e.consume(p),r=0,s):(p===43||p===45||p===46||$r(p))&&r++<32?(e.consume(p),a):(r=0,l(p))}function s(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||dy(p)?n(p):(e.consume(p),s)}function l(p){return p===64?(e.consume(p),c):Sye(p)?(e.consume(p),l):n(p)}function c(p){return $r(p)?u(p):n(p)}function u(p){return p===46?(e.consume(p),r=0,c):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):h(p)}function h(p){if((p===45||$r(p))&&r++<63){const d=p===45?h:u;return e.consume(p),d}return n(p)}}},Bm={tokenize:function(e,t,n){return function(o){return Dt(o)?qt(e,r,"linePrefix")(o):r(o)};function r(o){return o===null||vt(o)?t(o):n(o)}},partial:!0},vW={name:"blockQuote",tokenize:function(e,t,n){const r=this;return function(i){if(i===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(i),e.exit("blockQuoteMarker"),o}return n(i)};function o(i){return Dt(i)?(e.enter("blockQuotePrefixWhitespace"),e.consume(i),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(i))}},continuation:{tokenize:function(e,t,n){const r=this;return function(i){return Dt(i)?qt(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i):o(i)};function o(i){return e.attempt(vW,t,n)(i)}}},exit:function(e){e.exit("blockQuote")}},bW={name:"characterEscape",tokenize:function(e,t,n){return function(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),r};function r(o){return Cye(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}},yW=document.createElement("i");function Su(e){const t="&"+e+";";yW.innerHTML=t;const n=yW.textContent;return(n.charCodeAt(n.length-1)!==59||e==="semi")&&n!==t&&n}const wW={name:"characterReference",tokenize:function(e,t,n){const r=this;let o,i,a=0;return function(u){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(u),e.exit("characterReferenceMarker"),s};function s(u){return u===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(u),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),o=31,i=$r,c(u))}function l(u){return u===88||u===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(u),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,i=Eye,c):(e.enter("characterReferenceValue"),o=7,i=MS,c(u))}function c(u){if(u===59&&a){const h=e.exit("characterReferenceValue");return i!==$r||Su(r.sliceSerialize(h))?(e.enter("characterReferenceMarker"),e.consume(u),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(u)}return i(u)&&a++<o?(e.consume(u),c):n(u)}}},kW={tokenize:function(e,t,n){const r=this;return function(i){return i===null?n(i):(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),o)};function o(i){return r.parser.lazy[r.now().line]?n(i):t(i)}},partial:!0},xW={name:"codeFenced",tokenize:function(e,t,n){const r=this,o={tokenize:function(b,w,k){let _=0;return O;function O(j){return b.enter("lineEnding"),b.consume(j),b.exit("lineEnding"),E}function E(j){return b.enter("codeFencedFence"),Dt(j)?qt(b,C,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):C(j)}function C(j){return j===i?(b.enter("codeFencedFenceSequence"),N(j)):k(j)}function N(j){return j===i?(_++,b.consume(j),N):_>=s?(b.exit("codeFencedFenceSequence"),Dt(j)?qt(b,L,"whitespace")(j):L(j)):k(j)}function L(j){return j===null||vt(j)?(b.exit("codeFencedFence"),w(j)):k(j)}},partial:!0};let i,a=0,s=0;return function(b){return function(w){const k=r.events[r.events.length-1];return a=k&&k[1].type==="linePrefix"?k[2].sliceSerialize(k[1],!0).length:0,i=w,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l(w)}(b)};function l(b){return b===i?(s++,e.consume(b),l):s<3?n(b):(e.exit("codeFencedFenceSequence"),Dt(b)?qt(e,c,"whitespace")(b):c(b))}function c(b){return b===null||vt(b)?(e.exit("codeFencedFence"),r.interrupt?t(b):e.check(kW,d,y)(b)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),u(b))}function u(b){return b===null||vt(b)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),c(b)):Dt(b)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),qt(e,h,"whitespace")(b)):b===96&&b===i?n(b):(e.consume(b),u)}function h(b){return b===null||vt(b)?c(b):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(b))}function p(b){return b===null||vt(b)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),c(b)):b===96&&b===i?n(b):(e.consume(b),p)}function d(b){return e.attempt(o,y,f)(b)}function f(b){return e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),g}function g(b){return a>0&&Dt(b)?qt(e,m,"linePrefix",a+1)(b):m(b)}function m(b){return b===null||vt(b)?e.check(kW,d,y)(b):(e.enter("codeFlowValue"),v(b))}function v(b){return b===null||vt(b)?(e.exit("codeFlowValue"),m(b)):(e.consume(b),v)}function y(b){return e.exit("codeFenced"),t(b)}},concrete:!0},DS={name:"codeIndented",tokenize:function(e,t,n){const r=this;return function(l){return e.enter("codeIndented"),qt(e,o,"linePrefix",5)(l)};function o(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?i(l):n(l)}function i(l){return l===null?s(l):vt(l)?e.attempt(Nye,i,s)(l):(e.enter("codeFlowValue"),a(l))}function a(l){return l===null||vt(l)?(e.exit("codeFlowValue"),i(l)):(e.consume(l),a)}function s(l){return e.exit("codeIndented"),t(l)}}},Nye={tokenize:function(e,t,n){const r=this;return o;function o(a){return r.parser.lazy[r.now().line]?n(a):vt(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o):qt(e,i,"linePrefix",5)(a)}function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(a):vt(a)?o(a):n(a)}},partial:!0},Rye={name:"codeText",tokenize:function(e,t,n){let r,o,i=0;return function(u){return e.enter("codeText"),e.enter("codeTextSequence"),a(u)};function a(u){return u===96?(e.consume(u),i++,a):(e.exit("codeTextSequence"),s(u))}function s(u){return u===null?n(u):u===32?(e.enter("space"),e.consume(u),e.exit("space"),s):u===96?(o=e.enter("codeTextSequence"),r=0,c(u)):vt(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),s):(e.enter("codeTextData"),l(u))}function l(u){return u===null||u===32||u===96||vt(u)?(e.exit("codeTextData"),s(u)):(e.consume(u),l)}function c(u){return u===96?(e.consume(u),r++,c):r===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(u)):(o.type="codeTextData",l(u))}},resolve:function(e){let t,n,r=e.length-4,o=3;if(!(e[o][1].type!=="lineEnding"&&e[o][1].type!=="space"||e[r][1].type!=="lineEnding"&&e[r][1].type!=="space")){for(t=o;++t<r;)if(e[t][1].type==="codeTextData"){e[o][1].type="codeTextPadding",e[r][1].type="codeTextPadding",o+=2,r-=2;break}}for(t=o-1,r++;++t<=r;)n===void 0?t!==r&&e[t][1].type!=="lineEnding"&&(n=t):(t===r||e[t][1].type==="lineEnding")&&(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},previous:function(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}};function _W(e){const t={};let n,r,o,i,a,s,l,c=-1;for(;++c<e.length;){for(;c in t;)c=t[c];if(n=e[c],c&&n[1].type==="chunkFlow"&&e[c-1][1].type==="listItemPrefix"&&(s=n[1]._tokenizer.events,o=0,o<s.length&&s[o][1].type==="lineEndingBlank"&&(o+=2),o<s.length&&s[o][1].type==="content"))for(;++o<s.length&&s[o][1].type!=="content";)s[o][1].type==="chunkText"&&(s[o][1]._isInFirstContentOfListItem=!0,o++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,Iye(e,c)),c=t[c],l=!0);else if(n[1]._container){for(o=c,r=void 0;o--&&(i=e[o],i[1].type==="lineEnding"||i[1].type==="lineEndingBlank");)i[0]==="enter"&&(r&&(e[r][1].type="lineEndingBlank"),i[1].type="lineEnding",r=o);r&&(n[1].end=Object.assign({},e[r][1].start),a=e.slice(r,c),a.unshift(n),oi(e,r,c-r+1,a))}}return!l}function Iye(e,t){const n=e[t][1],r=e[t][2];let o=t-1;const i=[],a=n._tokenizer||r.parser[n.contentType](n.start),s=a.events,l=[],c={};let u,h,p=-1,d=n,f=0,g=0;const m=[g];for(;d;){for(;e[++o][1]!==d;);i.push(o),d._tokenizer||(u=r.sliceStream(d),d.next||u.push(null),h&&a.defineSkip(d.start),d._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(u),d._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),h=d,d=d.next}for(d=n;++p<s.length;)s[p][0]==="exit"&&s[p-1][0]==="enter"&&s[p][1].type===s[p-1][1].type&&s[p][1].start.line!==s[p][1].end.line&&(g=p+1,m.push(g),d._tokenizer=void 0,d.previous=void 0,d=d.next);for(a.events=[],d?(d._tokenizer=void 0,d.previous=void 0):m.pop(),p=m.length;p--;){const v=s.slice(m[p],m[p+1]),y=i.pop();l.unshift([y,y+v.length-1]),oi(e,y,2,v)}for(p=-1;++p<l.length;)c[f+l[p][0]]=f+l[p][1],f+=l[p][1]-l[p][0]-1;return c}const Mye={tokenize:function(e,t){let n;return function(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(a)};function r(a){return a===null?o(a):vt(a)?e.check(Lye,i,o)(a):(e.consume(a),r)}function o(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function i(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}},resolve:function(e){return _W(e),e}},Lye={tokenize:function(e,t,n){const r=this;return function(i){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),qt(e,o,"linePrefix")};function o(i){if(i===null||vt(i))return n(i);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(i):e.interrupt(r.parser.constructs.flow,n,t)(i)}},partial:!0};function TW(e,t,n,r,o,i,a,s,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return function(m){return m===60?(e.enter(r),e.enter(o),e.enter(i),e.consume(m),e.exit(i),h):m===null||m===32||m===41||dy(m)?n(m):(e.enter(r),e.enter(a),e.enter(s),e.enter("chunkString",{contentType:"string"}),f(m))};function h(m){return m===62?(e.enter(i),e.consume(m),e.exit(i),e.exit(o),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),p(m))}function p(m){return m===62?(e.exit("chunkString"),e.exit(s),h(m)):m===null||m===60||vt(m)?n(m):(e.consume(m),m===92?d:p)}function d(m){return m===60||m===62||m===92?(e.consume(m),p):p(m)}function f(m){return u||m!==null&&m!==41&&!mn(m)?u<c&&m===40?(e.consume(m),u++,f):m===41?(e.consume(m),u--,f):m===null||m===32||m===40||dy(m)?n(m):(e.consume(m),m===92?g:f):(e.exit("chunkString"),e.exit(s),e.exit(a),e.exit(r),t(m))}function g(m){return m===40||m===41||m===92?(e.consume(m),f):f(m)}}function SW(e,t,n,r,o,i){const a=this;let s,l=0;return function(p){return e.enter(r),e.enter(o),e.consume(p),e.exit(o),e.enter(i),c};function c(p){return l>999||p===null||p===91||p===93&&!s||p===94&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?n(p):p===93?(e.exit(i),e.enter(o),e.consume(p),e.exit(o),e.exit(r),t):vt(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),u(p))}function u(p){return p===null||p===91||p===93||vt(p)||l++>999?(e.exit("chunkString"),c(p)):(e.consume(p),s||(s=!Dt(p)),p===92?h:u)}function h(p){return p===91||p===92||p===93?(e.consume(p),l++,u):u(p)}}function EW(e,t,n,r,o,i){let a;return function(h){return h===34||h===39||h===40?(e.enter(r),e.enter(o),e.consume(h),e.exit(o),a=h===40?41:h,s):n(h)};function s(h){return h===a?(e.enter(o),e.consume(h),e.exit(o),e.exit(r),t):(e.enter(i),l(h))}function l(h){return h===a?(e.exit(i),s(a)):h===null?n(h):vt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),qt(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(h))}function c(h){return h===a||h===null||vt(h)?(e.exit("chunkString"),l(h)):(e.consume(h),h===92?u:c)}function u(h){return h===a||h===92?(e.consume(h),c):c(h)}}function Um(e,t){let n;return function r(o){return vt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n=!0,r):Dt(o)?qt(e,r,n?"linePrefix":"lineSuffix")(o):t(o)}}function aa(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Dye={name:"definition",tokenize:function(e,t,n){const r=this;let o;return function(h){return e.enter("definition"),function(p){return SW.call(r,e,i,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}(h)};function i(h){return o=aa(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),a):n(h)}function a(h){return mn(h)?Um(e,s)(h):s(h)}function s(h){return TW(e,l,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function l(h){return e.attempt(jye,c,c)(h)}function c(h){return Dt(h)?qt(e,u,"whitespace")(h):u(h)}function u(h){return h===null||vt(h)?(e.exit("definition"),r.parser.defined.push(o),t(h)):n(h)}}},jye={tokenize:function(e,t,n){return function(a){return mn(a)?Um(e,r)(a):n(a)};function r(a){return EW(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function o(a){return Dt(a)?qt(e,i,"whitespace")(a):i(a)}function i(a){return a===null||vt(a)?t(a):n(a)}},partial:!0},zye={name:"hardBreakEscape",tokenize:function(e,t,n){return function(o){return e.enter("hardBreakEscape"),e.consume(o),r};function r(o){return vt(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}},Fye={name:"headingAtx",tokenize:function(e,t,n){let r=0;return function(l){return e.enter("atxHeading"),function(c){return e.enter("atxHeadingSequence"),o(c)}(l)};function o(l){return l===35&&r++<6?(e.consume(l),o):l===null||mn(l)?(e.exit("atxHeadingSequence"),i(l)):n(l)}function i(l){return l===35?(e.enter("atxHeadingSequence"),a(l)):l===null||vt(l)?(e.exit("atxHeading"),t(l)):Dt(l)?qt(e,i,"whitespace")(l):(e.enter("atxHeadingText"),s(l))}function a(l){return l===35?(e.consume(l),a):(e.exit("atxHeadingSequence"),i(l))}function s(l){return l===null||l===35||mn(l)?(e.exit("atxHeadingText"),i(l)):(e.consume(l),s)}},resolve:function(e,t){let n,r,o=e.length-2,i=3;return e[i][1].type==="whitespace"&&(i+=2),o-2>i&&e[o][1].type==="whitespace"&&(o-=2),e[o][1].type==="atxHeadingSequence"&&(i===o-1||o-4>i&&e[o-2][1].type==="whitespace")&&(o-=i+1===o?2:4),o>i&&(n={type:"atxHeadingText",start:e[i][1].start,end:e[o][1].end},r={type:"chunkText",start:e[i][1].start,end:e[o][1].end,contentType:"text"},oi(e,i,o-i+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]])),e}},Bye=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],CW=["pre","script","style","textarea"],Uye={name:"htmlFlow",tokenize:function(e,t,n){const r=this;let o,i,a,s,l;return function(P){return function(Q){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(Q),c}(P)};function c(P){return P===33?(e.consume(P),u):P===47?(e.consume(P),i=!0,d):P===63?(e.consume(P),o=3,r.interrupt?t:U):ro(P)?(e.consume(P),a=String.fromCharCode(P),f):n(P)}function u(P){return P===45?(e.consume(P),o=2,h):P===91?(e.consume(P),o=5,s=0,p):ro(P)?(e.consume(P),o=4,r.interrupt?t:U):n(P)}function h(P){return P===45?(e.consume(P),r.interrupt?t:U):n(P)}function p(P){return P==="CDATA[".charCodeAt(s++)?(e.consume(P),s===6?r.interrupt?t:N:p):n(P)}function d(P){return ro(P)?(e.consume(P),a=String.fromCharCode(P),f):n(P)}function f(P){if(P===null||P===47||P===62||mn(P)){const Q=P===47,re=a.toLowerCase();return Q||i||!CW.includes(re)?Bye.includes(a.toLowerCase())?(o=6,Q?(e.consume(P),g):r.interrupt?t(P):N(P)):(o=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(P):i?m(P):v(P)):(o=1,r.interrupt?t(P):N(P))}return P===45||$r(P)?(e.consume(P),a+=String.fromCharCode(P),f):n(P)}function g(P){return P===62?(e.consume(P),r.interrupt?t:N):n(P)}function m(P){return Dt(P)?(e.consume(P),m):E(P)}function v(P){return P===47?(e.consume(P),E):P===58||P===95||ro(P)?(e.consume(P),y):Dt(P)?(e.consume(P),v):E(P)}function y(P){return P===45||P===46||P===58||P===95||$r(P)?(e.consume(P),y):b(P)}function b(P){return P===61?(e.consume(P),w):Dt(P)?(e.consume(P),b):v(P)}function w(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(e.consume(P),l=P,k):Dt(P)?(e.consume(P),w):_(P)}function k(P){return P===l?(e.consume(P),l=null,O):P===null||vt(P)?n(P):(e.consume(P),k)}function _(P){return P===null||P===34||P===39||P===47||P===60||P===61||P===62||P===96||mn(P)?b(P):(e.consume(P),_)}function O(P){return P===47||P===62||Dt(P)?v(P):n(P)}function E(P){return P===62?(e.consume(P),C):n(P)}function C(P){return P===null||vt(P)?N(P):Dt(P)?(e.consume(P),C):n(P)}function N(P){return P===45&&o===2?(e.consume(P),F):P===60&&o===1?(e.consume(P),z):P===62&&o===4?(e.consume(P),S):P===63&&o===3?(e.consume(P),U):P===93&&o===5?(e.consume(P),V):!vt(P)||o!==6&&o!==7?P===null||vt(P)?(e.exit("htmlFlowData"),L(P)):(e.consume(P),N):(e.exit("htmlFlowData"),e.check(Hye,q,L)(P))}function L(P){return e.check(Vye,j,q)(P)}function j(P){return e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),H}function H(P){return P===null||vt(P)?L(P):(e.enter("htmlFlowData"),N(P))}function F(P){return P===45?(e.consume(P),U):N(P)}function z(P){return P===47?(e.consume(P),a="",B):N(P)}function B(P){if(P===62){const Q=a.toLowerCase();return CW.includes(Q)?(e.consume(P),S):N(P)}return ro(P)&&a.length<8?(e.consume(P),a+=String.fromCharCode(P),B):N(P)}function V(P){return P===93?(e.consume(P),U):N(P)}function U(P){return P===62?(e.consume(P),S):P===45&&o===2?(e.consume(P),U):N(P)}function S(P){return P===null||vt(P)?(e.exit("htmlFlowData"),q(P)):(e.consume(P),S)}function q(P){return e.exit("htmlFlow"),t(P)}},resolveTo:function(e){let t=e.length;for(;t--&&(e[t][0]!=="enter"||e[t][1].type!=="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e},concrete:!0},Hye={tokenize:function(e,t,n){return function(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(Bm,t,n)}},partial:!0},Vye={tokenize:function(e,t,n){const r=this;return function(i){return vt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),o):n(i)};function o(i){return r.parser.lazy[r.now().line]?n(i):t(i)}},partial:!0},$ye={name:"htmlText",tokenize:function(e,t,n){const r=this;let o,i,a;return function(S){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(S),s};function s(S){return S===33?(e.consume(S),l):S===47?(e.consume(S),w):S===63?(e.consume(S),y):ro(S)?(e.consume(S),O):n(S)}function l(S){return S===45?(e.consume(S),c):S===91?(e.consume(S),i=0,d):ro(S)?(e.consume(S),v):n(S)}function c(S){return S===45?(e.consume(S),p):n(S)}function u(S){return S===null?n(S):S===45?(e.consume(S),h):vt(S)?(a=u,B(S)):(e.consume(S),u)}function h(S){return S===45?(e.consume(S),p):u(S)}function p(S){return S===62?z(S):S===45?h(S):u(S)}function d(S){return S==="CDATA[".charCodeAt(i++)?(e.consume(S),i===6?f:d):n(S)}function f(S){return S===null?n(S):S===93?(e.consume(S),g):vt(S)?(a=f,B(S)):(e.consume(S),f)}function g(S){return S===93?(e.consume(S),m):f(S)}function m(S){return S===62?z(S):S===93?(e.consume(S),m):f(S)}function v(S){return S===null||S===62?z(S):vt(S)?(a=v,B(S)):(e.consume(S),v)}function y(S){return S===null?n(S):S===63?(e.consume(S),b):vt(S)?(a=y,B(S)):(e.consume(S),y)}function b(S){return S===62?z(S):y(S)}function w(S){return ro(S)?(e.consume(S),k):n(S)}function k(S){return S===45||$r(S)?(e.consume(S),k):_(S)}function _(S){return vt(S)?(a=_,B(S)):Dt(S)?(e.consume(S),_):z(S)}function O(S){return S===45||$r(S)?(e.consume(S),O):S===47||S===62||mn(S)?E(S):n(S)}function E(S){return S===47?(e.consume(S),z):S===58||S===95||ro(S)?(e.consume(S),C):vt(S)?(a=E,B(S)):Dt(S)?(e.consume(S),E):z(S)}function C(S){return S===45||S===46||S===58||S===95||$r(S)?(e.consume(S),C):N(S)}function N(S){return S===61?(e.consume(S),L):vt(S)?(a=N,B(S)):Dt(S)?(e.consume(S),N):E(S)}function L(S){return S===null||S===60||S===61||S===62||S===96?n(S):S===34||S===39?(e.consume(S),o=S,j):vt(S)?(a=L,B(S)):Dt(S)?(e.consume(S),L):(e.consume(S),H)}function j(S){return S===o?(e.consume(S),o=void 0,F):S===null?n(S):vt(S)?(a=j,B(S)):(e.consume(S),j)}function H(S){return S===null||S===34||S===39||S===60||S===61||S===96?n(S):S===47||S===62||mn(S)?E(S):(e.consume(S),H)}function F(S){return S===47||S===62||mn(S)?E(S):n(S)}function z(S){return S===62?(e.consume(S),e.exit("htmlTextData"),e.exit("htmlText"),t):n(S)}function B(S){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),V}function V(S){return Dt(S)?qt(e,U,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(S):U(S)}function U(S){return e.enter("htmlTextData"),a(S)}}},jS={name:"labelEnd",tokenize:function(e,t,n){const r=this;let o,i,a=r.events.length;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){o=r.events[a][1];break}return function(h){return o?o._inactive?u(h):(i=r.parser.defined.includes(aa(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),s):n(h)};function s(h){return h===40?e.attempt(qye,c,i?c:u)(h):h===91?e.attempt(Wye,c,i?l:u)(h):i?c(h):u(h)}function l(h){return e.attempt(Gye,c,u)(h)}function c(h){return t(h)}function u(h){return o._balanced=!0,n(h)}},resolveTo:function(e,t){let n,r,o,i,a=e.length,s=0;for(;a--;)if(n=e[a][1],r){if(n.type==="link"||n.type==="labelLink"&&n._inactive)break;e[a][0]==="enter"&&n.type==="labelLink"&&(n._inactive=!0)}else if(o){if(e[a][0]==="enter"&&(n.type==="labelImage"||n.type==="labelLink")&&!n._balanced&&(r=a,n.type!=="labelLink")){s=2;break}}else n.type==="labelEnd"&&(o=a);const l={type:e[r][1].type==="labelLink"?"link":"image",start:Object.assign({},e[r][1].start),end:Object.assign({},e[e.length-1][1].end)},c={type:"label",start:Object.assign({},e[r][1].start),end:Object.assign({},e[o][1].end)},u={type:"labelText",start:Object.assign({},e[r+s+2][1].end),end:Object.assign({},e[o-2][1].start)};return i=[["enter",l,t],["enter",c,t]],i=Ei(i,e.slice(r+1,r+s+3)),i=Ei(i,[["enter",u,t]]),i=Ei(i,my(t.parser.constructs.insideSpan.null,e.slice(r+s+4,o-3),t)),i=Ei(i,[["exit",u,t],e[o-2],e[o-1],["exit",c,t]]),i=Ei(i,e.slice(o+1)),i=Ei(i,[["exit",l,t]]),oi(e,r,e.length,i),e},resolveAll:function(e){let t=-1;for(;++t<e.length;){const n=e[t][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++)}return e}},qye={tokenize:function(e,t,n){return function(u){return e.enter("resource"),e.enter("resourceMarker"),e.consume(u),e.exit("resourceMarker"),r};function r(u){return mn(u)?Um(e,o)(u):o(u)}function o(u){return u===41?c(u):TW(e,i,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(u)}function i(u){return mn(u)?Um(e,s)(u):c(u)}function a(u){return n(u)}function s(u){return u===34||u===39||u===40?EW(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(u):c(u)}function l(u){return mn(u)?Um(e,c)(u):c(u)}function c(u){return u===41?(e.enter("resourceMarker"),e.consume(u),e.exit("resourceMarker"),e.exit("resource"),t):n(u)}}},Wye={tokenize:function(e,t,n){const r=this;return function(a){return SW.call(r,e,o,i,"reference","referenceMarker","referenceString")(a)};function o(a){return r.parser.defined.includes(aa(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function i(a){return n(a)}}},Gye={tokenize:function(e,t,n){return function(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),r};function r(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}},Kye={name:"labelStartImage",tokenize:function(e,t,n){const r=this;return function(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),o};function o(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),i):n(a)}function i(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}},resolveAll:jS.resolveAll},Yye={name:"labelStartLink",tokenize:function(e,t,n){const r=this;return function(i){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(i),e.exit("labelMarker"),e.exit("labelLink"),o};function o(i){return i===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(i):t(i)}},resolveAll:jS.resolveAll},zS={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),qt(e,t,"linePrefix")}}},fy={name:"thematicBreak",tokenize:function(e,t,n){let r,o=0;return function(s){return e.enter("thematicBreak"),function(l){return r=l,i(l)}(s)};function i(s){return s===r?(e.enter("thematicBreakSequence"),a(s)):o>=3&&(s===null||vt(s))?(e.exit("thematicBreak"),t(s)):n(s)}function a(s){return s===r?(e.consume(s),o++,a):(e.exit("thematicBreakSequence"),Dt(s)?qt(e,i,"whitespace")(s):i(s))}}},Ao={name:"list",tokenize:function(e,t,n){const r=this,o=r.events[r.events.length-1];let i=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,a=0;return function(p){const d=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(d==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:MS(p)){if(r.containerState.type||(r.containerState.type=d,e.enter(d,{_container:!0})),d==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(fy,n,l)(p):l(p);if(!r.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),s(p)}return n(p)};function s(p){return MS(p)&&++a<10?(e.consume(p),s):(!r.interrupt||a<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),l(p)):n(p)}function l(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,e.check(Bm,r.interrupt?n:c,e.attempt(Qye,h,u))}function c(p){return r.containerState.initialBlankLine=!0,i++,h(p)}function u(p){return Dt(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),h):n(p)}function h(p){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}},continuation:{tokenize:function(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Bm,function(i){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,qt(e,t,"listItemIndent",r.containerState.size+1)(i)},function(i){return r.containerState.furtherBlankLines||!Dt(i)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(i)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Xye,t,o)(i))});function o(i){return r.containerState._closeFlow=!0,r.interrupt=void 0,qt(e,e.attempt(Ao,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i)}}},exit:function(e){e.exit(this.containerState.type)}},Qye={tokenize:function(e,t,n){const r=this;return qt(e,function(o){const i=r.events[r.events.length-1];return!Dt(o)&&i&&i[1].type==="listItemPrefixWhitespace"?t(o):n(o)},"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)},partial:!0},Xye={tokenize:function(e,t,n){const r=this;return qt(e,function(o){const i=r.events[r.events.length-1];return i&&i[1].type==="listItemIndent"&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?t(o):n(o)},"listItemIndent",r.containerState.size+1)},partial:!0},OW={name:"setextUnderline",tokenize:function(e,t,n){const r=this;let o;return function(s){let l,c=r.events.length;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){l=r.events[c][1].type==="paragraph";break}return r.parser.lazy[r.now().line]||!r.interrupt&&!l?n(s):(e.enter("setextHeadingLine"),o=s,function(u){return e.enter("setextHeadingLineSequence"),i(u)}(s))};function i(s){return s===o?(e.consume(s),i):(e.exit("setextHeadingLineSequence"),Dt(s)?qt(e,a,"lineSuffix")(s):a(s))}function a(s){return s===null||vt(s)?(e.exit("setextHeadingLine"),t(s)):n(s)}},resolveTo:function(e,t){let n,r,o,i=e.length;for(;i--;)if(e[i][0]==="enter"){if(e[i][1].type==="content"){n=i;break}e[i][1].type==="paragraph"&&(r=i)}else e[i][1].type==="content"&&e.splice(i,1),!o&&e[i][1].type==="definition"&&(o=i);const a={type:"setextHeading",start:Object.assign({},e[r][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[r][1].type="setextHeadingText",o?(e.splice(r,0,["enter",a,t]),e.splice(o+1,0,["exit",e[n][1],t]),e[n][1].end=Object.assign({},e[o][1].end)):e[n][1]=a,e.push(["exit",a,t]),e}},Jye={tokenize:function(e){const t=this,n=e.attempt(Bm,function(o){return o===null?void e.consume(o):(e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n)},e.attempt(this.parser.constructs.flowInitial,r,qt(e,e.attempt(this.parser.constructs.flow,r,e.attempt(Mye,r)),"linePrefix")));return n;function r(o){if(o!==null)return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(o)}}},Zye={resolveAll:AW()},ewe=PW("string"),twe=PW("text");function PW(e){return{tokenize:function(t){const n=this,r=this.parser.constructs[e],o=t.attempt(r,i,a);return i;function i(c){return l(c)?o(c):a(c)}function a(c){if(c!==null)return t.enter("data"),t.consume(c),s;t.consume(c)}function s(c){return l(c)?(t.exit("data"),o(c)):(t.consume(c),s)}function l(c){if(c===null)return!0;const u=r[c];let h=-1;if(u)for(;++h<u.length;){const p=u[h];if(!p.previous||p.previous.call(n,n.previous))return!0}return!1}},resolveAll:AW(e==="text"?nwe:void 0)}}function AW(e){return function(t,n){let r,o=-1;for(;++o<=t.length;)r===void 0?t[o]&&t[o][1].type==="data"&&(r=o,o++):(!t[o]||t[o][1].type!=="data")&&(o!==r+2&&(t[r][1].end=t[o-1][1].end,t.splice(r+2,o-r-2),o=r+2),r=void 0);return e?e(t,n):t}}function nwe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],o=t.sliceStream(r);let i,a=o.length,s=-1,l=0;for(;a--;){const c=o[a];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)l++,s--;if(s)break;s=-1}else if(c===-2)i=!0,l++;else if(c!==-1){a++;break}}if(l){const c={type:n===e.length||i||l<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-l,offset:r.end.offset-l,_index:r.start._index+a,_bufferIndex:a?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},c.start),r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}function rwe(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const o={},i=[];let a=[],s=[];const l={consume:function(y){vt(y)?(r.line++,r.column=1,r.offset+=y===-3?2:1,v()):y!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=y},enter:function(y,b){const w=b||{};return w.type=y,w.start=p(),c.events.push(["enter",w,c]),s.push(w),w},exit:function(y){const b=s.pop();return b.end=p(),c.events.push(["exit",b,c]),b},attempt:g(function(y,b){m(y,b.from)}),check:g(f),interrupt:g(f,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:h,sliceSerialize:function(y,b){return function(w,k){let _=-1;const O=[];let E;for(;++_<w.length;){const C=w[_];let N;if(typeof C=="string")N=C;else switch(C){case-5:N="\r";break;case-4:N=`
`;break;case-3:N=`\r
`;break;case-2:N=k?" ":"	";break;case-1:if(!k&&E)continue;N=" ";break;default:N=String.fromCharCode(C)}E=C===-2,O.push(N)}return O.join("")}(h(y),b)},now:p,defineSkip:function(y){o[y.line]=y.column,v()},write:function(y){return a=Ei(a,y),function(){let b;for(;r._index<a.length;){const w=a[r._index];if(typeof w=="string")for(b=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===b&&r._bufferIndex<w.length;)d(w.charCodeAt(r._bufferIndex));else d(w)}}(),a[a.length-1]!==null?[]:(m(t,0),c.events=my(i,c.events,c),c.events)}};let u=t.tokenize.call(c,l);return t.resolveAll&&i.push(t),c;function h(y){return function(b,w){const k=w.start._index,_=w.start._bufferIndex,O=w.end._index,E=w.end._bufferIndex;let C;if(k===O)C=[b[k].slice(_,E)];else{if(C=b.slice(k,O),_>-1){const N=C[0];typeof N=="string"?C[0]=N.slice(_):C.shift()}E>0&&C.push(b[O].slice(0,E))}return C}(a,y)}function p(){const{line:y,column:b,offset:w,_index:k,_bufferIndex:_}=r;return{line:y,column:b,offset:w,_index:k,_bufferIndex:_}}function d(y){u=u(y)}function f(y,b){b.restore()}function g(y,b){return function(w,k,_){let O,E,C,N;return Array.isArray(w)?L(w):"tokenize"in w?L([w]):function(z){return B;function B(V){const U=V!==null&&z[V],S=V!==null&&z.null;return L([...Array.isArray(U)?U:U?[U]:[],...Array.isArray(S)?S:S?[S]:[]])(V)}}(w);function L(z){return O=z,E=0,z.length===0?_:j(z[E])}function j(z){return function(B){return N=function(){const V=p(),U=c.previous,S=c.currentConstruct,q=c.events.length,P=Array.from(s);return{restore:Q,from:q};function Q(){r=V,c.previous=U,c.currentConstruct=S,c.events.length=q,s=P,v()}}(),C=z,z.partial||(c.currentConstruct=z),z.name&&c.parser.constructs.disable.null.includes(z.name)?F():z.tokenize.call(b?Object.assign(Object.create(c),b):c,l,H,F)(B)}}function H(z){return y(C,N),k}function F(z){return N.restore(),++E<O.length?j(O[E]):_}}}function m(y,b){y.resolveAll&&!i.includes(y)&&i.push(y),y.resolve&&oi(c.events,b,c.events.length-b,y.resolve(c.events.slice(b),c)),y.resolveTo&&(c.events=y.resolveTo(c.events,c))}function v(){r.line in o&&r.column<2&&(r.column=o[r.line],r.offset+=o[r.line]-1)}}const owe={42:Ao,43:Ao,45:Ao,48:Ao,49:Ao,50:Ao,51:Ao,52:Ao,53:Ao,54:Ao,55:Ao,56:Ao,57:Ao,62:vW},iwe={91:Dye},awe={[-2]:DS,[-1]:DS,32:DS},swe={35:Fye,42:fy,45:[OW,fy],60:Uye,61:OW,95:fy,96:xW,126:xW},lwe={38:wW,92:bW},cwe={[-5]:zS,[-4]:zS,[-3]:zS,33:Kye,38:wW,42:LS,60:[Aye,$ye],91:Yye,92:[zye,bW],93:jS,95:LS,96:Rye},uwe={null:[LS,Zye]},dwe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:{null:[42,95]},contentInitial:iwe,disable:{null:[]},document:owe,flow:swe,flowInitial:awe,insideSpan:uwe,string:lwe,text:cwe},Symbol.toStringTag,{value:"Module"})),NW=/[\0\t\n\r]/g;function RW(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(65535&n)==65535||(65535&n)==65534||n>1114111?"�":String.fromCharCode(n)}const hwe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function IW(e){return e.replace(hwe,pwe)}function pwe(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),o=r===120||r===88;return RW(n.slice(o?2:1),o?16:10)}return Su(n)||e}const MW={}.hasOwnProperty,mwe=function(e,t,n){return typeof t!="string"&&(n=t,t=void 0),function(r){const o={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(Ye),autolinkProtocol:F,autolinkEmail:F,atxHeading:u(ke),blockQuote:u(pe),characterEscape:F,characterReference:F,codeFenced:u(Te),codeFencedFenceInfo:h,codeFencedFenceMeta:h,codeIndented:u(Te,h),codeText:u(be,h),codeTextData:F,data:F,codeFlowValue:F,definition:u(we),definitionDestinationString:h,definitionLabelString:h,definitionTitleString:h,emphasis:u(Oe),hardBreakEscape:u(Me),hardBreakTrailing:u(Me),htmlFlow:u(Le,h),htmlFlowData:F,htmlText:u(Le,h),htmlTextData:F,image:u(Ge),label:h,link:u(Ye),listItem:u(Re),listItemValue:v,listOrdered:u(ct,m),listUnordered:u(ct),paragraph:u(ze),reference:je,referenceString:h,resourceDestinationString:h,resourceTitleString:h,setextHeading:u(ke),strong:u(He),thematicBreak:u(oe)},exit:{atxHeading:d(),atxHeadingSequence:N,autolink:d(),autolinkEmail:ae,autolinkProtocol:Se,blockQuote:d(),characterEscapeValue:z,characterReferenceMarkerHexadecimal:Xe,characterReferenceMarkerNumeric:Xe,characterReferenceValue:ie,codeFenced:d(k),codeFencedFence:w,codeFencedFenceInfo:y,codeFencedFenceMeta:b,codeFlowValue:z,codeIndented:d(_),codeText:d(q),codeTextData:z,data:z,definition:d(),definitionDestinationString:C,definitionLabelString:O,definitionTitleString:E,emphasis:d(),hardBreakEscape:d(V),hardBreakTrailing:d(V),htmlFlow:d(U),htmlFlowData:z,htmlText:d(S),htmlTextData:z,image:d(Q),label:_e,labelText:re,lineEnding:B,link:d(P),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:Qe,resourceDestinationString:se,resourceTitleString:ue,resource:fe,setextHeading:d(H),setextHeadingLineSequence:j,setextHeadingText:L,strong:d(),thematicBreak:d()}};LW(o,(r||{}).mdastExtensions||[]);const i={};return a;function a(X){let de={type:"root",children:[]};const he={stack:[de],tokenStack:[],config:o,enter:p,exit:f,buffer:h,resume:g,setData:l,getData:c},Ee=[];let $e=-1;for(;++$e<X.length;)(X[$e][1].type==="listOrdered"||X[$e][1].type==="listUnordered")&&(X[$e][0]==="enter"?Ee.push($e):$e=s(X,Ee.pop(),$e));for($e=-1;++$e<X.length;){const Je=o[X[$e][0]];MW.call(Je,X[$e][1].type)&&Je[X[$e][1].type].call(Object.assign({sliceSerialize:X[$e][2].sliceSerialize},he),X[$e][1])}if(he.tokenStack.length>0){const Je=he.tokenStack[he.tokenStack.length-1];(Je[1]||DW).call(he,void 0,Je[0])}for(de.position={start:Zl(X.length>0?X[0][1].start:{line:1,column:1,offset:0}),end:Zl(X.length>0?X[X.length-2][1].end:{line:1,column:1,offset:0})},$e=-1;++$e<o.transforms.length;)de=o.transforms[$e](de)||de;return de}function s(X,de,he){let Ee,$e,Je,at,We=de-1,bt=-1,ft=!1;for(;++We<=he;){const ut=X[We];if(ut[1].type==="listUnordered"||ut[1].type==="listOrdered"||ut[1].type==="blockQuote"?(ut[0]==="enter"?bt++:bt--,at=void 0):ut[1].type==="lineEndingBlank"?ut[0]==="enter"&&(Ee&&!at&&!bt&&!Je&&(Je=We),at=void 0):ut[1].type==="linePrefix"||ut[1].type==="listItemValue"||ut[1].type==="listItemMarker"||ut[1].type==="listItemPrefix"||ut[1].type==="listItemPrefixWhitespace"||(at=void 0),!bt&&ut[0]==="enter"&&ut[1].type==="listItemPrefix"||bt===-1&&ut[0]==="exit"&&(ut[1].type==="listUnordered"||ut[1].type==="listOrdered")){if(Ee){let St=We;for($e=void 0;St--;){const yt=X[St];if(yt[1].type==="lineEnding"||yt[1].type==="lineEndingBlank"){if(yt[0]==="exit")continue;$e&&(X[$e][1].type="lineEndingBlank",ft=!0),yt[1].type="lineEnding",$e=St}else if(yt[1].type!=="linePrefix"&&yt[1].type!=="blockQuotePrefix"&&yt[1].type!=="blockQuotePrefixWhitespace"&&yt[1].type!=="blockQuoteMarker"&&yt[1].type!=="listItemIndent")break}Je&&(!$e||Je<$e)&&(Ee._spread=!0),Ee.end=Object.assign({},$e?X[$e][1].start:ut[1].end),X.splice($e||We,0,["exit",Ee,ut[2]]),We++,he++}ut[1].type==="listItemPrefix"&&(Ee={type:"listItem",_spread:!1,start:Object.assign({},ut[1].start),end:void 0},X.splice(We,0,["enter",Ee,ut[2]]),We++,he++,Je=void 0,at=!0)}}return X[de][1]._spread=ft,he}function l(X,de){i[X]=de}function c(X){return i[X]}function u(X,de){return he;function he(Ee){p.call(this,X(Ee),Ee),de&&de.call(this,Ee)}}function h(){this.stack.push({type:"fragment",children:[]})}function p(X,de,he){return this.stack[this.stack.length-1].children.push(X),this.stack.push(X),this.tokenStack.push([de,he]),X.position={start:Zl(de.start)},X}function d(X){return de;function de(he){X&&X.call(this,he),f.call(this,he)}}function f(X,de){const he=this.stack.pop(),Ee=this.tokenStack.pop();if(!Ee)throw new Error("Cannot close `"+X.type+"` ("+Dm({start:X.start,end:X.end})+"): it’s not open");return Ee[0].type!==X.type&&(de?de.call(this,X,Ee[0]):(Ee[1]||DW).call(this,X,Ee[0])),he.position.end=Zl(X.end),he}function g(){return function(X,de){const he=xye;return dW(X,typeof he.includeImageAlt!="boolean"||he.includeImageAlt,typeof he.includeHtml!="boolean"||he.includeHtml)}(this.stack.pop())}function m(){l("expectingFirstListItemValue",!0)}function v(X){c("expectingFirstListItemValue")&&(this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(X),10),l("expectingFirstListItemValue"))}function y(){const X=this.resume();this.stack[this.stack.length-1].lang=X}function b(){const X=this.resume();this.stack[this.stack.length-1].meta=X}function w(){c("flowCodeInside")||(this.buffer(),l("flowCodeInside",!0))}function k(){const X=this.resume();this.stack[this.stack.length-1].value=X.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),l("flowCodeInside")}function _(){const X=this.resume();this.stack[this.stack.length-1].value=X.replace(/(\r?\n|\r)$/g,"")}function O(X){const de=this.resume(),he=this.stack[this.stack.length-1];he.label=de,he.identifier=aa(this.sliceSerialize(X)).toLowerCase()}function E(){const X=this.resume();this.stack[this.stack.length-1].title=X}function C(){const X=this.resume();this.stack[this.stack.length-1].url=X}function N(X){const de=this.stack[this.stack.length-1];if(!de.depth){const he=this.sliceSerialize(X).length;de.depth=he}}function L(){l("setextHeadingSlurpLineEnding",!0)}function j(X){this.stack[this.stack.length-1].depth=this.sliceSerialize(X).charCodeAt(0)===61?1:2}function H(){l("setextHeadingSlurpLineEnding")}function F(X){const de=this.stack[this.stack.length-1];let he=de.children[de.children.length-1];(!he||he.type!=="text")&&(he=et(),he.position={start:Zl(X.start)},de.children.push(he)),this.stack.push(he)}function z(X){const de=this.stack.pop();de.value+=this.sliceSerialize(X),de.position.end=Zl(X.end)}function B(X){const de=this.stack[this.stack.length-1];if(c("atHardBreak"))return de.children[de.children.length-1].position.end=Zl(X.end),void l("atHardBreak");!c("setextHeadingSlurpLineEnding")&&o.canContainEols.includes(de.type)&&(F.call(this,X),z.call(this,X))}function V(){l("atHardBreak",!0)}function U(){const X=this.resume();this.stack[this.stack.length-1].value=X}function S(){const X=this.resume();this.stack[this.stack.length-1].value=X}function q(){const X=this.resume();this.stack[this.stack.length-1].value=X}function P(){const X=this.stack[this.stack.length-1];if(c("inReference")){const de=c("referenceType")||"shortcut";X.type+="Reference",X.referenceType=de,delete X.url,delete X.title}else delete X.identifier,delete X.label;l("referenceType")}function Q(){const X=this.stack[this.stack.length-1];if(c("inReference")){const de=c("referenceType")||"shortcut";X.type+="Reference",X.referenceType=de,delete X.url,delete X.title}else delete X.identifier,delete X.label;l("referenceType")}function re(X){const de=this.sliceSerialize(X),he=this.stack[this.stack.length-2];he.label=IW(de),he.identifier=aa(de).toLowerCase()}function _e(){const X=this.stack[this.stack.length-1],de=this.resume(),he=this.stack[this.stack.length-1];if(l("inReference",!0),he.type==="link"){const Ee=X.children;he.children=Ee}else he.alt=de}function se(){const X=this.resume();this.stack[this.stack.length-1].url=X}function ue(){const X=this.resume();this.stack[this.stack.length-1].title=X}function fe(){l("inReference")}function je(){l("referenceType","collapsed")}function Qe(X){const de=this.resume(),he=this.stack[this.stack.length-1];he.label=de,he.identifier=aa(this.sliceSerialize(X)).toLowerCase(),l("referenceType","full")}function Xe(X){l("characterReferenceType",X.type)}function ie(X){const de=this.sliceSerialize(X),he=c("characterReferenceType");let Ee;he?(Ee=RW(de,he==="characterReferenceMarkerNumeric"?10:16),l("characterReferenceType")):Ee=Su(de);const $e=this.stack.pop();$e.value+=Ee,$e.position.end=Zl(X.end)}function Se(X){z.call(this,X),this.stack[this.stack.length-1].url=this.sliceSerialize(X)}function ae(X){z.call(this,X),this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(X)}function pe(){return{type:"blockquote",children:[]}}function Te(){return{type:"code",lang:null,meta:null,value:""}}function be(){return{type:"inlineCode",value:""}}function we(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Oe(){return{type:"emphasis",children:[]}}function ke(){return{type:"heading",depth:void 0,children:[]}}function Me(){return{type:"break"}}function Le(){return{type:"html",value:""}}function Ge(){return{type:"image",title:null,url:"",alt:null}}function Ye(){return{type:"link",title:null,url:"",children:[]}}function ct(X){return{type:"list",ordered:X.type==="listOrdered",start:null,spread:X._spread,children:[]}}function Re(X){return{type:"listItem",spread:X._spread,checked:null,children:[]}}function ze(){return{type:"paragraph",children:[]}}function He(){return{type:"strong",children:[]}}function et(){return{type:"text",value:""}}function oe(){return{type:"thematicBreak"}}}(n)(function(r){for(;!_W(r););return r}(function(r){const o={defined:[],lazy:{},constructs:mW([dwe,...(r||{}).extensions||[]]),content:i(Oye),document:i(Pye),flow:i(Jye),string:i(ewe),text:i(twe)};return o;function i(a){return function(s){return rwe(o,a,s)}}}(n).document().write(function(){let r,o=1,i="",a=!0;return function(s,l,c){const u=[];let h,p,d,f,g;for(s=i+s.toString(l),d=0,i="",a&&(s.charCodeAt(0)===65279&&d++,a=void 0);d<s.length;){if(NW.lastIndex=d,h=NW.exec(s),f=h&&h.index!==void 0?h.index:s.length,g=s.charCodeAt(f),!h){i=s.slice(d);break}if(g===10&&d===f&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),d<f&&(u.push(s.slice(d,f)),o+=f-d),g){case 0:u.push(65533),o++;break;case 9:for(p=4*Math.ceil(o/4),u.push(-2);o++<p;)u.push(-1);break;case 10:u.push(-4),o=1;break;default:r=!0,o=1}d=f+1}return c&&(r&&u.push(-5),i&&u.push(i),u.push(null)),u}}()(e,t,!0))))};function Zl(e){return{line:e.line,column:e.column,offset:e.offset}}function LW(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?LW(e,r):fwe(e,r)}}function fwe(e,t){let n;for(n in t)if(MW.call(t,n)){if(n==="canContainEols"){const r=t[n];r&&e[n].push(...r)}else if(n==="transforms"){const r=t[n];r&&e[n].push(...r)}else if(n==="enter"||n==="exit"){const r=t[n];r&&Object.assign(e[n],r)}}}function DW(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Dm({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Dm({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Dm({start:t.start,end:t.end})+") is still open")}function gwe(e){Object.assign(this,{Parser:t=>{const n=this.data("settings");return mwe(t,Object.assign({},n,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function Dh(e){const t=[];let n=-1,r=0,o=0;for(;++n<e.length;){const i=e.charCodeAt(n);let a="";if(i===37&&$r(e.charCodeAt(n+1))&&$r(e.charCodeAt(n+2)))o=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(a=String.fromCharCode(i));else if(i>55295&&i<57344){const s=e.charCodeAt(n+1);i<56320&&s>56319&&s<57344?(a=String.fromCharCode(i,s),o=1):a="�"}else a=String.fromCharCode(i);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+o+1,a=""),o&&(n+=o,o=0)}return t.join("")+e.slice(r)}function jW(e,t){const n=String(t.identifier).toUpperCase(),r=Dh(n.toLowerCase()),o=e.footnoteOrder.indexOf(n);let i;o===-1?(e.footnoteOrder.push(n),e.footnoteCounts[n]=1,i=e.footnoteOrder.length):(e.footnoteCounts[n]++,i=o+1);const a=e.footnoteCounts[n],s={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fn-"+r,id:e.clobberPrefix+"fnref-"+r+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(i)}]};e.patch(t,s);const l={type:"element",tagName:"sup",properties:{},children:[s]};return e.patch(t,l),e.applyData(t,l)}function zW(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return{type:"text",value:"!["+t.alt+r};const o=e.all(t),i=o[0];i&&i.type==="text"?i.value="["+i.value:o.unshift({type:"text",value:"["});const a=o[o.length-1];return a&&a.type==="text"?a.value+=r:o.push({type:"text",value:r}),o}function FW(e){const t=e.spread;return t??e.children.length>1}const Hm=BW("start"),gy=BW("end");function BW(e){return function(t){const n=t&&t.position&&t.position[e]||{};return{line:n.line||null,column:n.column||null,offset:n.offset>-1?n.offset:null}}}const UW=9,HW=32;function vwe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),o=0;const i=[];for(;r;)i.push(VW(t.slice(o,r.index),o>0,!0),r[0]),o=r.index+r[0].length,r=n.exec(t);return i.push(VW(t.slice(o),o>0,!1)),i.join("")}function VW(e,t,n){let r=0,o=e.length;if(t){let i=e.codePointAt(r);for(;i===UW||i===HW;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(o-1);for(;i===UW||i===HW;)o--,i=e.codePointAt(o-1)}return o>r?e.slice(r,o):""}const bwe={blockquote:function(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)},break:function(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]},code:function(e,t){const n=t.value?t.value+`
`:"",r=t.lang?t.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,o={};r&&(o.className=["language-"+r]);let i={type:"element",tagName:"code",properties:o,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i},delete:function(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},emphasis:function(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},footnoteReference:jW,footnote:function(e,t){const n=e.footnoteById;let r=1;for(;r in n;)r++;const o=String(r);return n[o]={type:"footnoteDefinition",identifier:o,children:[{type:"paragraph",children:t.children}],position:t.position},jW(e,{type:"footnoteReference",identifier:o,position:t.position})},heading:function(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},html:function(e,t){if(e.dangerous){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}return null},imageReference:function(e,t){const n=e.definition(t.identifier);if(!n)return zW(e,t);const r={src:Dh(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(r.title=n.title);const o={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,o),e.applyData(t,o)},image:function(e,t){const n={src:Dh(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)},inlineCode:function(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)},linkReference:function(e,t){const n=e.definition(t.identifier);if(!n)return zW(e,t);const r={href:Dh(n.url||"")};n.title!==null&&n.title!==void 0&&(r.title=n.title);const o={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)},link:function(e,t){const n={href:Dh(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},listItem:function(e,t,n){const r=e.all(t),o=n?function(u){let h=!1;if(u.type==="list"){h=u.spread||!1;const p=u.children;let d=-1;for(;!h&&++d<p.length;)h=FW(p[d])}return h}(n):FW(t),i={},a=[];if(typeof t.checked=="boolean"){const u=r[0];let h;u&&u.type==="element"&&u.tagName==="p"?h=u:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const u=r[s];(o||s!==0||u.type!=="element"||u.tagName!=="p")&&a.push({type:"text",value:`
`}),u.type!=="element"||u.tagName!=="p"||o?a.push(u):a.push(...u.children)}const l=r[r.length-1];l&&(o||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:i,children:a};return e.patch(t,c),e.applyData(t,c)},list:function(e,t){const n={},r=e.all(t);let o=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++o<r.length;){const a=r[o];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)},paragraph:function(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},root:function(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)},strong:function(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},table:function(e,t){const n=e.all(t),r=n.shift(),o=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),o.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=Hm(t.children[1]),l=gy(t.children[t.children.length-1]);s.line&&l.line&&(a.position={start:s,end:l}),o.push(a)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(o,!0)};return e.patch(t,i),e.applyData(t,i)},tableCell:function(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},tableRow:function(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",i=n&&n.type==="table"?n.align:void 0,a=i?i.length:t.children.length;let s=-1;const l=[];for(;++s<a;){const u=t.children[s],h={},p=i?i[s]:void 0;p&&(h.align=p);let d={type:"element",tagName:o,properties:h,children:[]};u&&(d.children=e.all(u),e.patch(u,d),d=e.applyData(t,d)),l.push(d)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)},text:function(e,t){const n={type:"text",value:vwe(String(t.value))};return e.patch(t,n),e.applyData(t,n)},thematicBreak:function(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)},toml:vy,yaml:vy,definition:vy,footnoteDefinition:vy};function vy(){return null}const FS=function(e){if(e==null)return ywe;if(typeof e=="string")return function(t){return by(n);function n(r){return r&&r.type===t}}(e);if(typeof e=="object")return Array.isArray(e)?function(t){const n=[];let r=-1;for(;++r<t.length;)n[r]=FS(t[r]);return by(o);function o(...i){let a=-1;for(;++a<n.length;)if(n[a].call(this,...i))return!0;return!1}}(e):function(t){return by(n);function n(r){let o;for(o in t)if(r[o]!==t[o])return!1;return!0}}(e);if(typeof e=="function")return by(e);throw new Error("Expected function, string, or object as test")};function by(e){return function(t,...n){return!!(t&&typeof t=="object"&&"type"in t&&e.call(this,t,...n))}}function ywe(){return!0}const Vm=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null);const o=FS(t),i=r?-1:1;(function a(s,l,c){const u=s&&typeof s=="object"?s:{};if(typeof u.type=="string"){const p=typeof u.tagName=="string"?u.tagName:typeof u.name=="string"?u.name:void 0;Object.defineProperty(h,"name",{value:"node ("+s.type+(p?"<"+p+">":"")+")"})}return h;function h(){let p,d,f,g=[];if((!t||o(s,l,c[c.length-1]||null))&&(g=function(m){return Array.isArray(m)?m:typeof m=="number"?[!0,m]:[m]}(n(s,c)),g[0]===!1))return g;if(s.children&&g[0]!=="skip")for(d=(r?s.children.length:-1)+i,f=c.concat(s);d>-1&&d<s.children.length;){if(p=a(s.children[d],d,f)(),p[0]===!1)return p;d=typeof p[1]=="number"?p[1]:d+i}return g}})(e,void 0,[])()},wwe=function(e,t,n,r){Vm(e,t,function(o,i){const a=i[i.length-1];return n(o,a?a.children.indexOf(o):null,a)},r)},kwe=function(e,t,n,r){Vm(e,t,function(o,i){const a=i[i.length-1];return n(o,a?a.children.indexOf(o):null,a)},r)},$W={}.hasOwnProperty;function qW(e){return String(e||"").toUpperCase()}const yy={}.hasOwnProperty;function xwe(e,t){const n=t||{},r=n.allowDangerousHtml||!1,o={};return a.dangerous=r,a.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,a.footnoteLabel=n.footnoteLabel||"Footnotes",a.footnoteLabelTagName=n.footnoteLabelTagName||"h2",a.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},a.footnoteBackLabel=n.footnoteBackLabel||"Back to content",a.unknownHandler=n.unknownHandler,a.passThrough=n.passThrough,a.handlers=A(A({},bwe),n.handlers),a.definition=function(s){const l=Object.create(null);if(!s||!s.type)throw new Error("mdast-util-definitions expected node");return kwe(s,"definition",c=>{const u=qW(c.identifier);u&&!$W.call(l,u)&&(l[u]=c)}),function(c){const u=qW(c);return u&&$W.call(l,u)?l[u]:null}}(e),a.footnoteById=o,a.footnoteOrder=[],a.footnoteCounts={},a.patch=_we,a.applyData=Twe,a.one=function(s,l){return WW(a,s,l)},a.all=function(s){return BS(a,s)},a.wrap=Swe,a.augment=i,wwe(e,"footnoteDefinition",s=>{const l=String(s.identifier).toUpperCase();yy.call(o,l)||(o[l]=s)}),a;function i(s,l){if(s&&"data"in s&&s.data){const c=s.data;c.hName&&(l.type!=="element"&&(l={type:"element",tagName:"",properties:{},children:[]}),l.tagName=c.hName),l.type==="element"&&c.hProperties&&(l.properties=A(A({},l.properties),c.hProperties)),"children"in l&&l.children&&c.hChildren&&(l.children=c.hChildren)}if(s){const c="type"in s?s:{position:s};(function(u){return!(u&&u.position&&u.position.start&&u.position.start.line&&u.position.start.column&&u.position.end&&u.position.end.line&&u.position.end.column)})(c)||(l.position={start:Hm(c),end:gy(c)})}return l}function a(s,l,c,u){return Array.isArray(c)&&(u=c,c={}),i(s,{type:"element",tagName:l,properties:c||{},children:u||[]})}}function _we(e,t){e.position&&(t.position=function(n){return{start:Hm(n),end:gy(n)}}(e))}function Twe(e,t){let n=t;if(e&&e.data){const r=e.data.hName,o=e.data.hChildren,i=e.data.hProperties;typeof r=="string"&&(n.type==="element"?n.tagName=r:n={type:"element",tagName:r,properties:{},children:[]}),n.type==="element"&&i&&(n.properties=A(A({},n.properties),i)),"children"in n&&n.children&&o!=null&&(n.children=o)}return n}function WW(e,t,n){const r=t&&t.type;if(!r)throw new Error("Expected node, got `"+t+"`");return yy.call(e.handlers,r)?e.handlers[r](e,t,n):e.passThrough&&e.passThrough.includes(r)?"children"in t?K(A({},t),{children:BS(e,t)}):t:e.unknownHandler?e.unknownHandler(e,t,n):function(o,i){const a=i.data||{},s=!("value"in i)||yy.call(a,"hProperties")||yy.call(a,"hChildren")?{type:"element",tagName:"div",properties:{},children:BS(o,i)}:{type:"text",value:i.value};return o.patch(i,s),o.applyData(i,s)}(e,t)}function BS(e,t){const n=[];if("children"in t){const r=t.children;let o=-1;for(;++o<r.length;){const i=WW(e,r[o],t);if(i){if(o&&r[o-1].type==="break"&&(!Array.isArray(i)&&i.type==="text"&&(i.value=i.value.replace(/^\s+/,"")),!Array.isArray(i)&&i.type==="element")){const a=i.children[0];a&&a.type==="text"&&(a.value=a.value.replace(/^\s+/,""))}Array.isArray(i)?n.push(...i):n.push(i)}}}return n}function Swe(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function GW(e,t){const n=xwe(e,t),r=n.one(e,null),o=function(i){const a=[];let s=-1;for(;++s<i.footnoteOrder.length;){const l=i.footnoteById[i.footnoteOrder[s]];if(!l)continue;const c=i.all(l),u=String(l.identifier).toUpperCase(),h=Dh(u.toLowerCase());let p=0;const d=[];for(;++p<=i.footnoteCounts[u];){const m={type:"element",tagName:"a",properties:{href:"#"+i.clobberPrefix+"fnref-"+h+(p>1?"-"+p:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:i.footnoteBackLabel},children:[{type:"text",value:"↩"}]};p>1&&m.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(p)}]}),d.length>0&&d.push({type:"text",value:" "}),d.push(m)}const f=c[c.length-1];if(f&&f.type==="element"&&f.tagName==="p"){const m=f.children[f.children.length-1];m&&m.type==="text"?m.value+=" ":f.children.push({type:"text",value:" "}),f.children.push(...d)}else c.push(...d);const g={type:"element",tagName:"li",properties:{id:i.clobberPrefix+"fn-"+h},children:i.wrap(c,!0)};i.patch(l,g),a.push(g)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i.footnoteLabelTagName,properties:K(A({},JSON.parse(JSON.stringify(i.footnoteLabelProperties))),{id:"footnote-label"}),children:[{type:"text",value:i.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:i.wrap(a,!0)},{type:"text",value:`
`}]}}(n);return o&&r.children.push({type:"text",value:`
`},o),Array.isArray(r)?{type:"root",children:r}:r}const Ewe=function(e,t){return e&&"run"in e?function(n,r){return(o,i,a)=>{n.run(GW(o,r),i,s=>{a(s)})}}(e,t):function(n){return r=>GW(r,n)}(e||t)};var KW,YW,US,QW,XW,JW={exports:{}};function Cwe(){return YW?KW:(YW=1,KW="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}function Owe(){if(QW)return US;QW=1;var e=Cwe();function t(){}function n(){}return n.resetWarningCache=t,US=function(){function r(a,s,l,c,u,h){if(h!==e){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}function o(){return r}r.isRequired=r;var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i},US}function Pwe(){return XW||(XW=1,JW.exports=Owe()()),JW.exports}const Et=Li(Pwe());class $m{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}function ZW(e,t){const n={},r={};let o=-1;for(;++o<e.length;)Object.assign(n,e[o].property),Object.assign(r,e[o].normal);return new $m(n,r,t)}function qm(e){return e.toLowerCase()}$m.prototype.property={},$m.prototype.normal={},$m.prototype.space=null;class Ci{constructor(t,n){this.property=t,this.attribute=n}}Ci.prototype.space=null,Ci.prototype.boolean=!1,Ci.prototype.booleanish=!1,Ci.prototype.overloadedBoolean=!1,Ci.prototype.number=!1,Ci.prototype.commaSeparated=!1,Ci.prototype.spaceSeparated=!1,Ci.prototype.commaOrSpaceSeparated=!1,Ci.prototype.mustUseProperty=!1,Ci.prototype.defined=!1;let Awe=0;const Pt=Eu(),ar=Eu(),eG=Eu(),Ue=Eu(),bn=Eu(),jh=Eu(),ii=Eu();function Eu(){return 2**++Awe}const HS=Object.freeze(Object.defineProperty({__proto__:null,boolean:Pt,booleanish:ar,commaOrSpaceSeparated:ii,commaSeparated:jh,number:Ue,overloadedBoolean:eG,spaceSeparated:bn},Symbol.toStringTag,{value:"Module"})),VS=Object.keys(HS);class $S extends Ci{constructor(t,n,r,o){let i=-1;if(super(t,n),tG(this,"space",o),typeof r=="number")for(;++i<VS.length;){const a=VS[i];tG(this,VS[i],(r&HS[a])===HS[a])}}}function tG(e,t,n){n&&(e[t]=n)}$S.prototype.defined=!0;const Nwe={}.hasOwnProperty;function zh(e){const t={},n={};let r;for(r in e.properties)if(Nwe.call(e.properties,r)){const o=e.properties[r],i=new $S(r,e.transform(e.attributes||{},r),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[qm(r)]=r,n[qm(i.attribute)]=r}return new $m(t,n,e.space)}const nG=zh({space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase(),properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),rG=zh({space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase(),properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function oG(e,t){return t in e?e[t]:t}function iG(e,t){return oG(e,t.toLowerCase())}const aG=zh({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:iG,properties:{xmlns:null,xmlnsXLink:null}}),sG=zh({transform:(e,t)=>t==="role"?t:"aria-"+t.slice(4).toLowerCase(),properties:{ariaActiveDescendant:null,ariaAtomic:ar,ariaAutoComplete:null,ariaBusy:ar,ariaChecked:ar,ariaColCount:Ue,ariaColIndex:Ue,ariaColSpan:Ue,ariaControls:bn,ariaCurrent:null,ariaDescribedBy:bn,ariaDetails:null,ariaDisabled:ar,ariaDropEffect:bn,ariaErrorMessage:null,ariaExpanded:ar,ariaFlowTo:bn,ariaGrabbed:ar,ariaHasPopup:null,ariaHidden:ar,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:bn,ariaLevel:Ue,ariaLive:null,ariaModal:ar,ariaMultiLine:ar,ariaMultiSelectable:ar,ariaOrientation:null,ariaOwns:bn,ariaPlaceholder:null,ariaPosInSet:Ue,ariaPressed:ar,ariaReadOnly:ar,ariaRelevant:null,ariaRequired:ar,ariaRoleDescription:bn,ariaRowCount:Ue,ariaRowIndex:Ue,ariaRowSpan:Ue,ariaSelected:ar,ariaSetSize:Ue,ariaSort:null,ariaValueMax:Ue,ariaValueMin:Ue,ariaValueNow:Ue,ariaValueText:null,role:null}}),Rwe=zh({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:iG,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:jh,acceptCharset:bn,accessKey:bn,action:null,allow:null,allowFullScreen:Pt,allowPaymentRequest:Pt,allowUserMedia:Pt,alt:null,as:null,async:Pt,autoCapitalize:null,autoComplete:bn,autoFocus:Pt,autoPlay:Pt,blocking:bn,capture:null,charSet:null,checked:Pt,cite:null,className:bn,cols:Ue,colSpan:null,content:null,contentEditable:ar,controls:Pt,controlsList:bn,coords:Ue|jh,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Pt,defer:Pt,dir:null,dirName:null,disabled:Pt,download:eG,draggable:ar,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Pt,formTarget:null,headers:bn,height:Ue,hidden:Pt,high:Ue,href:null,hrefLang:null,htmlFor:bn,httpEquiv:bn,id:null,imageSizes:null,imageSrcSet:null,inert:Pt,inputMode:null,integrity:null,is:null,isMap:Pt,itemId:null,itemProp:bn,itemRef:bn,itemScope:Pt,itemType:bn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Pt,low:Ue,manifest:null,max:null,maxLength:Ue,media:null,method:null,min:null,minLength:Ue,multiple:Pt,muted:Pt,name:null,nonce:null,noModule:Pt,noValidate:Pt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Pt,optimum:Ue,pattern:null,ping:bn,placeholder:null,playsInline:Pt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Pt,referrerPolicy:null,rel:bn,required:Pt,reversed:Pt,rows:Ue,rowSpan:Ue,sandbox:bn,scope:null,scoped:Pt,seamless:Pt,selected:Pt,shadowRootClonable:Pt,shadowRootDelegatesFocus:Pt,shadowRootMode:null,shape:null,size:Ue,sizes:null,slot:null,span:Ue,spellCheck:ar,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ue,step:null,style:null,tabIndex:Ue,target:null,title:null,translate:null,type:null,typeMustMatch:Pt,useMap:null,value:ar,width:Ue,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:bn,axis:null,background:null,bgColor:null,border:Ue,borderColor:null,bottomMargin:Ue,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Pt,declare:Pt,event:null,face:null,frame:null,frameBorder:null,hSpace:Ue,leftMargin:Ue,link:null,longDesc:null,lowSrc:null,marginHeight:Ue,marginWidth:Ue,noResize:Pt,noHref:Pt,noShade:Pt,noWrap:Pt,object:null,profile:null,prompt:null,rev:null,rightMargin:Ue,rules:null,scheme:null,scrolling:ar,standby:null,summary:null,text:null,topMargin:Ue,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ue,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Pt,disableRemotePlayback:Pt,prefix:null,property:null,results:Ue,security:null,unselectable:null}}),Iwe=zh({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:oG,properties:{about:ii,accentHeight:Ue,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ue,amplitude:Ue,arabicForm:null,ascent:Ue,attributeName:null,attributeType:null,azimuth:Ue,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ue,by:null,calcMode:null,capHeight:Ue,className:bn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ue,diffuseConstant:Ue,direction:null,display:null,dur:null,divisor:Ue,dominantBaseline:null,download:Pt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ue,enableBackground:null,end:null,event:null,exponent:Ue,externalResourcesRequired:null,fill:null,fillOpacity:Ue,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:jh,g2:jh,glyphName:jh,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ue,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ue,horizOriginX:Ue,horizOriginY:Ue,id:null,ideographic:Ue,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ue,k:Ue,k1:Ue,k2:Ue,k3:Ue,k4:Ue,kernelMatrix:ii,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ue,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ue,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ue,overlineThickness:Ue,paintOrder:null,panose1:null,path:null,pathLength:Ue,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:bn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ue,pointsAtY:Ue,pointsAtZ:Ue,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ii,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ii,rev:ii,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ii,requiredFeatures:ii,requiredFonts:ii,requiredFormats:ii,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ue,specularExponent:Ue,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ue,strikethroughThickness:Ue,string:null,stroke:null,strokeDashArray:ii,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ue,strokeOpacity:Ue,strokeWidth:null,style:null,surfaceScale:Ue,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ii,tabIndex:Ue,tableValues:null,target:null,targetX:Ue,targetY:Ue,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ii,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ue,underlineThickness:Ue,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ue,values:null,vAlphabetic:Ue,vMathematical:Ue,vectorEffect:null,vHanging:Ue,vIdeographic:Ue,version:null,vertAdvY:Ue,vertOriginX:Ue,vertOriginY:Ue,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ue,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Mwe=/^data[-\w.:]+$/i,lG=/-[a-z]/g,Lwe=/[A-Z]/g;function wy(e,t){const n=qm(t);let r=t,o=Ci;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Mwe.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(lG,jwe);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!lG.test(i)){let a=i.replace(Lwe,Dwe);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}o=$S}return new o(r,t)}function Dwe(e){return"-"+e.toLowerCase()}function jwe(e){return e.charAt(1).toUpperCase()}const cG={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Wm=ZW([rG,nG,aG,sG,Rwe],"html"),Gm=ZW([rG,nG,aG,sG,Iwe],"svg"),zwe=function(e,t,n,r){Vm(e,t,function(o,i){const a=i[i.length-1];return n(o,a?a.children.indexOf(o):null,a)},r)};function Fwe(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return t=>{zwe(t,"element",(n,r,o)=>{const i=o;let a;if(e.allowedElements?a=!e.allowedElements.includes(n.tagName):e.disallowedElements&&(a=e.disallowedElements.includes(n.tagName)),!a&&e.allowElement&&typeof r=="number"&&(a=!e.allowElement(n,r,i)),a&&typeof r=="number")return e.unwrapDisallowed&&n.children?i.children.splice(r,1,...n.children):i.children.splice(r,1),r})}}var uG,dG,hG={exports:{}},an={};/**
     * @license React
     * react-is.production.min.js
     *
     * Copyright (c) Facebook, Inc. and its affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */var Bwe=(dG||(dG=1,hG.exports=function(){if(uG)return an;uG=1;var e,t=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen");function g(m){if(typeof m=="object"&&m!==null){var v=m.$$typeof;switch(v){case t:switch(m=m.type){case r:case i:case o:case u:case h:return m;default:switch(m=m&&m.$$typeof){case l:case s:case c:case d:case p:case a:return m;default:return v}}case n:return v}}}return e=Symbol.for("react.module.reference"),an.ContextConsumer=s,an.ContextProvider=a,an.Element=t,an.ForwardRef=c,an.Fragment=r,an.Lazy=d,an.Memo=p,an.Portal=n,an.Profiler=i,an.StrictMode=o,an.Suspense=u,an.SuspenseList=h,an.isAsyncMode=function(){return!1},an.isConcurrentMode=function(){return!1},an.isContextConsumer=function(m){return g(m)===s},an.isContextProvider=function(m){return g(m)===a},an.isElement=function(m){return typeof m=="object"&&m!==null&&m.$$typeof===t},an.isForwardRef=function(m){return g(m)===c},an.isFragment=function(m){return g(m)===r},an.isLazy=function(m){return g(m)===d},an.isMemo=function(m){return g(m)===p},an.isPortal=function(m){return g(m)===n},an.isProfiler=function(m){return g(m)===i},an.isStrictMode=function(m){return g(m)===o},an.isSuspense=function(m){return g(m)===u},an.isSuspenseList=function(m){return g(m)===h},an.isValidElementType=function(m){return typeof m=="string"||typeof m=="function"||m===r||m===i||m===o||m===u||m===h||m===f||typeof m=="object"&&m!==null&&(m.$$typeof===d||m.$$typeof===p||m.$$typeof===a||m.$$typeof===s||m.$$typeof===c||m.$$typeof===e||m.getModuleId!==void 0)},an.typeOf=g,an}()),hG.exports);const Uwe=Li(Bwe);function Hwe(e){const t=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof t=="string"&&t.replace(/[ \t\n\f\r]/g,"")===""}function pG(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function mG(e){return e.join(" ").trim()}function fG(e){const t=[],n=String(e||"");let r=n.indexOf(","),o=0,i=!1;for(;!i;){r===-1&&(r=n.length,i=!0);const a=n.slice(o,r).trim();(a||!i)&&t.push(a),o=r+1,r=n.indexOf(",",o)}return t}function gG(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var qS,vG,bG,ky={exports:{}},Vwe=function(){if(bG)return ky.exports;bG=1;var e=function(){if(vG)return qS;vG=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,r=/\n/g,o=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,c=/^\s+|\s+$/g,u="";function h(p){return p?p.replace(c,u):u}return qS=function(p,d){if(typeof p!="string")throw new TypeError("First argument must be a string");if(!p)return[];d=d||{};var f=1,g=1;function m(C){var N=C.match(r);N&&(f+=N.length);var L=C.lastIndexOf(`
`);g=~L?C.length-L:g+C.length}function v(){var C={line:f,column:g};return function(N){return N.position=new y(C),k(),N}}function y(C){this.start=C,this.end={line:f,column:g},this.source=d.source}function b(C){var N=new Error(d.source+":"+f+":"+g+": "+C);if(N.reason=C,N.filename=d.source,N.line=f,N.column=g,N.source=p,!d.silent)throw N}function w(C){var N=C.exec(p);if(N){var L=N[0];return m(L),p=p.slice(L.length),N}}function k(){w(o)}function _(C){var N;for(C=C||[];N=O();)N!==!1&&C.push(N);return C}function O(){var C=v();if(p.charAt(0)=="/"&&p.charAt(1)=="*"){for(var N=2;u!=p.charAt(N)&&(p.charAt(N)!="*"||p.charAt(N+1)!="/");)++N;if(N+=2,u===p.charAt(N-1))return b("End of comment missing");var L=p.slice(2,N-2);return g+=2,m(L),p=p.slice(N),g+=2,C({type:"comment",comment:L})}}function E(){var C=v(),N=w(i);if(N){if(O(),!w(a))return b("property missing ':'");var L=w(s),j=C({type:"declaration",property:h(N[0].replace(n,u)),value:L?h(L[0].replace(n,u)):u});return w(l),j}}return y.prototype.content=p,k(),function(){var C,N=[];for(_(N);C=E();)C!==!1&&(N.push(C),_(N));return N}()},qS}();function t(n,r){var o=null;if(!n||typeof n!="string")return o;for(var i,a,s,l=e(n),c=typeof r=="function",u=0,h=l.length;u<h;u++)a=(i=l[u]).property,s=i.value,c?r(a,s,i):s&&(o||(o={}),o[a]=s);return o}return ky.exports=t,ky.exports.default=t,ky.exports}();const $we=Li(Vwe),WS={}.hasOwnProperty,qwe=new Set(["table","thead","tbody","tfoot","tr"]);function yG(e,t){const n=[];let r,o=-1;for(;++o<t.children.length;)r=t.children[o],r.type==="element"?n.push(Wwe(e,r,o,t)):r.type==="text"?(t.type!=="element"||!qwe.has(t.tagName)||!Hwe(r))&&n.push(r.value):r.type==="raw"&&!e.options.skipHtml&&n.push(r.value);return n}function Wwe(e,t,n,r){const o=e.options,i=o.transformLinkUri===void 0?gye:o.transformLinkUri,a=e.schema,s=t.tagName,l={};let c,u=a;if(a.space==="html"&&s==="svg"&&(u=Gm,e.schema=u),t.properties)for(c in t.properties)WS.call(t.properties,c)&&Gwe(l,c,t.properties[c],e);(s==="ol"||s==="ul")&&e.listDepth++;const h=yG(e,t);(s==="ol"||s==="ul")&&e.listDepth--,e.schema=a;const p=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},d=o.components&&WS.call(o.components,s)?o.components[s]:s,f=typeof d=="string"||d===fn.Fragment;if(!Uwe.isValidElementType(d))throw new TypeError(`Component for name \`${s}\` not defined or is not renderable`);if(l.key=n,s==="a"&&o.linkTarget&&(l.target=typeof o.linkTarget=="function"?o.linkTarget(String(l.href||""),t.children,typeof l.title=="string"?l.title:null):o.linkTarget),s==="a"&&i&&(l.href=i(String(l.href||""),t.children,typeof l.title=="string"?l.title:null)),!f&&s==="code"&&r.type==="element"&&r.tagName!=="pre"&&(l.inline=!0),!f&&(s==="h1"||s==="h2"||s==="h3"||s==="h4"||s==="h5"||s==="h6")&&(l.level=Number.parseInt(s.charAt(1),10)),s==="img"&&o.transformImageUri&&(l.src=o.transformImageUri(String(l.src||""),String(l.alt||""),typeof l.title=="string"?l.title:null)),!f&&s==="li"&&r.type==="element"){const g=function(m){let v=-1;for(;++v<m.children.length;){const y=m.children[v];if(y.type==="element"&&y.tagName==="input")return y}return null}(t);l.checked=g&&g.properties?!!g.properties.checked:null,l.index=GS(r,t),l.ordered=r.tagName==="ol"}return!f&&(s==="ol"||s==="ul")&&(l.ordered=s==="ol",l.depth=e.listDepth),(s==="td"||s==="th")&&(l.align&&(l.style||(l.style={}),l.style.textAlign=l.align,delete l.align),f||(l.isHeader=s==="th")),!f&&s==="tr"&&r.type==="element"&&(l.isHeader=r.tagName==="thead"),o.sourcePos&&(l["data-sourcepos"]=function(g){return[g.start.line,":",g.start.column,"-",g.end.line,":",g.end.column].map(String).join("")}(p)),!f&&o.rawSourcePos&&(l.sourcePosition=t.position),!f&&o.includeElementIndex&&(l.index=GS(r,t),l.siblingCount=GS(r)),f||(l.node=t),h.length>0?fn.createElement(d,l,h):fn.createElement(d,l)}function GS(e,t){let n=-1,r=0;for(;++n<e.children.length&&e.children[n]!==t;)e.children[n].type==="element"&&r++;return r}function Gwe(e,t,n,r){const o=wy(r.schema,t);let i=n;i==null||i!=i||(Array.isArray(i)&&(i=o.commaSeparated?gG(i):mG(i)),o.property==="style"&&typeof i=="string"&&(i=function(a){const s={};try{$we(a,l)}catch{}return s;function l(c,u){const h=c.slice(0,4)==="-ms-"?`ms-${c.slice(4)}`:c;s[h.replace(/-([a-z])/g,Kwe)]=u}}(i)),o.space&&o.property?e[WS.call(cG,o.property)?cG[o.property]:o.property]=i:o.attribute&&(e[o.attribute]=i))}function Kwe(e,t){return t.toUpperCase()}const wG={}.hasOwnProperty,xy={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function kG(e){for(const i in xy)wG.call(xy,i)&&wG.call(e,i)&&(xy[i],delete xy[i]);const t=kye().use(gwe).use(e.remarkPlugins||[]).use(Ewe,K(A({},e.remarkRehypeOptions),{allowDangerousHtml:!0})).use(e.rehypePlugins||[]).use(Fwe,e),n=new rW;typeof e.children=="string"?n.value=e.children:e.children!==void 0&&e.children;const r=t.runSync(t.parse(n),n);if(r.type!=="root")throw new TypeError("Expected a `root` node");let o=fn.createElement(fn.Fragment,{},yG({options:e,schema:Wm,listDepth:0},r));return e.className&&(o=fn.createElement("div",{className:e.className},o)),o}kG.propTypes={children:Et.string,className:Et.string,allowElement:Et.func,allowedElements:Et.arrayOf(Et.string),disallowedElements:Et.arrayOf(Et.string),unwrapDisallowed:Et.bool,remarkPlugins:Et.arrayOf(Et.oneOfType([Et.object,Et.func,Et.arrayOf(Et.oneOfType([Et.bool,Et.string,Et.object,Et.func,Et.arrayOf(Et.any)]))])),rehypePlugins:Et.arrayOf(Et.oneOfType([Et.object,Et.func,Et.arrayOf(Et.oneOfType([Et.bool,Et.string,Et.object,Et.func,Et.arrayOf(Et.any)]))])),sourcePos:Et.bool,rawSourcePos:Et.bool,skipHtml:Et.bool,includeElementIndex:Et.bool,transformLinkUri:Et.oneOfType([Et.func,Et.bool]),linkTarget:Et.oneOfType([Et.func,Et.string]),transformImageUri:Et.func,components:Et.object};const Ywe={tokenize:function(e,t,n){let r=0;return function i(a){return(a===87||a===119)&&r<3?(r++,e.consume(a),i):a===46&&r===3?(e.consume(a),o):n(a)};function o(i){return i===null?n(i):t(i)}},partial:!0},xG={tokenize:function(e,t,n){let r,o,i;return a;function a(c){return c===46||c===95?e.check(TG,l,s)(c):c===null||mn(c)||Tu(c)||c!==45&&hy(c)?l(c):(i=!0,e.consume(c),a)}function s(c){return c===95?r=!0:(o=r,r=void 0),e.consume(c),a}function l(c){return o||r||!i?n(c):t(c)}},partial:!0},_G={tokenize:function(e,t){let n=0,r=0;return o;function o(a){return a===40?(n++,e.consume(a),o):a===41&&r<n?i(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(TG,t,i)(a):a===null||mn(a)||Tu(a)?t(a):(e.consume(a),o)}function i(a){return a===41&&r++,e.consume(a),o}},partial:!0},TG={tokenize:function(e,t,n){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),r):s===38?(e.consume(s),i):s===93?(e.consume(s),o):s===60||s===null||mn(s)||Tu(s)?t(s):n(s)}function o(s){return s===null||s===40||s===91||mn(s)||Tu(s)?t(s):r(s)}function i(s){return ro(s)?a(s):n(s)}function a(s){return s===59?(e.consume(s),r):ro(s)?(e.consume(s),a):n(s)}},partial:!0},Qwe={tokenize:function(e,t,n){return function(o){return e.consume(o),r};function r(o){return $r(o)?n(o):t(o)}},partial:!0},SG={tokenize:function(e,t,n){const r=this;return function(i){return i!==87&&i!==119||!CG.call(r,r.previous)||YS(r.events)?n(i):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Ywe,e.attempt(xG,e.attempt(_G,o),n),n)(i))};function o(i){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(i)}},previous:CG},EG={tokenize:function(e,t,n){const r=this;let o="",i=!1;return function(u){return u!==72&&u!==104||!OG.call(r,r.previous)||YS(r.events)?n(u):(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),o+=String.fromCodePoint(u),e.consume(u),a)};function a(u){if(ro(u)&&o.length<5)return o+=String.fromCodePoint(u),e.consume(u),a;if(u===58){const h=o.toLowerCase();if(h==="http"||h==="https")return e.consume(u),s}return n(u)}function s(u){return u===47?(e.consume(u),i?l:(i=!0,s)):n(u)}function l(u){return u===null||dy(u)||mn(u)||Tu(u)||hy(u)?n(u):e.attempt(xG,e.attempt(_G,c),n)(u)}function c(u){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(u)}},previous:OG},$s={tokenize:function(e,t,n){const r=this;let o,i;return function(u){return KS(u)&&PG.call(r,r.previous)&&!YS(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(u)):n(u)};function a(u){return KS(u)?(e.consume(u),a):u===64?(e.consume(u),s):n(u)}function s(u){return u===46?e.check(Qwe,c,l)(u):u===45||u===95||$r(u)?(i=!0,e.consume(u),s):c(u)}function l(u){return e.consume(u),o=!0,s}function c(u){return i&&o&&ro(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(u)):n(u)}},previous:PG},ts={},Xwe={text:ts};let Cu=48;for(;Cu<123;)ts[Cu]=$s,Cu++,Cu===58?Cu=65:Cu===91&&(Cu=97);function CG(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||mn(e)}function OG(e){return!ro(e)}function PG(e){return!(e===47||KS(e))}function KS(e){return e===43||e===45||e===46||e===95||$r(e)}function YS(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}ts[43]=$s,ts[45]=$s,ts[46]=$s,ts[95]=$s,ts[72]=[$s,EG],ts[104]=[$s,EG],ts[87]=[$s,SG],ts[119]=[$s,SG];const Jwe={tokenize:function(e,t,n){const r=this;return qt(e,function(o){const i=r.events[r.events.length-1];return i&&i[1].type==="gfmFootnoteDefinitionIndent"&&i[2].sliceSerialize(i[1],!0).length===4?t(o):n(o)},"gfmFootnoteDefinitionIndent",5)},partial:!0};function Zwe(e,t,n){const r=this;let o=r.events.length;const i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;o--;){const s=r.events[o][1];if(s.type==="labelImage"){a=s;break}if(s.type==="gfmFootnoteCall"||s.type==="labelLink"||s.type==="label"||s.type==="image"||s.type==="link")break}return function(s){if(!a||!a._balanced)return n(s);const l=aa(r.sliceSerialize({start:a.end,end:r.now()}));return l.codePointAt(0)===94&&i.includes(l.slice(1))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(s),e.exit("gfmFootnoteCallLabelMarker"),t(s)):n(s)}}function e5e(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},s=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",o,t],["exit",o,t],["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...s),e}function t5e(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,a=0;return function(u){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),s};function s(u){return u!==94?n(u):(e.enter("gfmFootnoteCallMarker"),e.consume(u),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",l)}function l(u){if(a>999||u===93&&!i||u===null||u===91||mn(u))return n(u);if(u===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return o.includes(aa(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(u)}return mn(u)||(i=!0),a++,e.consume(u),u===92?c:l}function c(u){return u===91||u===92||u===93?(e.consume(u),a++,l):l(u)}}function n5e(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,a,s=0;return function(d){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(d),e.exit("gfmFootnoteDefinitionLabelMarker"),l};function l(d){return d===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(d),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",c):n(d)}function c(d){if(s>999||d===93&&!a||d===null||d===91||mn(d))return n(d);if(d===93){e.exit("chunkString");const f=e.exit("gfmFootnoteDefinitionLabelString");return i=aa(r.sliceSerialize(f)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(d),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return mn(d)||(a=!0),s++,e.consume(d),d===92?u:c}function u(d){return d===91||d===92||d===93?(e.consume(d),s++,c):c(d)}function h(d){return d===58?(e.enter("definitionMarker"),e.consume(d),e.exit("definitionMarker"),o.includes(i)||o.push(i),qt(e,p,"gfmFootnoteDefinitionWhitespace")):n(d)}function p(d){return t(d)}}function r5e(e,t,n){return e.check(Bm,t,e.attempt(Jwe,t,n))}function o5e(e){e.exit("gfmFootnoteDefinition")}function i5e(e){let t=(e||{}).singleTilde;const n={tokenize:function(r,o,i){const a=this.previous,s=this.events;let l=0;return function(u){return a===126&&s[s.length-1][1].type!=="characterEscape"?i(u):(r.enter("strikethroughSequenceTemporary"),c(u))};function c(u){const h=py(a);if(u===126)return l>1?i(u):(r.consume(u),l++,c);if(l<2&&!t)return i(u);const p=r.exit("strikethroughSequenceTemporary"),d=py(u);return p._open=!d||d===2&&!!h,p._close=!h||h===2&&!!d,o(u)}},resolveAll:function(r,o){let i=-1;for(;++i<r.length;)if(r[i][0]==="enter"&&r[i][1].type==="strikethroughSequenceTemporary"&&r[i][1]._close){let a=i;for(;a--;)if(r[a][0]==="exit"&&r[a][1].type==="strikethroughSequenceTemporary"&&r[a][1]._open&&r[i][1].end.offset-r[i][1].start.offset==r[a][1].end.offset-r[a][1].start.offset){r[i][1].type="strikethroughSequence",r[a][1].type="strikethroughSequence";const s={type:"strikethrough",start:Object.assign({},r[a][1].start),end:Object.assign({},r[i][1].end)},l={type:"strikethroughText",start:Object.assign({},r[a][1].end),end:Object.assign({},r[i][1].start)},c=[["enter",s,o],["enter",r[a][1],o],["exit",r[a][1],o],["enter",l,o]],u=o.parser.constructs.insideSpan.null;u&&oi(c,c.length,0,my(u,r.slice(a+1,i),o)),oi(c,c.length,0,[["exit",l,o],["enter",r[i][1],o],["exit",r[i][1],o],["exit",s,o]]),oi(r,a-1,i-a+3,c),i=a+c.length-2;break}}for(i=-1;++i<r.length;)r[i][1].type==="strikethroughSequenceTemporary"&&(r[i][1].type="data");return r}};return t==null&&(t=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}}}class a5e{constructor(){this.map=[]}add(t,n,r){(function(o,i,a,s){let l=0;if(a!==0||s.length!==0){for(;l<o.map.length;){if(o.map[l][0]===i)return o.map[l][1]+=a,void o.map[l][2].push(...s);l+=1}o.map.push([i,a,s])}})(this,t,n,r)}consume(t){if(this.map.sort((i,a)=>i[0]-a[0]),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1])),r.push(this.map[n][2]),t.length=this.map[n][0];r.push([...t]),t.length=0;let o=r.pop();for(;o;)t.push(...o),o=r.pop();this.map.length=0}}function s5e(e,t){let n=!1;const r=[];for(;t<e.length;){const o=e[t];if(n){if(o[0]==="enter")o[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(o[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const i=r.length-1;r[i]=r[i]==="left"?"center":"right"}}else if(o[1].type==="tableDelimiterRow")break}else o[0]==="enter"&&o[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}const l5e={flow:{null:{tokenize:function(e,t,n){const r=this;let o,i=0,a=0;return function(E){let C=r.events.length-1;for(;C>-1;){const j=r.events[C][1].type;if(j!=="lineEnding"&&j!=="linePrefix")break;C--}const N=C>-1?r.events[C][1].type:null,L=N==="tableHead"||N==="tableRow"?w:s;return L===w&&r.parser.lazy[r.now().line]?n(E):L(E)};function s(E){return e.enter("tableHead"),e.enter("tableRow"),function(C){return C===124||(o=!0,a+=1),l(C)}(E)}function l(E){return E===null?n(E):vt(E)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),h):n(E):Dt(E)?qt(e,l,"whitespace")(E):(a+=1,o&&(o=!1,i+=1),E===124?(e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),o=!0,l):(e.enter("data"),c(E)))}function c(E){return E===null||E===124||mn(E)?(e.exit("data"),l(E)):(e.consume(E),E===92?u:c)}function u(E){return E===92||E===124?(e.consume(E),c):c(E)}function h(E){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(E):(e.enter("tableDelimiterRow"),o=!1,Dt(E)?qt(e,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):p(E))}function p(E){return E===45||E===58?f(E):E===124?(o=!0,e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),d):b(E)}function d(E){return Dt(E)?qt(e,f,"whitespace")(E):f(E)}function f(E){return E===58?(a+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(E),e.exit("tableDelimiterMarker"),g):E===45?(a+=1,g(E)):E===null||vt(E)?y(E):b(E)}function g(E){return E===45?(e.enter("tableDelimiterFiller"),m(E)):b(E)}function m(E){return E===45?(e.consume(E),m):E===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(E),e.exit("tableDelimiterMarker"),v):(e.exit("tableDelimiterFiller"),v(E))}function v(E){return Dt(E)?qt(e,y,"whitespace")(E):y(E)}function y(E){return E===124?p(E):(E===null||vt(E))&&o&&i===a?(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(E)):b(E)}function b(E){return n(E)}function w(E){return e.enter("tableRow"),k(E)}function k(E){return E===124?(e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),k):E===null||vt(E)?(e.exit("tableRow"),t(E)):Dt(E)?qt(e,k,"whitespace")(E):(e.enter("data"),_(E))}function _(E){return E===null||E===124||mn(E)?(e.exit("data"),k(E)):(e.consume(E),E===92?O:_)}function O(E){return E===92||E===124?(e.consume(E),_):_(E)}},resolveAll:function(e,t){let n,r,o,i=-1,a=!0,s=0,l=[0,0,0,0],c=[0,0,0,0],u=!1,h=0;const p=new a5e;for(;++i<e.length;){const d=e[i],f=d[1];d[0]==="enter"?f.type==="tableHead"?(u=!1,h!==0&&(AG(p,t,h,n,r),r=void 0,h=0),n={type:"table",start:Object.assign({},f.start),end:Object.assign({},f.end)},p.add(i,0,[["enter",n,t]])):f.type==="tableRow"||f.type==="tableDelimiterRow"?(a=!0,o=void 0,l=[0,0,0,0],c=[0,i+1,0,0],u&&(u=!1,r={type:"tableBody",start:Object.assign({},f.start),end:Object.assign({},f.end)},p.add(i,0,[["enter",r,t]])),s=f.type==="tableDelimiterRow"?2:r?3:1):!s||f.type!=="data"&&f.type!=="tableDelimiterMarker"&&f.type!=="tableDelimiterFiller"?f.type==="tableCellDivider"&&(a?a=!1:(l[1]!==0&&(c[0]=c[1],o=_y(p,t,l,s,void 0,o)),l=c,c=[l[1],i,0,0])):(a=!1,c[2]===0&&(l[1]!==0&&(c[0]=c[1],o=_y(p,t,l,s,void 0,o),l=[0,0,0,0]),c[2]=i)):f.type==="tableHead"?(u=!0,h=i):f.type==="tableRow"||f.type==="tableDelimiterRow"?(h=i,l[1]!==0?(c[0]=c[1],o=_y(p,t,l,s,i,o)):c[1]!==0&&(o=_y(p,t,c,s,i,o)),s=0):s&&(f.type==="data"||f.type==="tableDelimiterMarker"||f.type==="tableDelimiterFiller")&&(c[3]=i)}for(h!==0&&AG(p,t,h,n,r),p.consume(t.events),i=-1;++i<t.events.length;){const d=t.events[i];d[0]==="enter"&&d[1].type==="table"&&(d[1]._align=s5e(t.events,i))}return e}}}};function _y(e,t,n,r,o,i){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData";n[0]!==0&&(i.end=Object.assign({},Fh(t.events,n[0])),e.add(n[0],0,[["exit",i,t]]));const s=Fh(t.events,n[1]);if(i={type:a,start:Object.assign({},s),end:Object.assign({},s)},e.add(n[1],0,[["enter",i,t]]),n[2]!==0){const l=Fh(t.events,n[2]),c=Fh(t.events,n[3]),u={type:"tableContent",start:Object.assign({},l),end:Object.assign({},c)};if(e.add(n[2],0,[["enter",u,t]]),r!==2){const h=t.events[n[2]],p=t.events[n[3]];if(h[1].end=Object.assign({},p[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const d=n[2]+1,f=n[3]-n[2]-1;e.add(d,f,[])}}e.add(n[3]+1,0,[["exit",u,t]])}return o!==void 0&&(i.end=Object.assign({},Fh(t.events,o)),e.add(o,0,[["exit",i,t]]),i=void 0),i}function AG(e,t,n,r,o){const i=[],a=Fh(t.events,n);o&&(o.end=Object.assign({},a),i.push(["exit",o,t])),r.end=Object.assign({},a),i.push(["exit",r,t]),e.add(n+1,0,i)}function Fh(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const c5e={tokenize:function(e,t,n){const r=this;return function(s){return r.previous===null&&r._gfmTasklistFirstContentOfListItem?(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(s),e.exit("taskListCheckMarker"),o):n(s)};function o(s){return mn(s)?(e.enter("taskListCheckValueUnchecked"),e.consume(s),e.exit("taskListCheckValueUnchecked"),i):s===88||s===120?(e.enter("taskListCheckValueChecked"),e.consume(s),e.exit("taskListCheckValueChecked"),i):n(s)}function i(s){return s===93?(e.enter("taskListCheckMarker"),e.consume(s),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(s)}function a(s){return vt(s)?t(s):Dt(s)?e.check({tokenize:d5e},t,n)(s):n(s)}}},u5e={text:{91:c5e}};function d5e(e,t,n){return qt(e,function(r){return r===null?n(r):t(r)},"whitespace")}function NG(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,o=n.indexOf(t);for(;o!==-1;)r++,o=n.indexOf(t,o+t.length);return r}const h5e={}.hasOwnProperty,p5e=function(e,t,n,r){let o,i;typeof t=="string"||t instanceof RegExp?(i=[[t,n]],o=r):(i=t,o=n),o||(o={});const a=FS(o.ignore||[]),s=function(u){const h=[];if(typeof u!="object")throw new TypeError("Expected array or object as schema");if(Array.isArray(u)){let p=-1;for(;++p<u.length;)h.push([RG(u[p][0]),IG(u[p][1])])}else{let p;for(p in u)h5e.call(u,p)&&h.push([RG(p),IG(u[p])])}return h}(i);let l=-1;for(;++l<s.length;)Vm(e,"text",c);return e;function c(u,h){let p,d=-1;for(;++d<h.length;){const f=h[d];if(a(f,p?p.children.indexOf(f):void 0,p))return;p=f}if(p)return function(f,g){const m=g[g.length-1],v=s[l][0],y=s[l][1];let b=0;const w=m.children.indexOf(f);let k=!1,_=[];v.lastIndex=0;let O=v.exec(f.value);for(;O;){const E=O.index,C={index:O.index,input:O.input,stack:[...g,f]};let N=y(...O,C);if(typeof N=="string"&&(N=N.length>0?{type:"text",value:N}:void 0),N!==!1&&(b!==E&&_.push({type:"text",value:f.value.slice(b,E)}),Array.isArray(N)?_.push(...N):N&&_.push(N),b=E+O[0].length,k=!0),!v.global)break;O=v.exec(f.value)}return k?(b<f.value.length&&_.push({type:"text",value:f.value.slice(b)}),m.children.splice(w,1,..._)):_=[f],w+_.length}(u,h)}};function RG(e){return typeof e=="string"?new RegExp(function(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(e),"g"):e}function IG(e){return typeof e=="function"?e:()=>e}const QS="phrasing",XS=["autolink","link","image","label"],m5e={transforms:[function(e){p5e(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,g5e],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,v5e]],{ignore:["link","linkReference"]})}],enter:{literalAutolink:function(e){this.enter({type:"link",title:null,url:"",children:[]},e)},literalAutolinkEmail:JS,literalAutolinkHttp:JS,literalAutolinkWww:JS},exit:{literalAutolink:function(e){this.exit(e)},literalAutolinkEmail:function(e){this.config.exit.autolinkEmail.call(this,e)},literalAutolinkHttp:function(e){this.config.exit.autolinkProtocol.call(this,e)},literalAutolinkWww:function(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.url="http://"+this.sliceSerialize(e)}}},f5e={unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:QS,notInConstruct:XS},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:QS,notInConstruct:XS},{character:":",before:"[ps]",after:"\\/",inConstruct:QS,notInConstruct:XS}]};function JS(e){this.config.enter.autolinkProtocol.call(this,e)}function g5e(e,t,n,r,o){let i="";if(!MG(o)||(/^w/i.test(t)&&(n=t+n,t="",i="http://"),!function(l){const c=l.split(".");return!(c.length<2||c[c.length-1]&&(/_/.test(c[c.length-1])||!/[a-zA-Z\d]/.test(c[c.length-1]))||c[c.length-2]&&(/_/.test(c[c.length-2])||!/[a-zA-Z\d]/.test(c[c.length-2])))}(n)))return!1;const a=function(l){const c=/[!"&'),.:;<>?\]}]+$/.exec(l);if(!c)return[l,void 0];l=l.slice(0,c.index);let u=c[0],h=u.indexOf(")");const p=NG(l,"(");let d=NG(l,")");for(;h!==-1&&p>d;)l+=u.slice(0,h+1),u=u.slice(h+1),h=u.indexOf(")"),d++;return[l,u]}(n+r);if(!a[0])return!1;const s={type:"link",title:null,url:i+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[s,{type:"text",value:a[1]}]:s}function v5e(e,t,n,r){return!(!MG(r,!0)||/[-\d_]$/.test(n))&&{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function MG(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Tu(n)||hy(n))&&(!t||n!==47)}function LG(e){return e.label||!e.identifier?e.label||"":IW(e.identifier)}function b5e(e,t,n,r){let o=r.join.length;for(;o--;){const i=r.join[o](e,t,n,r);if(i===!0||i===1)break;if(typeof i=="number")return`
`.repeat(1+i);if(i===!1)return`

<!---->

`}return`

`}const y5e=/\r?\n|\r/g;function DG(e){if(!e._compiled){const t=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function w5e(e,t){return jG(e,t.inConstruct,!0)&&!jG(e,t.notInConstruct,!1)}function jG(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function zG(e,t,n){const r=(n.before||"")+(t||"")+(n.after||""),o=[],i=[],a={};let s=-1;for(;++s<e.unsafe.length;){const u=e.unsafe[s];if(!w5e(e.stack,u))continue;const h=DG(u);let p;for(;p=h.exec(r);){const d="before"in u||!!u.atBreak,f="after"in u,g=p.index+(d?p[1].length:0);o.includes(g)?(a[g].before&&!d&&(a[g].before=!1),a[g].after&&!f&&(a[g].after=!1)):(o.push(g),a[g]={before:d,after:f})}}o.sort(k5e);let l=n.before?n.before.length:0;const c=r.length-(n.after?n.after.length:0);for(s=-1;++s<o.length;){const u=o[s];u<l||u>=c||u+1<c&&o[s+1]===u+1&&a[u].after&&!a[u+1].before&&!a[u+1].after||o[s-1]===u-1&&a[u].before&&!a[u-1].before&&!a[u-1].after||(l!==u&&i.push(FG(r.slice(l,u),"\\")),l=u,!/[!-/:-@[-`{-~]/.test(r.charAt(u))||n.encode&&n.encode.includes(r.charAt(u))?(i.push("&#x"+r.charCodeAt(u).toString(16).toUpperCase()+";"),l++):i.push("\\"))}return i.push(FG(r.slice(l,c),n.after)),i.join("")}function k5e(e,t){return e-t}function FG(e,t){const n=/\\(?=[!-/:-@[-`{-~])/g,r=[],o=[],i=e+t;let a,s=-1,l=0;for(;a=n.exec(i);)r.push(a.index);for(;++s<r.length;)l!==r[s]&&o.push(e.slice(l,r[s])),o.push("\\"),l=r[s];return o.push(e.slice(l)),o.join("")}function Ty(e){const t=e||{},n=t.now||{};let r=t.lineShift||0,o=n.line||1,i=n.column||1;return{move:function(a){const s=a||"",l=s.split(/\r?\n|\r/g),c=l[l.length-1];return o+=l.length-1,i=l.length===1?i+c.length:1+c.length+r,s},current:function(){return{now:{line:o,column:i},lineShift:r}},shift:function(a){r+=a}}}function x5e(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function _5e(){this.buffer()}function T5e(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=aa(this.sliceSerialize(e)).toLowerCase()}function S5e(e){this.exit(e)}function E5e(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function C5e(){this.buffer()}function O5e(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=aa(this.sliceSerialize(e)).toLowerCase()}function P5e(e){this.exit(e)}function BG(e,t,n,r){const o=Ty(r);let i=o.move("[^");const a=n.enter("footnoteReference"),s=n.enter("reference");return i+=o.move(zG(n,LG(e),K(A({},o.current()),{before:i,after:"]"}))),s(),a(),i+=o.move("]"),i}function A5e(e,t,n,r){const o=Ty(r);let i=o.move("[^");const a=n.enter("footnoteDefinition"),s=n.enter("label");return i+=o.move(zG(n,LG(e),K(A({},o.current()),{before:i,after:"]"}))),s(),i+=o.move("]:"+(e.children&&e.children.length>0?" ":"")),o.shift(4),i+=o.move(function(l,c){const u=[];let h,p=0,d=0;for(;h=y5e.exec(l);)f(l.slice(p,h.index)),u.push(h[0]),p=h.index+h[0].length,d++;return f(l.slice(p)),u.join("");function f(g){u.push(c(g,d,!g))}}(function(l,c,u){const h=c.indexStack,p=l.children||[],d=c.createTracker(u),f=[];let g=-1;for(h.push(-1);++g<p.length;){const m=p[g];h[h.length-1]=g,f.push(d.move(c.handle(m,l,c,A({before:`
`,after:`
`},d.current())))),m.type!=="list"&&(c.bulletLastUsed=void 0),g<p.length-1&&f.push(d.move(b5e(m,p[g+1],l,c)))}return h.pop(),f.join("")}(e,n,o.current()),N5e)),a(),i}function N5e(e,t,n){return t===0?e:(n?"":"    ")+e}function UG(e,t,n){const r=t.indexStack,o=e.children||[],i=[];let a=-1,s=n.before;r.push(-1);let l=t.createTracker(n);for(;++a<o.length;){const c=o[a];let u;if(r[r.length-1]=a,a+1<o.length){let h=t.handle.handlers[o[a+1].type];h&&h.peek&&(h=h.peek),u=h?h(o[a+1],e,t,A({before:"",after:""},l.current())).charAt(0):""}else u=n.after;i.length>0&&(s==="\r"||s===`
`)&&c.type==="html"&&(i[i.length-1]=i[i.length-1].replace(/(\r?\n|\r)$/," "),s=" ",l=t.createTracker(n),l.move(i.join(""))),i.push(l.move(t.handle(c,e,t,K(A({},l.current()),{before:s,after:u})))),s=i[i.length-1].slice(-1)}return r.pop(),i.join("")}BG.peek=function(){return"["},HG.peek=function(){return"~"};const R5e={canContainEols:["delete"],enter:{strikethrough:function(e){this.enter({type:"delete",children:[]},e)}},exit:{strikethrough:function(e){this.exit(e)}}},I5e={unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"]}],handlers:{delete:HG}};function HG(e,t,n,r){const o=Ty(r),i=n.enter("strikethrough");let a=o.move("~~");return a+=UG(e,n,K(A({},o.current()),{before:a,after:"~"})),a+=o.move("~~"),i(),a}function VG(e,t,n){let r=e.value||"",o="`",i=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(r);)o+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++i<n.unsafe.length;){const a=n.unsafe[i],s=DG(a);let l;if(a.atBreak)for(;l=s.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return o+r+o}function M5e(e){return e.length}function L5e(e){return e==null?"":String(e)}function $G(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}VG.peek=function(){return"`"};const D5e={enter:{table:function(e){const t=e._align;this.enter({type:"table",align:t.map(n=>n==="none"?null:n),children:[]},e),this.setData("inTable",!0)},tableData:qG,tableHeader:qG,tableRow:function(e){this.enter({type:"tableRow",children:[]},e)}},exit:{codeText:function(e){let t=this.resume();this.getData("inTable")&&(t=t.replace(/\\([\\|])/g,j5e));const n=this.stack[this.stack.length-1];n.value=t,this.exit(e)},table:function(e){this.exit(e),this.setData("inTable")},tableData:ZS,tableHeader:ZS,tableRow:ZS}};function ZS(e){this.exit(e)}function qG(e){this.enter({type:"tableCell",children:[]},e)}function j5e(e,t){return t==="|"?t:e}function z5e(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,o=t.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:function(c,u,h,p){return s(function(d,f,g){const m=d.children;let v=-1;const y=[],b=f.enter("table");for(;++v<m.length;)y[v]=l(m[v],f,g);return b(),y}(c,h,p),c.align)},tableRow:function(c,u,h,p){const d=l(c,h,p),f=s([d]);return f.slice(0,f.indexOf(`
`))},tableCell:a,inlineCode:function(c,u,h){let p=VG(c,0,h);return h.stack.includes("tableCell")&&(p=p.replace(/\|/g,"\\$&")),p}}};function a(c,u,h,p){const d=h.enter("tableCell"),f=h.enter("phrasing"),g=UG(c,h,K(A({},p),{before:i,after:i}));return f(),d(),g}function s(c,u){return function(h,p){const d=p||{},f=(d.align||[]).concat(),g=d.stringLength||M5e,m=[],v=[],y=[],b=[];let w=0,k=-1;for(;++k<h.length;){const N=[],L=[];let j=-1;for(h[k].length>w&&(w=h[k].length);++j<h[k].length;){const H=L5e(h[k][j]);if(d.alignDelimiters!==!1){const F=g(H);L[j]=F,(b[j]===void 0||F>b[j])&&(b[j]=F)}N.push(H)}v[k]=N,y[k]=L}let _=-1;if(typeof f=="object"&&"length"in f)for(;++_<w;)m[_]=$G(f[_]);else{const N=$G(f);for(;++_<w;)m[_]=N}_=-1;const O=[],E=[];for(;++_<w;){const N=m[_];let L="",j="";N===99?(L=":",j=":"):N===108?L=":":N===114&&(j=":");let H=d.alignDelimiters===!1?1:Math.max(1,b[_]-L.length-j.length);const F=L+"-".repeat(H)+j;d.alignDelimiters!==!1&&(H=L.length+H+j.length,H>b[_]&&(b[_]=H),E[_]=H),O[_]=F}v.splice(1,0,O),y.splice(1,0,E),k=-1;const C=[];for(;++k<v.length;){const N=v[k],L=y[k];_=-1;const j=[];for(;++_<w;){const H=N[_]||"";let F="",z="";if(d.alignDelimiters!==!1){const B=b[_]-(L[_]||0),V=m[_];V===114?F=" ".repeat(B):V===99?B%2?(F=" ".repeat(B/2+.5),z=" ".repeat(B/2-.5)):(F=" ".repeat(B/2),z=F):z=" ".repeat(B)}d.delimiterStart!==!1&&!_&&j.push("|"),d.padding!==!1&&!(d.alignDelimiters===!1&&H==="")&&(d.delimiterStart!==!1||_)&&j.push(" "),d.alignDelimiters!==!1&&j.push(F),j.push(H),d.alignDelimiters!==!1&&j.push(z),d.padding!==!1&&j.push(" "),(d.delimiterEnd!==!1||_!==w-1)&&j.push("|")}C.push(d.delimiterEnd===!1?j.join("").replace(/ +$/,""):j.join(""))}return C.join(`
`)}(c,{align:u,alignDelimiters:r,padding:n,stringLength:o})}function l(c,u,h){const p=c.children;let d=-1;const f=[],g=u.enter("tableRow");for(;++d<p.length;)f[d]=a(p[d],0,u,h);return g(),f}}function F5e(e,t,n,r){const o=function(u){const h=u.options.listItemIndent||"tab";if(h===1||h==="1")return"one";if(h!=="tab"&&h!=="one"&&h!=="mixed")throw new Error("Cannot serialize items with `"+h+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return h}(n);let i=n.bulletCurrent||function(u){const h=u.options.bullet||"*";if(h!=="*"&&h!=="+"&&h!=="-")throw new Error("Cannot serialize items with `"+h+"` for `options.bullet`, expected `*`, `+`, or `-`");return h}(n);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+i);let a=i.length+1;(o==="tab"||o==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=4*Math.ceil(a/4));const s=n.createTracker(r);s.move(i+" ".repeat(a-i.length)),s.shift(a);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,s.current()),function(u,h,p){return h?(p?"":" ".repeat(a))+u:(p?i:i+" ".repeat(a-i.length))+u});return l(),c}const B5e={exit:{taskListCheckValueChecked:WG,taskListCheckValueUnchecked:WG,paragraph:function(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1],r=n.children[0];if(r&&r.type==="text"){const o=t.children;let i,a=-1;for(;++a<o.length;){const s=o[a];if(s.type==="paragraph"){i=s;break}}i===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}}},U5e={unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:function(e,t,n,r){const o=e.children[0],i=typeof e.checked=="boolean"&&o&&o.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",s=Ty(r);i&&s.move(a);let l=F5e(e,t,n,A(A({},r),s.current()));return i&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,function(c){return c+a})),l}}};function WG(e){this.stack[this.stack.length-2].checked=e.type==="taskListCheckValueChecked"}function H5e(e={}){const t=this.data();function n(r,o){(t[r]?t[r]:t[r]=[]).push(o)}n("micromarkExtensions",function(r){return mW([Xwe,{document:{91:{tokenize:n5e,continuation:{tokenize:r5e},exit:o5e}},text:{91:{tokenize:t5e},93:{add:"after",tokenize:Zwe,resolveTo:e5e}}},i5e(r),l5e,u5e])}(e)),n("fromMarkdownExtensions",[m5e,{enter:{gfmFootnoteDefinition:x5e,gfmFootnoteDefinitionLabelString:_5e,gfmFootnoteCall:E5e,gfmFootnoteCallString:C5e},exit:{gfmFootnoteDefinition:S5e,gfmFootnoteDefinitionLabelString:T5e,gfmFootnoteCall:P5e,gfmFootnoteCallString:O5e}},R5e,D5e,B5e]),n("toMarkdownExtensions",function(r){return{extensions:[f5e,{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:A5e,footnoteReference:BG}},I5e,z5e(r),U5e]}}(e))}var GG,KG,YG,e3,QG,XG,JG,ZG,eK,ns={};function t3(){if(GG)return ns;GG=1;const e=[65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111];return ns.REPLACEMENT_CHARACTER="�",ns.CODE_POINTS={EOF:-1,NULL:0,TABULATION:9,CARRIAGE_RETURN:13,LINE_FEED:10,FORM_FEED:12,SPACE:32,EXCLAMATION_MARK:33,QUOTATION_MARK:34,NUMBER_SIGN:35,AMPERSAND:38,APOSTROPHE:39,HYPHEN_MINUS:45,SOLIDUS:47,DIGIT_0:48,DIGIT_9:57,SEMICOLON:59,LESS_THAN_SIGN:60,EQUALS_SIGN:61,GREATER_THAN_SIGN:62,QUESTION_MARK:63,LATIN_CAPITAL_A:65,LATIN_CAPITAL_F:70,LATIN_CAPITAL_X:88,LATIN_CAPITAL_Z:90,RIGHT_SQUARE_BRACKET:93,GRAVE_ACCENT:96,LATIN_SMALL_A:97,LATIN_SMALL_F:102,LATIN_SMALL_X:120,LATIN_SMALL_Z:122,REPLACEMENT_CHARACTER:65533},ns.CODE_POINT_SEQUENCES={DASH_DASH_STRING:[45,45],DOCTYPE_STRING:[68,79,67,84,89,80,69],CDATA_START_STRING:[91,67,68,65,84,65,91],SCRIPT_STRING:[115,99,114,105,112,116],PUBLIC_STRING:[80,85,66,76,73,67],SYSTEM_STRING:[83,89,83,84,69,77]},ns.isSurrogate=function(t){return t>=55296&&t<=57343},ns.isSurrogatePair=function(t){return t>=56320&&t<=57343},ns.getSurrogatePairCodePoint=function(t,n){return 1024*(t-55296)+9216+n},ns.isControlCodePoint=function(t){return t!==32&&t!==10&&t!==13&&t!==9&&t!==12&&t>=1&&t<=31||t>=127&&t<=159},ns.isUndefinedCodePoint=function(t){return t>=64976&&t<=65007||e.indexOf(t)>-1},ns}function n3(){return YG||(YG=1,KG={controlCharacterInInputStream:"control-character-in-input-stream",noncharacterInInputStream:"noncharacter-in-input-stream",surrogateInInputStream:"surrogate-in-input-stream",nonVoidHtmlElementStartTagWithTrailingSolidus:"non-void-html-element-start-tag-with-trailing-solidus",endTagWithAttributes:"end-tag-with-attributes",endTagWithTrailingSolidus:"end-tag-with-trailing-solidus",unexpectedSolidusInTag:"unexpected-solidus-in-tag",unexpectedNullCharacter:"unexpected-null-character",unexpectedQuestionMarkInsteadOfTagName:"unexpected-question-mark-instead-of-tag-name",invalidFirstCharacterOfTagName:"invalid-first-character-of-tag-name",unexpectedEqualsSignBeforeAttributeName:"unexpected-equals-sign-before-attribute-name",missingEndTagName:"missing-end-tag-name",unexpectedCharacterInAttributeName:"unexpected-character-in-attribute-name",unknownNamedCharacterReference:"unknown-named-character-reference",missingSemicolonAfterCharacterReference:"missing-semicolon-after-character-reference",unexpectedCharacterAfterDoctypeSystemIdentifier:"unexpected-character-after-doctype-system-identifier",unexpectedCharacterInUnquotedAttributeValue:"unexpected-character-in-unquoted-attribute-value",eofBeforeTagName:"eof-before-tag-name",eofInTag:"eof-in-tag",missingAttributeValue:"missing-attribute-value",missingWhitespaceBetweenAttributes:"missing-whitespace-between-attributes",missingWhitespaceAfterDoctypePublicKeyword:"missing-whitespace-after-doctype-public-keyword",missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:"missing-whitespace-between-doctype-public-and-system-identifiers",missingWhitespaceAfterDoctypeSystemKeyword:"missing-whitespace-after-doctype-system-keyword",missingQuoteBeforeDoctypePublicIdentifier:"missing-quote-before-doctype-public-identifier",missingQuoteBeforeDoctypeSystemIdentifier:"missing-quote-before-doctype-system-identifier",missingDoctypePublicIdentifier:"missing-doctype-public-identifier",missingDoctypeSystemIdentifier:"missing-doctype-system-identifier",abruptDoctypePublicIdentifier:"abrupt-doctype-public-identifier",abruptDoctypeSystemIdentifier:"abrupt-doctype-system-identifier",cdataInHtmlContent:"cdata-in-html-content",incorrectlyOpenedComment:"incorrectly-opened-comment",eofInScriptHtmlCommentLikeText:"eof-in-script-html-comment-like-text",eofInDoctype:"eof-in-doctype",nestedComment:"nested-comment",abruptClosingOfEmptyComment:"abrupt-closing-of-empty-comment",eofInComment:"eof-in-comment",incorrectlyClosedComment:"incorrectly-closed-comment",eofInCdata:"eof-in-cdata",absenceOfDigitsInNumericCharacterReference:"absence-of-digits-in-numeric-character-reference",nullCharacterReference:"null-character-reference",surrogateCharacterReference:"surrogate-character-reference",characterReferenceOutsideUnicodeRange:"character-reference-outside-unicode-range",controlCharacterReference:"control-character-reference",noncharacterCharacterReference:"noncharacter-character-reference",missingWhitespaceBeforeDoctypeName:"missing-whitespace-before-doctype-name",missingDoctypeName:"missing-doctype-name",invalidCharacterSequenceAfterDoctypeName:"invalid-character-sequence-after-doctype-name",duplicateAttribute:"duplicate-attribute",nonConformingDoctype:"non-conforming-doctype",missingDoctype:"missing-doctype",misplacedDoctype:"misplaced-doctype",endTagWithoutMatchingOpenElement:"end-tag-without-matching-open-element",closingOfElementWithOpenChildElements:"closing-of-element-with-open-child-elements",disallowedContentInNoscriptInHead:"disallowed-content-in-noscript-in-head",openElementsLeftAfterEof:"open-elements-left-after-eof",abandonedHeadElementChild:"abandoned-head-element-child",misplacedStartTagForHeadElement:"misplaced-start-tag-for-head-element",nestedNoscriptInHead:"nested-noscript-in-head",eofInElementThatCanContainOnlyText:"eof-in-element-that-can-contain-only-text"}),KG}function Sy(){if(eK)return ZG;eK=1;const e=function(){if(QG)return e3;QG=1;const G=t3(),D=n3(),te=G.CODE_POINTS;return e3=class{constructor(){this.html=null,this.pos=-1,this.lastGapPos=-1,this.lastCharPos=-1,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536}_err(){}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(le){if(this.pos!==this.lastCharPos){const Fe=this.html.charCodeAt(this.pos+1);if(G.isSurrogatePair(Fe))return this.pos++,this._addGap(),G.getSurrogatePairCodePoint(le,Fe)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,te.EOF;return this._err(D.surrogateInInputStream),le}dropParsedChunk(){this.pos>this.bufferWaterline&&(this.lastCharPos-=this.pos,this.html=this.html.substring(this.pos),this.pos=0,this.lastGapPos=-1,this.gapStack=[])}write(le,Fe){this.html?this.html+=le:this.html=le,this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1,this.lastChunkWritten=Fe}insertHtmlAtCurrentPos(le){this.html=this.html.substring(0,this.pos+1)+le+this.html.substring(this.pos+1,this.html.length),this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1}advance(){if(this.pos++,this.pos>this.lastCharPos)return this.endOfChunkHit=!this.lastChunkWritten,te.EOF;let le=this.html.charCodeAt(this.pos);return this.skipNextNewLine&&le===te.LINE_FEED?(this.skipNextNewLine=!1,this._addGap(),this.advance()):le===te.CARRIAGE_RETURN?(this.skipNextNewLine=!0,te.LINE_FEED):(this.skipNextNewLine=!1,G.isSurrogate(le)&&(le=this._processSurrogate(le)),le>31&&le<127||le===te.LINE_FEED||le===te.CARRIAGE_RETURN||le>159&&le<64976||this._checkForProblematicCharacters(le),le)}_checkForProblematicCharacters(le){G.isControlCodePoint(le)?this._err(D.controlCharacterInInputStream):G.isUndefinedCodePoint(le)&&this._err(D.noncharacterInInputStream)}retreat(){this.pos===this.lastGapPos&&(this.lastGapPos=this.gapStack.pop(),this.pos--),this.pos--}},e3}(),t=t3(),n=(JG||(JG=1,XG=new Uint16Array([4,52,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,106,303,412,810,1432,1701,1796,1987,2114,2360,2420,2484,3170,3251,4140,4393,4575,4610,5106,5512,5728,6117,6274,6315,6345,6427,6516,7002,7910,8733,9323,9870,10170,10631,10893,11318,11386,11467,12773,13092,14474,14922,15448,15542,16419,17666,18166,18611,19004,19095,19298,19397,4,16,69,77,97,98,99,102,103,108,109,110,111,112,114,115,116,117,140,150,158,169,176,194,199,210,216,222,226,242,256,266,283,294,108,105,103,5,198,1,59,148,1,198,80,5,38,1,59,156,1,38,99,117,116,101,5,193,1,59,167,1,193,114,101,118,101,59,1,258,4,2,105,121,182,191,114,99,5,194,1,59,189,1,194,59,1,1040,114,59,3,55349,56580,114,97,118,101,5,192,1,59,208,1,192,112,104,97,59,1,913,97,99,114,59,1,256,100,59,1,10835,4,2,103,112,232,237,111,110,59,1,260,102,59,3,55349,56632,112,108,121,70,117,110,99,116,105,111,110,59,1,8289,105,110,103,5,197,1,59,264,1,197,4,2,99,115,272,277,114,59,3,55349,56476,105,103,110,59,1,8788,105,108,100,101,5,195,1,59,292,1,195,109,108,5,196,1,59,301,1,196,4,8,97,99,101,102,111,114,115,117,321,350,354,383,388,394,400,405,4,2,99,114,327,336,107,115,108,97,115,104,59,1,8726,4,2,118,119,342,345,59,1,10983,101,100,59,1,8966,121,59,1,1041,4,3,99,114,116,362,369,379,97,117,115,101,59,1,8757,110,111,117,108,108,105,115,59,1,8492,97,59,1,914,114,59,3,55349,56581,112,102,59,3,55349,56633,101,118,101,59,1,728,99,114,59,1,8492,109,112,101,113,59,1,8782,4,14,72,79,97,99,100,101,102,104,105,108,111,114,115,117,442,447,456,504,542,547,569,573,577,616,678,784,790,796,99,121,59,1,1063,80,89,5,169,1,59,454,1,169,4,3,99,112,121,464,470,497,117,116,101,59,1,262,4,2,59,105,476,478,1,8914,116,97,108,68,105,102,102,101,114,101,110,116,105,97,108,68,59,1,8517,108,101,121,115,59,1,8493,4,4,97,101,105,111,514,520,530,535,114,111,110,59,1,268,100,105,108,5,199,1,59,528,1,199,114,99,59,1,264,110,105,110,116,59,1,8752,111,116,59,1,266,4,2,100,110,553,560,105,108,108,97,59,1,184,116,101,114,68,111,116,59,1,183,114,59,1,8493,105,59,1,935,114,99,108,101,4,4,68,77,80,84,591,596,603,609,111,116,59,1,8857,105,110,117,115,59,1,8854,108,117,115,59,1,8853,105,109,101,115,59,1,8855,111,4,2,99,115,623,646,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8754,101,67,117,114,108,121,4,2,68,81,658,671,111,117,98,108,101,81,117,111,116,101,59,1,8221,117,111,116,101,59,1,8217,4,4,108,110,112,117,688,701,736,753,111,110,4,2,59,101,696,698,1,8759,59,1,10868,4,3,103,105,116,709,717,722,114,117,101,110,116,59,1,8801,110,116,59,1,8751,111,117,114,73,110,116,101,103,114,97,108,59,1,8750,4,2,102,114,742,745,59,1,8450,111,100,117,99,116,59,1,8720,110,116,101,114,67,108,111,99,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8755,111,115,115,59,1,10799,99,114,59,3,55349,56478,112,4,2,59,67,803,805,1,8915,97,112,59,1,8781,4,11,68,74,83,90,97,99,101,102,105,111,115,834,850,855,860,865,888,903,916,921,1011,1415,4,2,59,111,840,842,1,8517,116,114,97,104,100,59,1,10513,99,121,59,1,1026,99,121,59,1,1029,99,121,59,1,1039,4,3,103,114,115,873,879,883,103,101,114,59,1,8225,114,59,1,8609,104,118,59,1,10980,4,2,97,121,894,900,114,111,110,59,1,270,59,1,1044,108,4,2,59,116,910,912,1,8711,97,59,1,916,114,59,3,55349,56583,4,2,97,102,927,998,4,2,99,109,933,992,114,105,116,105,99,97,108,4,4,65,68,71,84,950,957,978,985,99,117,116,101,59,1,180,111,4,2,116,117,964,967,59,1,729,98,108,101,65,99,117,116,101,59,1,733,114,97,118,101,59,1,96,105,108,100,101,59,1,732,111,110,100,59,1,8900,102,101,114,101,110,116,105,97,108,68,59,1,8518,4,4,112,116,117,119,1021,1026,1048,1249,102,59,3,55349,56635,4,3,59,68,69,1034,1036,1041,1,168,111,116,59,1,8412,113,117,97,108,59,1,8784,98,108,101,4,6,67,68,76,82,85,86,1065,1082,1101,1189,1211,1236,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8751,111,4,2,116,119,1089,1092,59,1,168,110,65,114,114,111,119,59,1,8659,4,2,101,111,1107,1141,102,116,4,3,65,82,84,1117,1124,1136,114,114,111,119,59,1,8656,105,103,104,116,65,114,114,111,119,59,1,8660,101,101,59,1,10980,110,103,4,2,76,82,1149,1177,101,102,116,4,2,65,82,1158,1165,114,114,111,119,59,1,10232,105,103,104,116,65,114,114,111,119,59,1,10234,105,103,104,116,65,114,114,111,119,59,1,10233,105,103,104,116,4,2,65,84,1199,1206,114,114,111,119,59,1,8658,101,101,59,1,8872,112,4,2,65,68,1218,1225,114,114,111,119,59,1,8657,111,119,110,65,114,114,111,119,59,1,8661,101,114,116,105,99,97,108,66,97,114,59,1,8741,110,4,6,65,66,76,82,84,97,1264,1292,1299,1352,1391,1408,114,114,111,119,4,3,59,66,85,1276,1278,1283,1,8595,97,114,59,1,10515,112,65,114,114,111,119,59,1,8693,114,101,118,101,59,1,785,101,102,116,4,3,82,84,86,1310,1323,1334,105,103,104,116,86,101,99,116,111,114,59,1,10576,101,101,86,101,99,116,111,114,59,1,10590,101,99,116,111,114,4,2,59,66,1345,1347,1,8637,97,114,59,1,10582,105,103,104,116,4,2,84,86,1362,1373,101,101,86,101,99,116,111,114,59,1,10591,101,99,116,111,114,4,2,59,66,1384,1386,1,8641,97,114,59,1,10583,101,101,4,2,59,65,1399,1401,1,8868,114,114,111,119,59,1,8615,114,114,111,119,59,1,8659,4,2,99,116,1421,1426,114,59,3,55349,56479,114,111,107,59,1,272,4,16,78,84,97,99,100,102,103,108,109,111,112,113,115,116,117,120,1466,1470,1478,1489,1515,1520,1525,1536,1544,1593,1609,1617,1650,1664,1668,1677,71,59,1,330,72,5,208,1,59,1476,1,208,99,117,116,101,5,201,1,59,1487,1,201,4,3,97,105,121,1497,1503,1512,114,111,110,59,1,282,114,99,5,202,1,59,1510,1,202,59,1,1069,111,116,59,1,278,114,59,3,55349,56584,114,97,118,101,5,200,1,59,1534,1,200,101,109,101,110,116,59,1,8712,4,2,97,112,1550,1555,99,114,59,1,274,116,121,4,2,83,86,1563,1576,109,97,108,108,83,113,117,97,114,101,59,1,9723,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9643,4,2,103,112,1599,1604,111,110,59,1,280,102,59,3,55349,56636,115,105,108,111,110,59,1,917,117,4,2,97,105,1624,1640,108,4,2,59,84,1631,1633,1,10869,105,108,100,101,59,1,8770,108,105,98,114,105,117,109,59,1,8652,4,2,99,105,1656,1660,114,59,1,8496,109,59,1,10867,97,59,1,919,109,108,5,203,1,59,1675,1,203,4,2,105,112,1683,1689,115,116,115,59,1,8707,111,110,101,110,116,105,97,108,69,59,1,8519,4,5,99,102,105,111,115,1713,1717,1722,1762,1791,121,59,1,1060,114,59,3,55349,56585,108,108,101,100,4,2,83,86,1732,1745,109,97,108,108,83,113,117,97,114,101,59,1,9724,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9642,4,3,112,114,117,1770,1775,1781,102,59,3,55349,56637,65,108,108,59,1,8704,114,105,101,114,116,114,102,59,1,8497,99,114,59,1,8497,4,12,74,84,97,98,99,100,102,103,111,114,115,116,1822,1827,1834,1848,1855,1877,1882,1887,1890,1896,1978,1984,99,121,59,1,1027,5,62,1,59,1832,1,62,109,109,97,4,2,59,100,1843,1845,1,915,59,1,988,114,101,118,101,59,1,286,4,3,101,105,121,1863,1869,1874,100,105,108,59,1,290,114,99,59,1,284,59,1,1043,111,116,59,1,288,114,59,3,55349,56586,59,1,8921,112,102,59,3,55349,56638,101,97,116,101,114,4,6,69,70,71,76,83,84,1915,1933,1944,1953,1959,1971,113,117,97,108,4,2,59,76,1925,1927,1,8805,101,115,115,59,1,8923,117,108,108,69,113,117,97,108,59,1,8807,114,101,97,116,101,114,59,1,10914,101,115,115,59,1,8823,108,97,110,116,69,113,117,97,108,59,1,10878,105,108,100,101,59,1,8819,99,114,59,3,55349,56482,59,1,8811,4,8,65,97,99,102,105,111,115,117,2005,2012,2026,2032,2036,2049,2073,2089,82,68,99,121,59,1,1066,4,2,99,116,2018,2023,101,107,59,1,711,59,1,94,105,114,99,59,1,292,114,59,1,8460,108,98,101,114,116,83,112,97,99,101,59,1,8459,4,2,112,114,2055,2059,102,59,1,8461,105,122,111,110,116,97,108,76,105,110,101,59,1,9472,4,2,99,116,2079,2083,114,59,1,8459,114,111,107,59,1,294,109,112,4,2,68,69,2097,2107,111,119,110,72,117,109,112,59,1,8782,113,117,97,108,59,1,8783,4,14,69,74,79,97,99,100,102,103,109,110,111,115,116,117,2144,2149,2155,2160,2171,2189,2194,2198,2209,2245,2307,2329,2334,2341,99,121,59,1,1045,108,105,103,59,1,306,99,121,59,1,1025,99,117,116,101,5,205,1,59,2169,1,205,4,2,105,121,2177,2186,114,99,5,206,1,59,2184,1,206,59,1,1048,111,116,59,1,304,114,59,1,8465,114,97,118,101,5,204,1,59,2207,1,204,4,3,59,97,112,2217,2219,2238,1,8465,4,2,99,103,2225,2229,114,59,1,298,105,110,97,114,121,73,59,1,8520,108,105,101,115,59,1,8658,4,2,116,118,2251,2281,4,2,59,101,2257,2259,1,8748,4,2,103,114,2265,2271,114,97,108,59,1,8747,115,101,99,116,105,111,110,59,1,8898,105,115,105,98,108,101,4,2,67,84,2293,2300,111,109,109,97,59,1,8291,105,109,101,115,59,1,8290,4,3,103,112,116,2315,2320,2325,111,110,59,1,302,102,59,3,55349,56640,97,59,1,921,99,114,59,1,8464,105,108,100,101,59,1,296,4,2,107,109,2347,2352,99,121,59,1,1030,108,5,207,1,59,2358,1,207,4,5,99,102,111,115,117,2372,2386,2391,2397,2414,4,2,105,121,2378,2383,114,99,59,1,308,59,1,1049,114,59,3,55349,56589,112,102,59,3,55349,56641,4,2,99,101,2403,2408,114,59,3,55349,56485,114,99,121,59,1,1032,107,99,121,59,1,1028,4,7,72,74,97,99,102,111,115,2436,2441,2446,2452,2467,2472,2478,99,121,59,1,1061,99,121,59,1,1036,112,112,97,59,1,922,4,2,101,121,2458,2464,100,105,108,59,1,310,59,1,1050,114,59,3,55349,56590,112,102,59,3,55349,56642,99,114,59,3,55349,56486,4,11,74,84,97,99,101,102,108,109,111,115,116,2508,2513,2520,2562,2585,2981,2986,3004,3011,3146,3167,99,121,59,1,1033,5,60,1,59,2518,1,60,4,5,99,109,110,112,114,2532,2538,2544,2548,2558,117,116,101,59,1,313,98,100,97,59,1,923,103,59,1,10218,108,97,99,101,116,114,102,59,1,8466,114,59,1,8606,4,3,97,101,121,2570,2576,2582,114,111,110,59,1,317,100,105,108,59,1,315,59,1,1051,4,2,102,115,2591,2907,116,4,10,65,67,68,70,82,84,85,86,97,114,2614,2663,2672,2728,2735,2760,2820,2870,2888,2895,4,2,110,114,2620,2633,103,108,101,66,114,97,99,107,101,116,59,1,10216,114,111,119,4,3,59,66,82,2644,2646,2651,1,8592,97,114,59,1,8676,105,103,104,116,65,114,114,111,119,59,1,8646,101,105,108,105,110,103,59,1,8968,111,4,2,117,119,2679,2692,98,108,101,66,114,97,99,107,101,116,59,1,10214,110,4,2,84,86,2699,2710,101,101,86,101,99,116,111,114,59,1,10593,101,99,116,111,114,4,2,59,66,2721,2723,1,8643,97,114,59,1,10585,108,111,111,114,59,1,8970,105,103,104,116,4,2,65,86,2745,2752,114,114,111,119,59,1,8596,101,99,116,111,114,59,1,10574,4,2,101,114,2766,2792,101,4,3,59,65,86,2775,2777,2784,1,8867,114,114,111,119,59,1,8612,101,99,116,111,114,59,1,10586,105,97,110,103,108,101,4,3,59,66,69,2806,2808,2813,1,8882,97,114,59,1,10703,113,117,97,108,59,1,8884,112,4,3,68,84,86,2829,2841,2852,111,119,110,86,101,99,116,111,114,59,1,10577,101,101,86,101,99,116,111,114,59,1,10592,101,99,116,111,114,4,2,59,66,2863,2865,1,8639,97,114,59,1,10584,101,99,116,111,114,4,2,59,66,2881,2883,1,8636,97,114,59,1,10578,114,114,111,119,59,1,8656,105,103,104,116,97,114,114,111,119,59,1,8660,115,4,6,69,70,71,76,83,84,2922,2936,2947,2956,2962,2974,113,117,97,108,71,114,101,97,116,101,114,59,1,8922,117,108,108,69,113,117,97,108,59,1,8806,114,101,97,116,101,114,59,1,8822,101,115,115,59,1,10913,108,97,110,116,69,113,117,97,108,59,1,10877,105,108,100,101,59,1,8818,114,59,3,55349,56591,4,2,59,101,2992,2994,1,8920,102,116,97,114,114,111,119,59,1,8666,105,100,111,116,59,1,319,4,3,110,112,119,3019,3110,3115,103,4,4,76,82,108,114,3030,3058,3070,3098,101,102,116,4,2,65,82,3039,3046,114,114,111,119,59,1,10229,105,103,104,116,65,114,114,111,119,59,1,10231,105,103,104,116,65,114,114,111,119,59,1,10230,101,102,116,4,2,97,114,3079,3086,114,114,111,119,59,1,10232,105,103,104,116,97,114,114,111,119,59,1,10234,105,103,104,116,97,114,114,111,119,59,1,10233,102,59,3,55349,56643,101,114,4,2,76,82,3123,3134,101,102,116,65,114,114,111,119,59,1,8601,105,103,104,116,65,114,114,111,119,59,1,8600,4,3,99,104,116,3154,3158,3161,114,59,1,8466,59,1,8624,114,111,107,59,1,321,59,1,8810,4,8,97,99,101,102,105,111,115,117,3188,3192,3196,3222,3227,3237,3243,3248,112,59,1,10501,121,59,1,1052,4,2,100,108,3202,3213,105,117,109,83,112,97,99,101,59,1,8287,108,105,110,116,114,102,59,1,8499,114,59,3,55349,56592,110,117,115,80,108,117,115,59,1,8723,112,102,59,3,55349,56644,99,114,59,1,8499,59,1,924,4,9,74,97,99,101,102,111,115,116,117,3271,3276,3283,3306,3422,3427,4120,4126,4137,99,121,59,1,1034,99,117,116,101,59,1,323,4,3,97,101,121,3291,3297,3303,114,111,110,59,1,327,100,105,108,59,1,325,59,1,1053,4,3,103,115,119,3314,3380,3415,97,116,105,118,101,4,3,77,84,86,3327,3340,3365,101,100,105,117,109,83,112,97,99,101,59,1,8203,104,105,4,2,99,110,3348,3357,107,83,112,97,99,101,59,1,8203,83,112,97,99,101,59,1,8203,101,114,121,84,104,105,110,83,112,97,99,101,59,1,8203,116,101,100,4,2,71,76,3389,3405,114,101,97,116,101,114,71,114,101,97,116,101,114,59,1,8811,101,115,115,76,101,115,115,59,1,8810,76,105,110,101,59,1,10,114,59,3,55349,56593,4,4,66,110,112,116,3437,3444,3460,3464,114,101,97,107,59,1,8288,66,114,101,97,107,105,110,103,83,112,97,99,101,59,1,160,102,59,1,8469,4,13,59,67,68,69,71,72,76,78,80,82,83,84,86,3492,3494,3517,3536,3578,3657,3685,3784,3823,3860,3915,4066,4107,1,10988,4,2,111,117,3500,3510,110,103,114,117,101,110,116,59,1,8802,112,67,97,112,59,1,8813,111,117,98,108,101,86,101,114,116,105,99,97,108,66,97,114,59,1,8742,4,3,108,113,120,3544,3552,3571,101,109,101,110,116,59,1,8713,117,97,108,4,2,59,84,3561,3563,1,8800,105,108,100,101,59,3,8770,824,105,115,116,115,59,1,8708,114,101,97,116,101,114,4,7,59,69,70,71,76,83,84,3600,3602,3609,3621,3631,3637,3650,1,8815,113,117,97,108,59,1,8817,117,108,108,69,113,117,97,108,59,3,8807,824,114,101,97,116,101,114,59,3,8811,824,101,115,115,59,1,8825,108,97,110,116,69,113,117,97,108,59,3,10878,824,105,108,100,101,59,1,8821,117,109,112,4,2,68,69,3666,3677,111,119,110,72,117,109,112,59,3,8782,824,113,117,97,108,59,3,8783,824,101,4,2,102,115,3692,3724,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3709,3711,3717,1,8938,97,114,59,3,10703,824,113,117,97,108,59,1,8940,115,4,6,59,69,71,76,83,84,3739,3741,3748,3757,3764,3777,1,8814,113,117,97,108,59,1,8816,114,101,97,116,101,114,59,1,8824,101,115,115,59,3,8810,824,108,97,110,116,69,113,117,97,108,59,3,10877,824,105,108,100,101,59,1,8820,101,115,116,101,100,4,2,71,76,3795,3812,114,101,97,116,101,114,71,114,101,97,116,101,114,59,3,10914,824,101,115,115,76,101,115,115,59,3,10913,824,114,101,99,101,100,101,115,4,3,59,69,83,3838,3840,3848,1,8832,113,117,97,108,59,3,10927,824,108,97,110,116,69,113,117,97,108,59,1,8928,4,2,101,105,3866,3881,118,101,114,115,101,69,108,101,109,101,110,116,59,1,8716,103,104,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3900,3902,3908,1,8939,97,114,59,3,10704,824,113,117,97,108,59,1,8941,4,2,113,117,3921,3973,117,97,114,101,83,117,4,2,98,112,3933,3952,115,101,116,4,2,59,69,3942,3945,3,8847,824,113,117,97,108,59,1,8930,101,114,115,101,116,4,2,59,69,3963,3966,3,8848,824,113,117,97,108,59,1,8931,4,3,98,99,112,3981,4e3,4045,115,101,116,4,2,59,69,3990,3993,3,8834,8402,113,117,97,108,59,1,8840,99,101,101,100,115,4,4,59,69,83,84,4015,4017,4025,4037,1,8833,113,117,97,108,59,3,10928,824,108,97,110,116,69,113,117,97,108,59,1,8929,105,108,100,101,59,3,8831,824,101,114,115,101,116,4,2,59,69,4056,4059,3,8835,8402,113,117,97,108,59,1,8841,105,108,100,101,4,4,59,69,70,84,4080,4082,4089,4100,1,8769,113,117,97,108,59,1,8772,117,108,108,69,113,117,97,108,59,1,8775,105,108,100,101,59,1,8777,101,114,116,105,99,97,108,66,97,114,59,1,8740,99,114,59,3,55349,56489,105,108,100,101,5,209,1,59,4135,1,209,59,1,925,4,14,69,97,99,100,102,103,109,111,112,114,115,116,117,118,4170,4176,4187,4205,4212,4217,4228,4253,4259,4292,4295,4316,4337,4346,108,105,103,59,1,338,99,117,116,101,5,211,1,59,4185,1,211,4,2,105,121,4193,4202,114,99,5,212,1,59,4200,1,212,59,1,1054,98,108,97,99,59,1,336,114,59,3,55349,56594,114,97,118,101,5,210,1,59,4226,1,210,4,3,97,101,105,4236,4241,4246,99,114,59,1,332,103,97,59,1,937,99,114,111,110,59,1,927,112,102,59,3,55349,56646,101,110,67,117,114,108,121,4,2,68,81,4272,4285,111,117,98,108,101,81,117,111,116,101,59,1,8220,117,111,116,101,59,1,8216,59,1,10836,4,2,99,108,4301,4306,114,59,3,55349,56490,97,115,104,5,216,1,59,4314,1,216,105,4,2,108,109,4323,4332,100,101,5,213,1,59,4330,1,213,101,115,59,1,10807,109,108,5,214,1,59,4344,1,214,101,114,4,2,66,80,4354,4380,4,2,97,114,4360,4364,114,59,1,8254,97,99,4,2,101,107,4372,4375,59,1,9182,101,116,59,1,9140,97,114,101,110,116,104,101,115,105,115,59,1,9180,4,9,97,99,102,104,105,108,111,114,115,4413,4422,4426,4431,4435,4438,4448,4471,4561,114,116,105,97,108,68,59,1,8706,121,59,1,1055,114,59,3,55349,56595,105,59,1,934,59,1,928,117,115,77,105,110,117,115,59,1,177,4,2,105,112,4454,4467,110,99,97,114,101,112,108,97,110,101,59,1,8460,102,59,1,8473,4,4,59,101,105,111,4481,4483,4526,4531,1,10939,99,101,100,101,115,4,4,59,69,83,84,4498,4500,4507,4519,1,8826,113,117,97,108,59,1,10927,108,97,110,116,69,113,117,97,108,59,1,8828,105,108,100,101,59,1,8830,109,101,59,1,8243,4,2,100,112,4537,4543,117,99,116,59,1,8719,111,114,116,105,111,110,4,2,59,97,4555,4557,1,8759,108,59,1,8733,4,2,99,105,4567,4572,114,59,3,55349,56491,59,1,936,4,4,85,102,111,115,4585,4594,4599,4604,79,84,5,34,1,59,4592,1,34,114,59,3,55349,56596,112,102,59,1,8474,99,114,59,3,55349,56492,4,12,66,69,97,99,101,102,104,105,111,114,115,117,4636,4642,4650,4681,4704,4763,4767,4771,5047,5069,5081,5094,97,114,114,59,1,10512,71,5,174,1,59,4648,1,174,4,3,99,110,114,4658,4664,4668,117,116,101,59,1,340,103,59,1,10219,114,4,2,59,116,4675,4677,1,8608,108,59,1,10518,4,3,97,101,121,4689,4695,4701,114,111,110,59,1,344,100,105,108,59,1,342,59,1,1056,4,2,59,118,4710,4712,1,8476,101,114,115,101,4,2,69,85,4722,4748,4,2,108,113,4728,4736,101,109,101,110,116,59,1,8715,117,105,108,105,98,114,105,117,109,59,1,8651,112,69,113,117,105,108,105,98,114,105,117,109,59,1,10607,114,59,1,8476,111,59,1,929,103,104,116,4,8,65,67,68,70,84,85,86,97,4792,4840,4849,4905,4912,4972,5022,5040,4,2,110,114,4798,4811,103,108,101,66,114,97,99,107,101,116,59,1,10217,114,111,119,4,3,59,66,76,4822,4824,4829,1,8594,97,114,59,1,8677,101,102,116,65,114,114,111,119,59,1,8644,101,105,108,105,110,103,59,1,8969,111,4,2,117,119,4856,4869,98,108,101,66,114,97,99,107,101,116,59,1,10215,110,4,2,84,86,4876,4887,101,101,86,101,99,116,111,114,59,1,10589,101,99,116,111,114,4,2,59,66,4898,4900,1,8642,97,114,59,1,10581,108,111,111,114,59,1,8971,4,2,101,114,4918,4944,101,4,3,59,65,86,4927,4929,4936,1,8866,114,114,111,119,59,1,8614,101,99,116,111,114,59,1,10587,105,97,110,103,108,101,4,3,59,66,69,4958,4960,4965,1,8883,97,114,59,1,10704,113,117,97,108,59,1,8885,112,4,3,68,84,86,4981,4993,5004,111,119,110,86,101,99,116,111,114,59,1,10575,101,101,86,101,99,116,111,114,59,1,10588,101,99,116,111,114,4,2,59,66,5015,5017,1,8638,97,114,59,1,10580,101,99,116,111,114,4,2,59,66,5033,5035,1,8640,97,114,59,1,10579,114,114,111,119,59,1,8658,4,2,112,117,5053,5057,102,59,1,8477,110,100,73,109,112,108,105,101,115,59,1,10608,105,103,104,116,97,114,114,111,119,59,1,8667,4,2,99,104,5087,5091,114,59,1,8475,59,1,8625,108,101,68,101,108,97,121,101,100,59,1,10740,4,13,72,79,97,99,102,104,105,109,111,113,115,116,117,5134,5150,5157,5164,5198,5203,5259,5265,5277,5283,5374,5380,5385,4,2,67,99,5140,5146,72,99,121,59,1,1065,121,59,1,1064,70,84,99,121,59,1,1068,99,117,116,101,59,1,346,4,5,59,97,101,105,121,5176,5178,5184,5190,5195,1,10940,114,111,110,59,1,352,100,105,108,59,1,350,114,99,59,1,348,59,1,1057,114,59,3,55349,56598,111,114,116,4,4,68,76,82,85,5216,5227,5238,5250,111,119,110,65,114,114,111,119,59,1,8595,101,102,116,65,114,114,111,119,59,1,8592,105,103,104,116,65,114,114,111,119,59,1,8594,112,65,114,114,111,119,59,1,8593,103,109,97,59,1,931,97,108,108,67,105,114,99,108,101,59,1,8728,112,102,59,3,55349,56650,4,2,114,117,5289,5293,116,59,1,8730,97,114,101,4,4,59,73,83,85,5306,5308,5322,5367,1,9633,110,116,101,114,115,101,99,116,105,111,110,59,1,8851,117,4,2,98,112,5329,5347,115,101,116,4,2,59,69,5338,5340,1,8847,113,117,97,108,59,1,8849,101,114,115,101,116,4,2,59,69,5358,5360,1,8848,113,117,97,108,59,1,8850,110,105,111,110,59,1,8852,99,114,59,3,55349,56494,97,114,59,1,8902,4,4,98,99,109,112,5395,5420,5475,5478,4,2,59,115,5401,5403,1,8912,101,116,4,2,59,69,5411,5413,1,8912,113,117,97,108,59,1,8838,4,2,99,104,5426,5468,101,101,100,115,4,4,59,69,83,84,5440,5442,5449,5461,1,8827,113,117,97,108,59,1,10928,108,97,110,116,69,113,117,97,108,59,1,8829,105,108,100,101,59,1,8831,84,104,97,116,59,1,8715,59,1,8721,4,3,59,101,115,5486,5488,5507,1,8913,114,115,101,116,4,2,59,69,5498,5500,1,8835,113,117,97,108,59,1,8839,101,116,59,1,8913,4,11,72,82,83,97,99,102,104,105,111,114,115,5536,5546,5552,5567,5579,5602,5607,5655,5695,5701,5711,79,82,78,5,222,1,59,5544,1,222,65,68,69,59,1,8482,4,2,72,99,5558,5563,99,121,59,1,1035,121,59,1,1062,4,2,98,117,5573,5576,59,1,9,59,1,932,4,3,97,101,121,5587,5593,5599,114,111,110,59,1,356,100,105,108,59,1,354,59,1,1058,114,59,3,55349,56599,4,2,101,105,5613,5631,4,2,114,116,5619,5627,101,102,111,114,101,59,1,8756,97,59,1,920,4,2,99,110,5637,5647,107,83,112,97,99,101,59,3,8287,8202,83,112,97,99,101,59,1,8201,108,100,101,4,4,59,69,70,84,5668,5670,5677,5688,1,8764,113,117,97,108,59,1,8771,117,108,108,69,113,117,97,108,59,1,8773,105,108,100,101,59,1,8776,112,102,59,3,55349,56651,105,112,108,101,68,111,116,59,1,8411,4,2,99,116,5717,5722,114,59,3,55349,56495,114,111,107,59,1,358,4,14,97,98,99,100,102,103,109,110,111,112,114,115,116,117,5758,5789,5805,5823,5830,5835,5846,5852,5921,5937,6089,6095,6101,6108,4,2,99,114,5764,5774,117,116,101,5,218,1,59,5772,1,218,114,4,2,59,111,5781,5783,1,8607,99,105,114,59,1,10569,114,4,2,99,101,5796,5800,121,59,1,1038,118,101,59,1,364,4,2,105,121,5811,5820,114,99,5,219,1,59,5818,1,219,59,1,1059,98,108,97,99,59,1,368,114,59,3,55349,56600,114,97,118,101,5,217,1,59,5844,1,217,97,99,114,59,1,362,4,2,100,105,5858,5905,101,114,4,2,66,80,5866,5892,4,2,97,114,5872,5876,114,59,1,95,97,99,4,2,101,107,5884,5887,59,1,9183,101,116,59,1,9141,97,114,101,110,116,104,101,115,105,115,59,1,9181,111,110,4,2,59,80,5913,5915,1,8899,108,117,115,59,1,8846,4,2,103,112,5927,5932,111,110,59,1,370,102,59,3,55349,56652,4,8,65,68,69,84,97,100,112,115,5955,5985,5996,6009,6026,6033,6044,6075,114,114,111,119,4,3,59,66,68,5967,5969,5974,1,8593,97,114,59,1,10514,111,119,110,65,114,114,111,119,59,1,8645,111,119,110,65,114,114,111,119,59,1,8597,113,117,105,108,105,98,114,105,117,109,59,1,10606,101,101,4,2,59,65,6017,6019,1,8869,114,114,111,119,59,1,8613,114,114,111,119,59,1,8657,111,119,110,97,114,114,111,119,59,1,8661,101,114,4,2,76,82,6052,6063,101,102,116,65,114,114,111,119,59,1,8598,105,103,104,116,65,114,114,111,119,59,1,8599,105,4,2,59,108,6082,6084,1,978,111,110,59,1,933,105,110,103,59,1,366,99,114,59,3,55349,56496,105,108,100,101,59,1,360,109,108,5,220,1,59,6115,1,220,4,9,68,98,99,100,101,102,111,115,118,6137,6143,6148,6152,6166,6250,6255,6261,6267,97,115,104,59,1,8875,97,114,59,1,10987,121,59,1,1042,97,115,104,4,2,59,108,6161,6163,1,8873,59,1,10982,4,2,101,114,6172,6175,59,1,8897,4,3,98,116,121,6183,6188,6238,97,114,59,1,8214,4,2,59,105,6194,6196,1,8214,99,97,108,4,4,66,76,83,84,6209,6214,6220,6231,97,114,59,1,8739,105,110,101,59,1,124,101,112,97,114,97,116,111,114,59,1,10072,105,108,100,101,59,1,8768,84,104,105,110,83,112,97,99,101,59,1,8202,114,59,3,55349,56601,112,102,59,3,55349,56653,99,114,59,3,55349,56497,100,97,115,104,59,1,8874,4,5,99,101,102,111,115,6286,6292,6298,6303,6309,105,114,99,59,1,372,100,103,101,59,1,8896,114,59,3,55349,56602,112,102,59,3,55349,56654,99,114,59,3,55349,56498,4,4,102,105,111,115,6325,6330,6333,6339,114,59,3,55349,56603,59,1,926,112,102,59,3,55349,56655,99,114,59,3,55349,56499,4,9,65,73,85,97,99,102,111,115,117,6365,6370,6375,6380,6391,6405,6410,6416,6422,99,121,59,1,1071,99,121,59,1,1031,99,121,59,1,1070,99,117,116,101,5,221,1,59,6389,1,221,4,2,105,121,6397,6402,114,99,59,1,374,59,1,1067,114,59,3,55349,56604,112,102,59,3,55349,56656,99,114,59,3,55349,56500,109,108,59,1,376,4,8,72,97,99,100,101,102,111,115,6445,6450,6457,6472,6477,6501,6505,6510,99,121,59,1,1046,99,117,116,101,59,1,377,4,2,97,121,6463,6469,114,111,110,59,1,381,59,1,1047,111,116,59,1,379,4,2,114,116,6483,6497,111,87,105,100,116,104,83,112,97,99,101,59,1,8203,97,59,1,918,114,59,1,8488,112,102,59,1,8484,99,114,59,3,55349,56501,4,16,97,98,99,101,102,103,108,109,110,111,112,114,115,116,117,119,6550,6561,6568,6612,6622,6634,6645,6672,6699,6854,6870,6923,6933,6963,6974,6983,99,117,116,101,5,225,1,59,6559,1,225,114,101,118,101,59,1,259,4,6,59,69,100,105,117,121,6582,6584,6588,6591,6600,6609,1,8766,59,3,8766,819,59,1,8767,114,99,5,226,1,59,6598,1,226,116,101,5,180,1,59,6607,1,180,59,1,1072,108,105,103,5,230,1,59,6620,1,230,4,2,59,114,6628,6630,1,8289,59,3,55349,56606,114,97,118,101,5,224,1,59,6643,1,224,4,2,101,112,6651,6667,4,2,102,112,6657,6663,115,121,109,59,1,8501,104,59,1,8501,104,97,59,1,945,4,2,97,112,6678,6692,4,2,99,108,6684,6688,114,59,1,257,103,59,1,10815,5,38,1,59,6697,1,38,4,2,100,103,6705,6737,4,5,59,97,100,115,118,6717,6719,6724,6727,6734,1,8743,110,100,59,1,10837,59,1,10844,108,111,112,101,59,1,10840,59,1,10842,4,7,59,101,108,109,114,115,122,6753,6755,6758,6762,6814,6835,6848,1,8736,59,1,10660,101,59,1,8736,115,100,4,2,59,97,6770,6772,1,8737,4,8,97,98,99,100,101,102,103,104,6790,6793,6796,6799,6802,6805,6808,6811,59,1,10664,59,1,10665,59,1,10666,59,1,10667,59,1,10668,59,1,10669,59,1,10670,59,1,10671,116,4,2,59,118,6821,6823,1,8735,98,4,2,59,100,6830,6832,1,8894,59,1,10653,4,2,112,116,6841,6845,104,59,1,8738,59,1,197,97,114,114,59,1,9084,4,2,103,112,6860,6865,111,110,59,1,261,102,59,3,55349,56658,4,7,59,69,97,101,105,111,112,6886,6888,6891,6897,6900,6904,6908,1,8776,59,1,10864,99,105,114,59,1,10863,59,1,8778,100,59,1,8779,115,59,1,39,114,111,120,4,2,59,101,6917,6919,1,8776,113,59,1,8778,105,110,103,5,229,1,59,6931,1,229,4,3,99,116,121,6941,6946,6949,114,59,3,55349,56502,59,1,42,109,112,4,2,59,101,6957,6959,1,8776,113,59,1,8781,105,108,100,101,5,227,1,59,6972,1,227,109,108,5,228,1,59,6981,1,228,4,2,99,105,6989,6997,111,110,105,110,116,59,1,8755,110,116,59,1,10769,4,16,78,97,98,99,100,101,102,105,107,108,110,111,112,114,115,117,7036,7041,7119,7135,7149,7155,7219,7224,7347,7354,7463,7489,7786,7793,7814,7866,111,116,59,1,10989,4,2,99,114,7047,7094,107,4,4,99,101,112,115,7058,7064,7073,7080,111,110,103,59,1,8780,112,115,105,108,111,110,59,1,1014,114,105,109,101,59,1,8245,105,109,4,2,59,101,7088,7090,1,8765,113,59,1,8909,4,2,118,119,7100,7105,101,101,59,1,8893,101,100,4,2,59,103,7113,7115,1,8965,101,59,1,8965,114,107,4,2,59,116,7127,7129,1,9141,98,114,107,59,1,9142,4,2,111,121,7141,7146,110,103,59,1,8780,59,1,1073,113,117,111,59,1,8222,4,5,99,109,112,114,116,7167,7181,7188,7193,7199,97,117,115,4,2,59,101,7176,7178,1,8757,59,1,8757,112,116,121,118,59,1,10672,115,105,59,1,1014,110,111,117,59,1,8492,4,3,97,104,119,7207,7210,7213,59,1,946,59,1,8502,101,101,110,59,1,8812,114,59,3,55349,56607,103,4,7,99,111,115,116,117,118,119,7241,7262,7288,7305,7328,7335,7340,4,3,97,105,117,7249,7253,7258,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,4,3,100,112,116,7270,7275,7281,111,116,59,1,10752,108,117,115,59,1,10753,105,109,101,115,59,1,10754,4,2,113,116,7294,7300,99,117,112,59,1,10758,97,114,59,1,9733,114,105,97,110,103,108,101,4,2,100,117,7318,7324,111,119,110,59,1,9661,112,59,1,9651,112,108,117,115,59,1,10756,101,101,59,1,8897,101,100,103,101,59,1,8896,97,114,111,119,59,1,10509,4,3,97,107,111,7362,7436,7458,4,2,99,110,7368,7432,107,4,3,108,115,116,7377,7386,7394,111,122,101,110,103,101,59,1,10731,113,117,97,114,101,59,1,9642,114,105,97,110,103,108,101,4,4,59,100,108,114,7411,7413,7419,7425,1,9652,111,119,110,59,1,9662,101,102,116,59,1,9666,105,103,104,116,59,1,9656,107,59,1,9251,4,2,49,51,7442,7454,4,2,50,52,7448,7451,59,1,9618,59,1,9617,52,59,1,9619,99,107,59,1,9608,4,2,101,111,7469,7485,4,2,59,113,7475,7478,3,61,8421,117,105,118,59,3,8801,8421,116,59,1,8976,4,4,112,116,119,120,7499,7504,7517,7523,102,59,3,55349,56659,4,2,59,116,7510,7512,1,8869,111,109,59,1,8869,116,105,101,59,1,8904,4,12,68,72,85,86,98,100,104,109,112,116,117,118,7549,7571,7597,7619,7655,7660,7682,7708,7715,7721,7728,7750,4,4,76,82,108,114,7559,7562,7565,7568,59,1,9559,59,1,9556,59,1,9558,59,1,9555,4,5,59,68,85,100,117,7583,7585,7588,7591,7594,1,9552,59,1,9574,59,1,9577,59,1,9572,59,1,9575,4,4,76,82,108,114,7607,7610,7613,7616,59,1,9565,59,1,9562,59,1,9564,59,1,9561,4,7,59,72,76,82,104,108,114,7635,7637,7640,7643,7646,7649,7652,1,9553,59,1,9580,59,1,9571,59,1,9568,59,1,9579,59,1,9570,59,1,9567,111,120,59,1,10697,4,4,76,82,108,114,7670,7673,7676,7679,59,1,9557,59,1,9554,59,1,9488,59,1,9484,4,5,59,68,85,100,117,7694,7696,7699,7702,7705,1,9472,59,1,9573,59,1,9576,59,1,9516,59,1,9524,105,110,117,115,59,1,8863,108,117,115,59,1,8862,105,109,101,115,59,1,8864,4,4,76,82,108,114,7738,7741,7744,7747,59,1,9563,59,1,9560,59,1,9496,59,1,9492,4,7,59,72,76,82,104,108,114,7766,7768,7771,7774,7777,7780,7783,1,9474,59,1,9578,59,1,9569,59,1,9566,59,1,9532,59,1,9508,59,1,9500,114,105,109,101,59,1,8245,4,2,101,118,7799,7804,118,101,59,1,728,98,97,114,5,166,1,59,7812,1,166,4,4,99,101,105,111,7824,7829,7834,7846,114,59,3,55349,56503,109,105,59,1,8271,109,4,2,59,101,7841,7843,1,8765,59,1,8909,108,4,3,59,98,104,7855,7857,7860,1,92,59,1,10693,115,117,98,59,1,10184,4,2,108,109,7872,7885,108,4,2,59,101,7879,7881,1,8226,116,59,1,8226,112,4,3,59,69,101,7894,7896,7899,1,8782,59,1,10926,4,2,59,113,7905,7907,1,8783,59,1,8783,4,15,97,99,100,101,102,104,105,108,111,114,115,116,117,119,121,7942,8021,8075,8080,8121,8126,8157,8279,8295,8430,8446,8485,8491,8707,8726,4,3,99,112,114,7950,7956,8007,117,116,101,59,1,263,4,6,59,97,98,99,100,115,7970,7972,7977,7984,7998,8003,1,8745,110,100,59,1,10820,114,99,117,112,59,1,10825,4,2,97,117,7990,7994,112,59,1,10827,112,59,1,10823,111,116,59,1,10816,59,3,8745,65024,4,2,101,111,8013,8017,116,59,1,8257,110,59,1,711,4,4,97,101,105,117,8031,8046,8056,8061,4,2,112,114,8037,8041,115,59,1,10829,111,110,59,1,269,100,105,108,5,231,1,59,8054,1,231,114,99,59,1,265,112,115,4,2,59,115,8069,8071,1,10828,109,59,1,10832,111,116,59,1,267,4,3,100,109,110,8088,8097,8104,105,108,5,184,1,59,8095,1,184,112,116,121,118,59,1,10674,116,5,162,2,59,101,8112,8114,1,162,114,100,111,116,59,1,183,114,59,3,55349,56608,4,3,99,101,105,8134,8138,8154,121,59,1,1095,99,107,4,2,59,109,8146,8148,1,10003,97,114,107,59,1,10003,59,1,967,114,4,7,59,69,99,101,102,109,115,8174,8176,8179,8258,8261,8268,8273,1,9675,59,1,10691,4,3,59,101,108,8187,8189,8193,1,710,113,59,1,8791,101,4,2,97,100,8200,8223,114,114,111,119,4,2,108,114,8210,8216,101,102,116,59,1,8634,105,103,104,116,59,1,8635,4,5,82,83,97,99,100,8235,8238,8241,8246,8252,59,1,174,59,1,9416,115,116,59,1,8859,105,114,99,59,1,8858,97,115,104,59,1,8861,59,1,8791,110,105,110,116,59,1,10768,105,100,59,1,10991,99,105,114,59,1,10690,117,98,115,4,2,59,117,8288,8290,1,9827,105,116,59,1,9827,4,4,108,109,110,112,8305,8326,8376,8400,111,110,4,2,59,101,8313,8315,1,58,4,2,59,113,8321,8323,1,8788,59,1,8788,4,2,109,112,8332,8344,97,4,2,59,116,8339,8341,1,44,59,1,64,4,3,59,102,108,8352,8354,8358,1,8705,110,59,1,8728,101,4,2,109,120,8365,8371,101,110,116,59,1,8705,101,115,59,1,8450,4,2,103,105,8382,8395,4,2,59,100,8388,8390,1,8773,111,116,59,1,10861,110,116,59,1,8750,4,3,102,114,121,8408,8412,8417,59,3,55349,56660,111,100,59,1,8720,5,169,2,59,115,8424,8426,1,169,114,59,1,8471,4,2,97,111,8436,8441,114,114,59,1,8629,115,115,59,1,10007,4,2,99,117,8452,8457,114,59,3,55349,56504,4,2,98,112,8463,8474,4,2,59,101,8469,8471,1,10959,59,1,10961,4,2,59,101,8480,8482,1,10960,59,1,10962,100,111,116,59,1,8943,4,7,100,101,108,112,114,118,119,8507,8522,8536,8550,8600,8697,8702,97,114,114,4,2,108,114,8516,8519,59,1,10552,59,1,10549,4,2,112,115,8528,8532,114,59,1,8926,99,59,1,8927,97,114,114,4,2,59,112,8545,8547,1,8630,59,1,10557,4,6,59,98,99,100,111,115,8564,8566,8573,8587,8592,8596,1,8746,114,99,97,112,59,1,10824,4,2,97,117,8579,8583,112,59,1,10822,112,59,1,10826,111,116,59,1,8845,114,59,1,10821,59,3,8746,65024,4,4,97,108,114,118,8610,8623,8663,8672,114,114,4,2,59,109,8618,8620,1,8631,59,1,10556,121,4,3,101,118,119,8632,8651,8656,113,4,2,112,115,8639,8645,114,101,99,59,1,8926,117,99,99,59,1,8927,101,101,59,1,8910,101,100,103,101,59,1,8911,101,110,5,164,1,59,8670,1,164,101,97,114,114,111,119,4,2,108,114,8684,8690,101,102,116,59,1,8630,105,103,104,116,59,1,8631,101,101,59,1,8910,101,100,59,1,8911,4,2,99,105,8713,8721,111,110,105,110,116,59,1,8754,110,116,59,1,8753,108,99,116,121,59,1,9005,4,19,65,72,97,98,99,100,101,102,104,105,106,108,111,114,115,116,117,119,122,8773,8778,8783,8821,8839,8854,8887,8914,8930,8944,9036,9041,9058,9197,9227,9258,9281,9297,9305,114,114,59,1,8659,97,114,59,1,10597,4,4,103,108,114,115,8793,8799,8805,8809,103,101,114,59,1,8224,101,116,104,59,1,8504,114,59,1,8595,104,4,2,59,118,8816,8818,1,8208,59,1,8867,4,2,107,108,8827,8834,97,114,111,119,59,1,10511,97,99,59,1,733,4,2,97,121,8845,8851,114,111,110,59,1,271,59,1,1076,4,3,59,97,111,8862,8864,8880,1,8518,4,2,103,114,8870,8876,103,101,114,59,1,8225,114,59,1,8650,116,115,101,113,59,1,10871,4,3,103,108,109,8895,8902,8907,5,176,1,59,8900,1,176,116,97,59,1,948,112,116,121,118,59,1,10673,4,2,105,114,8920,8926,115,104,116,59,1,10623,59,3,55349,56609,97,114,4,2,108,114,8938,8941,59,1,8643,59,1,8642,4,5,97,101,103,115,118,8956,8986,8989,8996,9001,109,4,3,59,111,115,8965,8967,8983,1,8900,110,100,4,2,59,115,8975,8977,1,8900,117,105,116,59,1,9830,59,1,9830,59,1,168,97,109,109,97,59,1,989,105,110,59,1,8946,4,3,59,105,111,9009,9011,9031,1,247,100,101,5,247,2,59,111,9020,9022,1,247,110,116,105,109,101,115,59,1,8903,110,120,59,1,8903,99,121,59,1,1106,99,4,2,111,114,9048,9053,114,110,59,1,8990,111,112,59,1,8973,4,5,108,112,116,117,119,9070,9076,9081,9130,9144,108,97,114,59,1,36,102,59,3,55349,56661,4,5,59,101,109,112,115,9093,9095,9109,9116,9122,1,729,113,4,2,59,100,9102,9104,1,8784,111,116,59,1,8785,105,110,117,115,59,1,8760,108,117,115,59,1,8724,113,117,97,114,101,59,1,8865,98,108,101,98,97,114,119,101,100,103,101,59,1,8966,110,4,3,97,100,104,9153,9160,9172,114,114,111,119,59,1,8595,111,119,110,97,114,114,111,119,115,59,1,8650,97,114,112,111,111,110,4,2,108,114,9184,9190,101,102,116,59,1,8643,105,103,104,116,59,1,8642,4,2,98,99,9203,9211,107,97,114,111,119,59,1,10512,4,2,111,114,9217,9222,114,110,59,1,8991,111,112,59,1,8972,4,3,99,111,116,9235,9248,9252,4,2,114,121,9241,9245,59,3,55349,56505,59,1,1109,108,59,1,10742,114,111,107,59,1,273,4,2,100,114,9264,9269,111,116,59,1,8945,105,4,2,59,102,9276,9278,1,9663,59,1,9662,4,2,97,104,9287,9292,114,114,59,1,8693,97,114,59,1,10607,97,110,103,108,101,59,1,10662,4,2,99,105,9311,9315,121,59,1,1119,103,114,97,114,114,59,1,10239,4,18,68,97,99,100,101,102,103,108,109,110,111,112,113,114,115,116,117,120,9361,9376,9398,9439,9444,9447,9462,9495,9531,9585,9598,9614,9659,9755,9771,9792,9808,9826,4,2,68,111,9367,9372,111,116,59,1,10871,116,59,1,8785,4,2,99,115,9382,9392,117,116,101,5,233,1,59,9390,1,233,116,101,114,59,1,10862,4,4,97,105,111,121,9408,9414,9430,9436,114,111,110,59,1,283,114,4,2,59,99,9421,9423,1,8790,5,234,1,59,9428,1,234,108,111,110,59,1,8789,59,1,1101,111,116,59,1,279,59,1,8519,4,2,68,114,9453,9458,111,116,59,1,8786,59,3,55349,56610,4,3,59,114,115,9470,9472,9482,1,10906,97,118,101,5,232,1,59,9480,1,232,4,2,59,100,9488,9490,1,10902,111,116,59,1,10904,4,4,59,105,108,115,9505,9507,9515,9518,1,10905,110,116,101,114,115,59,1,9191,59,1,8467,4,2,59,100,9524,9526,1,10901,111,116,59,1,10903,4,3,97,112,115,9539,9544,9564,99,114,59,1,275,116,121,4,3,59,115,118,9554,9556,9561,1,8709,101,116,59,1,8709,59,1,8709,112,4,2,49,59,9571,9583,4,2,51,52,9577,9580,59,1,8196,59,1,8197,1,8195,4,2,103,115,9591,9594,59,1,331,112,59,1,8194,4,2,103,112,9604,9609,111,110,59,1,281,102,59,3,55349,56662,4,3,97,108,115,9622,9635,9640,114,4,2,59,115,9629,9631,1,8917,108,59,1,10723,117,115,59,1,10865,105,4,3,59,108,118,9649,9651,9656,1,949,111,110,59,1,949,59,1,1013,4,4,99,115,117,118,9669,9686,9716,9747,4,2,105,111,9675,9680,114,99,59,1,8790,108,111,110,59,1,8789,4,2,105,108,9692,9696,109,59,1,8770,97,110,116,4,2,103,108,9705,9710,116,114,59,1,10902,101,115,115,59,1,10901,4,3,97,101,105,9724,9729,9734,108,115,59,1,61,115,116,59,1,8799,118,4,2,59,68,9741,9743,1,8801,68,59,1,10872,112,97,114,115,108,59,1,10725,4,2,68,97,9761,9766,111,116,59,1,8787,114,114,59,1,10609,4,3,99,100,105,9779,9783,9788,114,59,1,8495,111,116,59,1,8784,109,59,1,8770,4,2,97,104,9798,9801,59,1,951,5,240,1,59,9806,1,240,4,2,109,114,9814,9822,108,5,235,1,59,9820,1,235,111,59,1,8364,4,3,99,105,112,9834,9838,9843,108,59,1,33,115,116,59,1,8707,4,2,101,111,9849,9859,99,116,97,116,105,111,110,59,1,8496,110,101,110,116,105,97,108,101,59,1,8519,4,12,97,99,101,102,105,106,108,110,111,112,114,115,9896,9910,9914,9921,9954,9960,9967,9989,9994,10027,10036,10164,108,108,105,110,103,100,111,116,115,101,113,59,1,8786,121,59,1,1092,109,97,108,101,59,1,9792,4,3,105,108,114,9929,9935,9950,108,105,103,59,1,64259,4,2,105,108,9941,9945,103,59,1,64256,105,103,59,1,64260,59,3,55349,56611,108,105,103,59,1,64257,108,105,103,59,3,102,106,4,3,97,108,116,9975,9979,9984,116,59,1,9837,105,103,59,1,64258,110,115,59,1,9649,111,102,59,1,402,4,2,112,114,1e4,10005,102,59,3,55349,56663,4,2,97,107,10011,10016,108,108,59,1,8704,4,2,59,118,10022,10024,1,8916,59,1,10969,97,114,116,105,110,116,59,1,10765,4,2,97,111,10042,10159,4,2,99,115,10048,10155,4,6,49,50,51,52,53,55,10062,10102,10114,10135,10139,10151,4,6,50,51,52,53,54,56,10076,10083,10086,10093,10096,10099,5,189,1,59,10081,1,189,59,1,8531,5,188,1,59,10091,1,188,59,1,8533,59,1,8537,59,1,8539,4,2,51,53,10108,10111,59,1,8532,59,1,8534,4,3,52,53,56,10122,10129,10132,5,190,1,59,10127,1,190,59,1,8535,59,1,8540,53,59,1,8536,4,2,54,56,10145,10148,59,1,8538,59,1,8541,56,59,1,8542,108,59,1,8260,119,110,59,1,8994,99,114,59,3,55349,56507,4,17,69,97,98,99,100,101,102,103,105,106,108,110,111,114,115,116,118,10206,10217,10247,10254,10268,10273,10358,10363,10374,10380,10385,10406,10458,10464,10470,10497,10610,4,2,59,108,10212,10214,1,8807,59,1,10892,4,3,99,109,112,10225,10231,10244,117,116,101,59,1,501,109,97,4,2,59,100,10239,10241,1,947,59,1,989,59,1,10886,114,101,118,101,59,1,287,4,2,105,121,10260,10265,114,99,59,1,285,59,1,1075,111,116,59,1,289,4,4,59,108,113,115,10283,10285,10288,10308,1,8805,59,1,8923,4,3,59,113,115,10296,10298,10301,1,8805,59,1,8807,108,97,110,116,59,1,10878,4,4,59,99,100,108,10318,10320,10324,10345,1,10878,99,59,1,10921,111,116,4,2,59,111,10332,10334,1,10880,4,2,59,108,10340,10342,1,10882,59,1,10884,4,2,59,101,10351,10354,3,8923,65024,115,59,1,10900,114,59,3,55349,56612,4,2,59,103,10369,10371,1,8811,59,1,8921,109,101,108,59,1,8503,99,121,59,1,1107,4,4,59,69,97,106,10395,10397,10400,10403,1,8823,59,1,10898,59,1,10917,59,1,10916,4,4,69,97,101,115,10416,10419,10434,10453,59,1,8809,112,4,2,59,112,10426,10428,1,10890,114,111,120,59,1,10890,4,2,59,113,10440,10442,1,10888,4,2,59,113,10448,10450,1,10888,59,1,8809,105,109,59,1,8935,112,102,59,3,55349,56664,97,118,101,59,1,96,4,2,99,105,10476,10480,114,59,1,8458,109,4,3,59,101,108,10489,10491,10494,1,8819,59,1,10894,59,1,10896,5,62,6,59,99,100,108,113,114,10512,10514,10527,10532,10538,10545,1,62,4,2,99,105,10520,10523,59,1,10919,114,59,1,10874,111,116,59,1,8919,80,97,114,59,1,10645,117,101,115,116,59,1,10876,4,5,97,100,101,108,115,10557,10574,10579,10599,10605,4,2,112,114,10563,10570,112,114,111,120,59,1,10886,114,59,1,10616,111,116,59,1,8919,113,4,2,108,113,10586,10592,101,115,115,59,1,8923,108,101,115,115,59,1,10892,101,115,115,59,1,8823,105,109,59,1,8819,4,2,101,110,10616,10626,114,116,110,101,113,113,59,3,8809,65024,69,59,3,8809,65024,4,10,65,97,98,99,101,102,107,111,115,121,10653,10658,10713,10718,10724,10760,10765,10786,10850,10875,114,114,59,1,8660,4,4,105,108,109,114,10668,10674,10678,10684,114,115,112,59,1,8202,102,59,1,189,105,108,116,59,1,8459,4,2,100,114,10690,10695,99,121,59,1,1098,4,3,59,99,119,10703,10705,10710,1,8596,105,114,59,1,10568,59,1,8621,97,114,59,1,8463,105,114,99,59,1,293,4,3,97,108,114,10732,10748,10754,114,116,115,4,2,59,117,10741,10743,1,9829,105,116,59,1,9829,108,105,112,59,1,8230,99,111,110,59,1,8889,114,59,3,55349,56613,115,4,2,101,119,10772,10779,97,114,111,119,59,1,10533,97,114,111,119,59,1,10534,4,5,97,109,111,112,114,10798,10803,10809,10839,10844,114,114,59,1,8703,116,104,116,59,1,8763,107,4,2,108,114,10816,10827,101,102,116,97,114,114,111,119,59,1,8617,105,103,104,116,97,114,114,111,119,59,1,8618,102,59,3,55349,56665,98,97,114,59,1,8213,4,3,99,108,116,10858,10863,10869,114,59,3,55349,56509,97,115,104,59,1,8463,114,111,107,59,1,295,4,2,98,112,10881,10887,117,108,108,59,1,8259,104,101,110,59,1,8208,4,15,97,99,101,102,103,105,106,109,110,111,112,113,115,116,117,10925,10936,10958,10977,10990,11001,11039,11045,11101,11192,11220,11226,11237,11285,11299,99,117,116,101,5,237,1,59,10934,1,237,4,3,59,105,121,10944,10946,10955,1,8291,114,99,5,238,1,59,10953,1,238,59,1,1080,4,2,99,120,10964,10968,121,59,1,1077,99,108,5,161,1,59,10975,1,161,4,2,102,114,10983,10986,59,1,8660,59,3,55349,56614,114,97,118,101,5,236,1,59,10999,1,236,4,4,59,105,110,111,11011,11013,11028,11034,1,8520,4,2,105,110,11019,11024,110,116,59,1,10764,116,59,1,8749,102,105,110,59,1,10716,116,97,59,1,8489,108,105,103,59,1,307,4,3,97,111,112,11053,11092,11096,4,3,99,103,116,11061,11065,11088,114,59,1,299,4,3,101,108,112,11073,11076,11082,59,1,8465,105,110,101,59,1,8464,97,114,116,59,1,8465,104,59,1,305,102,59,1,8887,101,100,59,1,437,4,5,59,99,102,111,116,11113,11115,11121,11136,11142,1,8712,97,114,101,59,1,8453,105,110,4,2,59,116,11129,11131,1,8734,105,101,59,1,10717,100,111,116,59,1,305,4,5,59,99,101,108,112,11154,11156,11161,11179,11186,1,8747,97,108,59,1,8890,4,2,103,114,11167,11173,101,114,115,59,1,8484,99,97,108,59,1,8890,97,114,104,107,59,1,10775,114,111,100,59,1,10812,4,4,99,103,112,116,11202,11206,11211,11216,121,59,1,1105,111,110,59,1,303,102,59,3,55349,56666,97,59,1,953,114,111,100,59,1,10812,117,101,115,116,5,191,1,59,11235,1,191,4,2,99,105,11243,11248,114,59,3,55349,56510,110,4,5,59,69,100,115,118,11261,11263,11266,11271,11282,1,8712,59,1,8953,111,116,59,1,8949,4,2,59,118,11277,11279,1,8948,59,1,8947,59,1,8712,4,2,59,105,11291,11293,1,8290,108,100,101,59,1,297,4,2,107,109,11305,11310,99,121,59,1,1110,108,5,239,1,59,11316,1,239,4,6,99,102,109,111,115,117,11332,11346,11351,11357,11363,11380,4,2,105,121,11338,11343,114,99,59,1,309,59,1,1081,114,59,3,55349,56615,97,116,104,59,1,567,112,102,59,3,55349,56667,4,2,99,101,11369,11374,114,59,3,55349,56511,114,99,121,59,1,1112,107,99,121,59,1,1108,4,8,97,99,102,103,104,106,111,115,11404,11418,11433,11438,11445,11450,11455,11461,112,112,97,4,2,59,118,11413,11415,1,954,59,1,1008,4,2,101,121,11424,11430,100,105,108,59,1,311,59,1,1082,114,59,3,55349,56616,114,101,101,110,59,1,312,99,121,59,1,1093,99,121,59,1,1116,112,102,59,3,55349,56668,99,114,59,3,55349,56512,4,23,65,66,69,72,97,98,99,100,101,102,103,104,106,108,109,110,111,112,114,115,116,117,118,11515,11538,11544,11555,11560,11721,11780,11818,11868,12136,12160,12171,12203,12208,12246,12275,12327,12509,12523,12569,12641,12732,12752,4,3,97,114,116,11523,11528,11532,114,114,59,1,8666,114,59,1,8656,97,105,108,59,1,10523,97,114,114,59,1,10510,4,2,59,103,11550,11552,1,8806,59,1,10891,97,114,59,1,10594,4,9,99,101,103,109,110,112,113,114,116,11580,11586,11594,11600,11606,11624,11627,11636,11694,117,116,101,59,1,314,109,112,116,121,118,59,1,10676,114,97,110,59,1,8466,98,100,97,59,1,955,103,4,3,59,100,108,11615,11617,11620,1,10216,59,1,10641,101,59,1,10216,59,1,10885,117,111,5,171,1,59,11634,1,171,114,4,8,59,98,102,104,108,112,115,116,11655,11657,11669,11673,11677,11681,11685,11690,1,8592,4,2,59,102,11663,11665,1,8676,115,59,1,10527,115,59,1,10525,107,59,1,8617,112,59,1,8619,108,59,1,10553,105,109,59,1,10611,108,59,1,8610,4,3,59,97,101,11702,11704,11709,1,10923,105,108,59,1,10521,4,2,59,115,11715,11717,1,10925,59,3,10925,65024,4,3,97,98,114,11729,11734,11739,114,114,59,1,10508,114,107,59,1,10098,4,2,97,107,11745,11758,99,4,2,101,107,11752,11755,59,1,123,59,1,91,4,2,101,115,11764,11767,59,1,10635,108,4,2,100,117,11774,11777,59,1,10639,59,1,10637,4,4,97,101,117,121,11790,11796,11811,11815,114,111,110,59,1,318,4,2,100,105,11802,11807,105,108,59,1,316,108,59,1,8968,98,59,1,123,59,1,1083,4,4,99,113,114,115,11828,11832,11845,11864,97,59,1,10550,117,111,4,2,59,114,11840,11842,1,8220,59,1,8222,4,2,100,117,11851,11857,104,97,114,59,1,10599,115,104,97,114,59,1,10571,104,59,1,8626,4,5,59,102,103,113,115,11880,11882,12008,12011,12031,1,8804,116,4,5,97,104,108,114,116,11895,11913,11935,11947,11996,114,114,111,119,4,2,59,116,11905,11907,1,8592,97,105,108,59,1,8610,97,114,112,111,111,110,4,2,100,117,11925,11931,111,119,110,59,1,8637,112,59,1,8636,101,102,116,97,114,114,111,119,115,59,1,8647,105,103,104,116,4,3,97,104,115,11959,11974,11984,114,114,111,119,4,2,59,115,11969,11971,1,8596,59,1,8646,97,114,112,111,111,110,115,59,1,8651,113,117,105,103,97,114,114,111,119,59,1,8621,104,114,101,101,116,105,109,101,115,59,1,8907,59,1,8922,4,3,59,113,115,12019,12021,12024,1,8804,59,1,8806,108,97,110,116,59,1,10877,4,5,59,99,100,103,115,12043,12045,12049,12070,12083,1,10877,99,59,1,10920,111,116,4,2,59,111,12057,12059,1,10879,4,2,59,114,12065,12067,1,10881,59,1,10883,4,2,59,101,12076,12079,3,8922,65024,115,59,1,10899,4,5,97,100,101,103,115,12095,12103,12108,12126,12131,112,112,114,111,120,59,1,10885,111,116,59,1,8918,113,4,2,103,113,12115,12120,116,114,59,1,8922,103,116,114,59,1,10891,116,114,59,1,8822,105,109,59,1,8818,4,3,105,108,114,12144,12150,12156,115,104,116,59,1,10620,111,111,114,59,1,8970,59,3,55349,56617,4,2,59,69,12166,12168,1,8822,59,1,10897,4,2,97,98,12177,12198,114,4,2,100,117,12184,12187,59,1,8637,4,2,59,108,12193,12195,1,8636,59,1,10602,108,107,59,1,9604,99,121,59,1,1113,4,5,59,97,99,104,116,12220,12222,12227,12235,12241,1,8810,114,114,59,1,8647,111,114,110,101,114,59,1,8990,97,114,100,59,1,10603,114,105,59,1,9722,4,2,105,111,12252,12258,100,111,116,59,1,320,117,115,116,4,2,59,97,12267,12269,1,9136,99,104,101,59,1,9136,4,4,69,97,101,115,12285,12288,12303,12322,59,1,8808,112,4,2,59,112,12295,12297,1,10889,114,111,120,59,1,10889,4,2,59,113,12309,12311,1,10887,4,2,59,113,12317,12319,1,10887,59,1,8808,105,109,59,1,8934,4,8,97,98,110,111,112,116,119,122,12345,12359,12364,12421,12446,12467,12474,12490,4,2,110,114,12351,12355,103,59,1,10220,114,59,1,8701,114,107,59,1,10214,103,4,3,108,109,114,12373,12401,12409,101,102,116,4,2,97,114,12382,12389,114,114,111,119,59,1,10229,105,103,104,116,97,114,114,111,119,59,1,10231,97,112,115,116,111,59,1,10236,105,103,104,116,97,114,114,111,119,59,1,10230,112,97,114,114,111,119,4,2,108,114,12433,12439,101,102,116,59,1,8619,105,103,104,116,59,1,8620,4,3,97,102,108,12454,12458,12462,114,59,1,10629,59,3,55349,56669,117,115,59,1,10797,105,109,101,115,59,1,10804,4,2,97,98,12480,12485,115,116,59,1,8727,97,114,59,1,95,4,3,59,101,102,12498,12500,12506,1,9674,110,103,101,59,1,9674,59,1,10731,97,114,4,2,59,108,12517,12519,1,40,116,59,1,10643,4,5,97,99,104,109,116,12535,12540,12548,12561,12564,114,114,59,1,8646,111,114,110,101,114,59,1,8991,97,114,4,2,59,100,12556,12558,1,8651,59,1,10605,59,1,8206,114,105,59,1,8895,4,6,97,99,104,105,113,116,12583,12589,12594,12597,12614,12635,113,117,111,59,1,8249,114,59,3,55349,56513,59,1,8624,109,4,3,59,101,103,12606,12608,12611,1,8818,59,1,10893,59,1,10895,4,2,98,117,12620,12623,59,1,91,111,4,2,59,114,12630,12632,1,8216,59,1,8218,114,111,107,59,1,322,5,60,8,59,99,100,104,105,108,113,114,12660,12662,12675,12680,12686,12692,12698,12705,1,60,4,2,99,105,12668,12671,59,1,10918,114,59,1,10873,111,116,59,1,8918,114,101,101,59,1,8907,109,101,115,59,1,8905,97,114,114,59,1,10614,117,101,115,116,59,1,10875,4,2,80,105,12711,12716,97,114,59,1,10646,4,3,59,101,102,12724,12726,12729,1,9667,59,1,8884,59,1,9666,114,4,2,100,117,12739,12746,115,104,97,114,59,1,10570,104,97,114,59,1,10598,4,2,101,110,12758,12768,114,116,110,101,113,113,59,3,8808,65024,69,59,3,8808,65024,4,14,68,97,99,100,101,102,104,105,108,110,111,112,115,117,12803,12809,12893,12908,12914,12928,12933,12937,13011,13025,13032,13049,13052,13069,68,111,116,59,1,8762,4,4,99,108,112,114,12819,12827,12849,12887,114,5,175,1,59,12825,1,175,4,2,101,116,12833,12836,59,1,9794,4,2,59,101,12842,12844,1,10016,115,101,59,1,10016,4,2,59,115,12855,12857,1,8614,116,111,4,4,59,100,108,117,12869,12871,12877,12883,1,8614,111,119,110,59,1,8615,101,102,116,59,1,8612,112,59,1,8613,107,101,114,59,1,9646,4,2,111,121,12899,12905,109,109,97,59,1,10793,59,1,1084,97,115,104,59,1,8212,97,115,117,114,101,100,97,110,103,108,101,59,1,8737,114,59,3,55349,56618,111,59,1,8487,4,3,99,100,110,12945,12954,12985,114,111,5,181,1,59,12952,1,181,4,4,59,97,99,100,12964,12966,12971,12976,1,8739,115,116,59,1,42,105,114,59,1,10992,111,116,5,183,1,59,12983,1,183,117,115,4,3,59,98,100,12995,12997,13e3,1,8722,59,1,8863,4,2,59,117,13006,13008,1,8760,59,1,10794,4,2,99,100,13017,13021,112,59,1,10971,114,59,1,8230,112,108,117,115,59,1,8723,4,2,100,112,13038,13044,101,108,115,59,1,8871,102,59,3,55349,56670,59,1,8723,4,2,99,116,13058,13063,114,59,3,55349,56514,112,111,115,59,1,8766,4,3,59,108,109,13077,13079,13087,1,956,116,105,109,97,112,59,1,8888,97,112,59,1,8888,4,24,71,76,82,86,97,98,99,100,101,102,103,104,105,106,108,109,111,112,114,115,116,117,118,119,13142,13165,13217,13229,13247,13330,13359,13414,13420,13508,13513,13579,13602,13626,13631,13762,13767,13855,13936,13995,14214,14285,14312,14432,4,2,103,116,13148,13152,59,3,8921,824,4,2,59,118,13158,13161,3,8811,8402,59,3,8811,824,4,3,101,108,116,13173,13200,13204,102,116,4,2,97,114,13181,13188,114,114,111,119,59,1,8653,105,103,104,116,97,114,114,111,119,59,1,8654,59,3,8920,824,4,2,59,118,13210,13213,3,8810,8402,59,3,8810,824,105,103,104,116,97,114,114,111,119,59,1,8655,4,2,68,100,13235,13241,97,115,104,59,1,8879,97,115,104,59,1,8878,4,5,98,99,110,112,116,13259,13264,13270,13275,13308,108,97,59,1,8711,117,116,101,59,1,324,103,59,3,8736,8402,4,5,59,69,105,111,112,13287,13289,13293,13298,13302,1,8777,59,3,10864,824,100,59,3,8779,824,115,59,1,329,114,111,120,59,1,8777,117,114,4,2,59,97,13316,13318,1,9838,108,4,2,59,115,13325,13327,1,9838,59,1,8469,4,2,115,117,13336,13344,112,5,160,1,59,13342,1,160,109,112,4,2,59,101,13352,13355,3,8782,824,59,3,8783,824,4,5,97,101,111,117,121,13371,13385,13391,13407,13411,4,2,112,114,13377,13380,59,1,10819,111,110,59,1,328,100,105,108,59,1,326,110,103,4,2,59,100,13399,13401,1,8775,111,116,59,3,10861,824,112,59,1,10818,59,1,1085,97,115,104,59,1,8211,4,7,59,65,97,100,113,115,120,13436,13438,13443,13466,13472,13478,13494,1,8800,114,114,59,1,8663,114,4,2,104,114,13450,13454,107,59,1,10532,4,2,59,111,13460,13462,1,8599,119,59,1,8599,111,116,59,3,8784,824,117,105,118,59,1,8802,4,2,101,105,13484,13489,97,114,59,1,10536,109,59,3,8770,824,105,115,116,4,2,59,115,13503,13505,1,8708,59,1,8708,114,59,3,55349,56619,4,4,69,101,115,116,13523,13527,13563,13568,59,3,8807,824,4,3,59,113,115,13535,13537,13559,1,8817,4,3,59,113,115,13545,13547,13551,1,8817,59,3,8807,824,108,97,110,116,59,3,10878,824,59,3,10878,824,105,109,59,1,8821,4,2,59,114,13574,13576,1,8815,59,1,8815,4,3,65,97,112,13587,13592,13597,114,114,59,1,8654,114,114,59,1,8622,97,114,59,1,10994,4,3,59,115,118,13610,13612,13623,1,8715,4,2,59,100,13618,13620,1,8956,59,1,8954,59,1,8715,99,121,59,1,1114,4,7,65,69,97,100,101,115,116,13647,13652,13656,13661,13665,13737,13742,114,114,59,1,8653,59,3,8806,824,114,114,59,1,8602,114,59,1,8229,4,4,59,102,113,115,13675,13677,13703,13725,1,8816,116,4,2,97,114,13684,13691,114,114,111,119,59,1,8602,105,103,104,116,97,114,114,111,119,59,1,8622,4,3,59,113,115,13711,13713,13717,1,8816,59,3,8806,824,108,97,110,116,59,3,10877,824,4,2,59,115,13731,13734,3,10877,824,59,1,8814,105,109,59,1,8820,4,2,59,114,13748,13750,1,8814,105,4,2,59,101,13757,13759,1,8938,59,1,8940,105,100,59,1,8740,4,2,112,116,13773,13778,102,59,3,55349,56671,5,172,3,59,105,110,13787,13789,13829,1,172,110,4,4,59,69,100,118,13800,13802,13806,13812,1,8713,59,3,8953,824,111,116,59,3,8949,824,4,3,97,98,99,13820,13823,13826,59,1,8713,59,1,8951,59,1,8950,105,4,2,59,118,13836,13838,1,8716,4,3,97,98,99,13846,13849,13852,59,1,8716,59,1,8958,59,1,8957,4,3,97,111,114,13863,13892,13899,114,4,4,59,97,115,116,13874,13876,13883,13888,1,8742,108,108,101,108,59,1,8742,108,59,3,11005,8421,59,3,8706,824,108,105,110,116,59,1,10772,4,3,59,99,101,13907,13909,13914,1,8832,117,101,59,1,8928,4,2,59,99,13920,13923,3,10927,824,4,2,59,101,13929,13931,1,8832,113,59,3,10927,824,4,4,65,97,105,116,13946,13951,13971,13982,114,114,59,1,8655,114,114,4,3,59,99,119,13961,13963,13967,1,8603,59,3,10547,824,59,3,8605,824,103,104,116,97,114,114,111,119,59,1,8603,114,105,4,2,59,101,13990,13992,1,8939,59,1,8941,4,7,99,104,105,109,112,113,117,14011,14036,14060,14080,14085,14090,14106,4,4,59,99,101,114,14021,14023,14028,14032,1,8833,117,101,59,1,8929,59,3,10928,824,59,3,55349,56515,111,114,116,4,2,109,112,14045,14050,105,100,59,1,8740,97,114,97,108,108,101,108,59,1,8742,109,4,2,59,101,14067,14069,1,8769,4,2,59,113,14075,14077,1,8772,59,1,8772,105,100,59,1,8740,97,114,59,1,8742,115,117,4,2,98,112,14098,14102,101,59,1,8930,101,59,1,8931,4,3,98,99,112,14114,14157,14171,4,4,59,69,101,115,14124,14126,14130,14133,1,8836,59,3,10949,824,59,1,8840,101,116,4,2,59,101,14141,14144,3,8834,8402,113,4,2,59,113,14151,14153,1,8840,59,3,10949,824,99,4,2,59,101,14164,14166,1,8833,113,59,3,10928,824,4,4,59,69,101,115,14181,14183,14187,14190,1,8837,59,3,10950,824,59,1,8841,101,116,4,2,59,101,14198,14201,3,8835,8402,113,4,2,59,113,14208,14210,1,8841,59,3,10950,824,4,4,103,105,108,114,14224,14228,14238,14242,108,59,1,8825,108,100,101,5,241,1,59,14236,1,241,103,59,1,8824,105,97,110,103,108,101,4,2,108,114,14254,14269,101,102,116,4,2,59,101,14263,14265,1,8938,113,59,1,8940,105,103,104,116,4,2,59,101,14279,14281,1,8939,113,59,1,8941,4,2,59,109,14291,14293,1,957,4,3,59,101,115,14301,14303,14308,1,35,114,111,59,1,8470,112,59,1,8199,4,9,68,72,97,100,103,105,108,114,115,14332,14338,14344,14349,14355,14369,14376,14408,14426,97,115,104,59,1,8877,97,114,114,59,1,10500,112,59,3,8781,8402,97,115,104,59,1,8876,4,2,101,116,14361,14365,59,3,8805,8402,59,3,62,8402,110,102,105,110,59,1,10718,4,3,65,101,116,14384,14389,14393,114,114,59,1,10498,59,3,8804,8402,4,2,59,114,14399,14402,3,60,8402,105,101,59,3,8884,8402,4,2,65,116,14414,14419,114,114,59,1,10499,114,105,101,59,3,8885,8402,105,109,59,3,8764,8402,4,3,65,97,110,14440,14445,14468,114,114,59,1,8662,114,4,2,104,114,14452,14456,107,59,1,10531,4,2,59,111,14462,14464,1,8598,119,59,1,8598,101,97,114,59,1,10535,4,18,83,97,99,100,101,102,103,104,105,108,109,111,112,114,115,116,117,118,14512,14515,14535,14560,14597,14603,14618,14643,14657,14662,14701,14741,14747,14769,14851,14877,14907,14916,59,1,9416,4,2,99,115,14521,14531,117,116,101,5,243,1,59,14529,1,243,116,59,1,8859,4,2,105,121,14541,14557,114,4,2,59,99,14548,14550,1,8858,5,244,1,59,14555,1,244,59,1,1086,4,5,97,98,105,111,115,14572,14577,14583,14587,14591,115,104,59,1,8861,108,97,99,59,1,337,118,59,1,10808,116,59,1,8857,111,108,100,59,1,10684,108,105,103,59,1,339,4,2,99,114,14609,14614,105,114,59,1,10687,59,3,55349,56620,4,3,111,114,116,14626,14630,14640,110,59,1,731,97,118,101,5,242,1,59,14638,1,242,59,1,10689,4,2,98,109,14649,14654,97,114,59,1,10677,59,1,937,110,116,59,1,8750,4,4,97,99,105,116,14672,14677,14693,14698,114,114,59,1,8634,4,2,105,114,14683,14687,114,59,1,10686,111,115,115,59,1,10683,110,101,59,1,8254,59,1,10688,4,3,97,101,105,14709,14714,14719,99,114,59,1,333,103,97,59,1,969,4,3,99,100,110,14727,14733,14736,114,111,110,59,1,959,59,1,10678,117,115,59,1,8854,112,102,59,3,55349,56672,4,3,97,101,108,14755,14759,14764,114,59,1,10679,114,112,59,1,10681,117,115,59,1,8853,4,7,59,97,100,105,111,115,118,14785,14787,14792,14831,14837,14841,14848,1,8744,114,114,59,1,8635,4,4,59,101,102,109,14802,14804,14817,14824,1,10845,114,4,2,59,111,14811,14813,1,8500,102,59,1,8500,5,170,1,59,14822,1,170,5,186,1,59,14829,1,186,103,111,102,59,1,8886,114,59,1,10838,108,111,112,101,59,1,10839,59,1,10843,4,3,99,108,111,14859,14863,14873,114,59,1,8500,97,115,104,5,248,1,59,14871,1,248,108,59,1,8856,105,4,2,108,109,14884,14893,100,101,5,245,1,59,14891,1,245,101,115,4,2,59,97,14901,14903,1,8855,115,59,1,10806,109,108,5,246,1,59,14914,1,246,98,97,114,59,1,9021,4,12,97,99,101,102,104,105,108,109,111,114,115,117,14948,14992,14996,15033,15038,15068,15090,15189,15192,15222,15427,15441,114,4,4,59,97,115,116,14959,14961,14976,14989,1,8741,5,182,2,59,108,14968,14970,1,182,108,101,108,59,1,8741,4,2,105,108,14982,14986,109,59,1,10995,59,1,11005,59,1,8706,121,59,1,1087,114,4,5,99,105,109,112,116,15009,15014,15019,15024,15027,110,116,59,1,37,111,100,59,1,46,105,108,59,1,8240,59,1,8869,101,110,107,59,1,8241,114,59,3,55349,56621,4,3,105,109,111,15046,15057,15063,4,2,59,118,15052,15054,1,966,59,1,981,109,97,116,59,1,8499,110,101,59,1,9742,4,3,59,116,118,15076,15078,15087,1,960,99,104,102,111,114,107,59,1,8916,59,1,982,4,2,97,117,15096,15119,110,4,2,99,107,15103,15115,107,4,2,59,104,15110,15112,1,8463,59,1,8462,118,59,1,8463,115,4,9,59,97,98,99,100,101,109,115,116,15140,15142,15148,15151,15156,15168,15171,15179,15184,1,43,99,105,114,59,1,10787,59,1,8862,105,114,59,1,10786,4,2,111,117,15162,15165,59,1,8724,59,1,10789,59,1,10866,110,5,177,1,59,15177,1,177,105,109,59,1,10790,119,111,59,1,10791,59,1,177,4,3,105,112,117,15200,15208,15213,110,116,105,110,116,59,1,10773,102,59,3,55349,56673,110,100,5,163,1,59,15220,1,163,4,10,59,69,97,99,101,105,110,111,115,117,15244,15246,15249,15253,15258,15334,15347,15367,15416,15421,1,8826,59,1,10931,112,59,1,10935,117,101,59,1,8828,4,2,59,99,15264,15266,1,10927,4,6,59,97,99,101,110,115,15280,15282,15290,15299,15303,15329,1,8826,112,112,114,111,120,59,1,10935,117,114,108,121,101,113,59,1,8828,113,59,1,10927,4,3,97,101,115,15311,15319,15324,112,112,114,111,120,59,1,10937,113,113,59,1,10933,105,109,59,1,8936,105,109,59,1,8830,109,101,4,2,59,115,15342,15344,1,8242,59,1,8473,4,3,69,97,115,15355,15358,15362,59,1,10933,112,59,1,10937,105,109,59,1,8936,4,3,100,102,112,15375,15378,15404,59,1,8719,4,3,97,108,115,15386,15392,15398,108,97,114,59,1,9006,105,110,101,59,1,8978,117,114,102,59,1,8979,4,2,59,116,15410,15412,1,8733,111,59,1,8733,105,109,59,1,8830,114,101,108,59,1,8880,4,2,99,105,15433,15438,114,59,3,55349,56517,59,1,968,110,99,115,112,59,1,8200,4,6,102,105,111,112,115,117,15462,15467,15472,15478,15485,15491,114,59,3,55349,56622,110,116,59,1,10764,112,102,59,3,55349,56674,114,105,109,101,59,1,8279,99,114,59,3,55349,56518,4,3,97,101,111,15499,15520,15534,116,4,2,101,105,15506,15515,114,110,105,111,110,115,59,1,8461,110,116,59,1,10774,115,116,4,2,59,101,15528,15530,1,63,113,59,1,8799,116,5,34,1,59,15540,1,34,4,21,65,66,72,97,98,99,100,101,102,104,105,108,109,110,111,112,114,115,116,117,120,15586,15609,15615,15620,15796,15855,15893,15931,15977,16001,16039,16183,16204,16222,16228,16285,16312,16318,16363,16408,16416,4,3,97,114,116,15594,15599,15603,114,114,59,1,8667,114,59,1,8658,97,105,108,59,1,10524,97,114,114,59,1,10511,97,114,59,1,10596,4,7,99,100,101,110,113,114,116,15636,15651,15656,15664,15687,15696,15770,4,2,101,117,15642,15646,59,3,8765,817,116,101,59,1,341,105,99,59,1,8730,109,112,116,121,118,59,1,10675,103,4,4,59,100,101,108,15675,15677,15680,15683,1,10217,59,1,10642,59,1,10661,101,59,1,10217,117,111,5,187,1,59,15694,1,187,114,4,11,59,97,98,99,102,104,108,112,115,116,119,15721,15723,15727,15739,15742,15746,15750,15754,15758,15763,15767,1,8594,112,59,1,10613,4,2,59,102,15733,15735,1,8677,115,59,1,10528,59,1,10547,115,59,1,10526,107,59,1,8618,112,59,1,8620,108,59,1,10565,105,109,59,1,10612,108,59,1,8611,59,1,8605,4,2,97,105,15776,15781,105,108,59,1,10522,111,4,2,59,110,15788,15790,1,8758,97,108,115,59,1,8474,4,3,97,98,114,15804,15809,15814,114,114,59,1,10509,114,107,59,1,10099,4,2,97,107,15820,15833,99,4,2,101,107,15827,15830,59,1,125,59,1,93,4,2,101,115,15839,15842,59,1,10636,108,4,2,100,117,15849,15852,59,1,10638,59,1,10640,4,4,97,101,117,121,15865,15871,15886,15890,114,111,110,59,1,345,4,2,100,105,15877,15882,105,108,59,1,343,108,59,1,8969,98,59,1,125,59,1,1088,4,4,99,108,113,115,15903,15907,15914,15927,97,59,1,10551,100,104,97,114,59,1,10601,117,111,4,2,59,114,15922,15924,1,8221,59,1,8221,104,59,1,8627,4,3,97,99,103,15939,15966,15970,108,4,4,59,105,112,115,15950,15952,15957,15963,1,8476,110,101,59,1,8475,97,114,116,59,1,8476,59,1,8477,116,59,1,9645,5,174,1,59,15975,1,174,4,3,105,108,114,15985,15991,15997,115,104,116,59,1,10621,111,111,114,59,1,8971,59,3,55349,56623,4,2,97,111,16007,16028,114,4,2,100,117,16014,16017,59,1,8641,4,2,59,108,16023,16025,1,8640,59,1,10604,4,2,59,118,16034,16036,1,961,59,1,1009,4,3,103,110,115,16047,16167,16171,104,116,4,6,97,104,108,114,115,116,16063,16081,16103,16130,16143,16155,114,114,111,119,4,2,59,116,16073,16075,1,8594,97,105,108,59,1,8611,97,114,112,111,111,110,4,2,100,117,16093,16099,111,119,110,59,1,8641,112,59,1,8640,101,102,116,4,2,97,104,16112,16120,114,114,111,119,115,59,1,8644,97,114,112,111,111,110,115,59,1,8652,105,103,104,116,97,114,114,111,119,115,59,1,8649,113,117,105,103,97,114,114,111,119,59,1,8605,104,114,101,101,116,105,109,101,115,59,1,8908,103,59,1,730,105,110,103,100,111,116,115,101,113,59,1,8787,4,3,97,104,109,16191,16196,16201,114,114,59,1,8644,97,114,59,1,8652,59,1,8207,111,117,115,116,4,2,59,97,16214,16216,1,9137,99,104,101,59,1,9137,109,105,100,59,1,10990,4,4,97,98,112,116,16238,16252,16257,16278,4,2,110,114,16244,16248,103,59,1,10221,114,59,1,8702,114,107,59,1,10215,4,3,97,102,108,16265,16269,16273,114,59,1,10630,59,3,55349,56675,117,115,59,1,10798,105,109,101,115,59,1,10805,4,2,97,112,16291,16304,114,4,2,59,103,16298,16300,1,41,116,59,1,10644,111,108,105,110,116,59,1,10770,97,114,114,59,1,8649,4,4,97,99,104,113,16328,16334,16339,16342,113,117,111,59,1,8250,114,59,3,55349,56519,59,1,8625,4,2,98,117,16348,16351,59,1,93,111,4,2,59,114,16358,16360,1,8217,59,1,8217,4,3,104,105,114,16371,16377,16383,114,101,101,59,1,8908,109,101,115,59,1,8906,105,4,4,59,101,102,108,16394,16396,16399,16402,1,9657,59,1,8885,59,1,9656,116,114,105,59,1,10702,108,117,104,97,114,59,1,10600,59,1,8478,4,19,97,98,99,100,101,102,104,105,108,109,111,112,113,114,115,116,117,119,122,16459,16466,16472,16572,16590,16672,16687,16746,16844,16850,16924,16963,16988,17115,17121,17154,17206,17614,17656,99,117,116,101,59,1,347,113,117,111,59,1,8218,4,10,59,69,97,99,101,105,110,112,115,121,16494,16496,16499,16513,16518,16531,16536,16556,16564,16569,1,8827,59,1,10932,4,2,112,114,16505,16508,59,1,10936,111,110,59,1,353,117,101,59,1,8829,4,2,59,100,16524,16526,1,10928,105,108,59,1,351,114,99,59,1,349,4,3,69,97,115,16544,16547,16551,59,1,10934,112,59,1,10938,105,109,59,1,8937,111,108,105,110,116,59,1,10771,105,109,59,1,8831,59,1,1089,111,116,4,3,59,98,101,16582,16584,16587,1,8901,59,1,8865,59,1,10854,4,7,65,97,99,109,115,116,120,16606,16611,16634,16642,16646,16652,16668,114,114,59,1,8664,114,4,2,104,114,16618,16622,107,59,1,10533,4,2,59,111,16628,16630,1,8600,119,59,1,8600,116,5,167,1,59,16640,1,167,105,59,1,59,119,97,114,59,1,10537,109,4,2,105,110,16659,16665,110,117,115,59,1,8726,59,1,8726,116,59,1,10038,114,4,2,59,111,16679,16682,3,55349,56624,119,110,59,1,8994,4,4,97,99,111,121,16697,16702,16716,16739,114,112,59,1,9839,4,2,104,121,16708,16713,99,121,59,1,1097,59,1,1096,114,116,4,2,109,112,16724,16729,105,100,59,1,8739,97,114,97,108,108,101,108,59,1,8741,5,173,1,59,16744,1,173,4,2,103,109,16752,16770,109,97,4,3,59,102,118,16762,16764,16767,1,963,59,1,962,59,1,962,4,8,59,100,101,103,108,110,112,114,16788,16790,16795,16806,16817,16828,16832,16838,1,8764,111,116,59,1,10858,4,2,59,113,16801,16803,1,8771,59,1,8771,4,2,59,69,16812,16814,1,10910,59,1,10912,4,2,59,69,16823,16825,1,10909,59,1,10911,101,59,1,8774,108,117,115,59,1,10788,97,114,114,59,1,10610,97,114,114,59,1,8592,4,4,97,101,105,116,16860,16883,16891,16904,4,2,108,115,16866,16878,108,115,101,116,109,105,110,117,115,59,1,8726,104,112,59,1,10803,112,97,114,115,108,59,1,10724,4,2,100,108,16897,16900,59,1,8739,101,59,1,8995,4,2,59,101,16910,16912,1,10922,4,2,59,115,16918,16920,1,10924,59,3,10924,65024,4,3,102,108,112,16932,16938,16958,116,99,121,59,1,1100,4,2,59,98,16944,16946,1,47,4,2,59,97,16952,16954,1,10692,114,59,1,9023,102,59,3,55349,56676,97,4,2,100,114,16970,16985,101,115,4,2,59,117,16978,16980,1,9824,105,116,59,1,9824,59,1,8741,4,3,99,115,117,16996,17028,17089,4,2,97,117,17002,17015,112,4,2,59,115,17009,17011,1,8851,59,3,8851,65024,112,4,2,59,115,17022,17024,1,8852,59,3,8852,65024,117,4,2,98,112,17035,17062,4,3,59,101,115,17043,17045,17048,1,8847,59,1,8849,101,116,4,2,59,101,17056,17058,1,8847,113,59,1,8849,4,3,59,101,115,17070,17072,17075,1,8848,59,1,8850,101,116,4,2,59,101,17083,17085,1,8848,113,59,1,8850,4,3,59,97,102,17097,17099,17112,1,9633,114,4,2,101,102,17106,17109,59,1,9633,59,1,9642,59,1,9642,97,114,114,59,1,8594,4,4,99,101,109,116,17131,17136,17142,17148,114,59,3,55349,56520,116,109,110,59,1,8726,105,108,101,59,1,8995,97,114,102,59,1,8902,4,2,97,114,17160,17172,114,4,2,59,102,17167,17169,1,9734,59,1,9733,4,2,97,110,17178,17202,105,103,104,116,4,2,101,112,17188,17197,112,115,105,108,111,110,59,1,1013,104,105,59,1,981,115,59,1,175,4,5,98,99,109,110,112,17218,17351,17420,17423,17427,4,9,59,69,100,101,109,110,112,114,115,17238,17240,17243,17248,17261,17267,17279,17285,17291,1,8834,59,1,10949,111,116,59,1,10941,4,2,59,100,17254,17256,1,8838,111,116,59,1,10947,117,108,116,59,1,10945,4,2,69,101,17273,17276,59,1,10955,59,1,8842,108,117,115,59,1,10943,97,114,114,59,1,10617,4,3,101,105,117,17299,17335,17339,116,4,3,59,101,110,17308,17310,17322,1,8834,113,4,2,59,113,17317,17319,1,8838,59,1,10949,101,113,4,2,59,113,17330,17332,1,8842,59,1,10955,109,59,1,10951,4,2,98,112,17345,17348,59,1,10965,59,1,10963,99,4,6,59,97,99,101,110,115,17366,17368,17376,17385,17389,17415,1,8827,112,112,114,111,120,59,1,10936,117,114,108,121,101,113,59,1,8829,113,59,1,10928,4,3,97,101,115,17397,17405,17410,112,112,114,111,120,59,1,10938,113,113,59,1,10934,105,109,59,1,8937,105,109,59,1,8831,59,1,8721,103,59,1,9834,4,13,49,50,51,59,69,100,101,104,108,109,110,112,115,17455,17462,17469,17476,17478,17481,17496,17509,17524,17530,17536,17548,17554,5,185,1,59,17460,1,185,5,178,1,59,17467,1,178,5,179,1,59,17474,1,179,1,8835,59,1,10950,4,2,111,115,17487,17491,116,59,1,10942,117,98,59,1,10968,4,2,59,100,17502,17504,1,8839,111,116,59,1,10948,115,4,2,111,117,17516,17520,108,59,1,10185,98,59,1,10967,97,114,114,59,1,10619,117,108,116,59,1,10946,4,2,69,101,17542,17545,59,1,10956,59,1,8843,108,117,115,59,1,10944,4,3,101,105,117,17562,17598,17602,116,4,3,59,101,110,17571,17573,17585,1,8835,113,4,2,59,113,17580,17582,1,8839,59,1,10950,101,113,4,2,59,113,17593,17595,1,8843,59,1,10956,109,59,1,10952,4,2,98,112,17608,17611,59,1,10964,59,1,10966,4,3,65,97,110,17622,17627,17650,114,114,59,1,8665,114,4,2,104,114,17634,17638,107,59,1,10534,4,2,59,111,17644,17646,1,8601,119,59,1,8601,119,97,114,59,1,10538,108,105,103,5,223,1,59,17664,1,223,4,13,97,98,99,100,101,102,104,105,111,112,114,115,119,17694,17709,17714,17737,17742,17749,17754,17860,17905,17957,17964,18090,18122,4,2,114,117,17700,17706,103,101,116,59,1,8982,59,1,964,114,107,59,1,9140,4,3,97,101,121,17722,17728,17734,114,111,110,59,1,357,100,105,108,59,1,355,59,1,1090,111,116,59,1,8411,108,114,101,99,59,1,8981,114,59,3,55349,56625,4,4,101,105,107,111,17764,17805,17836,17851,4,2,114,116,17770,17786,101,4,2,52,102,17777,17780,59,1,8756,111,114,101,59,1,8756,97,4,3,59,115,118,17795,17797,17802,1,952,121,109,59,1,977,59,1,977,4,2,99,110,17811,17831,107,4,2,97,115,17818,17826,112,112,114,111,120,59,1,8776,105,109,59,1,8764,115,112,59,1,8201,4,2,97,115,17842,17846,112,59,1,8776,105,109,59,1,8764,114,110,5,254,1,59,17858,1,254,4,3,108,109,110,17868,17873,17901,100,101,59,1,732,101,115,5,215,3,59,98,100,17884,17886,17898,1,215,4,2,59,97,17892,17894,1,8864,114,59,1,10801,59,1,10800,116,59,1,8749,4,3,101,112,115,17913,17917,17953,97,59,1,10536,4,4,59,98,99,102,17927,17929,17934,17939,1,8868,111,116,59,1,9014,105,114,59,1,10993,4,2,59,111,17945,17948,3,55349,56677,114,107,59,1,10970,97,59,1,10537,114,105,109,101,59,1,8244,4,3,97,105,112,17972,17977,18082,100,101,59,1,8482,4,7,97,100,101,109,112,115,116,17993,18051,18056,18059,18066,18072,18076,110,103,108,101,4,5,59,100,108,113,114,18009,18011,18017,18032,18035,1,9653,111,119,110,59,1,9663,101,102,116,4,2,59,101,18026,18028,1,9667,113,59,1,8884,59,1,8796,105,103,104,116,4,2,59,101,18045,18047,1,9657,113,59,1,8885,111,116,59,1,9708,59,1,8796,105,110,117,115,59,1,10810,108,117,115,59,1,10809,98,59,1,10701,105,109,101,59,1,10811,101,122,105,117,109,59,1,9186,4,3,99,104,116,18098,18111,18116,4,2,114,121,18104,18108,59,3,55349,56521,59,1,1094,99,121,59,1,1115,114,111,107,59,1,359,4,2,105,111,18128,18133,120,116,59,1,8812,104,101,97,100,4,2,108,114,18143,18154,101,102,116,97,114,114,111,119,59,1,8606,105,103,104,116,97,114,114,111,119,59,1,8608,4,18,65,72,97,98,99,100,102,103,104,108,109,111,112,114,115,116,117,119,18204,18209,18214,18234,18250,18268,18292,18308,18319,18343,18379,18397,18413,18504,18547,18553,18584,18603,114,114,59,1,8657,97,114,59,1,10595,4,2,99,114,18220,18230,117,116,101,5,250,1,59,18228,1,250,114,59,1,8593,114,4,2,99,101,18241,18245,121,59,1,1118,118,101,59,1,365,4,2,105,121,18256,18265,114,99,5,251,1,59,18263,1,251,59,1,1091,4,3,97,98,104,18276,18281,18287,114,114,59,1,8645,108,97,99,59,1,369,97,114,59,1,10606,4,2,105,114,18298,18304,115,104,116,59,1,10622,59,3,55349,56626,114,97,118,101,5,249,1,59,18317,1,249,4,2,97,98,18325,18338,114,4,2,108,114,18332,18335,59,1,8639,59,1,8638,108,107,59,1,9600,4,2,99,116,18349,18374,4,2,111,114,18355,18369,114,110,4,2,59,101,18363,18365,1,8988,114,59,1,8988,111,112,59,1,8975,114,105,59,1,9720,4,2,97,108,18385,18390,99,114,59,1,363,5,168,1,59,18395,1,168,4,2,103,112,18403,18408,111,110,59,1,371,102,59,3,55349,56678,4,6,97,100,104,108,115,117,18427,18434,18445,18470,18475,18494,114,114,111,119,59,1,8593,111,119,110,97,114,114,111,119,59,1,8597,97,114,112,111,111,110,4,2,108,114,18457,18463,101,102,116,59,1,8639,105,103,104,116,59,1,8638,117,115,59,1,8846,105,4,3,59,104,108,18484,18486,18489,1,965,59,1,978,111,110,59,1,965,112,97,114,114,111,119,115,59,1,8648,4,3,99,105,116,18512,18537,18542,4,2,111,114,18518,18532,114,110,4,2,59,101,18526,18528,1,8989,114,59,1,8989,111,112,59,1,8974,110,103,59,1,367,114,105,59,1,9721,99,114,59,3,55349,56522,4,3,100,105,114,18561,18566,18572,111,116,59,1,8944,108,100,101,59,1,361,105,4,2,59,102,18579,18581,1,9653,59,1,9652,4,2,97,109,18590,18595,114,114,59,1,8648,108,5,252,1,59,18601,1,252,97,110,103,108,101,59,1,10663,4,15,65,66,68,97,99,100,101,102,108,110,111,112,114,115,122,18643,18648,18661,18667,18847,18851,18857,18904,18909,18915,18931,18937,18943,18949,18996,114,114,59,1,8661,97,114,4,2,59,118,18656,18658,1,10984,59,1,10985,97,115,104,59,1,8872,4,2,110,114,18673,18679,103,114,116,59,1,10652,4,7,101,107,110,112,114,115,116,18695,18704,18711,18720,18742,18754,18810,112,115,105,108,111,110,59,1,1013,97,112,112,97,59,1,1008,111,116,104,105,110,103,59,1,8709,4,3,104,105,114,18728,18732,18735,105,59,1,981,59,1,982,111,112,116,111,59,1,8733,4,2,59,104,18748,18750,1,8597,111,59,1,1009,4,2,105,117,18760,18766,103,109,97,59,1,962,4,2,98,112,18772,18791,115,101,116,110,101,113,4,2,59,113,18784,18787,3,8842,65024,59,3,10955,65024,115,101,116,110,101,113,4,2,59,113,18803,18806,3,8843,65024,59,3,10956,65024,4,2,104,114,18816,18822,101,116,97,59,1,977,105,97,110,103,108,101,4,2,108,114,18834,18840,101,102,116,59,1,8882,105,103,104,116,59,1,8883,121,59,1,1074,97,115,104,59,1,8866,4,3,101,108,114,18865,18884,18890,4,3,59,98,101,18873,18875,18880,1,8744,97,114,59,1,8891,113,59,1,8794,108,105,112,59,1,8942,4,2,98,116,18896,18901,97,114,59,1,124,59,1,124,114,59,3,55349,56627,116,114,105,59,1,8882,115,117,4,2,98,112,18923,18927,59,3,8834,8402,59,3,8835,8402,112,102,59,3,55349,56679,114,111,112,59,1,8733,116,114,105,59,1,8883,4,2,99,117,18955,18960,114,59,3,55349,56523,4,2,98,112,18966,18981,110,4,2,69,101,18973,18977,59,3,10955,65024,59,3,8842,65024,110,4,2,69,101,18988,18992,59,3,10956,65024,59,3,8843,65024,105,103,122,97,103,59,1,10650,4,7,99,101,102,111,112,114,115,19020,19026,19061,19066,19072,19075,19089,105,114,99,59,1,373,4,2,100,105,19032,19055,4,2,98,103,19038,19043,97,114,59,1,10847,101,4,2,59,113,19050,19052,1,8743,59,1,8793,101,114,112,59,1,8472,114,59,3,55349,56628,112,102,59,3,55349,56680,59,1,8472,4,2,59,101,19081,19083,1,8768,97,116,104,59,1,8768,99,114,59,3,55349,56524,4,14,99,100,102,104,105,108,109,110,111,114,115,117,118,119,19125,19146,19152,19157,19173,19176,19192,19197,19202,19236,19252,19269,19286,19291,4,3,97,105,117,19133,19137,19142,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,116,114,105,59,1,9661,114,59,3,55349,56629,4,2,65,97,19163,19168,114,114,59,1,10234,114,114,59,1,10231,59,1,958,4,2,65,97,19182,19187,114,114,59,1,10232,114,114,59,1,10229,97,112,59,1,10236,105,115,59,1,8955,4,3,100,112,116,19210,19215,19230,111,116,59,1,10752,4,2,102,108,19221,19225,59,3,55349,56681,117,115,59,1,10753,105,109,101,59,1,10754,4,2,65,97,19242,19247,114,114,59,1,10233,114,114,59,1,10230,4,2,99,113,19258,19263,114,59,3,55349,56525,99,117,112,59,1,10758,4,2,112,116,19275,19281,108,117,115,59,1,10756,114,105,59,1,9651,101,101,59,1,8897,101,100,103,101,59,1,8896,4,8,97,99,101,102,105,111,115,117,19316,19335,19349,19357,19362,19367,19373,19379,99,4,2,117,121,19323,19332,116,101,5,253,1,59,19330,1,253,59,1,1103,4,2,105,121,19341,19346,114,99,59,1,375,59,1,1099,110,5,165,1,59,19355,1,165,114,59,3,55349,56630,99,121,59,1,1111,112,102,59,3,55349,56682,99,114,59,3,55349,56526,4,2,99,109,19385,19389,121,59,1,1102,108,5,255,1,59,19395,1,255,4,10,97,99,100,101,102,104,105,111,115,119,19419,19426,19441,19446,19462,19467,19472,19480,19486,19492,99,117,116,101,59,1,378,4,2,97,121,19432,19438,114,111,110,59,1,382,59,1,1079,111,116,59,1,380,4,2,101,116,19452,19458,116,114,102,59,1,8488,97,59,1,950,114,59,3,55349,56631,99,121,59,1,1078,103,114,97,114,114,59,1,8669,112,102,59,3,55349,56683,99,114,59,3,55349,56527,4,2,106,110,19498,19501,59,1,8205,106,59,1,8204])),XG),r=n3(),o=t.CODE_POINTS,i=t.CODE_POINT_SEQUENCES,a={128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},s="DATA_STATE",l="RCDATA_STATE",c="RAWTEXT_STATE",u="SCRIPT_DATA_STATE",h="PLAINTEXT_STATE",p="TAG_OPEN_STATE",d="END_TAG_OPEN_STATE",f="TAG_NAME_STATE",g="RCDATA_LESS_THAN_SIGN_STATE",m="RCDATA_END_TAG_OPEN_STATE",v="RCDATA_END_TAG_NAME_STATE",y="RAWTEXT_LESS_THAN_SIGN_STATE",b="RAWTEXT_END_TAG_OPEN_STATE",w="RAWTEXT_END_TAG_NAME_STATE",k="SCRIPT_DATA_LESS_THAN_SIGN_STATE",_="SCRIPT_DATA_END_TAG_OPEN_STATE",O="SCRIPT_DATA_END_TAG_NAME_STATE",E="SCRIPT_DATA_ESCAPE_START_STATE",C="SCRIPT_DATA_ESCAPE_START_DASH_STATE",N="SCRIPT_DATA_ESCAPED_STATE",L="SCRIPT_DATA_ESCAPED_DASH_STATE",j="SCRIPT_DATA_ESCAPED_DASH_DASH_STATE",H="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE",F="SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE",z="SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE",B="SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE",V="SCRIPT_DATA_DOUBLE_ESCAPED_STATE",U="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE",S="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE",q="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE",P="SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE",Q="BEFORE_ATTRIBUTE_NAME_STATE",re="ATTRIBUTE_NAME_STATE",_e="AFTER_ATTRIBUTE_NAME_STATE",se="BEFORE_ATTRIBUTE_VALUE_STATE",ue="ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE",fe="ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE",je="ATTRIBUTE_VALUE_UNQUOTED_STATE",Qe="AFTER_ATTRIBUTE_VALUE_QUOTED_STATE",Xe="SELF_CLOSING_START_TAG_STATE",ie="BOGUS_COMMENT_STATE",Se="MARKUP_DECLARATION_OPEN_STATE",ae="COMMENT_START_STATE",pe="COMMENT_START_DASH_STATE",Te="COMMENT_STATE",be="COMMENT_LESS_THAN_SIGN_STATE",we="COMMENT_LESS_THAN_SIGN_BANG_STATE",Oe="COMMENT_LESS_THAN_SIGN_BANG_DASH_STATE",ke="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH_STATE",Me="COMMENT_END_DASH_STATE",Le="COMMENT_END_STATE",Ge="COMMENT_END_BANG_STATE",Ye="DOCTYPE_STATE",ct="BEFORE_DOCTYPE_NAME_STATE",Re="DOCTYPE_NAME_STATE",ze="AFTER_DOCTYPE_NAME_STATE",He="AFTER_DOCTYPE_PUBLIC_KEYWORD_STATE",et="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE",oe="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE",X="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE",de="AFTER_DOCTYPE_PUBLIC_IDENTIFIER_STATE",he="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE",Ee="AFTER_DOCTYPE_SYSTEM_KEYWORD_STATE",$e="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE",Je="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE",at="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE",We="AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE",bt="BOGUS_DOCTYPE_STATE",ft="CDATA_SECTION_STATE",ut="CDATA_SECTION_BRACKET_STATE",St="CDATA_SECTION_END_STATE",yt="CHARACTER_REFERENCE_STATE",Ct="NAMED_CHARACTER_REFERENCE_STATE",jt="AMBIGUOS_AMPERSAND_STATE",sr="NUMERIC_CHARACTER_REFERENCE_STATE",ln="HEXADEMICAL_CHARACTER_REFERENCE_START_STATE",dn="DECIMAL_CHARACTER_REFERENCE_START_STATE",wn="HEXADEMICAL_CHARACTER_REFERENCE_STATE",Gn="DECIMAL_CHARACTER_REFERENCE_STATE",Mn="NUMERIC_CHARACTER_REFERENCE_END_STATE";function It(G){return G===o.SPACE||G===o.LINE_FEED||G===o.TABULATION||G===o.FORM_FEED}function tr(G){return G>=o.DIGIT_0&&G<=o.DIGIT_9}function lr(G){return G>=o.LATIN_CAPITAL_A&&G<=o.LATIN_CAPITAL_Z}function Mo(G){return G>=o.LATIN_SMALL_A&&G<=o.LATIN_SMALL_Z}function Lo(G){return Mo(G)||lr(G)}function Gs(G){return Lo(G)||tr(G)}function oc(G){return G>=o.LATIN_CAPITAL_A&&G<=o.LATIN_CAPITAL_F}function Ks(G){return G>=o.LATIN_SMALL_A&&G<=o.LATIN_SMALL_F}function ca(G){return G+32}function T(G){return G<=65535?String.fromCharCode(G):(G-=65536,String.fromCharCode(G>>>10&1023|55296)+String.fromCharCode(56320|1023&G))}function I(G){return String.fromCharCode(ca(G))}function M(G,D){const te=n[++G];let le=++G,Fe=le+te-1;for(;le<=Fe;){const st=le+Fe>>>1,cn=n[st];if(cn<D)le=st+1;else{if(!(cn>D))return n[st+te];Fe=st-1}}return-1}class ${constructor(){this.preprocessor=new e,this.tokenQueue=[],this.allowCDATA=!1,this.state=s,this.returnState="",this.charRefCode=-1,this.tempBuff=[],this.lastStartTagName="",this.consumedAfterSnapshot=-1,this.active=!1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr=null}_err(){}_errOnNextCodePoint(D){this._consume(),this._err(D),this._unconsume()}getNextToken(){for(;!this.tokenQueue.length&&this.active;){this.consumedAfterSnapshot=0;const D=this._consume();this._ensureHibernation()||this[this.state](D)}return this.tokenQueue.shift()}write(D,te){this.active=!0,this.preprocessor.write(D,te)}insertHtmlAtCurrentPos(D){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(D)}_ensureHibernation(){if(this.preprocessor.endOfChunkHit){for(;this.consumedAfterSnapshot>0;this.consumedAfterSnapshot--)this.preprocessor.retreat();return this.active=!1,this.tokenQueue.push({type:$.HIBERNATION_TOKEN}),!0}return!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(){this.consumedAfterSnapshot--,this.preprocessor.retreat()}_reconsumeInState(D){this.state=D,this._unconsume()}_consumeSequenceIfMatch(D,te,le){let Fe=0,st=!0;const cn=D.length;let En,Wr=0,Qh=te;for(;Wr<cn;Wr++){if(Wr>0&&(Qh=this._consume(),Fe++),Qh===o.EOF){st=!1;break}if(En=D[Wr],Qh!==En&&(le||Qh!==ca(En))){st=!1;break}}if(!st)for(;Fe--;)this._unconsume();return st}_isTempBufferEqualToScriptString(){if(this.tempBuff.length!==i.SCRIPT_STRING.length)return!1;for(let D=0;D<this.tempBuff.length;D++)if(this.tempBuff[D]!==i.SCRIPT_STRING[D])return!1;return!0}_createStartTagToken(){this.currentToken={type:$.START_TAG_TOKEN,tagName:"",selfClosing:!1,ackSelfClosing:!1,attrs:[]}}_createEndTagToken(){this.currentToken={type:$.END_TAG_TOKEN,tagName:"",selfClosing:!1,attrs:[]}}_createCommentToken(){this.currentToken={type:$.COMMENT_TOKEN,data:""}}_createDoctypeToken(D){this.currentToken={type:$.DOCTYPE_TOKEN,name:D,forceQuirks:!1,publicId:null,systemId:null}}_createCharacterToken(D,te){this.currentCharacterToken={type:D,chars:te}}_createEOFToken(){this.currentToken={type:$.EOF_TOKEN}}_createAttr(D){this.currentAttr={name:D,value:""}}_leaveAttrName(D){$.getTokenAttr(this.currentToken,this.currentAttr.name)===null?this.currentToken.attrs.push(this.currentAttr):this._err(r.duplicateAttribute),this.state=D}_leaveAttrValue(D){this.state=D}_emitCurrentToken(){this._emitCurrentCharacterToken();const D=this.currentToken;this.currentToken=null,D.type===$.START_TAG_TOKEN?this.lastStartTagName=D.tagName:D.type===$.END_TAG_TOKEN&&(D.attrs.length>0&&this._err(r.endTagWithAttributes),D.selfClosing&&this._err(r.endTagWithTrailingSolidus)),this.tokenQueue.push(D)}_emitCurrentCharacterToken(){this.currentCharacterToken&&(this.tokenQueue.push(this.currentCharacterToken),this.currentCharacterToken=null)}_emitEOFToken(){this._createEOFToken(),this._emitCurrentToken()}_appendCharToCurrentCharacterToken(D,te){this.currentCharacterToken&&this.currentCharacterToken.type!==D&&this._emitCurrentCharacterToken(),this.currentCharacterToken?this.currentCharacterToken.chars+=te:this._createCharacterToken(D,te)}_emitCodePoint(D){let te=$.CHARACTER_TOKEN;It(D)?te=$.WHITESPACE_CHARACTER_TOKEN:D===o.NULL&&(te=$.NULL_CHARACTER_TOKEN),this._appendCharToCurrentCharacterToken(te,T(D))}_emitSeveralCodePoints(D){for(let te=0;te<D.length;te++)this._emitCodePoint(D[te])}_emitChars(D){this._appendCharToCurrentCharacterToken($.CHARACTER_TOKEN,D)}_matchNamedCharacterReference(D){let te=null,le=1,Fe=M(0,D);for(this.tempBuff.push(D);Fe>-1;){const st=n[Fe],cn=st<7;cn&&1&st&&(te=2&st?[n[++Fe],n[++Fe]]:[n[++Fe]],le=0);const En=this._consume();if(this.tempBuff.push(En),le++,En===o.EOF)break;Fe=cn?4&st?M(Fe,En):-1:En===st?++Fe:-1}for(;le--;)this.tempBuff.pop(),this._unconsume();return te}_isCharacterReferenceInAttribute(){return this.returnState===ue||this.returnState===fe||this.returnState===je}_isCharacterReferenceAttributeQuirk(D){if(!D&&this._isCharacterReferenceInAttribute()){const te=this._consume();return this._unconsume(),te===o.EQUALS_SIGN||Gs(te)}return!1}_flushCodePointsConsumedAsCharacterReference(){if(this._isCharacterReferenceInAttribute())for(let D=0;D<this.tempBuff.length;D++)this.currentAttr.value+=T(this.tempBuff[D]);else this._emitSeveralCodePoints(this.tempBuff);this.tempBuff=[]}[s](D){this.preprocessor.dropParsedChunk(),D===o.LESS_THAN_SIGN?this.state=p:D===o.AMPERSAND?(this.returnState=s,this.state=yt):D===o.NULL?(this._err(r.unexpectedNullCharacter),this._emitCodePoint(D)):D===o.EOF?this._emitEOFToken():this._emitCodePoint(D)}[l](D){this.preprocessor.dropParsedChunk(),D===o.AMPERSAND?(this.returnState=l,this.state=yt):D===o.LESS_THAN_SIGN?this.state=g:D===o.NULL?(this._err(r.unexpectedNullCharacter),this._emitChars(t.REPLACEMENT_CHARACTER)):D===o.EOF?this._emitEOFToken():this._emitCodePoint(D)}[c](D){this.preprocessor.dropParsedChunk(),D===o.LESS_THAN_SIGN?this.state=y:D===o.NULL?(this._err(r.unexpectedNullCharacter),this._emitChars(t.REPLACEMENT_CHARACTER)):D===o.EOF?this._emitEOFToken():this._emitCodePoint(D)}[u](D){this.preprocessor.dropParsedChunk(),D===o.LESS_THAN_SIGN?this.state=k:D===o.NULL?(this._err(r.unexpectedNullCharacter),this._emitChars(t.REPLACEMENT_CHARACTER)):D===o.EOF?this._emitEOFToken():this._emitCodePoint(D)}[h](D){this.preprocessor.dropParsedChunk(),D===o.NULL?(this._err(r.unexpectedNullCharacter),this._emitChars(t.REPLACEMENT_CHARACTER)):D===o.EOF?this._emitEOFToken():this._emitCodePoint(D)}[p](D){D===o.EXCLAMATION_MARK?this.state=Se:D===o.SOLIDUS?this.state=d:Lo(D)?(this._createStartTagToken(),this._reconsumeInState(f)):D===o.QUESTION_MARK?(this._err(r.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(),this._reconsumeInState(ie)):D===o.EOF?(this._err(r.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken()):(this._err(r.invalidFirstCharacterOfTagName),this._emitChars("<"),this._reconsumeInState(s))}[d](D){Lo(D)?(this._createEndTagToken(),this._reconsumeInState(f)):D===o.GREATER_THAN_SIGN?(this._err(r.missingEndTagName),this.state=s):D===o.EOF?(this._err(r.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken()):(this._err(r.invalidFirstCharacterOfTagName),this._createCommentToken(),this._reconsumeInState(ie))}[f](D){It(D)?this.state=Q:D===o.SOLIDUS?this.state=Xe:D===o.GREATER_THAN_SIGN?(this.state=s,this._emitCurrentToken()):lr(D)?this.currentToken.tagName+=I(D):D===o.NULL?(this._err(r.unexpectedNullCharacter),this.currentToken.tagName+=t.REPLACEMENT_CHARACTER):D===o.EOF?(this._err(r.eofInTag),this._emitEOFToken()):this.currentToken.tagName+=T(D)}[g](D){D===o.SOLIDUS?(this.tempBuff=[],this.state=m):(this._emitChars("<"),this._reconsumeInState(l))}[m](D){Lo(D)?(this._createEndTagToken(),this._reconsumeInState(v)):(this._emitChars("</"),this._reconsumeInState(l))}[v](D){if(lr(D))this.currentToken.tagName+=I(D),this.tempBuff.push(D);else if(Mo(D))this.currentToken.tagName+=T(D),this.tempBuff.push(D);else{if(this.lastStartTagName===this.currentToken.tagName){if(It(D))return void(this.state=Q);if(D===o.SOLIDUS)return void(this.state=Xe);if(D===o.GREATER_THAN_SIGN)return this.state=s,void this._emitCurrentToken()}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(l)}}[y](D){D===o.SOLIDUS?(this.tempBuff=[],this.state=b):(this._emitChars("<"),this._reconsumeInState(c))}[b](D){Lo(D)?(this._createEndTagToken(),this._reconsumeInState(w)):(this._emitChars("</"),this._reconsumeInState(c))}[w](D){if(lr(D))this.currentToken.tagName+=I(D),this.tempBuff.push(D);else if(Mo(D))this.currentToken.tagName+=T(D),this.tempBuff.push(D);else{if(this.lastStartTagName===this.currentToken.tagName){if(It(D))return void(this.state=Q);if(D===o.SOLIDUS)return void(this.state=Xe);if(D===o.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=s)}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(c)}}[k](D){D===o.SOLIDUS?(this.tempBuff=[],this.state=_):D===o.EXCLAMATION_MARK?(this.state=E,this._emitChars("<!")):(this._emitChars("<"),this._reconsumeInState(u))}[_](D){Lo(D)?(this._createEndTagToken(),this._reconsumeInState(O)):(this._emitChars("</"),this._reconsumeInState(u))}[O](D){if(lr(D))this.currentToken.tagName+=I(D),this.tempBuff.push(D);else if(Mo(D))this.currentToken.tagName+=T(D),this.tempBuff.push(D);else{if(this.lastStartTagName===this.currentToken.tagName){if(It(D))return void(this.state=Q);if(D===o.SOLIDUS)return void(this.state=Xe);if(D===o.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=s)}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(u)}}[E](D){D===o.HYPHEN_MINUS?(this.state=C,this._emitChars("-")):this._reconsumeInState(u)}[C](D){D===o.HYPHEN_MINUS?(this.state=j,this._emitChars("-")):this._reconsumeInState(u)}[N](D){D===o.HYPHEN_MINUS?(this.state=L,this._emitChars("-")):D===o.LESS_THAN_SIGN?this.state=H:D===o.NULL?(this._err(r.unexpectedNullCharacter),this._emitChars(t.REPLACEMENT_CHARACTER)):D===o.EOF?(this._err(r.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):this._emitCodePoint(D)}[L](D){D===o.HYPHEN_MINUS?(this.state=j,this._emitChars("-")):D===o.LESS_THAN_SIGN?this.state=H:D===o.NULL?(this._err(r.unexpectedNullCharacter),this.state=N,this._emitChars(t.REPLACEMENT_CHARACTER)):D===o.EOF?(this._err(r.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=N,this._emitCodePoint(D))}[j](D){D===o.HYPHEN_MINUS?this._emitChars("-"):D===o.LESS_THAN_SIGN?this.state=H:D===o.GREATER_THAN_SIGN?(this.state=u,this._emitChars(">")):D===o.NULL?(this._err(r.unexpectedNullCharacter),this.state=N,this._emitChars(t.REPLACEMENT_CHARACTER)):D===o.EOF?(this._err(r.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=N,this._emitCodePoint(D))}[H](D){D===o.SOLIDUS?(this.tempBuff=[],this.state=F):Lo(D)?(this.tempBuff=[],this._emitChars("<"),this._reconsumeInState(B)):(this._emitChars("<"),this._reconsumeInState(N))}[F](D){Lo(D)?(this._createEndTagToken(),this._reconsumeInState(z)):(this._emitChars("</"),this._reconsumeInState(N))}[z](D){if(lr(D))this.currentToken.tagName+=I(D),this.tempBuff.push(D);else if(Mo(D))this.currentToken.tagName+=T(D),this.tempBuff.push(D);else{if(this.lastStartTagName===this.currentToken.tagName){if(It(D))return void(this.state=Q);if(D===o.SOLIDUS)return void(this.state=Xe);if(D===o.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=s)}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(N)}}[B](D){It(D)||D===o.SOLIDUS||D===o.GREATER_THAN_SIGN?(this.state=this._isTempBufferEqualToScriptString()?V:N,this._emitCodePoint(D)):lr(D)?(this.tempBuff.push(ca(D)),this._emitCodePoint(D)):Mo(D)?(this.tempBuff.push(D),this._emitCodePoint(D)):this._reconsumeInState(N)}[V](D){D===o.HYPHEN_MINUS?(this.state=U,this._emitChars("-")):D===o.LESS_THAN_SIGN?(this.state=q,this._emitChars("<")):D===o.NULL?(this._err(r.unexpectedNullCharacter),this._emitChars(t.REPLACEMENT_CHARACTER)):D===o.EOF?(this._err(r.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):this._emitCodePoint(D)}[U](D){D===o.HYPHEN_MINUS?(this.state=S,this._emitChars("-")):D===o.LESS_THAN_SIGN?(this.state=q,this._emitChars("<")):D===o.NULL?(this._err(r.unexpectedNullCharacter),this.state=V,this._emitChars(t.REPLACEMENT_CHARACTER)):D===o.EOF?(this._err(r.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=V,this._emitCodePoint(D))}[S](D){D===o.HYPHEN_MINUS?this._emitChars("-"):D===o.LESS_THAN_SIGN?(this.state=q,this._emitChars("<")):D===o.GREATER_THAN_SIGN?(this.state=u,this._emitChars(">")):D===o.NULL?(this._err(r.unexpectedNullCharacter),this.state=V,this._emitChars(t.REPLACEMENT_CHARACTER)):D===o.EOF?(this._err(r.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=V,this._emitCodePoint(D))}[q](D){D===o.SOLIDUS?(this.tempBuff=[],this.state=P,this._emitChars("/")):this._reconsumeInState(V)}[P](D){It(D)||D===o.SOLIDUS||D===o.GREATER_THAN_SIGN?(this.state=this._isTempBufferEqualToScriptString()?N:V,this._emitCodePoint(D)):lr(D)?(this.tempBuff.push(ca(D)),this._emitCodePoint(D)):Mo(D)?(this.tempBuff.push(D),this._emitCodePoint(D)):this._reconsumeInState(V)}[Q](D){It(D)||(D===o.SOLIDUS||D===o.GREATER_THAN_SIGN||D===o.EOF?this._reconsumeInState(_e):D===o.EQUALS_SIGN?(this._err(r.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=re):(this._createAttr(""),this._reconsumeInState(re)))}[re](D){It(D)||D===o.SOLIDUS||D===o.GREATER_THAN_SIGN||D===o.EOF?(this._leaveAttrName(_e),this._unconsume()):D===o.EQUALS_SIGN?this._leaveAttrName(se):lr(D)?this.currentAttr.name+=I(D):D===o.QUOTATION_MARK||D===o.APOSTROPHE||D===o.LESS_THAN_SIGN?(this._err(r.unexpectedCharacterInAttributeName),this.currentAttr.name+=T(D)):D===o.NULL?(this._err(r.unexpectedNullCharacter),this.currentAttr.name+=t.REPLACEMENT_CHARACTER):this.currentAttr.name+=T(D)}[_e](D){It(D)||(D===o.SOLIDUS?this.state=Xe:D===o.EQUALS_SIGN?this.state=se:D===o.GREATER_THAN_SIGN?(this.state=s,this._emitCurrentToken()):D===o.EOF?(this._err(r.eofInTag),this._emitEOFToken()):(this._createAttr(""),this._reconsumeInState(re)))}[se](D){It(D)||(D===o.QUOTATION_MARK?this.state=ue:D===o.APOSTROPHE?this.state=fe:D===o.GREATER_THAN_SIGN?(this._err(r.missingAttributeValue),this.state=s,this._emitCurrentToken()):this._reconsumeInState(je))}[ue](D){D===o.QUOTATION_MARK?this.state=Qe:D===o.AMPERSAND?(this.returnState=ue,this.state=yt):D===o.NULL?(this._err(r.unexpectedNullCharacter),this.currentAttr.value+=t.REPLACEMENT_CHARACTER):D===o.EOF?(this._err(r.eofInTag),this._emitEOFToken()):this.currentAttr.value+=T(D)}[fe](D){D===o.APOSTROPHE?this.state=Qe:D===o.AMPERSAND?(this.returnState=fe,this.state=yt):D===o.NULL?(this._err(r.unexpectedNullCharacter),this.currentAttr.value+=t.REPLACEMENT_CHARACTER):D===o.EOF?(this._err(r.eofInTag),this._emitEOFToken()):this.currentAttr.value+=T(D)}[je](D){It(D)?this._leaveAttrValue(Q):D===o.AMPERSAND?(this.returnState=je,this.state=yt):D===o.GREATER_THAN_SIGN?(this._leaveAttrValue(s),this._emitCurrentToken()):D===o.NULL?(this._err(r.unexpectedNullCharacter),this.currentAttr.value+=t.REPLACEMENT_CHARACTER):D===o.QUOTATION_MARK||D===o.APOSTROPHE||D===o.LESS_THAN_SIGN||D===o.EQUALS_SIGN||D===o.GRAVE_ACCENT?(this._err(r.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=T(D)):D===o.EOF?(this._err(r.eofInTag),this._emitEOFToken()):this.currentAttr.value+=T(D)}[Qe](D){It(D)?this._leaveAttrValue(Q):D===o.SOLIDUS?this._leaveAttrValue(Xe):D===o.GREATER_THAN_SIGN?(this._leaveAttrValue(s),this._emitCurrentToken()):D===o.EOF?(this._err(r.eofInTag),this._emitEOFToken()):(this._err(r.missingWhitespaceBetweenAttributes),this._reconsumeInState(Q))}[Xe](D){D===o.GREATER_THAN_SIGN?(this.currentToken.selfClosing=!0,this.state=s,this._emitCurrentToken()):D===o.EOF?(this._err(r.eofInTag),this._emitEOFToken()):(this._err(r.unexpectedSolidusInTag),this._reconsumeInState(Q))}[ie](D){D===o.GREATER_THAN_SIGN?(this.state=s,this._emitCurrentToken()):D===o.EOF?(this._emitCurrentToken(),this._emitEOFToken()):D===o.NULL?(this._err(r.unexpectedNullCharacter),this.currentToken.data+=t.REPLACEMENT_CHARACTER):this.currentToken.data+=T(D)}[Se](D){this._consumeSequenceIfMatch(i.DASH_DASH_STRING,D,!0)?(this._createCommentToken(),this.state=ae):this._consumeSequenceIfMatch(i.DOCTYPE_STRING,D,!1)?this.state=Ye:this._consumeSequenceIfMatch(i.CDATA_START_STRING,D,!0)?this.allowCDATA?this.state=ft:(this._err(r.cdataInHtmlContent),this._createCommentToken(),this.currentToken.data="[CDATA[",this.state=ie):this._ensureHibernation()||(this._err(r.incorrectlyOpenedComment),this._createCommentToken(),this._reconsumeInState(ie))}[ae](D){D===o.HYPHEN_MINUS?this.state=pe:D===o.GREATER_THAN_SIGN?(this._err(r.abruptClosingOfEmptyComment),this.state=s,this._emitCurrentToken()):this._reconsumeInState(Te)}[pe](D){D===o.HYPHEN_MINUS?this.state=Le:D===o.GREATER_THAN_SIGN?(this._err(r.abruptClosingOfEmptyComment),this.state=s,this._emitCurrentToken()):D===o.EOF?(this._err(r.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="-",this._reconsumeInState(Te))}[Te](D){D===o.HYPHEN_MINUS?this.state=Me:D===o.LESS_THAN_SIGN?(this.currentToken.data+="<",this.state=be):D===o.NULL?(this._err(r.unexpectedNullCharacter),this.currentToken.data+=t.REPLACEMENT_CHARACTER):D===o.EOF?(this._err(r.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.data+=T(D)}[be](D){D===o.EXCLAMATION_MARK?(this.currentToken.data+="!",this.state=we):D===o.LESS_THAN_SIGN?this.currentToken.data+="!":this._reconsumeInState(Te)}[we](D){D===o.HYPHEN_MINUS?this.state=Oe:this._reconsumeInState(Te)}[Oe](D){D===o.HYPHEN_MINUS?this.state=ke:this._reconsumeInState(Me)}[ke](D){D!==o.GREATER_THAN_SIGN&&D!==o.EOF&&this._err(r.nestedComment),this._reconsumeInState(Le)}[Me](D){D===o.HYPHEN_MINUS?this.state=Le:D===o.EOF?(this._err(r.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="-",this._reconsumeInState(Te))}[Le](D){D===o.GREATER_THAN_SIGN?(this.state=s,this._emitCurrentToken()):D===o.EXCLAMATION_MARK?this.state=Ge:D===o.HYPHEN_MINUS?this.currentToken.data+="-":D===o.EOF?(this._err(r.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="--",this._reconsumeInState(Te))}[Ge](D){D===o.HYPHEN_MINUS?(this.currentToken.data+="--!",this.state=Me):D===o.GREATER_THAN_SIGN?(this._err(r.incorrectlyClosedComment),this.state=s,this._emitCurrentToken()):D===o.EOF?(this._err(r.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="--!",this._reconsumeInState(Te))}[Ye](D){It(D)?this.state=ct:D===o.GREATER_THAN_SIGN?this._reconsumeInState(ct):D===o.EOF?(this._err(r.eofInDoctype),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(r.missingWhitespaceBeforeDoctypeName),this._reconsumeInState(ct))}[ct](D){It(D)||(lr(D)?(this._createDoctypeToken(I(D)),this.state=Re):D===o.NULL?(this._err(r.unexpectedNullCharacter),this._createDoctypeToken(t.REPLACEMENT_CHARACTER),this.state=Re):D===o.GREATER_THAN_SIGN?(this._err(r.missingDoctypeName),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=s):D===o.EOF?(this._err(r.eofInDoctype),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._createDoctypeToken(T(D)),this.state=Re))}[Re](D){It(D)?this.state=ze:D===o.GREATER_THAN_SIGN?(this.state=s,this._emitCurrentToken()):lr(D)?this.currentToken.name+=I(D):D===o.NULL?(this._err(r.unexpectedNullCharacter),this.currentToken.name+=t.REPLACEMENT_CHARACTER):D===o.EOF?(this._err(r.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.name+=T(D)}[ze](D){It(D)||(D===o.GREATER_THAN_SIGN?(this.state=s,this._emitCurrentToken()):D===o.EOF?(this._err(r.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this._consumeSequenceIfMatch(i.PUBLIC_STRING,D,!1)?this.state=He:this._consumeSequenceIfMatch(i.SYSTEM_STRING,D,!1)?this.state=Ee:this._ensureHibernation()||(this._err(r.invalidCharacterSequenceAfterDoctypeName),this.currentToken.forceQuirks=!0,this._reconsumeInState(bt)))}[He](D){It(D)?this.state=et:D===o.QUOTATION_MARK?(this._err(r.missingWhitespaceAfterDoctypePublicKeyword),this.currentToken.publicId="",this.state=oe):D===o.APOSTROPHE?(this._err(r.missingWhitespaceAfterDoctypePublicKeyword),this.currentToken.publicId="",this.state=X):D===o.GREATER_THAN_SIGN?(this._err(r.missingDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this.state=s,this._emitCurrentToken()):D===o.EOF?(this._err(r.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(r.missingQuoteBeforeDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(bt))}[et](D){It(D)||(D===o.QUOTATION_MARK?(this.currentToken.publicId="",this.state=oe):D===o.APOSTROPHE?(this.currentToken.publicId="",this.state=X):D===o.GREATER_THAN_SIGN?(this._err(r.missingDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this.state=s,this._emitCurrentToken()):D===o.EOF?(this._err(r.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(r.missingQuoteBeforeDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(bt)))}[oe](D){D===o.QUOTATION_MARK?this.state=de:D===o.NULL?(this._err(r.unexpectedNullCharacter),this.currentToken.publicId+=t.REPLACEMENT_CHARACTER):D===o.GREATER_THAN_SIGN?(this._err(r.abruptDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=s):D===o.EOF?(this._err(r.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.publicId+=T(D)}[X](D){D===o.APOSTROPHE?this.state=de:D===o.NULL?(this._err(r.unexpectedNullCharacter),this.currentToken.publicId+=t.REPLACEMENT_CHARACTER):D===o.GREATER_THAN_SIGN?(this._err(r.abruptDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=s):D===o.EOF?(this._err(r.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.publicId+=T(D)}[de](D){It(D)?this.state=he:D===o.GREATER_THAN_SIGN?(this.state=s,this._emitCurrentToken()):D===o.QUOTATION_MARK?(this._err(r.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),this.currentToken.systemId="",this.state=Je):D===o.APOSTROPHE?(this._err(r.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),this.currentToken.systemId="",this.state=at):D===o.EOF?(this._err(r.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(r.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(bt))}[he](D){It(D)||(D===o.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=s):D===o.QUOTATION_MARK?(this.currentToken.systemId="",this.state=Je):D===o.APOSTROPHE?(this.currentToken.systemId="",this.state=at):D===o.EOF?(this._err(r.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(r.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(bt)))}[Ee](D){It(D)?this.state=$e:D===o.QUOTATION_MARK?(this._err(r.missingWhitespaceAfterDoctypeSystemKeyword),this.currentToken.systemId="",this.state=Je):D===o.APOSTROPHE?(this._err(r.missingWhitespaceAfterDoctypeSystemKeyword),this.currentToken.systemId="",this.state=at):D===o.GREATER_THAN_SIGN?(this._err(r.missingDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this.state=s,this._emitCurrentToken()):D===o.EOF?(this._err(r.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(r.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(bt))}[$e](D){It(D)||(D===o.QUOTATION_MARK?(this.currentToken.systemId="",this.state=Je):D===o.APOSTROPHE?(this.currentToken.systemId="",this.state=at):D===o.GREATER_THAN_SIGN?(this._err(r.missingDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this.state=s,this._emitCurrentToken()):D===o.EOF?(this._err(r.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(r.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(bt)))}[Je](D){D===o.QUOTATION_MARK?this.state=We:D===o.NULL?(this._err(r.unexpectedNullCharacter),this.currentToken.systemId+=t.REPLACEMENT_CHARACTER):D===o.GREATER_THAN_SIGN?(this._err(r.abruptDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=s):D===o.EOF?(this._err(r.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.systemId+=T(D)}[at](D){D===o.APOSTROPHE?this.state=We:D===o.NULL?(this._err(r.unexpectedNullCharacter),this.currentToken.systemId+=t.REPLACEMENT_CHARACTER):D===o.GREATER_THAN_SIGN?(this._err(r.abruptDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=s):D===o.EOF?(this._err(r.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.systemId+=T(D)}[We](D){It(D)||(D===o.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=s):D===o.EOF?(this._err(r.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(r.unexpectedCharacterAfterDoctypeSystemIdentifier),this._reconsumeInState(bt)))}[bt](D){D===o.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=s):D===o.NULL?this._err(r.unexpectedNullCharacter):D===o.EOF&&(this._emitCurrentToken(),this._emitEOFToken())}[ft](D){D===o.RIGHT_SQUARE_BRACKET?this.state=ut:D===o.EOF?(this._err(r.eofInCdata),this._emitEOFToken()):this._emitCodePoint(D)}[ut](D){D===o.RIGHT_SQUARE_BRACKET?this.state=St:(this._emitChars("]"),this._reconsumeInState(ft))}[St](D){D===o.GREATER_THAN_SIGN?this.state=s:D===o.RIGHT_SQUARE_BRACKET?this._emitChars("]"):(this._emitChars("]]"),this._reconsumeInState(ft))}[yt](D){this.tempBuff=[o.AMPERSAND],D===o.NUMBER_SIGN?(this.tempBuff.push(D),this.state=sr):Gs(D)?this._reconsumeInState(Ct):(this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[Ct](D){const te=this._matchNamedCharacterReference(D);if(this._ensureHibernation())this.tempBuff=[o.AMPERSAND];else if(te){const le=this.tempBuff[this.tempBuff.length-1]===o.SEMICOLON;this._isCharacterReferenceAttributeQuirk(le)||(le||this._errOnNextCodePoint(r.missingSemicolonAfterCharacterReference),this.tempBuff=te),this._flushCodePointsConsumedAsCharacterReference(),this.state=this.returnState}else this._flushCodePointsConsumedAsCharacterReference(),this.state=jt}[jt](D){Gs(D)?this._isCharacterReferenceInAttribute()?this.currentAttr.value+=T(D):this._emitCodePoint(D):(D===o.SEMICOLON&&this._err(r.unknownNamedCharacterReference),this._reconsumeInState(this.returnState))}[sr](D){this.charRefCode=0,D===o.LATIN_SMALL_X||D===o.LATIN_CAPITAL_X?(this.tempBuff.push(D),this.state=ln):this._reconsumeInState(dn)}[ln](D){var te;tr(te=D)||oc(te)||Ks(te)?this._reconsumeInState(wn):(this._err(r.absenceOfDigitsInNumericCharacterReference),this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[dn](D){tr(D)?this._reconsumeInState(Gn):(this._err(r.absenceOfDigitsInNumericCharacterReference),this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[wn](D){oc(D)?this.charRefCode=16*this.charRefCode+D-55:Ks(D)?this.charRefCode=16*this.charRefCode+D-87:tr(D)?this.charRefCode=16*this.charRefCode+D-48:D===o.SEMICOLON?this.state=Mn:(this._err(r.missingSemicolonAfterCharacterReference),this._reconsumeInState(Mn))}[Gn](D){tr(D)?this.charRefCode=10*this.charRefCode+D-48:D===o.SEMICOLON?this.state=Mn:(this._err(r.missingSemicolonAfterCharacterReference),this._reconsumeInState(Mn))}[Mn](){if(this.charRefCode===o.NULL)this._err(r.nullCharacterReference),this.charRefCode=o.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(r.characterReferenceOutsideUnicodeRange),this.charRefCode=o.REPLACEMENT_CHARACTER;else if(t.isSurrogate(this.charRefCode))this._err(r.surrogateCharacterReference),this.charRefCode=o.REPLACEMENT_CHARACTER;else if(t.isUndefinedCodePoint(this.charRefCode))this._err(r.noncharacterCharacterReference);else if(t.isControlCodePoint(this.charRefCode)||this.charRefCode===o.CARRIAGE_RETURN){this._err(r.controlCharacterReference);const D=a[this.charRefCode];D&&(this.charRefCode=D)}this.tempBuff=[this.charRefCode],this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState)}}return $.CHARACTER_TOKEN="CHARACTER_TOKEN",$.NULL_CHARACTER_TOKEN="NULL_CHARACTER_TOKEN",$.WHITESPACE_CHARACTER_TOKEN="WHITESPACE_CHARACTER_TOKEN",$.START_TAG_TOKEN="START_TAG_TOKEN",$.END_TAG_TOKEN="END_TAG_TOKEN",$.COMMENT_TOKEN="COMMENT_TOKEN",$.DOCTYPE_TOKEN="DOCTYPE_TOKEN",$.EOF_TOKEN="EOF_TOKEN",$.HIBERNATION_TOKEN="HIBERNATION_TOKEN",$.MODE={DATA:s,RCDATA:l,RAWTEXT:c,SCRIPT_DATA:u,PLAINTEXT:h},$.getTokenAttr=function(G,D){for(let te=G.attrs.length-1;te>=0;te--)if(G.attrs[te].name===D)return G.attrs[te].value;return null},ZG=$}var tK,r3,nK,rK,oK,iK,aK,o3,sK,i3,lK,a3,cK,s3,uK,l3,dK,c3,hK,u3,pK,d3,mK,Ou={};function Bh(){if(tK)return Ou;tK=1;const e=Ou.NAMESPACES={HTML:"http://www.w3.org/1999/xhtml",MATHML:"http://www.w3.org/1998/Math/MathML",SVG:"http://www.w3.org/2000/svg",XLINK:"http://www.w3.org/1999/xlink",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"};Ou.ATTRS={TYPE:"type",ACTION:"action",ENCODING:"encoding",PROMPT:"prompt",NAME:"name",COLOR:"color",FACE:"face",SIZE:"size"},Ou.DOCUMENT_MODE={NO_QUIRKS:"no-quirks",QUIRKS:"quirks",LIMITED_QUIRKS:"limited-quirks"};const t=Ou.TAG_NAMES={A:"a",ADDRESS:"address",ANNOTATION_XML:"annotation-xml",APPLET:"applet",AREA:"area",ARTICLE:"article",ASIDE:"aside",B:"b",BASE:"base",BASEFONT:"basefont",BGSOUND:"bgsound",BIG:"big",BLOCKQUOTE:"blockquote",BODY:"body",BR:"br",BUTTON:"button",CAPTION:"caption",CENTER:"center",CODE:"code",COL:"col",COLGROUP:"colgroup",DD:"dd",DESC:"desc",DETAILS:"details",DIALOG:"dialog",DIR:"dir",DIV:"div",DL:"dl",DT:"dt",EM:"em",EMBED:"embed",FIELDSET:"fieldset",FIGCAPTION:"figcaption",FIGURE:"figure",FONT:"font",FOOTER:"footer",FOREIGN_OBJECT:"foreignObject",FORM:"form",FRAME:"frame",FRAMESET:"frameset",H1:"h1",H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6",HEAD:"head",HEADER:"header",HGROUP:"hgroup",HR:"hr",HTML:"html",I:"i",IMG:"img",IMAGE:"image",INPUT:"input",IFRAME:"iframe",KEYGEN:"keygen",LABEL:"label",LI:"li",LINK:"link",LISTING:"listing",MAIN:"main",MALIGNMARK:"malignmark",MARQUEE:"marquee",MATH:"math",MENU:"menu",META:"meta",MGLYPH:"mglyph",MI:"mi",MO:"mo",MN:"mn",MS:"ms",MTEXT:"mtext",NAV:"nav",NOBR:"nobr",NOFRAMES:"noframes",NOEMBED:"noembed",NOSCRIPT:"noscript",OBJECT:"object",OL:"ol",OPTGROUP:"optgroup",OPTION:"option",P:"p",PARAM:"param",PLAINTEXT:"plaintext",PRE:"pre",RB:"rb",RP:"rp",RT:"rt",RTC:"rtc",RUBY:"ruby",S:"s",SCRIPT:"script",SECTION:"section",SELECT:"select",SOURCE:"source",SMALL:"small",SPAN:"span",STRIKE:"strike",STRONG:"strong",STYLE:"style",SUB:"sub",SUMMARY:"summary",SUP:"sup",TABLE:"table",TBODY:"tbody",TEMPLATE:"template",TEXTAREA:"textarea",TFOOT:"tfoot",TD:"td",TH:"th",THEAD:"thead",TITLE:"title",TR:"tr",TRACK:"track",TT:"tt",U:"u",UL:"ul",SVG:"svg",VAR:"var",WBR:"wbr",XMP:"xmp"};return Ou.SPECIAL_ELEMENTS={[e.HTML]:{[t.ADDRESS]:!0,[t.APPLET]:!0,[t.AREA]:!0,[t.ARTICLE]:!0,[t.ASIDE]:!0,[t.BASE]:!0,[t.BASEFONT]:!0,[t.BGSOUND]:!0,[t.BLOCKQUOTE]:!0,[t.BODY]:!0,[t.BR]:!0,[t.BUTTON]:!0,[t.CAPTION]:!0,[t.CENTER]:!0,[t.COL]:!0,[t.COLGROUP]:!0,[t.DD]:!0,[t.DETAILS]:!0,[t.DIR]:!0,[t.DIV]:!0,[t.DL]:!0,[t.DT]:!0,[t.EMBED]:!0,[t.FIELDSET]:!0,[t.FIGCAPTION]:!0,[t.FIGURE]:!0,[t.FOOTER]:!0,[t.FORM]:!0,[t.FRAME]:!0,[t.FRAMESET]:!0,[t.H1]:!0,[t.H2]:!0,[t.H3]:!0,[t.H4]:!0,[t.H5]:!0,[t.H6]:!0,[t.HEAD]:!0,[t.HEADER]:!0,[t.HGROUP]:!0,[t.HR]:!0,[t.HTML]:!0,[t.IFRAME]:!0,[t.IMG]:!0,[t.INPUT]:!0,[t.LI]:!0,[t.LINK]:!0,[t.LISTING]:!0,[t.MAIN]:!0,[t.MARQUEE]:!0,[t.MENU]:!0,[t.META]:!0,[t.NAV]:!0,[t.NOEMBED]:!0,[t.NOFRAMES]:!0,[t.NOSCRIPT]:!0,[t.OBJECT]:!0,[t.OL]:!0,[t.P]:!0,[t.PARAM]:!0,[t.PLAINTEXT]:!0,[t.PRE]:!0,[t.SCRIPT]:!0,[t.SECTION]:!0,[t.SELECT]:!0,[t.SOURCE]:!0,[t.STYLE]:!0,[t.SUMMARY]:!0,[t.TABLE]:!0,[t.TBODY]:!0,[t.TD]:!0,[t.TEMPLATE]:!0,[t.TEXTAREA]:!0,[t.TFOOT]:!0,[t.TH]:!0,[t.THEAD]:!0,[t.TITLE]:!0,[t.TR]:!0,[t.TRACK]:!0,[t.UL]:!0,[t.WBR]:!0,[t.XMP]:!0},[e.MATHML]:{[t.MI]:!0,[t.MO]:!0,[t.MN]:!0,[t.MS]:!0,[t.MTEXT]:!0,[t.ANNOTATION_XML]:!0},[e.SVG]:{[t.TITLE]:!0,[t.FOREIGN_OBJECT]:!0,[t.DESC]:!0}},Ou}function qs(){if(aK)return iK;aK=1;class e{constructor(n){const r={},o=this._getOverriddenMethods(this,r);for(const i of Object.keys(o))typeof o[i]=="function"&&(r[i]=n[i],n[i]=o[i])}_getOverriddenMethods(){throw new Error("Not implemented")}}return e.install=function(t,n,r){t.__mixins||(t.__mixins=[]);for(let i=0;i<t.__mixins.length;i++)if(t.__mixins[i].constructor===n)return t.__mixins[i];const o=new n(t,r);return t.__mixins.push(o),o},iK=e}function fK(){if(sK)return o3;sK=1;const e=qs();return o3=class extends e{constructor(t){super(t),this.preprocessor=t,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.offset=0,this.col=0,this.line=1}_getOverriddenMethods(t,n){return{advance(){const r=this.pos+1,o=this.html[r];return t.isEol&&(t.isEol=!1,t.line++,t.lineStartPos=r),(o===`
`||o==="\r"&&this.html[r+1]!==`
`)&&(t.isEol=!0),t.col=r-t.lineStartPos+1,t.offset=t.droppedBufferSize+r,n.advance.call(this)},retreat(){n.retreat.call(this),t.isEol=!1,t.col=this.pos-t.lineStartPos+1},dropParsedChunk(){const r=this.pos;n.dropParsedChunk.call(this);const o=r-this.pos;t.lineStartPos-=o,t.droppedBufferSize+=o,t.offset=t.droppedBufferSize+this.pos}}}},o3}function gK(){if(lK)return i3;lK=1;const e=qs(),t=Sy(),n=fK();return i3=class extends e{constructor(r){super(r),this.tokenizer=r,this.posTracker=e.install(r.preprocessor,n),this.currentAttrLocation=null,this.ctLoc=null}_getCurrentLocation(){return{startLine:this.posTracker.line,startCol:this.posTracker.col,startOffset:this.posTracker.offset,endLine:-1,endCol:-1,endOffset:-1}}_attachCurrentAttrLocationInfo(){this.currentAttrLocation.endLine=this.posTracker.line,this.currentAttrLocation.endCol=this.posTracker.col,this.currentAttrLocation.endOffset=this.posTracker.offset;const r=this.tokenizer.currentToken,o=this.tokenizer.currentAttr;r.location.attrs||(r.location.attrs=Object.create(null)),r.location.attrs[o.name]=this.currentAttrLocation}_getOverriddenMethods(r,o){const i={_createStartTagToken(){o._createStartTagToken.call(this),this.currentToken.location=r.ctLoc},_createEndTagToken(){o._createEndTagToken.call(this),this.currentToken.location=r.ctLoc},_createCommentToken(){o._createCommentToken.call(this),this.currentToken.location=r.ctLoc},_createDoctypeToken(a){o._createDoctypeToken.call(this,a),this.currentToken.location=r.ctLoc},_createCharacterToken(a,s){o._createCharacterToken.call(this,a,s),this.currentCharacterToken.location=r.ctLoc},_createEOFToken(){o._createEOFToken.call(this),this.currentToken.location=r._getCurrentLocation()},_createAttr(a){o._createAttr.call(this,a),r.currentAttrLocation=r._getCurrentLocation()},_leaveAttrName(a){o._leaveAttrName.call(this,a),r._attachCurrentAttrLocationInfo()},_leaveAttrValue(a){o._leaveAttrValue.call(this,a),r._attachCurrentAttrLocationInfo()},_emitCurrentToken(){const a=this.currentToken.location;this.currentCharacterToken&&(this.currentCharacterToken.location.endLine=a.startLine,this.currentCharacterToken.location.endCol=a.startCol,this.currentCharacterToken.location.endOffset=a.startOffset),this.currentToken.type===t.EOF_TOKEN?(a.endLine=a.startLine,a.endCol=a.startCol,a.endOffset=a.startOffset):(a.endLine=r.posTracker.line,a.endCol=r.posTracker.col+1,a.endOffset=r.posTracker.offset+1),o._emitCurrentToken.call(this)},_emitCurrentCharacterToken(){const a=this.currentCharacterToken&&this.currentCharacterToken.location;a&&a.endOffset===-1&&(a.endLine=r.posTracker.line,a.endCol=r.posTracker.col,a.endOffset=r.posTracker.offset),o._emitCurrentCharacterToken.call(this)}};return Object.keys(t.MODE).forEach(a=>{const s=t.MODE[a];i[s]=function(l){r.ctLoc=r._getCurrentLocation(),o[s].call(this,l)}}),i}},i3}function V5e(){if(uK)return s3;uK=1;const e=qs(),t=Sy(),n=gK(),r=function(){if(cK)return a3;cK=1;const i=qs();return a3=class extends i{constructor(a,s){super(a),this.onItemPop=s.onItemPop}_getOverriddenMethods(a,s){return{pop(){a.onItemPop(this.current),s.pop.call(this)},popAllUpToHtmlElement(){for(let l=this.stackTop;l>0;l--)a.onItemPop(this.items[l]);s.popAllUpToHtmlElement.call(this)},remove(l){a.onItemPop(this.current),s.remove.call(this,l)}}}},a3}(),o=Bh().TAG_NAMES;return s3=class extends e{constructor(i){super(i),this.parser=i,this.treeAdapter=this.parser.treeAdapter,this.posTracker=null,this.lastStartTagToken=null,this.lastFosterParentingLocation=null,this.currentToken=null}_setStartLocation(i){let a=null;this.lastStartTagToken&&(a=Object.assign({},this.lastStartTagToken.location),a.startTag=this.lastStartTagToken.location),this.treeAdapter.setNodeSourceCodeLocation(i,a)}_setEndLocation(i,a){if(this.treeAdapter.getNodeSourceCodeLocation(i)&&a.location){const s=a.location,l=this.treeAdapter.getTagName(i),c={};a.type===t.END_TAG_TOKEN&&l===a.tagName?(c.endTag=Object.assign({},s),c.endLine=s.endLine,c.endCol=s.endCol,c.endOffset=s.endOffset):(c.endLine=s.startLine,c.endCol=s.startCol,c.endOffset=s.startOffset),this.treeAdapter.updateNodeSourceCodeLocation(i,c)}}_getOverriddenMethods(i,a){return{_bootstrap(s,l){a._bootstrap.call(this,s,l),i.lastStartTagToken=null,i.lastFosterParentingLocation=null,i.currentToken=null;const c=e.install(this.tokenizer,n);i.posTracker=c.posTracker,e.install(this.openElements,r,{onItemPop:function(u){i._setEndLocation(u,i.currentToken)}})},_runParsingLoop(s){a._runParsingLoop.call(this,s);for(let l=this.openElements.stackTop;l>=0;l--)i._setEndLocation(this.openElements.items[l],i.currentToken)},_processTokenInForeignContent(s){i.currentToken=s,a._processTokenInForeignContent.call(this,s)},_processToken(s){if(i.currentToken=s,a._processToken.call(this,s),s.type===t.END_TAG_TOKEN&&(s.tagName===o.HTML||s.tagName===o.BODY&&this.openElements.hasInScope(o.BODY)))for(let l=this.openElements.stackTop;l>=0;l--){const c=this.openElements.items[l];if(this.treeAdapter.getTagName(c)===s.tagName){i._setEndLocation(c,s);break}}},_setDocumentType(s){a._setDocumentType.call(this,s);const l=this.treeAdapter.getChildNodes(this.document),c=l.length;for(let u=0;u<c;u++){const h=l[u];if(this.treeAdapter.isDocumentTypeNode(h)){this.treeAdapter.setNodeSourceCodeLocation(h,s.location);break}}},_attachElementToTree(s){i._setStartLocation(s),i.lastStartTagToken=null,a._attachElementToTree.call(this,s)},_appendElement(s,l){i.lastStartTagToken=s,a._appendElement.call(this,s,l)},_insertElement(s,l){i.lastStartTagToken=s,a._insertElement.call(this,s,l)},_insertTemplate(s){i.lastStartTagToken=s,a._insertTemplate.call(this,s);const l=this.treeAdapter.getTemplateContent(this.openElements.current);this.treeAdapter.setNodeSourceCodeLocation(l,null)},_insertFakeRootElement(){a._insertFakeRootElement.call(this),this.treeAdapter.setNodeSourceCodeLocation(this.openElements.current,null)},_appendCommentNode(s,l){a._appendCommentNode.call(this,s,l);const c=this.treeAdapter.getChildNodes(l),u=c[c.length-1];this.treeAdapter.setNodeSourceCodeLocation(u,s.location)},_findFosterParentingLocation(){return i.lastFosterParentingLocation=a._findFosterParentingLocation.call(this),i.lastFosterParentingLocation},_insertCharacters(s){a._insertCharacters.call(this,s);const l=this._shouldFosterParentOnInsertion(),c=l&&i.lastFosterParentingLocation.parent||this.openElements.currentTmplContent||this.openElements.current,u=this.treeAdapter.getChildNodes(c),h=l&&i.lastFosterParentingLocation.beforeElement?u.indexOf(i.lastFosterParentingLocation.beforeElement)-1:u.length-1,p=u[h];if(this.treeAdapter.getNodeSourceCodeLocation(p)){const{endLine:d,endCol:f,endOffset:g}=s.location;this.treeAdapter.updateNodeSourceCodeLocation(p,{endLine:d,endCol:f,endOffset:g})}else this.treeAdapter.setNodeSourceCodeLocation(p,s.location)}}}},s3}function h3(){if(dK)return l3;dK=1;const e=qs();return l3=class extends e{constructor(t,n){super(t),this.posTracker=null,this.onParseError=n.onParseError}_setErrorLocation(t){t.startLine=t.endLine=this.posTracker.line,t.startCol=t.endCol=this.posTracker.col,t.startOffset=t.endOffset=this.posTracker.offset}_reportError(t){const n={code:t,startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1};this._setErrorLocation(n),this.onParseError(n)}_getOverriddenMethods(t){return{_err(n){t._reportError(n)}}}},l3}function $5e(){if(pK)return u3;pK=1;const e=h3(),t=function(){if(hK)return c3;hK=1;const r=h3(),o=fK(),i=qs();return c3=class extends r{constructor(a,s){super(a,s),this.posTracker=i.install(a,o),this.lastErrOffset=-1}_reportError(a){this.lastErrOffset!==this.posTracker.offset&&(this.lastErrOffset=this.posTracker.offset,super._reportError(a))}},c3}(),n=qs();return u3=class extends e{constructor(r,o){super(r,o);const i=n.install(r.preprocessor,t,o);this.posTracker=i.posTracker}},u3}var vK,bK,yK,Ut={},wK,Km={},kK,p3,xK,Ws={};function q5e(){if(kK)return Ws;kK=1;const e=Sy(),t=Bh(),n=t.TAG_NAMES,r=t.NAMESPACES,o=t.ATTRS,i="text/html",a="application/xhtml+xml",s={attributename:"attributeName",attributetype:"attributeType",basefrequency:"baseFrequency",baseprofile:"baseProfile",calcmode:"calcMode",clippathunits:"clipPathUnits",diffuseconstant:"diffuseConstant",edgemode:"edgeMode",filterunits:"filterUnits",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",limitingconeangle:"limitingConeAngle",markerheight:"markerHeight",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textlength:"textLength",viewbox:"viewBox",viewtarget:"viewTarget",xchannelselector:"xChannelSelector",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan"},l={"xlink:actuate":{prefix:"xlink",name:"actuate",namespace:r.XLINK},"xlink:arcrole":{prefix:"xlink",name:"arcrole",namespace:r.XLINK},"xlink:href":{prefix:"xlink",name:"href",namespace:r.XLINK},"xlink:role":{prefix:"xlink",name:"role",namespace:r.XLINK},"xlink:show":{prefix:"xlink",name:"show",namespace:r.XLINK},"xlink:title":{prefix:"xlink",name:"title",namespace:r.XLINK},"xlink:type":{prefix:"xlink",name:"type",namespace:r.XLINK},"xml:base":{prefix:"xml",name:"base",namespace:r.XML},"xml:lang":{prefix:"xml",name:"lang",namespace:r.XML},"xml:space":{prefix:"xml",name:"space",namespace:r.XML},xmlns:{prefix:"",name:"xmlns",namespace:r.XMLNS},"xmlns:xlink":{prefix:"xmlns",name:"xlink",namespace:r.XMLNS}},c=Ws.SVG_TAG_NAMES_ADJUSTMENT_MAP={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},u={[n.B]:!0,[n.BIG]:!0,[n.BLOCKQUOTE]:!0,[n.BODY]:!0,[n.BR]:!0,[n.CENTER]:!0,[n.CODE]:!0,[n.DD]:!0,[n.DIV]:!0,[n.DL]:!0,[n.DT]:!0,[n.EM]:!0,[n.EMBED]:!0,[n.H1]:!0,[n.H2]:!0,[n.H3]:!0,[n.H4]:!0,[n.H5]:!0,[n.H6]:!0,[n.HEAD]:!0,[n.HR]:!0,[n.I]:!0,[n.IMG]:!0,[n.LI]:!0,[n.LISTING]:!0,[n.MENU]:!0,[n.META]:!0,[n.NOBR]:!0,[n.OL]:!0,[n.P]:!0,[n.PRE]:!0,[n.RUBY]:!0,[n.S]:!0,[n.SMALL]:!0,[n.SPAN]:!0,[n.STRONG]:!0,[n.STRIKE]:!0,[n.SUB]:!0,[n.SUP]:!0,[n.TABLE]:!0,[n.TT]:!0,[n.U]:!0,[n.UL]:!0,[n.VAR]:!0};return Ws.causesExit=function(h){const p=h.tagName;return p===n.FONT&&(e.getTokenAttr(h,o.COLOR)!==null||e.getTokenAttr(h,o.SIZE)!==null||e.getTokenAttr(h,o.FACE)!==null)||u[p]},Ws.adjustTokenMathMLAttrs=function(h){for(let p=0;p<h.attrs.length;p++)if(h.attrs[p].name==="definitionurl"){h.attrs[p].name="definitionURL";break}},Ws.adjustTokenSVGAttrs=function(h){for(let p=0;p<h.attrs.length;p++){const d=s[h.attrs[p].name];d&&(h.attrs[p].name=d)}},Ws.adjustTokenXMLAttrs=function(h){for(let p=0;p<h.attrs.length;p++){const d=l[h.attrs[p].name];d&&(h.attrs[p].prefix=d.prefix,h.attrs[p].name=d.name,h.attrs[p].namespace=d.namespace)}},Ws.adjustTokenSVGTagName=function(h){const p=c[h.tagName];p&&(h.tagName=p)},Ws.isIntegrationPoint=function(h,p,d,f){return!((f&&f!==r.HTML||!function(g,m,v){if(m===r.MATHML&&g===n.ANNOTATION_XML){for(let y=0;y<v.length;y++)if(v[y].name===o.ENCODING){const b=v[y].value.toLowerCase();return b===i||b===a}}return m===r.SVG&&(g===n.FOREIGN_OBJECT||g===n.DESC||g===n.TITLE)}(h,p,d))&&(f&&f!==r.MATHML||!function(g,m){return m===r.MATHML&&(g===n.MI||g===n.MO||g===n.MN||g===n.MS||g===n.MTEXT)}(h,p)))},Ws}var W5e=function(){if(xK)return p3;xK=1;const e=Sy(),t=function(){if(nK)return r3;nK=1;const T=Bh(),I=T.TAG_NAMES,M=T.NAMESPACES;function $(te){switch(te.length){case 1:return te===I.P;case 2:return te===I.RB||te===I.RP||te===I.RT||te===I.DD||te===I.DT||te===I.LI;case 3:return te===I.RTC;case 6:return te===I.OPTION;case 8:return te===I.OPTGROUP}return!1}function G(te){switch(te.length){case 1:return te===I.P;case 2:return te===I.RB||te===I.RP||te===I.RT||te===I.DD||te===I.DT||te===I.LI||te===I.TD||te===I.TH||te===I.TR;case 3:return te===I.RTC;case 5:return te===I.TBODY||te===I.TFOOT||te===I.THEAD;case 6:return te===I.OPTION;case 7:return te===I.CAPTION;case 8:return te===I.OPTGROUP||te===I.COLGROUP}return!1}function D(te,le){switch(te.length){case 2:if(te===I.TD||te===I.TH)return le===M.HTML;if(te===I.MI||te===I.MO||te===I.MN||te===I.MS)return le===M.MATHML;break;case 4:if(te===I.HTML)return le===M.HTML;if(te===I.DESC)return le===M.SVG;break;case 5:if(te===I.TABLE)return le===M.HTML;if(te===I.MTEXT)return le===M.MATHML;if(te===I.TITLE)return le===M.SVG;break;case 6:return(te===I.APPLET||te===I.OBJECT)&&le===M.HTML;case 7:return(te===I.CAPTION||te===I.MARQUEE)&&le===M.HTML;case 8:return te===I.TEMPLATE&&le===M.HTML;case 13:return te===I.FOREIGN_OBJECT&&le===M.SVG;case 14:return te===I.ANNOTATION_XML&&le===M.MATHML}return!1}return r3=class{constructor(te,le){this.stackTop=-1,this.items=[],this.current=te,this.currentTagName=null,this.currentTmplContent=null,this.tmplCount=0,this.treeAdapter=le}_indexOf(te){let le=-1;for(let Fe=this.stackTop;Fe>=0;Fe--)if(this.items[Fe]===te){le=Fe;break}return le}_isInTemplate(){return this.currentTagName===I.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===M.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagName=this.current&&this.treeAdapter.getTagName(this.current),this.currentTmplContent=this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):null}push(te){this.items[++this.stackTop]=te,this._updateCurrentElement(),this._isInTemplate()&&this.tmplCount++}pop(){this.stackTop--,this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this._updateCurrentElement()}replace(te,le){const Fe=this._indexOf(te);this.items[Fe]=le,Fe===this.stackTop&&this._updateCurrentElement()}insertAfter(te,le){const Fe=this._indexOf(te)+1;this.items.splice(Fe,0,le),Fe===++this.stackTop&&this._updateCurrentElement()}popUntilTagNamePopped(te){for(;this.stackTop>-1;){const le=this.currentTagName,Fe=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),le===te&&Fe===M.HTML)break}}popUntilElementPopped(te){for(;this.stackTop>-1;){const le=this.current;if(this.pop(),le===te)break}}popUntilNumberedHeaderPopped(){for(;this.stackTop>-1;){const te=this.currentTagName,le=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),te===I.H1||te===I.H2||te===I.H3||te===I.H4||te===I.H5||te===I.H6&&le===M.HTML)break}}popUntilTableCellPopped(){for(;this.stackTop>-1;){const te=this.currentTagName,le=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),te===I.TD||te===I.TH&&le===M.HTML)break}}popAllUpToHtmlElement(){this.stackTop=0,this._updateCurrentElement()}clearBackToTableContext(){for(;this.currentTagName!==I.TABLE&&this.currentTagName!==I.TEMPLATE&&this.currentTagName!==I.HTML||this.treeAdapter.getNamespaceURI(this.current)!==M.HTML;)this.pop()}clearBackToTableBodyContext(){for(;this.currentTagName!==I.TBODY&&this.currentTagName!==I.TFOOT&&this.currentTagName!==I.THEAD&&this.currentTagName!==I.TEMPLATE&&this.currentTagName!==I.HTML||this.treeAdapter.getNamespaceURI(this.current)!==M.HTML;)this.pop()}clearBackToTableRowContext(){for(;this.currentTagName!==I.TR&&this.currentTagName!==I.TEMPLATE&&this.currentTagName!==I.HTML||this.treeAdapter.getNamespaceURI(this.current)!==M.HTML;)this.pop()}remove(te){for(let le=this.stackTop;le>=0;le--)if(this.items[le]===te){this.items.splice(le,1),this.stackTop--,this._updateCurrentElement();break}}tryPeekProperlyNestedBodyElement(){const te=this.items[1];return te&&this.treeAdapter.getTagName(te)===I.BODY?te:null}contains(te){return this._indexOf(te)>-1}getCommonAncestor(te){let le=this._indexOf(te);return--le>=0?this.items[le]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.currentTagName===I.HTML}hasInScope(te){for(let le=this.stackTop;le>=0;le--){const Fe=this.treeAdapter.getTagName(this.items[le]),st=this.treeAdapter.getNamespaceURI(this.items[le]);if(Fe===te&&st===M.HTML)return!0;if(D(Fe,st))return!1}return!0}hasNumberedHeaderInScope(){for(let te=this.stackTop;te>=0;te--){const le=this.treeAdapter.getTagName(this.items[te]),Fe=this.treeAdapter.getNamespaceURI(this.items[te]);if((le===I.H1||le===I.H2||le===I.H3||le===I.H4||le===I.H5||le===I.H6)&&Fe===M.HTML)return!0;if(D(le,Fe))return!1}return!0}hasInListItemScope(te){for(let le=this.stackTop;le>=0;le--){const Fe=this.treeAdapter.getTagName(this.items[le]),st=this.treeAdapter.getNamespaceURI(this.items[le]);if(Fe===te&&st===M.HTML)return!0;if((Fe===I.UL||Fe===I.OL)&&st===M.HTML||D(Fe,st))return!1}return!0}hasInButtonScope(te){for(let le=this.stackTop;le>=0;le--){const Fe=this.treeAdapter.getTagName(this.items[le]),st=this.treeAdapter.getNamespaceURI(this.items[le]);if(Fe===te&&st===M.HTML)return!0;if(Fe===I.BUTTON&&st===M.HTML||D(Fe,st))return!1}return!0}hasInTableScope(te){for(let le=this.stackTop;le>=0;le--){const Fe=this.treeAdapter.getTagName(this.items[le]);if(this.treeAdapter.getNamespaceURI(this.items[le])===M.HTML){if(Fe===te)return!0;if(Fe===I.TABLE||Fe===I.TEMPLATE||Fe===I.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let te=this.stackTop;te>=0;te--){const le=this.treeAdapter.getTagName(this.items[te]);if(this.treeAdapter.getNamespaceURI(this.items[te])===M.HTML){if(le===I.TBODY||le===I.THEAD||le===I.TFOOT)return!0;if(le===I.TABLE||le===I.HTML)return!1}}return!0}hasInSelectScope(te){for(let le=this.stackTop;le>=0;le--){const Fe=this.treeAdapter.getTagName(this.items[le]);if(this.treeAdapter.getNamespaceURI(this.items[le])===M.HTML){if(Fe===te)return!0;if(Fe!==I.OPTION&&Fe!==I.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;$(this.currentTagName);)this.pop()}generateImpliedEndTagsThoroughly(){for(;G(this.currentTagName);)this.pop()}generateImpliedEndTagsWithExclusion(te){for(;$(this.currentTagName)&&this.currentTagName!==te;)this.pop()}},r3}(),n=function(){if(oK)return rK;oK=1;class T{constructor(M){this.length=0,this.entries=[],this.treeAdapter=M,this.bookmark=null}_getNoahArkConditionCandidates(M){const $=[];if(this.length>=3){const G=this.treeAdapter.getAttrList(M).length,D=this.treeAdapter.getTagName(M),te=this.treeAdapter.getNamespaceURI(M);for(let le=this.length-1;le>=0;le--){const Fe=this.entries[le];if(Fe.type===T.MARKER_ENTRY)break;const st=Fe.element,cn=this.treeAdapter.getAttrList(st);this.treeAdapter.getTagName(st)===D&&this.treeAdapter.getNamespaceURI(st)===te&&cn.length===G&&$.push({idx:le,attrs:cn})}}return $.length<3?[]:$}_ensureNoahArkCondition(M){const $=this._getNoahArkConditionCandidates(M);let G=$.length;if(G){const D=this.treeAdapter.getAttrList(M),te=D.length,le=Object.create(null);for(let Fe=0;Fe<te;Fe++){const st=D[Fe];le[st.name]=st.value}for(let Fe=0;Fe<te;Fe++)for(let st=0;st<G;st++){const cn=$[st].attrs[Fe];if(le[cn.name]!==cn.value&&($.splice(st,1),G--),$.length<3)return}for(let Fe=G-1;Fe>=2;Fe--)this.entries.splice($[Fe].idx,1),this.length--}}insertMarker(){this.entries.push({type:T.MARKER_ENTRY}),this.length++}pushElement(M,$){this._ensureNoahArkCondition(M),this.entries.push({type:T.ELEMENT_ENTRY,element:M,token:$}),this.length++}insertElementAfterBookmark(M,$){let G=this.length-1;for(;G>=0&&this.entries[G]!==this.bookmark;G--);this.entries.splice(G+1,0,{type:T.ELEMENT_ENTRY,element:M,token:$}),this.length++}removeEntry(M){for(let $=this.length-1;$>=0;$--)if(this.entries[$]===M){this.entries.splice($,1),this.length--;break}}clearToLastMarker(){for(;this.length;){const M=this.entries.pop();if(this.length--,M.type===T.MARKER_ENTRY)break}}getElementEntryInScopeWithTagName(M){for(let $=this.length-1;$>=0;$--){const G=this.entries[$];if(G.type===T.MARKER_ENTRY)return null;if(this.treeAdapter.getTagName(G.element)===M)return G}return null}getElementEntry(M){for(let $=this.length-1;$>=0;$--){const G=this.entries[$];if(G.type===T.ELEMENT_ENTRY&&G.element===M)return G}return null}}return T.MARKER_ENTRY="MARKER_ENTRY",T.ELEMENT_ENTRY="ELEMENT_ENTRY",rK=T}(),r=V5e(),o=function(){if(mK)return d3;mK=1;const T=h3(),I=$5e(),M=gK(),$=qs();return d3=class extends T{constructor(G,D){super(G,D),this.opts=D,this.ctLoc=null,this.locBeforeToken=!1}_setErrorLocation(G){this.ctLoc&&(G.startLine=this.ctLoc.startLine,G.startCol=this.ctLoc.startCol,G.startOffset=this.ctLoc.startOffset,G.endLine=this.locBeforeToken?this.ctLoc.startLine:this.ctLoc.endLine,G.endCol=this.locBeforeToken?this.ctLoc.startCol:this.ctLoc.endCol,G.endOffset=this.locBeforeToken?this.ctLoc.startOffset:this.ctLoc.endOffset)}_getOverriddenMethods(G,D){return{_bootstrap(te,le){D._bootstrap.call(this,te,le),$.install(this.tokenizer,I,G.opts),$.install(this.tokenizer,M)},_processInputToken(te){G.ctLoc=te.location,D._processInputToken.call(this,te)},_err(te,le){G.locBeforeToken=le&&le.beforeToken,G._reportError(te)}}}},d3}(),i=qs(),a=function(){if(vK)return Ut;vK=1;const{DOCUMENT_MODE:T}=Bh();Ut.createDocument=function(){return{nodeName:"#document",mode:T.NO_QUIRKS,childNodes:[]}},Ut.createDocumentFragment=function(){return{nodeName:"#document-fragment",childNodes:[]}},Ut.createElement=function(G,D,te){return{nodeName:G,tagName:G,attrs:te,namespaceURI:D,childNodes:[],parentNode:null}},Ut.createCommentNode=function(G){return{nodeName:"#comment",data:G,parentNode:null}};const I=function(G){return{nodeName:"#text",value:G,parentNode:null}},M=Ut.appendChild=function(G,D){G.childNodes.push(D),D.parentNode=G},$=Ut.insertBefore=function(G,D,te){const le=G.childNodes.indexOf(te);G.childNodes.splice(le,0,D),D.parentNode=G};return Ut.setTemplateContent=function(G,D){G.content=D},Ut.getTemplateContent=function(G){return G.content},Ut.setDocumentType=function(G,D,te,le){let Fe=null;for(let st=0;st<G.childNodes.length;st++)if(G.childNodes[st].nodeName==="#documentType"){Fe=G.childNodes[st];break}Fe?(Fe.name=D,Fe.publicId=te,Fe.systemId=le):M(G,{nodeName:"#documentType",name:D,publicId:te,systemId:le})},Ut.setDocumentMode=function(G,D){G.mode=D},Ut.getDocumentMode=function(G){return G.mode},Ut.detachNode=function(G){if(G.parentNode){const D=G.parentNode.childNodes.indexOf(G);G.parentNode.childNodes.splice(D,1),G.parentNode=null}},Ut.insertText=function(G,D){if(G.childNodes.length){const te=G.childNodes[G.childNodes.length-1];if(te.nodeName==="#text")return void(te.value+=D)}M(G,I(D))},Ut.insertTextBefore=function(G,D,te){const le=G.childNodes[G.childNodes.indexOf(te)-1];le&&le.nodeName==="#text"?le.value+=D:$(G,I(D),te)},Ut.adoptAttributes=function(G,D){const te=[];for(let le=0;le<G.attrs.length;le++)te.push(G.attrs[le].name);for(let le=0;le<D.length;le++)te.indexOf(D[le].name)===-1&&G.attrs.push(D[le])},Ut.getFirstChild=function(G){return G.childNodes[0]},Ut.getChildNodes=function(G){return G.childNodes},Ut.getParentNode=function(G){return G.parentNode},Ut.getAttrList=function(G){return G.attrs},Ut.getTagName=function(G){return G.tagName},Ut.getNamespaceURI=function(G){return G.namespaceURI},Ut.getTextNodeContent=function(G){return G.value},Ut.getCommentNodeContent=function(G){return G.data},Ut.getDocumentTypeNodeName=function(G){return G.name},Ut.getDocumentTypeNodePublicId=function(G){return G.publicId},Ut.getDocumentTypeNodeSystemId=function(G){return G.systemId},Ut.isTextNode=function(G){return G.nodeName==="#text"},Ut.isCommentNode=function(G){return G.nodeName==="#comment"},Ut.isDocumentTypeNode=function(G){return G.nodeName==="#documentType"},Ut.isElementNode=function(G){return!!G.tagName},Ut.setNodeSourceCodeLocation=function(G,D){G.sourceCodeLocation=D},Ut.getNodeSourceCodeLocation=function(G){return G.sourceCodeLocation},Ut.updateNodeSourceCodeLocation=function(G,D){G.sourceCodeLocation=Object.assign(G.sourceCodeLocation,D)},Ut}(),s=(yK||(yK=1,bK=function(T,I){return[T,I=I||Object.create(null)].reduce((M,$)=>(Object.keys($).forEach(G=>{M[G]=$[G]}),M),Object.create(null))}),bK),l=function(){if(wK)return Km;wK=1;const{DOCUMENT_MODE:T}=Bh(),I="html",M=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],$=M.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]),G=["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"],D=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],te=D.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]);function le(st){const cn=st.indexOf('"')!==-1?"'":'"';return cn+st+cn}function Fe(st,cn){for(let En=0;En<cn.length;En++)if(st.indexOf(cn[En])===0)return!0;return!1}return Km.isConforming=function(st){return st.name===I&&st.publicId===null&&(st.systemId===null||st.systemId==="about:legacy-compat")},Km.getDocumentMode=function(st){if(st.name!==I)return T.QUIRKS;const cn=st.systemId;if(cn&&cn.toLowerCase()==="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd")return T.QUIRKS;let En=st.publicId;if(En!==null){if(En=En.toLowerCase(),G.indexOf(En)>-1)return T.QUIRKS;let Wr=cn===null?$:M;if(Fe(En,Wr))return T.QUIRKS;if(Wr=cn===null?D:te,Fe(En,Wr))return T.LIMITED_QUIRKS}return T.NO_QUIRKS},Km.serializeContent=function(st,cn,En){let Wr="!DOCTYPE ";return st&&(Wr+=st),cn?Wr+=" PUBLIC "+le(cn):En&&(Wr+=" SYSTEM"),En!==null&&(Wr+=" "+le(En)),Wr},Km}(),c=q5e(),u=n3(),h=t3(),p=Bh(),d=p.TAG_NAMES,f=p.NAMESPACES,g=p.ATTRS,m={scriptingEnabled:!0,sourceCodeLocationInfo:!1,onParseError:null,treeAdapter:a},v="hidden",y=8,b=3,w="INITIAL_MODE",k="BEFORE_HTML_MODE",_="BEFORE_HEAD_MODE",O="IN_HEAD_MODE",E="IN_HEAD_NO_SCRIPT_MODE",C="AFTER_HEAD_MODE",N="IN_BODY_MODE",L="TEXT_MODE",j="IN_TABLE_MODE",H="IN_TABLE_TEXT_MODE",F="IN_CAPTION_MODE",z="IN_COLUMN_GROUP_MODE",B="IN_TABLE_BODY_MODE",V="IN_ROW_MODE",U="IN_CELL_MODE",S="IN_SELECT_MODE",q="IN_SELECT_IN_TABLE_MODE",P="IN_TEMPLATE_MODE",Q="AFTER_BODY_MODE",re="IN_FRAMESET_MODE",_e="AFTER_FRAMESET_MODE",se="AFTER_AFTER_BODY_MODE",ue="AFTER_AFTER_FRAMESET_MODE",fe={[d.TR]:V,[d.TBODY]:B,[d.THEAD]:B,[d.TFOOT]:B,[d.CAPTION]:F,[d.COLGROUP]:z,[d.TABLE]:j,[d.BODY]:N,[d.FRAMESET]:re},je={[d.CAPTION]:j,[d.COLGROUP]:j,[d.TBODY]:j,[d.TFOOT]:j,[d.THEAD]:j,[d.COL]:z,[d.TR]:B,[d.TD]:V,[d.TH]:V},Qe={[w]:{[e.CHARACTER_TOKEN]:Ye,[e.NULL_CHARACTER_TOKEN]:Ye,[e.WHITESPACE_CHARACTER_TOKEN]:we,[e.COMMENT_TOKEN]:ke,[e.DOCTYPE_TOKEN]:function(T,I){T._setDocumentType(I);const M=I.forceQuirks?p.DOCUMENT_MODE.QUIRKS:l.getDocumentMode(I);l.isConforming(I)||T._err(u.nonConformingDoctype),T.treeAdapter.setDocumentMode(T.document,M),T.insertionMode=k},[e.START_TAG_TOKEN]:Ye,[e.END_TAG_TOKEN]:Ye,[e.EOF_TOKEN]:Ye},[k]:{[e.CHARACTER_TOKEN]:ct,[e.NULL_CHARACTER_TOKEN]:ct,[e.WHITESPACE_CHARACTER_TOKEN]:we,[e.COMMENT_TOKEN]:ke,[e.DOCTYPE_TOKEN]:we,[e.START_TAG_TOKEN]:function(T,I){I.tagName===d.HTML?(T._insertElement(I,f.HTML),T.insertionMode=_):ct(T,I)},[e.END_TAG_TOKEN]:function(T,I){const M=I.tagName;(M===d.HTML||M===d.HEAD||M===d.BODY||M===d.BR)&&ct(T,I)},[e.EOF_TOKEN]:ct},[_]:{[e.CHARACTER_TOKEN]:Re,[e.NULL_CHARACTER_TOKEN]:Re,[e.WHITESPACE_CHARACTER_TOKEN]:we,[e.COMMENT_TOKEN]:ke,[e.DOCTYPE_TOKEN]:Oe,[e.START_TAG_TOKEN]:function(T,I){const M=I.tagName;M===d.HTML?Ct(T,I):M===d.HEAD?(T._insertElement(I,f.HTML),T.headElement=T.openElements.current,T.insertionMode=O):Re(T,I)},[e.END_TAG_TOKEN]:function(T,I){const M=I.tagName;M===d.HEAD||M===d.BODY||M===d.HTML||M===d.BR?Re(T,I):T._err(u.endTagWithoutMatchingOpenElement)},[e.EOF_TOKEN]:Re},[O]:{[e.CHARACTER_TOKEN]:et,[e.NULL_CHARACTER_TOKEN]:et,[e.WHITESPACE_CHARACTER_TOKEN]:Le,[e.COMMENT_TOKEN]:ke,[e.DOCTYPE_TOKEN]:Oe,[e.START_TAG_TOKEN]:ze,[e.END_TAG_TOKEN]:He,[e.EOF_TOKEN]:et},[E]:{[e.CHARACTER_TOKEN]:oe,[e.NULL_CHARACTER_TOKEN]:oe,[e.WHITESPACE_CHARACTER_TOKEN]:Le,[e.COMMENT_TOKEN]:ke,[e.DOCTYPE_TOKEN]:Oe,[e.START_TAG_TOKEN]:function(T,I){const M=I.tagName;M===d.HTML?Ct(T,I):M===d.BASEFONT||M===d.BGSOUND||M===d.HEAD||M===d.LINK||M===d.META||M===d.NOFRAMES||M===d.STYLE?ze(T,I):M===d.NOSCRIPT?T._err(u.nestedNoscriptInHead):oe(T,I)},[e.END_TAG_TOKEN]:function(T,I){const M=I.tagName;M===d.NOSCRIPT?(T.openElements.pop(),T.insertionMode=O):M===d.BR?oe(T,I):T._err(u.endTagWithoutMatchingOpenElement)},[e.EOF_TOKEN]:oe},[C]:{[e.CHARACTER_TOKEN]:X,[e.NULL_CHARACTER_TOKEN]:X,[e.WHITESPACE_CHARACTER_TOKEN]:Le,[e.COMMENT_TOKEN]:ke,[e.DOCTYPE_TOKEN]:Oe,[e.START_TAG_TOKEN]:function(T,I){const M=I.tagName;M===d.HTML?Ct(T,I):M===d.BODY?(T._insertElement(I,f.HTML),T.framesetOk=!1,T.insertionMode=N):M===d.FRAMESET?(T._insertElement(I,f.HTML),T.insertionMode=re):M===d.BASE||M===d.BASEFONT||M===d.BGSOUND||M===d.LINK||M===d.META||M===d.NOFRAMES||M===d.SCRIPT||M===d.STYLE||M===d.TEMPLATE||M===d.TITLE?(T._err(u.abandonedHeadElementChild),T.openElements.push(T.headElement),ze(T,I),T.openElements.remove(T.headElement)):M===d.HEAD?T._err(u.misplacedStartTagForHeadElement):X(T,I)},[e.END_TAG_TOKEN]:function(T,I){const M=I.tagName;M===d.BODY||M===d.HTML||M===d.BR?X(T,I):M===d.TEMPLATE?He(T,I):T._err(u.endTagWithoutMatchingOpenElement)},[e.EOF_TOKEN]:X},[N]:{[e.CHARACTER_TOKEN]:he,[e.NULL_CHARACTER_TOKEN]:we,[e.WHITESPACE_CHARACTER_TOKEN]:de,[e.COMMENT_TOKEN]:ke,[e.DOCTYPE_TOKEN]:we,[e.START_TAG_TOKEN]:Ct,[e.END_TAG_TOKEN]:dn,[e.EOF_TOKEN]:wn},[L]:{[e.CHARACTER_TOKEN]:Le,[e.NULL_CHARACTER_TOKEN]:Le,[e.WHITESPACE_CHARACTER_TOKEN]:Le,[e.COMMENT_TOKEN]:we,[e.DOCTYPE_TOKEN]:we,[e.START_TAG_TOKEN]:we,[e.END_TAG_TOKEN]:function(T,I){I.tagName===d.SCRIPT&&(T.pendingScript=T.openElements.current),T.openElements.pop(),T.insertionMode=T.originalInsertionMode},[e.EOF_TOKEN]:function(T,I){T._err(u.eofInElementThatCanContainOnlyText),T.openElements.pop(),T.insertionMode=T.originalInsertionMode,T._processToken(I)}},[j]:{[e.CHARACTER_TOKEN]:Gn,[e.NULL_CHARACTER_TOKEN]:Gn,[e.WHITESPACE_CHARACTER_TOKEN]:Gn,[e.COMMENT_TOKEN]:ke,[e.DOCTYPE_TOKEN]:we,[e.START_TAG_TOKEN]:Mn,[e.END_TAG_TOKEN]:It,[e.EOF_TOKEN]:wn},[H]:{[e.CHARACTER_TOKEN]:function(T,I){T.pendingCharacterTokens.push(I),T.hasNonWhitespacePendingCharacterToken=!0},[e.NULL_CHARACTER_TOKEN]:we,[e.WHITESPACE_CHARACTER_TOKEN]:function(T,I){T.pendingCharacterTokens.push(I)},[e.COMMENT_TOKEN]:lr,[e.DOCTYPE_TOKEN]:lr,[e.START_TAG_TOKEN]:lr,[e.END_TAG_TOKEN]:lr,[e.EOF_TOKEN]:lr},[F]:{[e.CHARACTER_TOKEN]:he,[e.NULL_CHARACTER_TOKEN]:we,[e.WHITESPACE_CHARACTER_TOKEN]:de,[e.COMMENT_TOKEN]:ke,[e.DOCTYPE_TOKEN]:we,[e.START_TAG_TOKEN]:function(T,I){const M=I.tagName;M===d.CAPTION||M===d.COL||M===d.COLGROUP||M===d.TBODY||M===d.TD||M===d.TFOOT||M===d.TH||M===d.THEAD||M===d.TR?T.openElements.hasInTableScope(d.CAPTION)&&(T.openElements.generateImpliedEndTags(),T.openElements.popUntilTagNamePopped(d.CAPTION),T.activeFormattingElements.clearToLastMarker(),T.insertionMode=j,T._processToken(I)):Ct(T,I)},[e.END_TAG_TOKEN]:function(T,I){const M=I.tagName;M===d.CAPTION||M===d.TABLE?T.openElements.hasInTableScope(d.CAPTION)&&(T.openElements.generateImpliedEndTags(),T.openElements.popUntilTagNamePopped(d.CAPTION),T.activeFormattingElements.clearToLastMarker(),T.insertionMode=j,M===d.TABLE&&T._processToken(I)):M!==d.BODY&&M!==d.COL&&M!==d.COLGROUP&&M!==d.HTML&&M!==d.TBODY&&M!==d.TD&&M!==d.TFOOT&&M!==d.TH&&M!==d.THEAD&&M!==d.TR&&dn(T,I)},[e.EOF_TOKEN]:wn},[z]:{[e.CHARACTER_TOKEN]:Mo,[e.NULL_CHARACTER_TOKEN]:Mo,[e.WHITESPACE_CHARACTER_TOKEN]:Le,[e.COMMENT_TOKEN]:ke,[e.DOCTYPE_TOKEN]:we,[e.START_TAG_TOKEN]:function(T,I){const M=I.tagName;M===d.HTML?Ct(T,I):M===d.COL?(T._appendElement(I,f.HTML),I.ackSelfClosing=!0):M===d.TEMPLATE?ze(T,I):Mo(T,I)},[e.END_TAG_TOKEN]:function(T,I){const M=I.tagName;M===d.COLGROUP?T.openElements.currentTagName===d.COLGROUP&&(T.openElements.pop(),T.insertionMode=j):M===d.TEMPLATE?He(T,I):M!==d.COL&&Mo(T,I)},[e.EOF_TOKEN]:wn},[B]:{[e.CHARACTER_TOKEN]:Gn,[e.NULL_CHARACTER_TOKEN]:Gn,[e.WHITESPACE_CHARACTER_TOKEN]:Gn,[e.COMMENT_TOKEN]:ke,[e.DOCTYPE_TOKEN]:we,[e.START_TAG_TOKEN]:function(T,I){const M=I.tagName;M===d.TR?(T.openElements.clearBackToTableBodyContext(),T._insertElement(I,f.HTML),T.insertionMode=V):M===d.TH||M===d.TD?(T.openElements.clearBackToTableBodyContext(),T._insertFakeElement(d.TR),T.insertionMode=V,T._processToken(I)):M===d.CAPTION||M===d.COL||M===d.COLGROUP||M===d.TBODY||M===d.TFOOT||M===d.THEAD?T.openElements.hasTableBodyContextInTableScope()&&(T.openElements.clearBackToTableBodyContext(),T.openElements.pop(),T.insertionMode=j,T._processToken(I)):Mn(T,I)},[e.END_TAG_TOKEN]:function(T,I){const M=I.tagName;M===d.TBODY||M===d.TFOOT||M===d.THEAD?T.openElements.hasInTableScope(M)&&(T.openElements.clearBackToTableBodyContext(),T.openElements.pop(),T.insertionMode=j):M===d.TABLE?T.openElements.hasTableBodyContextInTableScope()&&(T.openElements.clearBackToTableBodyContext(),T.openElements.pop(),T.insertionMode=j,T._processToken(I)):(M!==d.BODY&&M!==d.CAPTION&&M!==d.COL&&M!==d.COLGROUP||M!==d.HTML&&M!==d.TD&&M!==d.TH&&M!==d.TR)&&It(T,I)},[e.EOF_TOKEN]:wn},[V]:{[e.CHARACTER_TOKEN]:Gn,[e.NULL_CHARACTER_TOKEN]:Gn,[e.WHITESPACE_CHARACTER_TOKEN]:Gn,[e.COMMENT_TOKEN]:ke,[e.DOCTYPE_TOKEN]:we,[e.START_TAG_TOKEN]:function(T,I){const M=I.tagName;M===d.TH||M===d.TD?(T.openElements.clearBackToTableRowContext(),T._insertElement(I,f.HTML),T.insertionMode=U,T.activeFormattingElements.insertMarker()):M===d.CAPTION||M===d.COL||M===d.COLGROUP||M===d.TBODY||M===d.TFOOT||M===d.THEAD||M===d.TR?T.openElements.hasInTableScope(d.TR)&&(T.openElements.clearBackToTableRowContext(),T.openElements.pop(),T.insertionMode=B,T._processToken(I)):Mn(T,I)},[e.END_TAG_TOKEN]:function(T,I){const M=I.tagName;M===d.TR?T.openElements.hasInTableScope(d.TR)&&(T.openElements.clearBackToTableRowContext(),T.openElements.pop(),T.insertionMode=B):M===d.TABLE?T.openElements.hasInTableScope(d.TR)&&(T.openElements.clearBackToTableRowContext(),T.openElements.pop(),T.insertionMode=B,T._processToken(I)):M===d.TBODY||M===d.TFOOT||M===d.THEAD?(T.openElements.hasInTableScope(M)||T.openElements.hasInTableScope(d.TR))&&(T.openElements.clearBackToTableRowContext(),T.openElements.pop(),T.insertionMode=B,T._processToken(I)):(M!==d.BODY&&M!==d.CAPTION&&M!==d.COL&&M!==d.COLGROUP||M!==d.HTML&&M!==d.TD&&M!==d.TH)&&It(T,I)},[e.EOF_TOKEN]:wn},[U]:{[e.CHARACTER_TOKEN]:he,[e.NULL_CHARACTER_TOKEN]:we,[e.WHITESPACE_CHARACTER_TOKEN]:de,[e.COMMENT_TOKEN]:ke,[e.DOCTYPE_TOKEN]:we,[e.START_TAG_TOKEN]:function(T,I){const M=I.tagName;M===d.CAPTION||M===d.COL||M===d.COLGROUP||M===d.TBODY||M===d.TD||M===d.TFOOT||M===d.TH||M===d.THEAD||M===d.TR?(T.openElements.hasInTableScope(d.TD)||T.openElements.hasInTableScope(d.TH))&&(T._closeTableCell(),T._processToken(I)):Ct(T,I)},[e.END_TAG_TOKEN]:function(T,I){const M=I.tagName;M===d.TD||M===d.TH?T.openElements.hasInTableScope(M)&&(T.openElements.generateImpliedEndTags(),T.openElements.popUntilTagNamePopped(M),T.activeFormattingElements.clearToLastMarker(),T.insertionMode=V):M===d.TABLE||M===d.TBODY||M===d.TFOOT||M===d.THEAD||M===d.TR?T.openElements.hasInTableScope(M)&&(T._closeTableCell(),T._processToken(I)):M!==d.BODY&&M!==d.CAPTION&&M!==d.COL&&M!==d.COLGROUP&&M!==d.HTML&&dn(T,I)},[e.EOF_TOKEN]:wn},[S]:{[e.CHARACTER_TOKEN]:Le,[e.NULL_CHARACTER_TOKEN]:we,[e.WHITESPACE_CHARACTER_TOKEN]:Le,[e.COMMENT_TOKEN]:ke,[e.DOCTYPE_TOKEN]:we,[e.START_TAG_TOKEN]:Lo,[e.END_TAG_TOKEN]:Gs,[e.EOF_TOKEN]:wn},[q]:{[e.CHARACTER_TOKEN]:Le,[e.NULL_CHARACTER_TOKEN]:we,[e.WHITESPACE_CHARACTER_TOKEN]:Le,[e.COMMENT_TOKEN]:ke,[e.DOCTYPE_TOKEN]:we,[e.START_TAG_TOKEN]:function(T,I){const M=I.tagName;M===d.CAPTION||M===d.TABLE||M===d.TBODY||M===d.TFOOT||M===d.THEAD||M===d.TR||M===d.TD||M===d.TH?(T.openElements.popUntilTagNamePopped(d.SELECT),T._resetInsertionMode(),T._processToken(I)):Lo(T,I)},[e.END_TAG_TOKEN]:function(T,I){const M=I.tagName;M===d.CAPTION||M===d.TABLE||M===d.TBODY||M===d.TFOOT||M===d.THEAD||M===d.TR||M===d.TD||M===d.TH?T.openElements.hasInTableScope(M)&&(T.openElements.popUntilTagNamePopped(d.SELECT),T._resetInsertionMode(),T._processToken(I)):Gs(T,I)},[e.EOF_TOKEN]:wn},[P]:{[e.CHARACTER_TOKEN]:he,[e.NULL_CHARACTER_TOKEN]:we,[e.WHITESPACE_CHARACTER_TOKEN]:de,[e.COMMENT_TOKEN]:ke,[e.DOCTYPE_TOKEN]:we,[e.START_TAG_TOKEN]:function(T,I){const M=I.tagName;if(M===d.BASE||M===d.BASEFONT||M===d.BGSOUND||M===d.LINK||M===d.META||M===d.NOFRAMES||M===d.SCRIPT||M===d.STYLE||M===d.TEMPLATE||M===d.TITLE)ze(T,I);else{const $=je[M]||N;T._popTmplInsertionMode(),T._pushTmplInsertionMode($),T.insertionMode=$,T._processToken(I)}},[e.END_TAG_TOKEN]:function(T,I){I.tagName===d.TEMPLATE&&He(T,I)},[e.EOF_TOKEN]:oc},[Q]:{[e.CHARACTER_TOKEN]:Ks,[e.NULL_CHARACTER_TOKEN]:Ks,[e.WHITESPACE_CHARACTER_TOKEN]:de,[e.COMMENT_TOKEN]:function(T,I){T._appendCommentNode(I,T.openElements.items[0])},[e.DOCTYPE_TOKEN]:we,[e.START_TAG_TOKEN]:function(T,I){I.tagName===d.HTML?Ct(T,I):Ks(T,I)},[e.END_TAG_TOKEN]:function(T,I){I.tagName===d.HTML?T.fragmentContext||(T.insertionMode=se):Ks(T,I)},[e.EOF_TOKEN]:Ge},[re]:{[e.CHARACTER_TOKEN]:we,[e.NULL_CHARACTER_TOKEN]:we,[e.WHITESPACE_CHARACTER_TOKEN]:Le,[e.COMMENT_TOKEN]:ke,[e.DOCTYPE_TOKEN]:we,[e.START_TAG_TOKEN]:function(T,I){const M=I.tagName;M===d.HTML?Ct(T,I):M===d.FRAMESET?T._insertElement(I,f.HTML):M===d.FRAME?(T._appendElement(I,f.HTML),I.ackSelfClosing=!0):M===d.NOFRAMES&&ze(T,I)},[e.END_TAG_TOKEN]:function(T,I){I.tagName===d.FRAMESET&&!T.openElements.isRootHtmlElementCurrent()&&(T.openElements.pop(),!T.fragmentContext&&T.openElements.currentTagName!==d.FRAMESET&&(T.insertionMode=_e))},[e.EOF_TOKEN]:Ge},[_e]:{[e.CHARACTER_TOKEN]:we,[e.NULL_CHARACTER_TOKEN]:we,[e.WHITESPACE_CHARACTER_TOKEN]:Le,[e.COMMENT_TOKEN]:ke,[e.DOCTYPE_TOKEN]:we,[e.START_TAG_TOKEN]:function(T,I){const M=I.tagName;M===d.HTML?Ct(T,I):M===d.NOFRAMES&&ze(T,I)},[e.END_TAG_TOKEN]:function(T,I){I.tagName===d.HTML&&(T.insertionMode=ue)},[e.EOF_TOKEN]:Ge},[se]:{[e.CHARACTER_TOKEN]:ca,[e.NULL_CHARACTER_TOKEN]:ca,[e.WHITESPACE_CHARACTER_TOKEN]:de,[e.COMMENT_TOKEN]:Me,[e.DOCTYPE_TOKEN]:we,[e.START_TAG_TOKEN]:function(T,I){I.tagName===d.HTML?Ct(T,I):ca(T,I)},[e.END_TAG_TOKEN]:ca,[e.EOF_TOKEN]:Ge},[ue]:{[e.CHARACTER_TOKEN]:we,[e.NULL_CHARACTER_TOKEN]:we,[e.WHITESPACE_CHARACTER_TOKEN]:de,[e.COMMENT_TOKEN]:Me,[e.DOCTYPE_TOKEN]:we,[e.START_TAG_TOKEN]:function(T,I){const M=I.tagName;M===d.HTML?Ct(T,I):M===d.NOFRAMES&&ze(T,I)},[e.END_TAG_TOKEN]:we,[e.EOF_TOKEN]:Ge}};function Xe(T,I){let M=T.activeFormattingElements.getElementEntryInScopeWithTagName(I.tagName);return M?T.openElements.contains(M.element)?T.openElements.hasInScope(I.tagName)||(M=null):(T.activeFormattingElements.removeEntry(M),M=null):ln(T,I),M}function ie(T,I){let M=null;for(let $=T.openElements.stackTop;$>=0;$--){const G=T.openElements.items[$];if(G===I.element)break;T._isSpecialElement(G)&&(M=G)}return M||(T.openElements.popUntilElementPopped(I.element),T.activeFormattingElements.removeEntry(I)),M}function Se(T,I,M){let $=I,G=T.openElements.getCommonAncestor(I);for(let D=0,te=G;te!==M;D++,te=G){G=T.openElements.getCommonAncestor(te);const le=T.activeFormattingElements.getElementEntry(te),Fe=le&&D>=b;!le||Fe?(Fe&&T.activeFormattingElements.removeEntry(le),T.openElements.remove(te)):(te=ae(T,le),$===I&&(T.activeFormattingElements.bookmark=le),T.treeAdapter.detachNode($),T.treeAdapter.appendChild(te,$),$=te)}return $}function ae(T,I){const M=T.treeAdapter.getNamespaceURI(I.element),$=T.treeAdapter.createElement(I.token.tagName,M,I.token.attrs);return T.openElements.replace(I.element,$),I.element=$,$}function pe(T,I,M){if(T._isElementCausesFosterParenting(I))T._fosterParentElement(M);else{const $=T.treeAdapter.getTagName(I),G=T.treeAdapter.getNamespaceURI(I);$===d.TEMPLATE&&G===f.HTML&&(I=T.treeAdapter.getTemplateContent(I)),T.treeAdapter.appendChild(I,M)}}function Te(T,I,M){const $=T.treeAdapter.getNamespaceURI(M.element),G=M.token,D=T.treeAdapter.createElement(G.tagName,$,G.attrs);T._adoptNodes(I,D),T.treeAdapter.appendChild(I,D),T.activeFormattingElements.insertElementAfterBookmark(D,M.token),T.activeFormattingElements.removeEntry(M),T.openElements.remove(M.element),T.openElements.insertAfter(I,D)}function be(T,I){let M;for(let $=0;$<y&&(M=Xe(T,I),M);$++){const G=ie(T,M);if(!G)break;T.activeFormattingElements.bookmark=M;const D=Se(T,G,M.element),te=T.openElements.getCommonAncestor(M.element);T.treeAdapter.detachNode(D),pe(T,te,D),Te(T,G,M)}}function we(){}function Oe(T){T._err(u.misplacedDoctype)}function ke(T,I){T._appendCommentNode(I,T.openElements.currentTmplContent||T.openElements.current)}function Me(T,I){T._appendCommentNode(I,T.document)}function Le(T,I){T._insertCharacters(I)}function Ge(T){T.stopped=!0}function Ye(T,I){T._err(u.missingDoctype,{beforeToken:!0}),T.treeAdapter.setDocumentMode(T.document,p.DOCUMENT_MODE.QUIRKS),T.insertionMode=k,T._processToken(I)}function ct(T,I){T._insertFakeRootElement(),T.insertionMode=_,T._processToken(I)}function Re(T,I){T._insertFakeElement(d.HEAD),T.headElement=T.openElements.current,T.insertionMode=O,T._processToken(I)}function ze(T,I){const M=I.tagName;M===d.HTML?Ct(T,I):M===d.BASE||M===d.BASEFONT||M===d.BGSOUND||M===d.LINK||M===d.META?(T._appendElement(I,f.HTML),I.ackSelfClosing=!0):M===d.TITLE?T._switchToTextParsing(I,e.MODE.RCDATA):M===d.NOSCRIPT?T.options.scriptingEnabled?T._switchToTextParsing(I,e.MODE.RAWTEXT):(T._insertElement(I,f.HTML),T.insertionMode=E):M===d.NOFRAMES||M===d.STYLE?T._switchToTextParsing(I,e.MODE.RAWTEXT):M===d.SCRIPT?T._switchToTextParsing(I,e.MODE.SCRIPT_DATA):M===d.TEMPLATE?(T._insertTemplate(I,f.HTML),T.activeFormattingElements.insertMarker(),T.framesetOk=!1,T.insertionMode=P,T._pushTmplInsertionMode(P)):M===d.HEAD?T._err(u.misplacedStartTagForHeadElement):et(T,I)}function He(T,I){const M=I.tagName;M===d.HEAD?(T.openElements.pop(),T.insertionMode=C):M===d.BODY||M===d.BR||M===d.HTML?et(T,I):M===d.TEMPLATE&&T.openElements.tmplCount>0?(T.openElements.generateImpliedEndTagsThoroughly(),T.openElements.currentTagName!==d.TEMPLATE&&T._err(u.closingOfElementWithOpenChildElements),T.openElements.popUntilTagNamePopped(d.TEMPLATE),T.activeFormattingElements.clearToLastMarker(),T._popTmplInsertionMode(),T._resetInsertionMode()):T._err(u.endTagWithoutMatchingOpenElement)}function et(T,I){T.openElements.pop(),T.insertionMode=C,T._processToken(I)}function oe(T,I){const M=I.type===e.EOF_TOKEN?u.openElementsLeftAfterEof:u.disallowedContentInNoscriptInHead;T._err(M),T.openElements.pop(),T.insertionMode=O,T._processToken(I)}function X(T,I){T._insertFakeElement(d.BODY),T.insertionMode=N,T._processToken(I)}function de(T,I){T._reconstructActiveFormattingElements(),T._insertCharacters(I)}function he(T,I){T._reconstructActiveFormattingElements(),T._insertCharacters(I),T.framesetOk=!1}function Ee(T,I){T.openElements.hasInButtonScope(d.P)&&T._closePElement(),T._insertElement(I,f.HTML)}function $e(T,I){T.openElements.hasInButtonScope(d.P)&&T._closePElement(),T._insertElement(I,f.HTML),T.skipNextNewLine=!0,T.framesetOk=!1}function Je(T,I){T._reconstructActiveFormattingElements(),T._insertElement(I,f.HTML),T.activeFormattingElements.pushElement(T.openElements.current,I)}function at(T,I){T._reconstructActiveFormattingElements(),T._insertElement(I,f.HTML),T.activeFormattingElements.insertMarker(),T.framesetOk=!1}function We(T,I){T._reconstructActiveFormattingElements(),T._appendElement(I,f.HTML),T.framesetOk=!1,I.ackSelfClosing=!0}function bt(T,I){T._appendElement(I,f.HTML),I.ackSelfClosing=!0}function ft(T,I){T._switchToTextParsing(I,e.MODE.RAWTEXT)}function ut(T,I){T.openElements.currentTagName===d.OPTION&&T.openElements.pop(),T._reconstructActiveFormattingElements(),T._insertElement(I,f.HTML)}function St(T,I){T.openElements.hasInScope(d.RUBY)&&T.openElements.generateImpliedEndTags(),T._insertElement(I,f.HTML)}function yt(T,I){T._reconstructActiveFormattingElements(),T._insertElement(I,f.HTML)}function Ct(T,I){const M=I.tagName;switch(M.length){case 1:M===d.I||M===d.S||M===d.B||M===d.U?Je(T,I):M===d.P?Ee(T,I):M===d.A?function($,G){const D=$.activeFormattingElements.getElementEntryInScopeWithTagName(d.A);D&&(be($,G),$.openElements.remove(D.element),$.activeFormattingElements.removeEntry(D)),$._reconstructActiveFormattingElements(),$._insertElement(G,f.HTML),$.activeFormattingElements.pushElement($.openElements.current,G)}(T,I):yt(T,I);break;case 2:M===d.DL||M===d.OL||M===d.UL?Ee(T,I):M===d.H1||M===d.H2||M===d.H3||M===d.H4||M===d.H5||M===d.H6?function($,G){$.openElements.hasInButtonScope(d.P)&&$._closePElement();const D=$.openElements.currentTagName;(D===d.H1||D===d.H2||D===d.H3||D===d.H4||D===d.H5||D===d.H6)&&$.openElements.pop(),$._insertElement(G,f.HTML)}(T,I):M===d.LI||M===d.DD||M===d.DT?function($,G){$.framesetOk=!1;const D=G.tagName;for(let te=$.openElements.stackTop;te>=0;te--){const le=$.openElements.items[te],Fe=$.treeAdapter.getTagName(le);let st=null;if(D===d.LI&&Fe===d.LI?st=d.LI:(D===d.DD||D===d.DT)&&(Fe===d.DD||Fe===d.DT)&&(st=Fe),st){$.openElements.generateImpliedEndTagsWithExclusion(st),$.openElements.popUntilTagNamePopped(st);break}if(Fe!==d.ADDRESS&&Fe!==d.DIV&&Fe!==d.P&&$._isSpecialElement(le))break}$.openElements.hasInButtonScope(d.P)&&$._closePElement(),$._insertElement(G,f.HTML)}(T,I):M===d.EM||M===d.TT?Je(T,I):M===d.BR?We(T,I):M===d.HR?function($,G){$.openElements.hasInButtonScope(d.P)&&$._closePElement(),$._appendElement(G,f.HTML),$.framesetOk=!1,G.ackSelfClosing=!0}(T,I):M===d.RB?St(T,I):M===d.RT||M===d.RP?function($,G){$.openElements.hasInScope(d.RUBY)&&$.openElements.generateImpliedEndTagsWithExclusion(d.RTC),$._insertElement(G,f.HTML)}(T,I):M!==d.TH&&M!==d.TD&&M!==d.TR&&yt(T,I);break;case 3:M===d.DIV||M===d.DIR||M===d.NAV?Ee(T,I):M===d.PRE?$e(T,I):M===d.BIG?Je(T,I):M===d.IMG||M===d.WBR?We(T,I):M===d.XMP?function($,G){$.openElements.hasInButtonScope(d.P)&&$._closePElement(),$._reconstructActiveFormattingElements(),$.framesetOk=!1,$._switchToTextParsing(G,e.MODE.RAWTEXT)}(T,I):M===d.SVG?function($,G){$._reconstructActiveFormattingElements(),c.adjustTokenSVGAttrs(G),c.adjustTokenXMLAttrs(G),G.selfClosing?$._appendElement(G,f.SVG):$._insertElement(G,f.SVG),G.ackSelfClosing=!0}(T,I):M===d.RTC?St(T,I):M!==d.COL&&yt(T,I);break;case 4:M===d.HTML?function($,G){$.openElements.tmplCount===0&&$.treeAdapter.adoptAttributes($.openElements.items[0],G.attrs)}(T,I):M===d.BASE||M===d.LINK||M===d.META?ze(T,I):M===d.BODY?function($,G){const D=$.openElements.tryPeekProperlyNestedBodyElement();D&&$.openElements.tmplCount===0&&($.framesetOk=!1,$.treeAdapter.adoptAttributes(D,G.attrs))}(T,I):M===d.MAIN||M===d.MENU?Ee(T,I):M===d.FORM?function($,G){const D=$.openElements.tmplCount>0;(!$.formElement||D)&&($.openElements.hasInButtonScope(d.P)&&$._closePElement(),$._insertElement(G,f.HTML),D||($.formElement=$.openElements.current))}(T,I):M===d.CODE||M===d.FONT?Je(T,I):M===d.NOBR?function($,G){$._reconstructActiveFormattingElements(),$.openElements.hasInScope(d.NOBR)&&(be($,G),$._reconstructActiveFormattingElements()),$._insertElement(G,f.HTML),$.activeFormattingElements.pushElement($.openElements.current,G)}(T,I):M===d.AREA?We(T,I):M===d.MATH?function($,G){$._reconstructActiveFormattingElements(),c.adjustTokenMathMLAttrs(G),c.adjustTokenXMLAttrs(G),G.selfClosing?$._appendElement(G,f.MATHML):$._insertElement(G,f.MATHML),G.ackSelfClosing=!0}(T,I):M===d.MENU?function($,G){$.openElements.hasInButtonScope(d.P)&&$._closePElement(),$._insertElement(G,f.HTML)}(T,I):M!==d.HEAD&&yt(T,I);break;case 5:M===d.STYLE||M===d.TITLE?ze(T,I):M===d.ASIDE?Ee(T,I):M===d.SMALL?Je(T,I):M===d.TABLE?function($,G){$.treeAdapter.getDocumentMode($.document)!==p.DOCUMENT_MODE.QUIRKS&&$.openElements.hasInButtonScope(d.P)&&$._closePElement(),$._insertElement(G,f.HTML),$.framesetOk=!1,$.insertionMode=j}(T,I):M===d.EMBED?We(T,I):M===d.INPUT?function($,G){$._reconstructActiveFormattingElements(),$._appendElement(G,f.HTML);const D=e.getTokenAttr(G,g.TYPE);(!D||D.toLowerCase()!==v)&&($.framesetOk=!1),G.ackSelfClosing=!0}(T,I):M===d.PARAM||M===d.TRACK?bt(T,I):M===d.IMAGE?function($,G){G.tagName=d.IMG,We($,G)}(T,I):M!==d.FRAME&&M!==d.TBODY&&M!==d.TFOOT&&M!==d.THEAD&&yt(T,I);break;case 6:M===d.SCRIPT?ze(T,I):M===d.CENTER||M===d.FIGURE||M===d.FOOTER||M===d.HEADER||M===d.HGROUP||M===d.DIALOG?Ee(T,I):M===d.BUTTON?function($,G){$.openElements.hasInScope(d.BUTTON)&&($.openElements.generateImpliedEndTags(),$.openElements.popUntilTagNamePopped(d.BUTTON)),$._reconstructActiveFormattingElements(),$._insertElement(G,f.HTML),$.framesetOk=!1}(T,I):M===d.STRIKE||M===d.STRONG?Je(T,I):M===d.APPLET||M===d.OBJECT?at(T,I):M===d.KEYGEN?We(T,I):M===d.SOURCE?bt(T,I):M===d.IFRAME?function($,G){$.framesetOk=!1,$._switchToTextParsing(G,e.MODE.RAWTEXT)}(T,I):M===d.SELECT?function($,G){$._reconstructActiveFormattingElements(),$._insertElement(G,f.HTML),$.framesetOk=!1,$.insertionMode===j||$.insertionMode===F||$.insertionMode===B||$.insertionMode===V||$.insertionMode===U?$.insertionMode=q:$.insertionMode=S}(T,I):M===d.OPTION?ut(T,I):yt(T,I);break;case 7:M===d.BGSOUND?ze(T,I):M===d.DETAILS||M===d.ADDRESS||M===d.ARTICLE||M===d.SECTION||M===d.SUMMARY?Ee(T,I):M===d.LISTING?$e(T,I):M===d.MARQUEE?at(T,I):M===d.NOEMBED?ft(T,I):M!==d.CAPTION&&yt(T,I);break;case 8:M===d.BASEFONT?ze(T,I):M===d.FRAMESET?function($,G){const D=$.openElements.tryPeekProperlyNestedBodyElement();$.framesetOk&&D&&($.treeAdapter.detachNode(D),$.openElements.popAllUpToHtmlElement(),$._insertElement(G,f.HTML),$.insertionMode=re)}(T,I):M===d.FIELDSET?Ee(T,I):M===d.TEXTAREA?function($,G){$._insertElement(G,f.HTML),$.skipNextNewLine=!0,$.tokenizer.state=e.MODE.RCDATA,$.originalInsertionMode=$.insertionMode,$.framesetOk=!1,$.insertionMode=L}(T,I):M===d.TEMPLATE?ze(T,I):M===d.NOSCRIPT?T.options.scriptingEnabled?ft(T,I):yt(T,I):M===d.OPTGROUP?ut(T,I):M!==d.COLGROUP&&yt(T,I);break;case 9:M===d.PLAINTEXT?function($,G){$.openElements.hasInButtonScope(d.P)&&$._closePElement(),$._insertElement(G,f.HTML),$.tokenizer.state=e.MODE.PLAINTEXT}(T,I):yt(T,I);break;case 10:M===d.BLOCKQUOTE||M===d.FIGCAPTION?Ee(T,I):yt(T,I);break;default:yt(T,I)}}function jt(T,I){const M=I.tagName;T.openElements.hasInScope(M)&&(T.openElements.generateImpliedEndTags(),T.openElements.popUntilTagNamePopped(M))}function sr(T,I){const M=I.tagName;T.openElements.hasInScope(M)&&(T.openElements.generateImpliedEndTags(),T.openElements.popUntilTagNamePopped(M),T.activeFormattingElements.clearToLastMarker())}function ln(T,I){const M=I.tagName;for(let $=T.openElements.stackTop;$>0;$--){const G=T.openElements.items[$];if(T.treeAdapter.getTagName(G)===M){T.openElements.generateImpliedEndTagsWithExclusion(M),T.openElements.popUntilElementPopped(G);break}if(T._isSpecialElement(G))break}}function dn(T,I){const M=I.tagName;switch(M.length){case 1:M===d.A||M===d.B||M===d.I||M===d.S||M===d.U?be(T,I):M===d.P?function($){$.openElements.hasInButtonScope(d.P)||$._insertFakeElement(d.P),$._closePElement()}(T):ln(T,I);break;case 2:M===d.DL||M===d.UL||M===d.OL?jt(T,I):M===d.LI?function($){$.openElements.hasInListItemScope(d.LI)&&($.openElements.generateImpliedEndTagsWithExclusion(d.LI),$.openElements.popUntilTagNamePopped(d.LI))}(T):M===d.DD||M===d.DT?function($,G){const D=G.tagName;$.openElements.hasInScope(D)&&($.openElements.generateImpliedEndTagsWithExclusion(D),$.openElements.popUntilTagNamePopped(D))}(T,I):M===d.H1||M===d.H2||M===d.H3||M===d.H4||M===d.H5||M===d.H6?function($){$.openElements.hasNumberedHeaderInScope()&&($.openElements.generateImpliedEndTags(),$.openElements.popUntilNumberedHeaderPopped())}(T):M===d.BR?function($){$._reconstructActiveFormattingElements(),$._insertFakeElement(d.BR),$.openElements.pop(),$.framesetOk=!1}(T):M===d.EM||M===d.TT?be(T,I):ln(T,I);break;case 3:M===d.BIG?be(T,I):M===d.DIR||M===d.DIV||M===d.NAV||M===d.PRE?jt(T,I):ln(T,I);break;case 4:M===d.BODY?function($){$.openElements.hasInScope(d.BODY)&&($.insertionMode=Q)}(T):M===d.HTML?function($,G){$.openElements.hasInScope(d.BODY)&&($.insertionMode=Q,$._processToken(G))}(T,I):M===d.FORM?function($){const G=$.openElements.tmplCount>0,D=$.formElement;G||($.formElement=null),(D||G)&&$.openElements.hasInScope(d.FORM)&&($.openElements.generateImpliedEndTags(),G?$.openElements.popUntilTagNamePopped(d.FORM):$.openElements.remove(D))}(T):M===d.CODE||M===d.FONT||M===d.NOBR?be(T,I):M===d.MAIN||M===d.MENU?jt(T,I):ln(T,I);break;case 5:M===d.ASIDE?jt(T,I):M===d.SMALL?be(T,I):ln(T,I);break;case 6:M===d.CENTER||M===d.FIGURE||M===d.FOOTER||M===d.HEADER||M===d.HGROUP||M===d.DIALOG?jt(T,I):M===d.APPLET||M===d.OBJECT?sr(T,I):M===d.STRIKE||M===d.STRONG?be(T,I):ln(T,I);break;case 7:M===d.ADDRESS||M===d.ARTICLE||M===d.DETAILS||M===d.SECTION||M===d.SUMMARY||M===d.LISTING?jt(T,I):M===d.MARQUEE?sr(T,I):ln(T,I);break;case 8:M===d.FIELDSET?jt(T,I):M===d.TEMPLATE?He(T,I):ln(T,I);break;case 10:M===d.BLOCKQUOTE||M===d.FIGCAPTION?jt(T,I):ln(T,I);break;default:ln(T,I)}}function wn(T,I){T.tmplInsertionModeStackTop>-1?oc(T,I):T.stopped=!0}function Gn(T,I){const M=T.openElements.currentTagName;M===d.TABLE||M===d.TBODY||M===d.TFOOT||M===d.THEAD||M===d.TR?(T.pendingCharacterTokens=[],T.hasNonWhitespacePendingCharacterToken=!1,T.originalInsertionMode=T.insertionMode,T.insertionMode=H,T._processToken(I)):tr(T,I)}function Mn(T,I){const M=I.tagName;switch(M.length){case 2:M===d.TD||M===d.TH||M===d.TR?function($,G){$.openElements.clearBackToTableContext(),$._insertFakeElement(d.TBODY),$.insertionMode=B,$._processToken(G)}(T,I):tr(T,I);break;case 3:M===d.COL?function($,G){$.openElements.clearBackToTableContext(),$._insertFakeElement(d.COLGROUP),$.insertionMode=z,$._processToken(G)}(T,I):tr(T,I);break;case 4:M===d.FORM?function($,G){!$.formElement&&$.openElements.tmplCount===0&&($._insertElement(G,f.HTML),$.formElement=$.openElements.current,$.openElements.pop())}(T,I):tr(T,I);break;case 5:M===d.TABLE?function($,G){$.openElements.hasInTableScope(d.TABLE)&&($.openElements.popUntilTagNamePopped(d.TABLE),$._resetInsertionMode(),$._processToken(G))}(T,I):M===d.STYLE?ze(T,I):M===d.TBODY||M===d.TFOOT||M===d.THEAD?function($,G){$.openElements.clearBackToTableContext(),$._insertElement(G,f.HTML),$.insertionMode=B}(T,I):M===d.INPUT?function($,G){const D=e.getTokenAttr(G,g.TYPE);D&&D.toLowerCase()===v?$._appendElement(G,f.HTML):tr($,G),G.ackSelfClosing=!0}(T,I):tr(T,I);break;case 6:M===d.SCRIPT?ze(T,I):tr(T,I);break;case 7:M===d.CAPTION?function($,G){$.openElements.clearBackToTableContext(),$.activeFormattingElements.insertMarker(),$._insertElement(G,f.HTML),$.insertionMode=F}(T,I):tr(T,I);break;case 8:M===d.COLGROUP?function($,G){$.openElements.clearBackToTableContext(),$._insertElement(G,f.HTML),$.insertionMode=z}(T,I):M===d.TEMPLATE?ze(T,I):tr(T,I);break;default:tr(T,I)}}function It(T,I){const M=I.tagName;M===d.TABLE?T.openElements.hasInTableScope(d.TABLE)&&(T.openElements.popUntilTagNamePopped(d.TABLE),T._resetInsertionMode()):M===d.TEMPLATE?He(T,I):M!==d.BODY&&M!==d.CAPTION&&M!==d.COL&&M!==d.COLGROUP&&M!==d.HTML&&M!==d.TBODY&&M!==d.TD&&M!==d.TFOOT&&M!==d.TH&&M!==d.THEAD&&M!==d.TR&&tr(T,I)}function tr(T,I){const M=T.fosterParentingEnabled;T.fosterParentingEnabled=!0,T._processTokenInBodyMode(I),T.fosterParentingEnabled=M}function lr(T,I){let M=0;if(T.hasNonWhitespacePendingCharacterToken)for(;M<T.pendingCharacterTokens.length;M++)tr(T,T.pendingCharacterTokens[M]);else for(;M<T.pendingCharacterTokens.length;M++)T._insertCharacters(T.pendingCharacterTokens[M]);T.insertionMode=T.originalInsertionMode,T._processToken(I)}function Mo(T,I){T.openElements.currentTagName===d.COLGROUP&&(T.openElements.pop(),T.insertionMode=j,T._processToken(I))}function Lo(T,I){const M=I.tagName;M===d.HTML?Ct(T,I):M===d.OPTION?(T.openElements.currentTagName===d.OPTION&&T.openElements.pop(),T._insertElement(I,f.HTML)):M===d.OPTGROUP?(T.openElements.currentTagName===d.OPTION&&T.openElements.pop(),T.openElements.currentTagName===d.OPTGROUP&&T.openElements.pop(),T._insertElement(I,f.HTML)):M===d.INPUT||M===d.KEYGEN||M===d.TEXTAREA||M===d.SELECT?T.openElements.hasInSelectScope(d.SELECT)&&(T.openElements.popUntilTagNamePopped(d.SELECT),T._resetInsertionMode(),M!==d.SELECT&&T._processToken(I)):(M===d.SCRIPT||M===d.TEMPLATE)&&ze(T,I)}function Gs(T,I){const M=I.tagName;if(M===d.OPTGROUP){const $=T.openElements.items[T.openElements.stackTop-1],G=$&&T.treeAdapter.getTagName($);T.openElements.currentTagName===d.OPTION&&G===d.OPTGROUP&&T.openElements.pop(),T.openElements.currentTagName===d.OPTGROUP&&T.openElements.pop()}else M===d.OPTION?T.openElements.currentTagName===d.OPTION&&T.openElements.pop():M===d.SELECT&&T.openElements.hasInSelectScope(d.SELECT)?(T.openElements.popUntilTagNamePopped(d.SELECT),T._resetInsertionMode()):M===d.TEMPLATE&&He(T,I)}function oc(T,I){T.openElements.tmplCount>0?(T.openElements.popUntilTagNamePopped(d.TEMPLATE),T.activeFormattingElements.clearToLastMarker(),T._popTmplInsertionMode(),T._resetInsertionMode(),T._processToken(I)):T.stopped=!0}function Ks(T,I){T.insertionMode=N,T._processToken(I)}function ca(T,I){T.insertionMode=N,T._processToken(I)}return p3=class{constructor(T){this.options=s(m,T),this.treeAdapter=this.options.treeAdapter,this.pendingScript=null,this.options.sourceCodeLocationInfo&&i.install(this,r),this.options.onParseError&&i.install(this,o,{onParseError:this.options.onParseError})}parse(T){const I=this.treeAdapter.createDocument();return this._bootstrap(I,null),this.tokenizer.write(T,!0),this._runParsingLoop(null),I}parseFragment(T,I){I||(I=this.treeAdapter.createElement(d.TEMPLATE,f.HTML,[]));const M=this.treeAdapter.createElement("documentmock",f.HTML,[]);this._bootstrap(M,I),this.treeAdapter.getTagName(I)===d.TEMPLATE&&this._pushTmplInsertionMode(P),this._initTokenizerForFragmentParsing(),this._insertFakeRootElement(),this._resetInsertionMode(),this._findFormInFragmentContext(),this.tokenizer.write(T,!0),this._runParsingLoop(null);const $=this.treeAdapter.getFirstChild(M),G=this.treeAdapter.createDocumentFragment();return this._adoptNodes($,G),G}_bootstrap(T,I){this.tokenizer=new e(this.options),this.stopped=!1,this.insertionMode=w,this.originalInsertionMode="",this.document=T,this.fragmentContext=I,this.headElement=null,this.formElement=null,this.openElements=new t(this.document,this.treeAdapter),this.activeFormattingElements=new n(this.treeAdapter),this.tmplInsertionModeStack=[],this.tmplInsertionModeStackTop=-1,this.currentTmplInsertionMode=null,this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1}_err(){}_runParsingLoop(T){for(;!this.stopped;){this._setupTokenizerCDATAMode();const I=this.tokenizer.getNextToken();if(I.type===e.HIBERNATION_TOKEN)break;if(this.skipNextNewLine&&(this.skipNextNewLine=!1,I.type===e.WHITESPACE_CHARACTER_TOKEN&&I.chars[0]===`
`)){if(I.chars.length===1)continue;I.chars=I.chars.substr(1)}if(this._processInputToken(I),T&&this.pendingScript)break}}runParsingLoopForCurrentChunk(T,I){if(this._runParsingLoop(I),I&&this.pendingScript){const M=this.pendingScript;return this.pendingScript=null,void I(M)}T&&T()}_setupTokenizerCDATAMode(){const T=this._getAdjustedCurrentElement();this.tokenizer.allowCDATA=T&&T!==this.document&&this.treeAdapter.getNamespaceURI(T)!==f.HTML&&!this._isIntegrationPoint(T)}_switchToTextParsing(T,I){this._insertElement(T,f.HTML),this.tokenizer.state=I,this.originalInsertionMode=this.insertionMode,this.insertionMode=L}switchToPlaintextParsing(){this.insertionMode=L,this.originalInsertionMode=N,this.tokenizer.state=e.MODE.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let T=this.fragmentContext;do{if(this.treeAdapter.getTagName(T)===d.FORM){this.formElement=T;break}T=this.treeAdapter.getParentNode(T)}while(T)}_initTokenizerForFragmentParsing(){if(this.treeAdapter.getNamespaceURI(this.fragmentContext)===f.HTML){const T=this.treeAdapter.getTagName(this.fragmentContext);T===d.TITLE||T===d.TEXTAREA?this.tokenizer.state=e.MODE.RCDATA:T===d.STYLE||T===d.XMP||T===d.IFRAME||T===d.NOEMBED||T===d.NOFRAMES||T===d.NOSCRIPT?this.tokenizer.state=e.MODE.RAWTEXT:T===d.SCRIPT?this.tokenizer.state=e.MODE.SCRIPT_DATA:T===d.PLAINTEXT&&(this.tokenizer.state=e.MODE.PLAINTEXT)}}_setDocumentType(T){const I=T.name||"",M=T.publicId||"",$=T.systemId||"";this.treeAdapter.setDocumentType(this.document,I,M,$)}_attachElementToTree(T){if(this._shouldFosterParentOnInsertion())this._fosterParentElement(T);else{const I=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.appendChild(I,T)}}_appendElement(T,I){const M=this.treeAdapter.createElement(T.tagName,I,T.attrs);this._attachElementToTree(M)}_insertElement(T,I){const M=this.treeAdapter.createElement(T.tagName,I,T.attrs);this._attachElementToTree(M),this.openElements.push(M)}_insertFakeElement(T){const I=this.treeAdapter.createElement(T,f.HTML,[]);this._attachElementToTree(I),this.openElements.push(I)}_insertTemplate(T){const I=this.treeAdapter.createElement(T.tagName,f.HTML,T.attrs),M=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(I,M),this._attachElementToTree(I),this.openElements.push(I)}_insertFakeRootElement(){const T=this.treeAdapter.createElement(d.HTML,f.HTML,[]);this.treeAdapter.appendChild(this.openElements.current,T),this.openElements.push(T)}_appendCommentNode(T,I){const M=this.treeAdapter.createCommentNode(T.data);this.treeAdapter.appendChild(I,M)}_insertCharacters(T){if(this._shouldFosterParentOnInsertion())this._fosterParentText(T.chars);else{const I=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.insertText(I,T.chars)}}_adoptNodes(T,I){for(let M=this.treeAdapter.getFirstChild(T);M;M=this.treeAdapter.getFirstChild(T))this.treeAdapter.detachNode(M),this.treeAdapter.appendChild(I,M)}_shouldProcessTokenInForeignContent(T){const I=this._getAdjustedCurrentElement();if(!I||I===this.document)return!1;const M=this.treeAdapter.getNamespaceURI(I);if(M===f.HTML||this.treeAdapter.getTagName(I)===d.ANNOTATION_XML&&M===f.MATHML&&T.type===e.START_TAG_TOKEN&&T.tagName===d.SVG)return!1;const $=T.type===e.CHARACTER_TOKEN||T.type===e.NULL_CHARACTER_TOKEN||T.type===e.WHITESPACE_CHARACTER_TOKEN;return!((T.type===e.START_TAG_TOKEN&&T.tagName!==d.MGLYPH&&T.tagName!==d.MALIGNMARK||$)&&this._isIntegrationPoint(I,f.MATHML)||(T.type===e.START_TAG_TOKEN||$)&&this._isIntegrationPoint(I,f.HTML))&&T.type!==e.EOF_TOKEN}_processToken(T){Qe[this.insertionMode][T.type](this,T)}_processTokenInBodyMode(T){Qe[N][T.type](this,T)}_processTokenInForeignContent(T){T.type===e.CHARACTER_TOKEN?function(I,M){I._insertCharacters(M),I.framesetOk=!1}(this,T):T.type===e.NULL_CHARACTER_TOKEN?function(I,M){M.chars=h.REPLACEMENT_CHARACTER,I._insertCharacters(M)}(this,T):T.type===e.WHITESPACE_CHARACTER_TOKEN?Le(this,T):T.type===e.COMMENT_TOKEN?ke(this,T):T.type===e.START_TAG_TOKEN?function(I,M){if(c.causesExit(M)&&!I.fragmentContext){for(;I.treeAdapter.getNamespaceURI(I.openElements.current)!==f.HTML&&!I._isIntegrationPoint(I.openElements.current);)I.openElements.pop();I._processToken(M)}else{const $=I._getAdjustedCurrentElement(),G=I.treeAdapter.getNamespaceURI($);G===f.MATHML?c.adjustTokenMathMLAttrs(M):G===f.SVG&&(c.adjustTokenSVGTagName(M),c.adjustTokenSVGAttrs(M)),c.adjustTokenXMLAttrs(M),M.selfClosing?I._appendElement(M,G):I._insertElement(M,G),M.ackSelfClosing=!0}}(this,T):T.type===e.END_TAG_TOKEN&&function(I,M){for(let $=I.openElements.stackTop;$>0;$--){const G=I.openElements.items[$];if(I.treeAdapter.getNamespaceURI(G)===f.HTML){I._processToken(M);break}if(I.treeAdapter.getTagName(G).toLowerCase()===M.tagName){I.openElements.popUntilElementPopped(G);break}}}(this,T)}_processInputToken(T){this._shouldProcessTokenInForeignContent(T)?this._processTokenInForeignContent(T):this._processToken(T),T.type===e.START_TAG_TOKEN&&T.selfClosing&&!T.ackSelfClosing&&this._err(u.nonVoidHtmlElementStartTagWithTrailingSolidus)}_isIntegrationPoint(T,I){const M=this.treeAdapter.getTagName(T),$=this.treeAdapter.getNamespaceURI(T),G=this.treeAdapter.getAttrList(T);return c.isIntegrationPoint(M,$,G,I)}_reconstructActiveFormattingElements(){const T=this.activeFormattingElements.length;if(T){let I=T,M=null;do if(I--,M=this.activeFormattingElements.entries[I],M.type===n.MARKER_ENTRY||this.openElements.contains(M.element)){I++;break}while(I>0);for(let $=I;$<T;$++)M=this.activeFormattingElements.entries[$],this._insertElement(M.token,this.treeAdapter.getNamespaceURI(M.element)),M.element=this.openElements.current}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=V}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(d.P),this.openElements.popUntilTagNamePopped(d.P)}_resetInsertionMode(){for(let T=this.openElements.stackTop,I=!1;T>=0;T--){let M=this.openElements.items[T];T===0&&(I=!0,this.fragmentContext&&(M=this.fragmentContext));const $=this.treeAdapter.getTagName(M),G=fe[$];if(G){this.insertionMode=G;break}if(!(I||$!==d.TD&&$!==d.TH)){this.insertionMode=U;break}if(!I&&$===d.HEAD){this.insertionMode=O;break}if($===d.SELECT){this._resetInsertionModeForSelect(T);break}if($===d.TEMPLATE){this.insertionMode=this.currentTmplInsertionMode;break}if($===d.HTML){this.insertionMode=this.headElement?C:_;break}if(I){this.insertionMode=N;break}}}_resetInsertionModeForSelect(T){if(T>0)for(let I=T-1;I>0;I--){const M=this.openElements.items[I],$=this.treeAdapter.getTagName(M);if($===d.TEMPLATE)break;if($===d.TABLE)return void(this.insertionMode=q)}this.insertionMode=S}_pushTmplInsertionMode(T){this.tmplInsertionModeStack.push(T),this.tmplInsertionModeStackTop++,this.currentTmplInsertionMode=T}_popTmplInsertionMode(){this.tmplInsertionModeStack.pop(),this.tmplInsertionModeStackTop--,this.currentTmplInsertionMode=this.tmplInsertionModeStack[this.tmplInsertionModeStackTop]}_isElementCausesFosterParenting(T){const I=this.treeAdapter.getTagName(T);return I===d.TABLE||I===d.TBODY||I===d.TFOOT||I===d.THEAD||I===d.TR}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.current)}_findFosterParentingLocation(){const T={parent:null,beforeElement:null};for(let I=this.openElements.stackTop;I>=0;I--){const M=this.openElements.items[I],$=this.treeAdapter.getTagName(M),G=this.treeAdapter.getNamespaceURI(M);if($===d.TEMPLATE&&G===f.HTML){T.parent=this.treeAdapter.getTemplateContent(M);break}if($===d.TABLE){T.parent=this.treeAdapter.getParentNode(M),T.parent?T.beforeElement=M:T.parent=this.openElements.items[I-1];break}}return T.parent||(T.parent=this.openElements.items[0]),T}_fosterParentElement(T){const I=this._findFosterParentingLocation();I.beforeElement?this.treeAdapter.insertBefore(I.parent,T,I.beforeElement):this.treeAdapter.appendChild(I.parent,T)}_fosterParentText(T){const I=this._findFosterParentingLocation();I.beforeElement?this.treeAdapter.insertTextBefore(I.parent,T,I.beforeElement):this.treeAdapter.insertText(I.parent,T)}_isSpecialElement(T){const I=this.treeAdapter.getTagName(T),M=this.treeAdapter.getNamespaceURI(T);return p.SPECIAL_ELEMENTS[M][I]}},p3}();const G5e=Li(W5e),_K=/[#.]/g,K5e=new Set(["menu","submit","reset","button"]),m3={}.hasOwnProperty;function TK(e,t,n){const r=n&&function(o){const i={};let a=-1;for(;++a<o.length;)i[o[a].toLowerCase()]=o[a];return i}(n);return function(o,i,...a){let s,l=-1;if(o==null)s={type:"root",children:[]},a.unshift(i);else if(s=function(c,u){const h=c||"",p={};let d,f,g=0;for(;g<h.length;){_K.lastIndex=g;const m=_K.exec(h),v=h.slice(g,m?m.index:h.length);v&&(d?d==="#"?p.id=v:Array.isArray(p.className)?p.className.push(v):p.className=[v]:f=v,g+=v.length),m&&(d=m[0],g++)}return{type:"element",tagName:f||u||"div",properties:p,children:[]}}(o,t),s.tagName=s.tagName.toLowerCase(),r&&m3.call(r,s.tagName)&&(s.tagName=r[s.tagName]),function(c,u){return c!=null&&typeof c=="object"&&!Array.isArray(c)&&(u==="input"||!c.type||typeof c.type!="string"||(!("children"in c)||!Array.isArray(c.children))&&(u==="button"?K5e.has(c.type.toLowerCase()):!("value"in c)))}(i,s.tagName)){let c;for(c in i)m3.call(i,c)&&Y5e(e,s.properties,c,i[c])}else a.unshift(i);for(;++l<a.length;)f3(s.children,a[l]);return s.type==="element"&&s.tagName==="template"&&(s.content={type:"root",children:s.children},s.children=[]),s}}function Y5e(e,t,n,r){const o=wy(e,n);let i,a=-1;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;i=r}else i=typeof r=="boolean"?r:typeof r=="string"?o.spaceSeparated?pG(r):o.commaSeparated?fG(r):o.commaOrSpaceSeparated?pG(fG(r).join(" ")):SK(o,o.property,r):Array.isArray(r)?r.concat():o.property==="style"?function(s){const l=[];let c;for(c in s)m3.call(s,c)&&l.push([c,s[c]].join(": "));return l.join("; ")}(r):String(r);if(Array.isArray(i)){const s=[];for(;++a<i.length;)s[a]=SK(o,o.property,i[a]);i=s}o.property==="className"&&Array.isArray(t.className)&&(i=t.className.concat(i)),t[o.property]=i}}function f3(e,t){let n=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++n<t.length;)f3(e,t[n]);else{if(typeof t!="object"||!("type"in t))throw new Error("Expected node, nodes, or string, got `"+t+"`");t.type==="root"?f3(e,t.children):e.push(t)}}function SK(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||qm(n)===qm(t)))return!0}return n}const Q5e=TK(Wm,"div"),X5e=TK(Gm,"g",["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"]),Ym={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},EK={}.hasOwnProperty,J5e=Object.prototype;function g3(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},Ey(e,r,n),n}case"#document":case"#document-fragment":{const r=t,o="mode"in r&&(r.mode==="quirks"||r.mode==="limited-quirks");if(n={type:"root",children:CK(e,t.childNodes),data:{quirksMode:o}},e.file&&e.location){const i=String(e.file),a=function(c){const u=String(c),h=[],p=/\r?\n|\r/g;for(;p.test(u);)h.push(p.lastIndex);return h.push(u.length+1),{toPoint:function(d){let f=-1;if(typeof d=="number"&&d>-1&&d<h[h.length-1]){for(;++f<h.length;)if(h[f]>d)return{line:f+1,column:d-(f>0?h[f-1]:0)+1,offset:d}}return{line:void 0,column:void 0,offset:void 0}},toOffset:function(d){const f=d&&d.line,g=d&&d.column;if(typeof f=="number"&&typeof g=="number"&&!Number.isNaN(f)&&!Number.isNaN(g)&&f-1 in h){const m=(h[f-2]||0)+g-1||0;if(m>-1&&m<h[h.length-1])return m}return-1}}}(i),s=a.toPoint(0),l=a.toPoint(i.length);n.position={start:s,end:l}}return n}case"#documentType":return n={type:"doctype"},Ey(e,t,n),n;case"#text":{const r=t;return n={type:"text",value:r.value},Ey(e,r,n),n}default:return n=function(r,o){const i=r.schema;r.schema=o.namespaceURI===Ym.svg?Gm:Wm;let a=-1;const s={};for(;++a<o.attrs.length;){const c=o.attrs[a],u=(c.prefix?c.prefix+":":"")+c.name;EK.call(J5e,u)||(s[u]=c.value)}const l=(r.schema.space==="svg"?X5e:Q5e)(o.tagName,s,CK(r,o.childNodes));if(Ey(r,o,l),l.tagName==="template"){const c=o,u=c.sourceCodeLocation,h=u&&u.startTag&&Uh(u.startTag),p=u&&u.endTag&&Uh(u.endTag),d=g3(r,c.content);h&&p&&r.file&&(d.position={start:h.end,end:p.start}),l.content=d}return r.schema=i,l}(e,t),n}}function CK(e,t){let n=-1;const r=[];for(;++n<t.length;)r[n]=g3(e,t[n]);return r}function Ey(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=function(o,i,a){const s=Uh(a);if(i.type==="element"){const l=i.children[i.children.length-1];if(s&&!a.endTag&&l&&l.position&&l.position.end&&(s.end=Object.assign({},l.position.end)),o.verbose){const c={};let u;if(a.attrs)for(u in a.attrs)EK.call(a.attrs,u)&&(c[wy(o.schema,u).property]=Uh(a.attrs[u]));i.data={position:{opening:Uh(a.startTag),closing:a.endTag?Uh(a.endTag):null,properties:c}}}}return s}(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function Uh(e){const t=OK({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=OK({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function OK(e){return e.line&&e.column?e:void 0}const PK={}.hasOwnProperty;function v3(e,t){const n=t||{};function r(o,...i){let a=r.invalid;const s=r.handlers;if(o&&PK.call(o,e)){const l=String(o[e]);a=PK.call(s,l)?s[l]:r.unknown}if(a)return a.call(this,o,...i)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const Z5e={}.hasOwnProperty,AK=v3("type",{handlers:{root:function(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=b3(e.children,n,t),Hh(e,n),n},element:function(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=Gm);const o=[];let i;if(e.properties){for(i in e.properties)if(i!=="children"&&Z5e.call(e.properties,i)){const s=e2e(r,i,e.properties[i]);s&&o.push(s)}}const a={nodeName:e.tagName,tagName:e.tagName,attrs:o,namespaceURI:Ym[r.space],childNodes:[],parentNode:void 0};return a.childNodes=b3(e.children,a,r),Hh(e,a),e.tagName==="template"&&e.content&&(a.content=function(s,l){const c={nodeName:"#document-fragment",childNodes:[]};return c.childNodes=b3(s.children,c,l),Hh(s,c),c}(e.content,r)),a},text:function(e){const t={nodeName:"#text",value:e.value,parentNode:void 0};return Hh(e,t),t},comment:function(e){const t={nodeName:"#comment",data:e.value,parentNode:void 0};return Hh(e,t),t},doctype:function(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:void 0};return Hh(e,t),t}}});function e2e(e,t,n){const r=wy(e,t);if(n==null||n===!1||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?gG(n):mG(n));const o={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const i=o.name.indexOf(":");i<0?o.prefix="":(o.name=o.name.slice(i+1),o.prefix=r.attribute.slice(0,i)),o.namespace=Ym[r.space]}return o}function b3(e,t,n){let r=-1;const o=[];if(e)for(;++r<e.length;){const i=AK(e[r],n);i.parentNode=t,o.push(i)}return o}function Hh(e,t){const n=e.position;n&&n.start&&n.end&&(t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const t2e=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","isindex","keygen","link","menuitem","meta","nextid","param","source","track","wbr"],n2e="START_TAG_TOKEN",r2e="END_TAG_TOKEN",o2e={sourceCodeLocationInfo:!0,scriptingEnabled:!1},NK=function(e,t,n){let r=-1;const o=new G5e(o2e),i=v3("type",{handlers:{root:function(m){p(m.children)},element:function(m){g(),o._processInputToken(function(v){const y=Object.assign(Vh(v));return y.startTag=Object.assign({},y),{type:n2e,tagName:v.tagName,selfClosing:!1,attrs:i2e(v),location:y}}(m)),p(m.children),t2e.includes(m.tagName)||(g(),o._processInputToken(function(v){const y=Object.assign(Vh(v));return y.startTag=Object.assign({},y),{type:r2e,tagName:v.tagName,attrs:[],location:y}}(m)))},text:function(m){g(),o._processInputToken({type:"CHARACTER_TOKEN",chars:m.value,location:Vh(m)})},comment:d,doctype:function(m){g(),o._processInputToken({type:"DOCTYPE_TOKEN",name:"html",forceQuirks:!1,publicId:"",systemId:"",location:Vh(m)})},raw:function(m){const v=Hm(m),y=v.line||1,b=v.column||1,w=v.offset||0;if(!l)throw new Error("Expected `preprocessor`");if(!s)throw new Error("Expected `tokenizer`");if(!c)throw new Error("Expected `posTracker`");if(!u)throw new Error("Expected `locationTracker`");l.html=void 0,l.pos=-1,l.lastGapPos=-1,l.lastCharPos=-1,l.gapStack=[],l.skipNextNewLine=!1,l.lastChunkWritten=!1,l.endOfChunkHit=!1,c.isEol=!1,c.lineStartPos=1-b,c.droppedBufferSize=w,c.offset=0,c.col=1,c.line=y,u.currentAttrLocation=void 0,u.ctLoc=Vh(m),s.write(m.value),o._runParsingLoop(null),(s.state==="NAMED_CHARACTER_REFERENCE_STATE"||s.state==="NUMERIC_CHARACTER_REFERENCE_END_STATE")&&(l.lastChunkWritten=!0,s[s.state](s._consume()))}},unknown:a2e});let a,s,l,c,u;if(function(m){return!(!m||"message"in m&&"messages"in m)}(t)&&(n=t,t=void 0),n&&n.passThrough)for(;++r<n.passThrough.length;)i.handlers[n.passThrough[r]]=f;const h=function(m,v){const y=v||{};let b,w;return function(k){return"messages"in k}(y)?(w=y,b={}):(w=y.file||void 0,b=y),g3({schema:b.space==="svg"?Gm:Wm,file:w,verbose:b.verbose,location:!1},m)}(function(m){const v=m.type==="root"?m.children[0]:m;return!(!v||v.type!=="doctype"&&(v.type!=="element"||v.tagName!=="html"))}(e)?function(){const m=o.treeAdapter.createDocument();if(o._bootstrap(m,void 0),s=o.tokenizer,!s)throw new Error("Expected `tokenizer`");return l=s.preprocessor,u=s.__mixins[0],c=u.posTracker,i(e),g(),m}():function(){const m={nodeName:"template",tagName:"template",attrs:[],namespaceURI:Ym.html,childNodes:[]},v={nodeName:"documentmock",tagName:"documentmock",attrs:[],namespaceURI:Ym.html,childNodes:[]},y={nodeName:"#document-fragment",childNodes:[]};if(o._bootstrap(v,m),o._pushTmplInsertionMode("IN_TEMPLATE_MODE"),o._initTokenizerForFragmentParsing(),o._insertFakeRootElement(),o._resetInsertionMode(),o._findFormInFragmentContext(),s=o.tokenizer,!s)throw new Error("Expected `tokenizer`");return l=s.preprocessor,u=s.__mixins[0],c=u.posTracker,i(e),g(),o._adoptNodes(v.childNodes[0],y),y}(),t);return a&&function(m,v,y,b){Vm(m,v,function(w,k){const _=k[k.length-1];return y(w,_?_.children.indexOf(w):null,_)},b)}(h,"comment",(m,v,y)=>{const b=m;if(b.value.stitch&&y!==null&&v!==null)return y.children[v]=b.value.stitch,v}),e.type!=="root"&&h.type==="root"&&h.children.length===1?h.children[0]:h;function p(m){let v=-1;if(m)for(;++v<m.length;)i(m[v])}function d(m){g(),o._processInputToken({type:"COMMENT_TOKEN",data:m.value,location:Vh(m)})}function f(m){let v;a=!0,v="children"in m?K(A({},m),{children:NK({type:"root",children:m.children},t,n).children}):A({},m),d({type:"comment",value:{stitch:v}})}function g(){if(!s)throw new Error("Expected `tokenizer`");if(!c)throw new Error("Expected `posTracker`");const m=s.currentCharacterToken;m&&(m.location.endLine=c.line,m.location.endCol=c.col+1,m.location.endOffset=c.offset+1,o._processInputToken(m)),s.tokenQueue=[],s.state="DATA_STATE",s.returnState="",s.charRefCode=-1,s.tempBuff=[],s.lastStartTagName="",s.consumedAfterSnapshot=-1,s.active=!1,s.currentCharacterToken=void 0,s.currentToken=void 0,s.currentAttr=void 0}};function i2e(e){return function(t,n){return AK(t,Wm)}({tagName:e.tagName,type:"element",properties:e.properties,children:[]}).attrs}function a2e(e){throw new Error("Cannot compile `"+e.type+"` node")}function Vh(e){const t=Hm(e),n=gy(e);return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function s2e(e={}){return(t,n)=>NK(t,n,e)}const RK=()=>{const e=W(l=>l.chatBox.chatBoxWidth),t=parseInt(`${e}`),n=W(l=>l.chatBox.chatBoxHeight),r=parseInt(`${n}`);let o=1,i=1,a=300;t>750&&(o=.4,a=t*o);let s=200;return r>500&&(i=.4,s=r*i),[`${a}px`,`${s}px`]},l2e=({embedVideoUrl:e})=>{const[t,n]=RK(),r=parseInt(t),o=parseInt(n),i=16/9,a=r/i;let s=r,l=a;a>o&&(l=o,s=l*i);const c=`${l}px`,u=`${s}px`,h=/\.(mov|webm|ogg)$/i.test(e),p={border:"none",position:"absolute",top:0,left:0,width:"100%",height:"100%",maxWidth:u,maxHeight:c};return R("span",{style:{display:"block",position:"relative",paddingBottom:c,width:"100%",height:0,maxWidth:u,maxHeight:c},children:h?R("video",{style:p,src:e,controls:!0,playsInline:!0}):R("iframe",{style:p,src:e,allowFullScreen:!0})})},c2e={};function IK(e,t,n){if(function(r){return!(!r||typeof r!="object")}(e)){if("value"in e)return e.type!=="html"||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return MK(e.children,t,n)}return Array.isArray(e)?MK(e,t,n):""}function MK(e,t,n){const r=[];let o=-1;for(;++o<e.length;)r[o]=IK(e[o],t,n);return r.join("")}function rs(e,t,n,r){const o=e.length;let i,a=0;if(t=t<0?-t>o?0:o+t:t>o?o:t,n=n>0?n:0,r.length<1e4)i=Array.from(r),i.unshift(t,n),e.splice(...i);else for(n&&e.splice(t,n);a<r.length;)i=r.slice(a,a+1e4),i.unshift(t,0),e.splice(...i),a+=1e4,t+=1e4}function Oi(e,t){return e.length>0?(rs(e,e.length,0,t),e):t}const LK={}.hasOwnProperty;function u2e(e){const t={};let n=-1;for(;++n<e.length;)d2e(t,e[n]);return t}function d2e(e,t){let n;for(n in t){const r=(LK.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let i;if(o)for(i in o){LK.call(r,i)||(r[i]=[]);const a=o[i];h2e(r[i],Array.isArray(a)?a:a?[a]:[])}}}function h2e(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);rs(e,0,0,r)}function DK(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(65535&n)==65535||(65535&n)==65534||n>1114111?"�":String.fromCodePoint(n)}function $h(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const os=ec(/[A-Za-z]/),sa=ec(/[\dA-Za-z]/),p2e=ec(/[#-'*+\--9=?A-Z^-~]/);function y3(e){return e!==null&&(e<32||e===127)}const w3=ec(/\d/),m2e=ec(/[\dA-Fa-f]/),f2e=ec(/[!-/:-@[-`{-~]/);function kt(e){return e!==null&&e<-2}function No(e){return e!==null&&(e<0||e===32)}function en(e){return e===-2||e===-1||e===32}const g2e=ec(new RegExp("\\p{P}|\\p{S}","u")),v2e=ec(/\s/);function ec(e){return function(t){return t!==null&&t>-1&&e.test(String.fromCharCode(t))}}function yn(e,t,n,r){const o=r?r-1:Number.POSITIVE_INFINITY;let i=0;return function(s){return en(s)?(e.enter(n),a(s)):t(s)};function a(s){return en(s)&&i++<o?(e.consume(s),a):(e.exit(n),t(s))}}const b2e={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,function(i){return i===null?void e.consume(i):(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),yn(e,t,"linePrefix"))},function(i){return e.enter("paragraph"),r(i)});let n;return t;function r(i){const a=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=a),n=a,o(i)}function o(i){return i===null?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(i)):kt(i)?(e.consume(i),e.exit("chunkText"),r):(e.consume(i),o)}}},y2e={tokenize:function(e){const t=this,n=[];let r,o,i,a=0;return s;function s(b){if(a<n.length){const w=n[a];return t.containerState=w[1],e.attempt(w[0].continuation,l,c)(b)}return c(b)}function l(b){if(a++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&y();const w=t.events.length;let k,_=w;for(;_--;)if(t.events[_][0]==="exit"&&t.events[_][1].type==="chunkFlow"){k=t.events[_][1].end;break}v(a);let O=w;for(;O<t.events.length;)t.events[O][1].end=A({},k),O++;return rs(t.events,_+1,0,t.events.slice(w)),t.events.length=O,c(b)}return s(b)}function c(b){if(a===n.length){if(!r)return p(b);if(r.currentConstruct&&r.currentConstruct.concrete)return f(b);t.interrupt=!(!r.currentConstruct||r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(jK,u,h)(b)}function u(b){return r&&y(),v(a),p(b)}function h(b){return t.parser.lazy[t.now().line]=a!==n.length,i=t.now().offset,f(b)}function p(b){return t.containerState={},e.attempt(jK,d,f)(b)}function d(b){return a++,n.push([t.currentConstruct,t.containerState]),p(b)}function f(b){return b===null?(r&&y(),v(0),void e.consume(b)):(r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:o}),g(b))}function g(b){return b===null?(m(e.exit("chunkFlow"),!0),v(0),void e.consume(b)):kt(b)?(e.consume(b),m(e.exit("chunkFlow")),a=0,t.interrupt=void 0,s):(e.consume(b),g)}function m(b,w){const k=t.sliceStream(b);if(w&&k.push(null),b.previous=o,o&&(o.next=b),o=b,r.defineSkip(b.start),r.write(k),t.parser.lazy[b.start.line]){let _=r.events.length;for(;_--;)if(r.events[_][1].start.offset<i&&(!r.events[_][1].end||r.events[_][1].end.offset>i))return;const O=t.events.length;let E,C,N=O;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type==="chunkFlow"){if(E){C=t.events[N][1].end;break}E=!0}for(v(a),_=O;_<t.events.length;)t.events[_][1].end=A({},C),_++;rs(t.events,N+1,0,t.events.slice(O)),t.events.length=_}}function v(b){let w=n.length;for(;w-- >b;){const k=n[w];t.containerState=k[1],k[0].exit.call(t,e)}n.length=b}function y(){r.write([null]),o=void 0,r=void 0,t.containerState._closeFlow=void 0}}},jK={tokenize:function(e,t,n){return yn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};function zK(e){return e===null||No(e)||v2e(e)?1:g2e(e)?2:void 0}function k3(e,t,n){const r=[];let o=-1;for(;++o<e.length;){const i=e[o].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const x3={name:"attention",resolveAll:function(e,t){let n,r,o,i,a,s,l,c,u=-1;for(;++u<e.length;)if(e[u][0]==="enter"&&e[u][1].type==="attentionSequence"&&e[u][1]._close){for(n=u;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[u][1]).charCodeAt(0)){if((e[n][1]._close||e[u][1]._open)&&(e[u][1].end.offset-e[u][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[u][1].end.offset-e[u][1].start.offset)%3))continue;s=e[n][1].end.offset-e[n][1].start.offset>1&&e[u][1].end.offset-e[u][1].start.offset>1?2:1;const h=A({},e[n][1].end),p=A({},e[u][1].start);FK(h,-s),FK(p,s),i={type:s>1?"strongSequence":"emphasisSequence",start:h,end:A({},e[n][1].end)},a={type:s>1?"strongSequence":"emphasisSequence",start:A({},e[u][1].start),end:p},o={type:s>1?"strongText":"emphasisText",start:A({},e[n][1].end),end:A({},e[u][1].start)},r={type:s>1?"strong":"emphasis",start:A({},i.start),end:A({},a.end)},e[n][1].end=A({},i.start),e[u][1].start=A({},a.end),l=[],e[n][1].end.offset-e[n][1].start.offset&&(l=Oi(l,[["enter",e[n][1],t],["exit",e[n][1],t]])),l=Oi(l,[["enter",r,t],["enter",i,t],["exit",i,t],["enter",o,t]]),l=Oi(l,k3(t.parser.constructs.insideSpan.null,e.slice(n+1,u),t)),l=Oi(l,[["exit",o,t],["enter",a,t],["exit",a,t],["exit",r,t]]),e[u][1].end.offset-e[u][1].start.offset?(c=2,l=Oi(l,[["enter",e[u][1],t],["exit",e[u][1],t]])):c=0,rs(e,n-1,u-n+3,l),u=n+l.length-c-2;break}}for(u=-1;++u<e.length;)e[u][1].type==="attentionSequence"&&(e[u][1].type="data");return e},tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,o=zK(r);let i;return function(s){return i=s,e.enter("attentionSequence"),a(s)};function a(s){if(s===i)return e.consume(s),a;const l=e.exit("attentionSequence"),c=zK(s),u=!c||c===2&&o||n.includes(s),h=!o||o===2&&c||n.includes(r);return l._open=!!(i===42?u:u&&(o||!h)),l._close=!!(i===42?h:h&&(c||!u)),t(s)}}};function FK(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const w2e={name:"autolink",tokenize:function(e,t,n){let r=0;return function(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o};function o(p){return os(p)?(e.consume(p),i):p===64?n(p):l(p)}function i(p){return p===43||p===45||p===46||sa(p)?(r=1,a(p)):l(p)}function a(p){return p===58?(e.consume(p),r=0,s):(p===43||p===45||p===46||sa(p))&&r++<32?(e.consume(p),a):(r=0,l(p))}function s(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||y3(p)?n(p):(e.consume(p),s)}function l(p){return p===64?(e.consume(p),c):p2e(p)?(e.consume(p),l):n(p)}function c(p){return sa(p)?u(p):n(p)}function u(p){return p===46?(e.consume(p),r=0,c):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):h(p)}function h(p){if((p===45||sa(p))&&r++<63){const d=p===45?h:u;return e.consume(p),d}return n(p)}}},Cy={partial:!0,tokenize:function(e,t,n){return function(o){return en(o)?yn(e,r,"linePrefix")(o):r(o)};function r(o){return o===null||kt(o)?t(o):n(o)}}},BK={continuation:{tokenize:function(e,t,n){const r=this;return function(i){return en(i)?yn(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i):o(i)};function o(i){return e.attempt(BK,t,n)(i)}}},exit:function(e){e.exit("blockQuote")},name:"blockQuote",tokenize:function(e,t,n){const r=this;return function(i){if(i===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(i),e.exit("blockQuoteMarker"),o}return n(i)};function o(i){return en(i)?(e.enter("blockQuotePrefixWhitespace"),e.consume(i),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(i))}}},UK={name:"characterEscape",tokenize:function(e,t,n){return function(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),r};function r(o){return f2e(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}},HK={name:"characterReference",tokenize:function(e,t,n){const r=this;let o,i,a=0;return function(u){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(u),e.exit("characterReferenceMarker"),s};function s(u){return u===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(u),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),o=31,i=sa,c(u))}function l(u){return u===88||u===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(u),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,i=m2e,c):(e.enter("characterReferenceValue"),o=7,i=w3,c(u))}function c(u){if(u===59&&a){const h=e.exit("characterReferenceValue");return i!==sa||Su(r.sliceSerialize(h))?(e.enter("characterReferenceMarker"),e.consume(u),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(u)}return i(u)&&a++<o?(e.consume(u),c):n(u)}}},VK={partial:!0,tokenize:function(e,t,n){const r=this;return function(i){return i===null?n(i):(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),o)};function o(i){return r.parser.lazy[r.now().line]?n(i):t(i)}}},$K={concrete:!0,name:"codeFenced",tokenize:function(e,t,n){const r=this,o={partial:!0,tokenize:function(b,w,k){let _=0;return O;function O(j){return b.enter("lineEnding"),b.consume(j),b.exit("lineEnding"),E}function E(j){return b.enter("codeFencedFence"),en(j)?yn(b,C,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):C(j)}function C(j){return j===i?(b.enter("codeFencedFenceSequence"),N(j)):k(j)}function N(j){return j===i?(_++,b.consume(j),N):_>=s?(b.exit("codeFencedFenceSequence"),en(j)?yn(b,L,"whitespace")(j):L(j)):k(j)}function L(j){return j===null||kt(j)?(b.exit("codeFencedFence"),w(j)):k(j)}}};let i,a=0,s=0;return function(b){return function(w){const k=r.events[r.events.length-1];return a=k&&k[1].type==="linePrefix"?k[2].sliceSerialize(k[1],!0).length:0,i=w,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l(w)}(b)};function l(b){return b===i?(s++,e.consume(b),l):s<3?n(b):(e.exit("codeFencedFenceSequence"),en(b)?yn(e,c,"whitespace")(b):c(b))}function c(b){return b===null||kt(b)?(e.exit("codeFencedFence"),r.interrupt?t(b):e.check(VK,d,y)(b)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),u(b))}function u(b){return b===null||kt(b)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),c(b)):en(b)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),yn(e,h,"whitespace")(b)):b===96&&b===i?n(b):(e.consume(b),u)}function h(b){return b===null||kt(b)?c(b):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(b))}function p(b){return b===null||kt(b)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),c(b)):b===96&&b===i?n(b):(e.consume(b),p)}function d(b){return e.attempt(o,y,f)(b)}function f(b){return e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),g}function g(b){return a>0&&en(b)?yn(e,m,"linePrefix",a+1)(b):m(b)}function m(b){return b===null||kt(b)?e.check(VK,d,y)(b):(e.enter("codeFlowValue"),v(b))}function v(b){return b===null||kt(b)?(e.exit("codeFlowValue"),m(b)):(e.consume(b),v)}function y(b){return e.exit("codeFenced"),t(b)}}},_3={name:"codeIndented",tokenize:function(e,t,n){const r=this;return function(l){return e.enter("codeIndented"),yn(e,o,"linePrefix",5)(l)};function o(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?i(l):n(l)}function i(l){return l===null?s(l):kt(l)?e.attempt(k2e,i,s)(l):(e.enter("codeFlowValue"),a(l))}function a(l){return l===null||kt(l)?(e.exit("codeFlowValue"),i(l)):(e.consume(l),a)}function s(l){return e.exit("codeIndented"),t(l)}}},k2e={partial:!0,tokenize:function(e,t,n){const r=this;return o;function o(a){return r.parser.lazy[r.now().line]?n(a):kt(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o):yn(e,i,"linePrefix",5)(a)}function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(a):kt(a)?o(a):n(a)}}},x2e={name:"codeText",previous:function(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"},resolve:function(e){let t,n,r=e.length-4,o=3;if(!(e[o][1].type!=="lineEnding"&&e[o][1].type!=="space"||e[r][1].type!=="lineEnding"&&e[r][1].type!=="space")){for(t=o;++t<r;)if(e[t][1].type==="codeTextData"){e[o][1].type="codeTextPadding",e[r][1].type="codeTextPadding",o+=2,r-=2;break}}for(t=o-1,r++;++t<=r;)n===void 0?t!==r&&e[t][1].type!=="lineEnding"&&(n=t):(t===r||e[t][1].type==="lineEnding")&&(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},tokenize:function(e,t,n){let r,o,i=0;return function(u){return e.enter("codeText"),e.enter("codeTextSequence"),a(u)};function a(u){return u===96?(e.consume(u),i++,a):(e.exit("codeTextSequence"),s(u))}function s(u){return u===null?n(u):u===32?(e.enter("space"),e.consume(u),e.exit("space"),s):u===96?(o=e.enter("codeTextSequence"),r=0,c(u)):kt(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),s):(e.enter("codeTextData"),l(u))}function l(u){return u===null||u===32||u===96||kt(u)?(e.exit("codeTextData"),s(u)):(e.consume(u),l)}function c(u){return u===96?(e.consume(u),r++,c):r===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(u)):(o.type="codeTextData",l(u))}}};class _2e{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const o=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return r&&Qm(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Qm(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Qm(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Qm(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Qm(this.left,n.reverse())}}}function Qm(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function qK(e){const t={};let n,r,o,i,a,s,l,c=-1;const u=new _2e(e);for(;++c<u.length;){for(;c in t;)c=t[c];if(n=u.get(c),c&&n[1].type==="chunkFlow"&&u.get(c-1)[1].type==="listItemPrefix"&&(s=n[1]._tokenizer.events,o=0,o<s.length&&s[o][1].type==="lineEndingBlank"&&(o+=2),o<s.length&&s[o][1].type==="content"))for(;++o<s.length&&s[o][1].type!=="content";)s[o][1].type==="chunkText"&&(s[o][1]._isInFirstContentOfListItem=!0,o++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,T2e(u,c)),c=t[c],l=!0);else if(n[1]._container){for(o=c,r=void 0;o--;)if(i=u.get(o),i[1].type==="lineEnding"||i[1].type==="lineEndingBlank")i[0]==="enter"&&(r&&(u.get(r)[1].type="lineEndingBlank"),i[1].type="lineEnding",r=o);else if(i[1].type!=="linePrefix"&&i[1].type!=="listItemIndent")break;r&&(n[1].end=A({},u.get(r)[1].start),a=u.slice(r,c),a.unshift(n),u.splice(r,c-r+1,a))}}return rs(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!l}function T2e(e,t){const n=e.get(t)[1],r=e.get(t)[2];let o=t-1;const i=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const s=a.events,l=[],c={};let u,h,p=-1,d=n,f=0,g=0;const m=[g];for(;d;){for(;e.get(++o)[1]!==d;);i.push(o),d._tokenizer||(u=r.sliceStream(d),d.next||u.push(null),h&&a.defineSkip(d.start),d._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(u),d._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),h=d,d=d.next}for(d=n;++p<s.length;)s[p][0]==="exit"&&s[p-1][0]==="enter"&&s[p][1].type===s[p-1][1].type&&s[p][1].start.line!==s[p][1].end.line&&(g=p+1,m.push(g),d._tokenizer=void 0,d.previous=void 0,d=d.next);for(a.events=[],d?(d._tokenizer=void 0,d.previous=void 0):m.pop(),p=m.length;p--;){const v=s.slice(m[p],m[p+1]),y=i.pop();l.push([y,y+v.length-1]),e.splice(y,2,v)}for(l.reverse(),p=-1;++p<l.length;)c[f+l[p][0]]=f+l[p][1],f+=l[p][1]-l[p][0]-1;return c}const S2e={resolve:function(e){return qK(e),e},tokenize:function(e,t){let n;return function(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(a)};function r(a){return a===null?o(a):kt(a)?e.check(E2e,i,o)(a):(e.consume(a),r)}function o(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function i(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}},E2e={partial:!0,tokenize:function(e,t,n){const r=this;return function(i){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),yn(e,o,"linePrefix")};function o(i){if(i===null||kt(i))return n(i);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(i):e.interrupt(r.parser.constructs.flow,n,t)(i)}}};function WK(e,t,n,r,o,i,a,s,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return function(m){return m===60?(e.enter(r),e.enter(o),e.enter(i),e.consume(m),e.exit(i),h):m===null||m===32||m===41||y3(m)?n(m):(e.enter(r),e.enter(a),e.enter(s),e.enter("chunkString",{contentType:"string"}),f(m))};function h(m){return m===62?(e.enter(i),e.consume(m),e.exit(i),e.exit(o),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),p(m))}function p(m){return m===62?(e.exit("chunkString"),e.exit(s),h(m)):m===null||m===60||kt(m)?n(m):(e.consume(m),m===92?d:p)}function d(m){return m===60||m===62||m===92?(e.consume(m),p):p(m)}function f(m){return u||m!==null&&m!==41&&!No(m)?u<c&&m===40?(e.consume(m),u++,f):m===41?(e.consume(m),u--,f):m===null||m===32||m===40||y3(m)?n(m):(e.consume(m),m===92?g:f):(e.exit("chunkString"),e.exit(s),e.exit(a),e.exit(r),t(m))}function g(m){return m===40||m===41||m===92?(e.consume(m),f):f(m)}}function GK(e,t,n,r,o,i){const a=this;let s,l=0;return function(p){return e.enter(r),e.enter(o),e.consume(p),e.exit(o),e.enter(i),c};function c(p){return l>999||p===null||p===91||p===93&&!s||p===94&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?n(p):p===93?(e.exit(i),e.enter(o),e.consume(p),e.exit(o),e.exit(r),t):kt(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),u(p))}function u(p){return p===null||p===91||p===93||kt(p)||l++>999?(e.exit("chunkString"),c(p)):(e.consume(p),s||(s=!en(p)),p===92?h:u)}function h(p){return p===91||p===92||p===93?(e.consume(p),l++,u):u(p)}}function KK(e,t,n,r,o,i){let a;return function(h){return h===34||h===39||h===40?(e.enter(r),e.enter(o),e.consume(h),e.exit(o),a=h===40?41:h,s):n(h)};function s(h){return h===a?(e.enter(o),e.consume(h),e.exit(o),e.exit(r),t):(e.enter(i),l(h))}function l(h){return h===a?(e.exit(i),s(a)):h===null?n(h):kt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),yn(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(h))}function c(h){return h===a||h===null||kt(h)?(e.exit("chunkString"),l(h)):(e.consume(h),h===92?u:c)}function u(h){return h===a||h===92?(e.consume(h),c):c(h)}}function Xm(e,t){let n;return function r(o){return kt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n=!0,r):en(o)?yn(e,r,n?"linePrefix":"lineSuffix")(o):t(o)}}const C2e={name:"definition",tokenize:function(e,t,n){const r=this;let o;return function(h){return e.enter("definition"),function(p){return GK.call(r,e,i,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}(h)};function i(h){return o=$h(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),a):n(h)}function a(h){return No(h)?Xm(e,s)(h):s(h)}function s(h){return WK(e,l,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function l(h){return e.attempt(O2e,c,c)(h)}function c(h){return en(h)?yn(e,u,"whitespace")(h):u(h)}function u(h){return h===null||kt(h)?(e.exit("definition"),r.parser.defined.push(o),t(h)):n(h)}}},O2e={partial:!0,tokenize:function(e,t,n){return function(a){return No(a)?Xm(e,r)(a):n(a)};function r(a){return KK(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function o(a){return en(a)?yn(e,i,"whitespace")(a):i(a)}function i(a){return a===null||kt(a)?t(a):n(a)}}},P2e={name:"hardBreakEscape",tokenize:function(e,t,n){return function(o){return e.enter("hardBreakEscape"),e.consume(o),r};function r(o){return kt(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}},A2e={name:"headingAtx",resolve:function(e,t){let n,r,o=e.length-2,i=3;return e[i][1].type==="whitespace"&&(i+=2),o-2>i&&e[o][1].type==="whitespace"&&(o-=2),e[o][1].type==="atxHeadingSequence"&&(i===o-1||o-4>i&&e[o-2][1].type==="whitespace")&&(o-=i+1===o?2:4),o>i&&(n={type:"atxHeadingText",start:e[i][1].start,end:e[o][1].end},r={type:"chunkText",start:e[i][1].start,end:e[o][1].end,contentType:"text"},rs(e,i,o-i+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]])),e},tokenize:function(e,t,n){let r=0;return function(l){return e.enter("atxHeading"),function(c){return e.enter("atxHeadingSequence"),o(c)}(l)};function o(l){return l===35&&r++<6?(e.consume(l),o):l===null||No(l)?(e.exit("atxHeadingSequence"),i(l)):n(l)}function i(l){return l===35?(e.enter("atxHeadingSequence"),a(l)):l===null||kt(l)?(e.exit("atxHeading"),t(l)):en(l)?yn(e,i,"whitespace")(l):(e.enter("atxHeadingText"),s(l))}function a(l){return l===35?(e.consume(l),a):(e.exit("atxHeadingSequence"),i(l))}function s(l){return l===null||l===35||No(l)?(e.exit("atxHeadingText"),i(l)):(e.consume(l),s)}}},N2e=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],YK=["pre","script","style","textarea"],R2e={concrete:!0,name:"htmlFlow",resolveTo:function(e){let t=e.length;for(;t--&&(e[t][0]!=="enter"||e[t][1].type!=="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e},tokenize:function(e,t,n){const r=this;let o,i,a,s,l;return function(P){return function(Q){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(Q),c}(P)};function c(P){return P===33?(e.consume(P),u):P===47?(e.consume(P),i=!0,d):P===63?(e.consume(P),o=3,r.interrupt?t:U):os(P)?(e.consume(P),a=String.fromCharCode(P),f):n(P)}function u(P){return P===45?(e.consume(P),o=2,h):P===91?(e.consume(P),o=5,s=0,p):os(P)?(e.consume(P),o=4,r.interrupt?t:U):n(P)}function h(P){return P===45?(e.consume(P),r.interrupt?t:U):n(P)}function p(P){return P==="CDATA[".charCodeAt(s++)?(e.consume(P),s===6?r.interrupt?t:N:p):n(P)}function d(P){return os(P)?(e.consume(P),a=String.fromCharCode(P),f):n(P)}function f(P){if(P===null||P===47||P===62||No(P)){const Q=P===47,re=a.toLowerCase();return Q||i||!YK.includes(re)?N2e.includes(a.toLowerCase())?(o=6,Q?(e.consume(P),g):r.interrupt?t(P):N(P)):(o=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(P):i?m(P):v(P)):(o=1,r.interrupt?t(P):N(P))}return P===45||sa(P)?(e.consume(P),a+=String.fromCharCode(P),f):n(P)}function g(P){return P===62?(e.consume(P),r.interrupt?t:N):n(P)}function m(P){return en(P)?(e.consume(P),m):E(P)}function v(P){return P===47?(e.consume(P),E):P===58||P===95||os(P)?(e.consume(P),y):en(P)?(e.consume(P),v):E(P)}function y(P){return P===45||P===46||P===58||P===95||sa(P)?(e.consume(P),y):b(P)}function b(P){return P===61?(e.consume(P),w):en(P)?(e.consume(P),b):v(P)}function w(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(e.consume(P),l=P,k):en(P)?(e.consume(P),w):_(P)}function k(P){return P===l?(e.consume(P),l=null,O):P===null||kt(P)?n(P):(e.consume(P),k)}function _(P){return P===null||P===34||P===39||P===47||P===60||P===61||P===62||P===96||No(P)?b(P):(e.consume(P),_)}function O(P){return P===47||P===62||en(P)?v(P):n(P)}function E(P){return P===62?(e.consume(P),C):n(P)}function C(P){return P===null||kt(P)?N(P):en(P)?(e.consume(P),C):n(P)}function N(P){return P===45&&o===2?(e.consume(P),F):P===60&&o===1?(e.consume(P),z):P===62&&o===4?(e.consume(P),S):P===63&&o===3?(e.consume(P),U):P===93&&o===5?(e.consume(P),V):!kt(P)||o!==6&&o!==7?P===null||kt(P)?(e.exit("htmlFlowData"),L(P)):(e.consume(P),N):(e.exit("htmlFlowData"),e.check(I2e,q,L)(P))}function L(P){return e.check(M2e,j,q)(P)}function j(P){return e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),H}function H(P){return P===null||kt(P)?L(P):(e.enter("htmlFlowData"),N(P))}function F(P){return P===45?(e.consume(P),U):N(P)}function z(P){return P===47?(e.consume(P),a="",B):N(P)}function B(P){if(P===62){const Q=a.toLowerCase();return YK.includes(Q)?(e.consume(P),S):N(P)}return os(P)&&a.length<8?(e.consume(P),a+=String.fromCharCode(P),B):N(P)}function V(P){return P===93?(e.consume(P),U):N(P)}function U(P){return P===62?(e.consume(P),S):P===45&&o===2?(e.consume(P),U):N(P)}function S(P){return P===null||kt(P)?(e.exit("htmlFlowData"),q(P)):(e.consume(P),S)}function q(P){return e.exit("htmlFlow"),t(P)}}},I2e={partial:!0,tokenize:function(e,t,n){return function(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(Cy,t,n)}}},M2e={partial:!0,tokenize:function(e,t,n){const r=this;return function(i){return kt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),o):n(i)};function o(i){return r.parser.lazy[r.now().line]?n(i):t(i)}}},L2e={name:"htmlText",tokenize:function(e,t,n){const r=this;let o,i,a;return function(S){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(S),s};function s(S){return S===33?(e.consume(S),l):S===47?(e.consume(S),w):S===63?(e.consume(S),y):os(S)?(e.consume(S),O):n(S)}function l(S){return S===45?(e.consume(S),c):S===91?(e.consume(S),i=0,d):os(S)?(e.consume(S),v):n(S)}function c(S){return S===45?(e.consume(S),p):n(S)}function u(S){return S===null?n(S):S===45?(e.consume(S),h):kt(S)?(a=u,B(S)):(e.consume(S),u)}function h(S){return S===45?(e.consume(S),p):u(S)}function p(S){return S===62?z(S):S===45?h(S):u(S)}function d(S){return S==="CDATA[".charCodeAt(i++)?(e.consume(S),i===6?f:d):n(S)}function f(S){return S===null?n(S):S===93?(e.consume(S),g):kt(S)?(a=f,B(S)):(e.consume(S),f)}function g(S){return S===93?(e.consume(S),m):f(S)}function m(S){return S===62?z(S):S===93?(e.consume(S),m):f(S)}function v(S){return S===null||S===62?z(S):kt(S)?(a=v,B(S)):(e.consume(S),v)}function y(S){return S===null?n(S):S===63?(e.consume(S),b):kt(S)?(a=y,B(S)):(e.consume(S),y)}function b(S){return S===62?z(S):y(S)}function w(S){return os(S)?(e.consume(S),k):n(S)}function k(S){return S===45||sa(S)?(e.consume(S),k):_(S)}function _(S){return kt(S)?(a=_,B(S)):en(S)?(e.consume(S),_):z(S)}function O(S){return S===45||sa(S)?(e.consume(S),O):S===47||S===62||No(S)?E(S):n(S)}function E(S){return S===47?(e.consume(S),z):S===58||S===95||os(S)?(e.consume(S),C):kt(S)?(a=E,B(S)):en(S)?(e.consume(S),E):z(S)}function C(S){return S===45||S===46||S===58||S===95||sa(S)?(e.consume(S),C):N(S)}function N(S){return S===61?(e.consume(S),L):kt(S)?(a=N,B(S)):en(S)?(e.consume(S),N):E(S)}function L(S){return S===null||S===60||S===61||S===62||S===96?n(S):S===34||S===39?(e.consume(S),o=S,j):kt(S)?(a=L,B(S)):en(S)?(e.consume(S),L):(e.consume(S),H)}function j(S){return S===o?(e.consume(S),o=void 0,F):S===null?n(S):kt(S)?(a=j,B(S)):(e.consume(S),j)}function H(S){return S===null||S===34||S===39||S===60||S===61||S===96?n(S):S===47||S===62||No(S)?E(S):(e.consume(S),H)}function F(S){return S===47||S===62||No(S)?E(S):n(S)}function z(S){return S===62?(e.consume(S),e.exit("htmlTextData"),e.exit("htmlText"),t):n(S)}function B(S){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),V}function V(S){return en(S)?yn(e,U,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(S):U(S)}function U(S){return e.enter("htmlTextData"),a(S)}}},T3={name:"labelEnd",resolveAll:function(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const o=r.type==="labelImage"?4:2;r.type="data",t+=o}}return e.length!==n.length&&rs(e,0,e.length,n),e},resolveTo:function(e,t){let n,r,o,i,a=e.length,s=0;for(;a--;)if(n=e[a][1],r){if(n.type==="link"||n.type==="labelLink"&&n._inactive)break;e[a][0]==="enter"&&n.type==="labelLink"&&(n._inactive=!0)}else if(o){if(e[a][0]==="enter"&&(n.type==="labelImage"||n.type==="labelLink")&&!n._balanced&&(r=a,n.type!=="labelLink")){s=2;break}}else n.type==="labelEnd"&&(o=a);const l={type:e[r][1].type==="labelLink"?"link":"image",start:A({},e[r][1].start),end:A({},e[e.length-1][1].end)},c={type:"label",start:A({},e[r][1].start),end:A({},e[o][1].end)},u={type:"labelText",start:A({},e[r+s+2][1].end),end:A({},e[o-2][1].start)};return i=[["enter",l,t],["enter",c,t]],i=Oi(i,e.slice(r+1,r+s+3)),i=Oi(i,[["enter",u,t]]),i=Oi(i,k3(t.parser.constructs.insideSpan.null,e.slice(r+s+4,o-3),t)),i=Oi(i,[["exit",u,t],e[o-2],e[o-1],["exit",c,t]]),i=Oi(i,e.slice(o+1)),i=Oi(i,[["exit",l,t]]),rs(e,r,e.length,i),e},tokenize:function(e,t,n){const r=this;let o,i,a=r.events.length;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){o=r.events[a][1];break}return function(h){return o?o._inactive?u(h):(i=r.parser.defined.includes($h(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),s):n(h)};function s(h){return h===40?e.attempt(D2e,c,i?c:u)(h):h===91?e.attempt(j2e,c,i?l:u)(h):i?c(h):u(h)}function l(h){return e.attempt(z2e,c,u)(h)}function c(h){return t(h)}function u(h){return o._balanced=!0,n(h)}}},D2e={tokenize:function(e,t,n){return function(u){return e.enter("resource"),e.enter("resourceMarker"),e.consume(u),e.exit("resourceMarker"),r};function r(u){return No(u)?Xm(e,o)(u):o(u)}function o(u){return u===41?c(u):WK(e,i,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(u)}function i(u){return No(u)?Xm(e,s)(u):c(u)}function a(u){return n(u)}function s(u){return u===34||u===39||u===40?KK(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(u):c(u)}function l(u){return No(u)?Xm(e,c)(u):c(u)}function c(u){return u===41?(e.enter("resourceMarker"),e.consume(u),e.exit("resourceMarker"),e.exit("resource"),t):n(u)}}},j2e={tokenize:function(e,t,n){const r=this;return function(a){return GK.call(r,e,o,i,"reference","referenceMarker","referenceString")(a)};function o(a){return r.parser.defined.includes($h(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function i(a){return n(a)}}},z2e={tokenize:function(e,t,n){return function(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),r};function r(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}},F2e={name:"labelStartImage",resolveAll:T3.resolveAll,tokenize:function(e,t,n){const r=this;return function(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),o};function o(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),i):n(a)}function i(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}},B2e={name:"labelStartLink",resolveAll:T3.resolveAll,tokenize:function(e,t,n){const r=this;return function(i){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(i),e.exit("labelMarker"),e.exit("labelLink"),o};function o(i){return i===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(i):t(i)}}},S3={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),yn(e,t,"linePrefix")}}},Oy={name:"thematicBreak",tokenize:function(e,t,n){let r,o=0;return function(s){return e.enter("thematicBreak"),function(l){return r=l,i(l)}(s)};function i(s){return s===r?(e.enter("thematicBreakSequence"),a(s)):o>=3&&(s===null||kt(s))?(e.exit("thematicBreak"),t(s)):n(s)}function a(s){return s===r?(e.consume(s),o++,a):(e.exit("thematicBreakSequence"),en(s)?yn(e,i,"whitespace")(s):i(s))}}},Ro={continuation:{tokenize:function(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Cy,function(i){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,yn(e,t,"listItemIndent",r.containerState.size+1)(i)},function(i){return r.containerState.furtherBlankLines||!en(i)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(i)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(H2e,t,o)(i))});function o(i){return r.containerState._closeFlow=!0,r.interrupt=void 0,yn(e,e.attempt(Ro,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i)}}},exit:function(e){e.exit(this.containerState.type)},name:"list",tokenize:function(e,t,n){const r=this,o=r.events[r.events.length-1];let i=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,a=0;return function(p){const d=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(d==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:w3(p)){if(r.containerState.type||(r.containerState.type=d,e.enter(d,{_container:!0})),d==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(Oy,n,l)(p):l(p);if(!r.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),s(p)}return n(p)};function s(p){return w3(p)&&++a<10?(e.consume(p),s):(!r.interrupt||a<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),l(p)):n(p)}function l(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,e.check(Cy,r.interrupt?n:c,e.attempt(U2e,h,u))}function c(p){return r.containerState.initialBlankLine=!0,i++,h(p)}function u(p){return en(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),h):n(p)}function h(p){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}},U2e={partial:!0,tokenize:function(e,t,n){const r=this;return yn(e,function(o){const i=r.events[r.events.length-1];return!en(o)&&i&&i[1].type==="listItemPrefixWhitespace"?t(o):n(o)},"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)}},H2e={partial:!0,tokenize:function(e,t,n){const r=this;return yn(e,function(o){const i=r.events[r.events.length-1];return i&&i[1].type==="listItemIndent"&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?t(o):n(o)},"listItemIndent",r.containerState.size+1)}},QK={name:"setextUnderline",resolveTo:function(e,t){let n,r,o,i=e.length;for(;i--;)if(e[i][0]==="enter"){if(e[i][1].type==="content"){n=i;break}e[i][1].type==="paragraph"&&(r=i)}else e[i][1].type==="content"&&e.splice(i,1),!o&&e[i][1].type==="definition"&&(o=i);const a={type:"setextHeading",start:A({},e[n][1].start),end:A({},e[e.length-1][1].end)};return e[r][1].type="setextHeadingText",o?(e.splice(r,0,["enter",a,t]),e.splice(o+1,0,["exit",e[n][1],t]),e[n][1].end=A({},e[o][1].end)):e[n][1]=a,e.push(["exit",a,t]),e},tokenize:function(e,t,n){const r=this;let o;return function(s){let l,c=r.events.length;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){l=r.events[c][1].type==="paragraph";break}return r.parser.lazy[r.now().line]||!r.interrupt&&!l?n(s):(e.enter("setextHeadingLine"),o=s,function(u){return e.enter("setextHeadingLineSequence"),i(u)}(s))};function i(s){return s===o?(e.consume(s),i):(e.exit("setextHeadingLineSequence"),en(s)?yn(e,a,"lineSuffix")(s):a(s))}function a(s){return s===null||kt(s)?(e.exit("setextHeadingLine"),t(s)):n(s)}}},V2e={tokenize:function(e){const t=this,n=e.attempt(Cy,function(o){return o===null?void e.consume(o):(e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n)},e.attempt(this.parser.constructs.flowInitial,r,yn(e,e.attempt(this.parser.constructs.flow,r,e.attempt(S2e,r)),"linePrefix")));return n;function r(o){if(o!==null)return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(o)}}},$2e={resolveAll:JK()},q2e=XK("string"),W2e=XK("text");function XK(e){return{resolveAll:JK(e==="text"?G2e:void 0),tokenize:function(t){const n=this,r=this.parser.constructs[e],o=t.attempt(r,i,a);return i;function i(c){return l(c)?o(c):a(c)}function a(c){if(c!==null)return t.enter("data"),t.consume(c),s;t.consume(c)}function s(c){return l(c)?(t.exit("data"),o(c)):(t.consume(c),s)}function l(c){if(c===null)return!0;const u=r[c];let h=-1;if(u)for(;++h<u.length;){const p=u[h];if(!p.previous||p.previous.call(n,n.previous))return!0}return!1}}}}function JK(e){return function(t,n){let r,o=-1;for(;++o<=t.length;)r===void 0?t[o]&&t[o][1].type==="data"&&(r=o,o++):(!t[o]||t[o][1].type!=="data")&&(o!==r+2&&(t[r][1].end=t[o-1][1].end,t.splice(r+2,o-r-2),o=r+2),r=void 0);return e?e(t,n):t}}function G2e(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],o=t.sliceStream(r);let i,a=o.length,s=-1,l=0;for(;a--;){const c=o[a];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)l++,s--;if(s)break;s=-1}else if(c===-2)i=!0,l++;else if(c!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const c={type:n===e.length||i||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:A({},r.end)};r.end=A({},c.start),r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const K2e={42:Ro,43:Ro,45:Ro,48:Ro,49:Ro,50:Ro,51:Ro,52:Ro,53:Ro,54:Ro,55:Ro,56:Ro,57:Ro,62:BK},Y2e={91:C2e},Q2e={[-2]:_3,[-1]:_3,32:_3},X2e={35:A2e,42:Oy,45:[QK,Oy],60:R2e,61:QK,95:Oy,96:$K,126:$K},J2e={38:HK,92:UK},Z2e={[-5]:S3,[-4]:S3,[-3]:S3,33:F2e,38:HK,42:x3,60:[w2e,L2e],91:B2e,92:[P2e,UK],93:T3,95:x3,96:x2e},eke={null:[x3,$2e]},tke=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:{null:[42,95]},contentInitial:Y2e,disable:{null:[]},document:K2e,flow:X2e,flowInitial:Q2e,insideSpan:eke,string:J2e,text:Z2e},Symbol.toStringTag,{value:"Module"}));function nke(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},i=[];let a=[],s=[];const l={attempt:g(function(y,b){m(y,b.from)}),check:g(f),consume:function(y){kt(y)?(r.line++,r.column=1,r.offset+=y===-3?2:1,v()):y!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=y},enter:function(y,b){const w=b||{};return w.type=y,w.start=p(),c.events.push(["enter",w,c]),s.push(w),w},exit:function(y){const b=s.pop();return b.end=p(),c.events.push(["exit",b,c]),b},interrupt:g(f,{interrupt:!0})},c={code:null,containerState:{},defineSkip:function(y){o[y.line]=y.column,v()},events:[],now:p,parser:e,previous:null,sliceSerialize:function(y,b){return function(w,k){let _=-1;const O=[];let E;for(;++_<w.length;){const C=w[_];let N;if(typeof C=="string")N=C;else switch(C){case-5:N="\r";break;case-4:N=`
`;break;case-3:N=`\r
`;break;case-2:N=k?" ":"	";break;case-1:if(!k&&E)continue;N=" ";break;default:N=String.fromCharCode(C)}E=C===-2,O.push(N)}return O.join("")}(h(y),b)},sliceStream:h,write:function(y){return a=Oi(a,y),function(){let b;for(;r._index<a.length;){const w=a[r._index];if(typeof w=="string")for(b=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===b&&r._bufferIndex<w.length;)d(w.charCodeAt(r._bufferIndex));else d(w)}}(),a[a.length-1]!==null?[]:(m(t,0),c.events=k3(i,c.events,c),c.events)}};let u=t.tokenize.call(c,l);return t.resolveAll&&i.push(t),c;function h(y){return function(b,w){const k=w.start._index,_=w.start._bufferIndex,O=w.end._index,E=w.end._bufferIndex;let C;if(k===O)C=[b[k].slice(_,E)];else{if(C=b.slice(k,O),_>-1){const N=C[0];typeof N=="string"?C[0]=N.slice(_):C.shift()}E>0&&C.push(b[O].slice(0,E))}return C}(a,y)}function p(){const{_bufferIndex:y,_index:b,line:w,column:k,offset:_}=r;return{_bufferIndex:y,_index:b,line:w,column:k,offset:_}}function d(y){u=u(y)}function f(y,b){b.restore()}function g(y,b){return function(w,k,_){let O,E,C,N;return Array.isArray(w)?L(w):"tokenize"in w?L([w]):function(z){return B;function B(V){const U=V!==null&&z[V],S=V!==null&&z.null;return L([...Array.isArray(U)?U:U?[U]:[],...Array.isArray(S)?S:S?[S]:[]])(V)}}(w);function L(z){return O=z,E=0,z.length===0?_:j(z[E])}function j(z){return function(B){return N=function(){const V=p(),U=c.previous,S=c.currentConstruct,q=c.events.length,P=Array.from(s);return{from:q,restore:Q};function Q(){r=V,c.previous=U,c.currentConstruct=S,c.events.length=q,s=P,v()}}(),C=z,z.partial||(c.currentConstruct=z),z.name&&c.parser.constructs.disable.null.includes(z.name)?F():z.tokenize.call(b?Object.assign(Object.create(c),b):c,l,H,F)(B)}}function H(z){return y(C,N),k}function F(z){return N.restore(),++E<O.length?j(O[E]):_}}}function m(y,b){y.resolveAll&&!i.includes(y)&&i.push(y),y.resolve&&rs(c.events,b,c.events.length-b,y.resolve(c.events.slice(b),c)),y.resolveTo&&(c.events=y.resolveTo(c.events,c))}function v(){r.line in o&&r.column<2&&(r.column=o[r.line],r.offset+=o[r.line]-1)}}const ZK=/[\0\t\n\r]/g,rke=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function oke(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),o=r===120||r===88;return DK(n.slice(o?2:1),o?16:10)}return Su(n)||e}function Py(e){return e&&typeof e=="object"?"position"in e||"type"in e?eY(e.position):"start"in e||"end"in e?eY(e):"line"in e||"column"in e?E3(e):"":""}function E3(e){return tY(e&&e.line)+":"+tY(e&&e.column)}function eY(e){return E3(e&&e.start)+"-"+E3(e&&e.end)}function tY(e){return e&&typeof e=="number"?e:1}const nY={}.hasOwnProperty;function ike(e,t,n){return typeof t!="string"&&(n=t,t=void 0),function(r){const o={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Ge),autolinkProtocol:j,autolinkEmail:j,atxHeading:l(Oe),blockQuote:l(ae),characterEscape:j,characterReference:j,codeFenced:l(pe),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:l(pe,c),codeText:l(Te,c),codeTextData:j,data:j,codeFlowValue:j,definition:l(be),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:l(we),hardBreakEscape:l(ke),hardBreakTrailing:l(ke),htmlFlow:l(Me,c),htmlFlowData:j,htmlText:l(Me,c),htmlTextData:j,image:l(Le),label:c,link:l(Ge),listItem:l(ct),listItemValue:g,listOrdered:l(Ye,f),listUnordered:l(Ye),paragraph:l(Re),reference:ue,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:l(Oe),strong:l(ze),thematicBreak:l(et)},exit:{atxHeading:h(),atxHeadingSequence:E,autolink:h(),autolinkEmail:Se,autolinkProtocol:ie,blockQuote:h(),characterEscapeValue:H,characterReferenceMarkerHexadecimal:je,characterReferenceMarkerNumeric:je,characterReferenceValue:Qe,characterReference:Xe,codeFenced:h(b),codeFencedFence:y,codeFencedFenceInfo:m,codeFencedFenceMeta:v,codeFlowValue:H,codeIndented:h(w),codeText:h(U),codeTextData:H,data:H,definition:h(),definitionDestinationString:O,definitionLabelString:k,definitionTitleString:_,emphasis:h(),hardBreakEscape:h(z),hardBreakTrailing:h(z),htmlFlow:h(B),htmlFlowData:H,htmlText:h(V),htmlTextData:H,image:h(q),label:Q,labelText:P,lineEnding:F,link:h(S),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:fe,resourceDestinationString:re,resourceTitleString:_e,resource:se,setextHeading:h(L),setextHeadingLineSequence:N,setextHeadingText:C,strong:h(),thematicBreak:h()}};rY(o,(r||{}).mdastExtensions||[]);const i={};return a;function a(oe){let X={type:"root",children:[]};const de={stack:[X],tokenStack:[],config:o,enter:u,exit:p,buffer:c,resume:d,data:i},he=[];let Ee=-1;for(;++Ee<oe.length;)(oe[Ee][1].type==="listOrdered"||oe[Ee][1].type==="listUnordered")&&(oe[Ee][0]==="enter"?he.push(Ee):Ee=s(oe,he.pop(),Ee));for(Ee=-1;++Ee<oe.length;){const $e=o[oe[Ee][0]];nY.call($e,oe[Ee][1].type)&&$e[oe[Ee][1].type].call(Object.assign({sliceSerialize:oe[Ee][2].sliceSerialize},de),oe[Ee][1])}if(de.tokenStack.length>0){const $e=de.tokenStack[de.tokenStack.length-1];($e[1]||oY).call(de,void 0,$e[0])}for(X.position={start:tc(oe.length>0?oe[0][1].start:{line:1,column:1,offset:0}),end:tc(oe.length>0?oe[oe.length-2][1].end:{line:1,column:1,offset:0})},Ee=-1;++Ee<o.transforms.length;)X=o.transforms[Ee](X)||X;return X}function s(oe,X,de){let he,Ee,$e,Je,at=X-1,We=-1,bt=!1;for(;++at<=de;){const ft=oe[at];switch(ft[1].type){case"listUnordered":case"listOrdered":case"blockQuote":ft[0]==="enter"?We++:We--,Je=void 0;break;case"lineEndingBlank":ft[0]==="enter"&&(he&&!Je&&!We&&!$e&&($e=at),Je=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Je=void 0}if(!We&&ft[0]==="enter"&&ft[1].type==="listItemPrefix"||We===-1&&ft[0]==="exit"&&(ft[1].type==="listUnordered"||ft[1].type==="listOrdered")){if(he){let ut=at;for(Ee=void 0;ut--;){const St=oe[ut];if(St[1].type==="lineEnding"||St[1].type==="lineEndingBlank"){if(St[0]==="exit")continue;Ee&&(oe[Ee][1].type="lineEndingBlank",bt=!0),St[1].type="lineEnding",Ee=ut}else if(St[1].type!=="linePrefix"&&St[1].type!=="blockQuotePrefix"&&St[1].type!=="blockQuotePrefixWhitespace"&&St[1].type!=="blockQuoteMarker"&&St[1].type!=="listItemIndent")break}$e&&(!Ee||$e<Ee)&&(he._spread=!0),he.end=Object.assign({},Ee?oe[Ee][1].start:ft[1].end),oe.splice(Ee||at,0,["exit",he,ft[2]]),at++,de++}if(ft[1].type==="listItemPrefix"){const ut={type:"listItem",_spread:!1,start:Object.assign({},ft[1].start),end:void 0};he=ut,oe.splice(at,0,["enter",ut,ft[2]]),at++,de++,$e=void 0,Je=!0}}}return oe[X][1]._spread=bt,de}function l(oe,X){return de;function de(he){u.call(this,oe(he),he),X&&X.call(this,he)}}function c(){this.stack.push({type:"fragment",children:[]})}function u(oe,X,de){this.stack[this.stack.length-1].children.push(oe),this.stack.push(oe),this.tokenStack.push([X,de||void 0]),oe.position={start:tc(X.start),end:void 0}}function h(oe){return X;function X(de){oe&&oe.call(this,de),p.call(this,de)}}function p(oe,X){const de=this.stack.pop(),he=this.tokenStack.pop();if(!he)throw new Error("Cannot close `"+oe.type+"` ("+Py({start:oe.start,end:oe.end})+"): it’s not open");he[0].type!==oe.type&&(X?X.call(this,oe,he[0]):(he[1]||oY).call(this,oe,he[0])),de.position.end=tc(oe.end)}function d(){return function(oe,X){const de=c2e;return IK(oe,typeof de.includeImageAlt!="boolean"||de.includeImageAlt,typeof de.includeHtml!="boolean"||de.includeHtml)}(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function g(oe){this.data.expectingFirstListItemValue&&(this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(oe),10),this.data.expectingFirstListItemValue=void 0)}function m(){const oe=this.resume();this.stack[this.stack.length-1].lang=oe}function v(){const oe=this.resume();this.stack[this.stack.length-1].meta=oe}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const oe=this.resume();this.stack[this.stack.length-1].value=oe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function w(){const oe=this.resume();this.stack[this.stack.length-1].value=oe.replace(/(\r?\n|\r)$/g,"")}function k(oe){const X=this.resume(),de=this.stack[this.stack.length-1];de.label=X,de.identifier=$h(this.sliceSerialize(oe)).toLowerCase()}function _(){const oe=this.resume();this.stack[this.stack.length-1].title=oe}function O(){const oe=this.resume();this.stack[this.stack.length-1].url=oe}function E(oe){const X=this.stack[this.stack.length-1];if(!X.depth){const de=this.sliceSerialize(oe).length;X.depth=de}}function C(){this.data.setextHeadingSlurpLineEnding=!0}function N(oe){this.stack[this.stack.length-1].depth=this.sliceSerialize(oe).codePointAt(0)===61?1:2}function L(){this.data.setextHeadingSlurpLineEnding=void 0}function j(oe){const X=this.stack[this.stack.length-1].children;let de=X[X.length-1];(!de||de.type!=="text")&&(de=He(),de.position={start:tc(oe.start),end:void 0},X.push(de)),this.stack.push(de)}function H(oe){const X=this.stack.pop();X.value+=this.sliceSerialize(oe),X.position.end=tc(oe.end)}function F(oe){const X=this.stack[this.stack.length-1];if(this.data.atHardBreak)return X.children[X.children.length-1].position.end=tc(oe.end),void(this.data.atHardBreak=void 0);!this.data.setextHeadingSlurpLineEnding&&o.canContainEols.includes(X.type)&&(j.call(this,oe),H.call(this,oe))}function z(){this.data.atHardBreak=!0}function B(){const oe=this.resume();this.stack[this.stack.length-1].value=oe}function V(){const oe=this.resume();this.stack[this.stack.length-1].value=oe}function U(){const oe=this.resume();this.stack[this.stack.length-1].value=oe}function S(){const oe=this.stack[this.stack.length-1];if(this.data.inReference){const X=this.data.referenceType||"shortcut";oe.type+="Reference",oe.referenceType=X,delete oe.url,delete oe.title}else delete oe.identifier,delete oe.label;this.data.referenceType=void 0}function q(){const oe=this.stack[this.stack.length-1];if(this.data.inReference){const X=this.data.referenceType||"shortcut";oe.type+="Reference",oe.referenceType=X,delete oe.url,delete oe.title}else delete oe.identifier,delete oe.label;this.data.referenceType=void 0}function P(oe){const X=this.sliceSerialize(oe),de=this.stack[this.stack.length-2];de.label=function(he){return he.replace(rke,oke)}(X),de.identifier=$h(X).toLowerCase()}function Q(){const oe=this.stack[this.stack.length-1],X=this.resume(),de=this.stack[this.stack.length-1];if(this.data.inReference=!0,de.type==="link"){const he=oe.children;de.children=he}else de.alt=X}function re(){const oe=this.resume();this.stack[this.stack.length-1].url=oe}function _e(){const oe=this.resume();this.stack[this.stack.length-1].title=oe}function se(){this.data.inReference=void 0}function ue(){this.data.referenceType="collapsed"}function fe(oe){const X=this.resume(),de=this.stack[this.stack.length-1];de.label=X,de.identifier=$h(this.sliceSerialize(oe)).toLowerCase(),this.data.referenceType="full"}function je(oe){this.data.characterReferenceType=oe.type}function Qe(oe){const X=this.sliceSerialize(oe),de=this.data.characterReferenceType;let he;de?(he=DK(X,de==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):he=Su(X),this.stack[this.stack.length-1].value+=he}function Xe(oe){this.stack.pop().position.end=tc(oe.end)}function ie(oe){H.call(this,oe),this.stack[this.stack.length-1].url=this.sliceSerialize(oe)}function Se(oe){H.call(this,oe),this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(oe)}function ae(){return{type:"blockquote",children:[]}}function pe(){return{type:"code",lang:null,meta:null,value:""}}function Te(){return{type:"inlineCode",value:""}}function be(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function we(){return{type:"emphasis",children:[]}}function Oe(){return{type:"heading",depth:0,children:[]}}function ke(){return{type:"break"}}function Me(){return{type:"html",value:""}}function Le(){return{type:"image",title:null,url:"",alt:null}}function Ge(){return{type:"link",title:null,url:"",children:[]}}function Ye(oe){return{type:"list",ordered:oe.type==="listOrdered",start:null,spread:oe._spread,children:[]}}function ct(oe){return{type:"listItem",spread:oe._spread,checked:null,children:[]}}function Re(){return{type:"paragraph",children:[]}}function ze(){return{type:"strong",children:[]}}function He(){return{type:"text",value:""}}function et(){return{type:"thematicBreak"}}}(n)(function(r){for(;!qK(r););return r}(function(r){const o={constructs:u2e([tke,...(r||{}).extensions||[]]),content:i(b2e),defined:[],document:i(y2e),flow:i(V2e),lazy:{},string:i(q2e),text:i(W2e)};return o;function i(a){return function(s){return nke(o,a,s)}}}(n).document().write(function(){let r,o=1,i="",a=!0;return function(s,l,c){const u=[];let h,p,d,f,g;for(s=i+(typeof s=="string"?s.toString():new TextDecoder(l||void 0).decode(s)),d=0,i="",a&&(s.charCodeAt(0)===65279&&d++,a=void 0);d<s.length;){if(ZK.lastIndex=d,h=ZK.exec(s),f=h&&h.index!==void 0?h.index:s.length,g=s.charCodeAt(f),!h){i=s.slice(d);break}if(g===10&&d===f&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),d<f&&(u.push(s.slice(d,f)),o+=f-d),g){case 0:u.push(65533),o++;break;case 9:for(p=4*Math.ceil(o/4),u.push(-2);o++<p;)u.push(-1);break;case 10:u.push(-4),o=1;break;default:r=!0,o=1}d=f+1}return c&&(r&&u.push(-5),i&&u.push(i),u.push(null)),u}}()(e,t,!0))))}function tc(e){return{line:e.line,column:e.column,offset:e.offset}}function rY(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?rY(e,r):ake(e,r)}}function ake(e,t){let n;for(n in t)if(nY.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function oY(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Py({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Py({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Py({start:t.start,end:t.end})+") is still open")}const ske={}.hasOwnProperty;function iY(e,t){let n,r=-1;if(t.extensions)for(;++r<t.extensions.length;)iY(e,t.extensions[r]);for(n in t)if(ske.call(t,n))switch(n){case"extensions":break;case"unsafe":case"join":lke(e[n],t[n]);break;case"handlers":cke(e[n],t[n]);break;default:e.options[n]=t[n]}return e}function lke(e,t){t&&e.push(...t)}function cke(e,t){t&&Object.assign(e,t)}function uke(e,t,n){return">"+(n?"":" ")+e}function aY(e,t){return sY(e,t.inConstruct,!0)&&!sY(e,t.notInConstruct,!1)}function sY(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function lY(e,t,n,r){let o=-1;for(;++o<n.unsafe.length;)if(n.unsafe[o].character===`
`&&aY(n.stack,n.unsafe[o]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function C3(e,t){return!(t.options.fences!==!1||!e.value||e.lang||!/[^ \r\n]/.test(e.value)||/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function dke(e,t,n){return(n?"":"    ")+e}function O3(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function nc(e){return"&#x"+e.toString(16).toUpperCase()+";"}const hke=cY(new RegExp("\\p{P}|\\p{S}","u")),pke=cY(/\s/);function cY(e){return function(t){return t!==null&&t>-1&&e.test(String.fromCharCode(t))}}function uY(e){return e===null||function(t){return t!==null&&(t<0||t===32)}(e)||pke(e)?1:hke(e)?2:void 0}function Ay(e,t,n){const r=uY(e),o=uY(t);return r===void 0?o===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}function dY(e,t,n,r){const o=function(f){const g=f.options.emphasis||"*";if(g!=="*"&&g!=="_")throw new Error("Cannot serialize emphasis with `"+g+"` for `options.emphasis`, expected `*`, or `_`");return g}(n),i=n.enter("emphasis"),a=n.createTracker(r),s=a.move(o);let l=a.move(n.containerPhrasing(e,A({after:o,before:s},a.current())));const c=l.charCodeAt(0),u=Ay(r.before.charCodeAt(r.before.length-1),c,o);u.inside&&(l=nc(c)+l.slice(1));const h=l.charCodeAt(l.length-1),p=Ay(r.after.charCodeAt(0),h,o);p.inside&&(l=l.slice(0,-1)+nc(h));const d=a.move(o);return i(),n.attentionEncodeSurroundingInfo={after:p.outside,before:u.outside},s+l+d}dY.peek=function(e,t,n){return n.options.emphasis||"*"};const hY=function(e){if(e==null)return mke;if(typeof e=="function")return Ny(e);if(typeof e=="object")return Array.isArray(e)?function(t){const n=[];let r=-1;for(;++r<t.length;)n[r]=hY(t[r]);return Ny(o);function o(...i){let a=-1;for(;++a<n.length;)if(n[a].apply(this,i))return!0;return!1}}(e):function(t){const n=t;return Ny(r);function r(o){const i=o;let a;for(a in t)if(i[a]!==n[a])return!1;return!0}}(e);if(typeof e=="string")return function(t){return Ny(n);function n(r){return r&&r.type===t}}(e);throw new Error("Expected function, string, or object as test")};function Ny(e){return function(t,n,r){return!(!function(o){return o!==null&&typeof o=="object"&&"type"in o}(t)||!e.call(this,t,typeof n=="number"?n:void 0,r||void 0))}}function mke(){return!0}const pY=[],fke=!0,P3=!1,gke="skip";function vke(e,t,n,r){let o;typeof t=="function"&&typeof n!="function"?(r=n,n=t):o=t;const i=hY(o),a=r?-1:1;(function s(l,c,u){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const d=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(p,"name",{value:"node ("+l.type+(d?"<"+d+">":"")+")"})}return p;function p(){let d,f,g,m=pY;if((!t||i(l,c,u[u.length-1]||void 0))&&(m=function(v){return Array.isArray(v)?v:typeof v=="number"?[fke,v]:v==null?pY:[v]}(n(l,u)),m[0]===P3))return m;if("children"in l&&l.children){const v=l;if(v.children&&m[0]!==gke)for(f=(r?v.children.length:-1)+a,g=u.concat(v);f>-1&&f<v.children.length;){const y=v.children[f];if(d=s(y,f,g)(),d[0]===P3)return d;f=typeof d[1]=="number"?d[1]:f+a}}return m}})(e,void 0,[])()}function mY(e,t,n,r){let o,i,a;typeof t=="function"&&typeof n!="function"?(i=void 0,a=t,o=n):(i=t,a=n,o=r),vke(e,i,function(s,l){const c=l[l.length-1],u=c?c.children.indexOf(s):void 0;return a(s,u,c)},o)}const bke={};function fY(e,t){const n=bke;return gY(e,typeof n.includeImageAlt!="boolean"||n.includeImageAlt,typeof n.includeHtml!="boolean"||n.includeHtml)}function gY(e,t,n){if(function(r){return!(!r||typeof r!="object")}(e)){if("value"in e)return e.type!=="html"||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return vY(e.children,t,n)}return Array.isArray(e)?vY(e,t,n):""}function vY(e,t,n){const r=[];let o=-1;for(;++o<e.length;)r[o]=gY(e[o],t,n);return r.join("")}function bY(e,t){let n=!1;return mY(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,P3}),!(e.depth&&!(e.depth<3)||!fY(e)||!t.options.setext&&!n)}function yY(e){return e.value||""}function wY(e,t,n,r){const o=O3(n),i=o==='"'?"Quote":"Apostrophe",a=n.enter("image");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,A({before:c,after:"]"},l.current()))),c+=l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,A({before:c,after:">"},l.current()))),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,A({before:c,after:e.title?" ":")"},l.current())))),s(),e.title&&(s=n.enter(`title${i}`),c+=l.move(" "+o),c+=l.move(n.safe(e.title,A({before:c,after:o},l.current()))),c+=l.move(o),s()),c+=l.move(")"),a(),c}function kY(e,t,n,r){const o=e.referenceType,i=n.enter("imageReference");let a=n.enter("label");const s=n.createTracker(r);let l=s.move("![");const c=n.safe(e.alt,A({before:l,after:"]"},s.current()));l+=s.move(c+"]["),a();const u=n.stack;n.stack=[],a=n.enter("reference");const h=n.safe(n.associationId(e),A({before:l,after:"]"},s.current()));return a(),n.stack=u,i(),o!=="full"&&c&&c===h?o==="shortcut"?l=l.slice(0,-1):l+=s.move("]"):l+=s.move(h+"]"),l}function xY(e,t,n){let r=e.value||"",o="`",i=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(r);)o+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++i<n.unsafe.length;){const a=n.unsafe[i],s=n.compilePattern(a);let l;if(a.atBreak)for(;l=s.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return o+r+o}function _Y(e,t){const n=fY(e);return!(t.options.resourceLink||!e.url||e.title||!e.children||e.children.length!==1||e.children[0].type!=="text"||n!==e.url&&"mailto:"+n!==e.url||!/^[a-z][a-z+.-]+:/i.test(e.url)||/[\0- <>\u007F]/.test(e.url))}function TY(e,t,n,r){const o=O3(n),i=o==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let s,l;if(_Y(e,n)){const u=n.stack;n.stack=[],s=n.enter("autolink");let h=a.move("<");return h+=a.move(n.containerPhrasing(e,A({before:h,after:">"},a.current()))),h+=a.move(">"),s(),n.stack=u,h}s=n.enter("link"),l=n.enter("label");let c=a.move("[");return c+=a.move(n.containerPhrasing(e,A({before:c,after:"]("},a.current()))),c+=a.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=a.move("<"),c+=a.move(n.safe(e.url,A({before:c,after:">"},a.current()))),c+=a.move(">")):(l=n.enter("destinationRaw"),c+=a.move(n.safe(e.url,A({before:c,after:e.title?" ":")"},a.current())))),l(),e.title&&(l=n.enter(`title${i}`),c+=a.move(" "+o),c+=a.move(n.safe(e.title,A({before:c,after:o},a.current()))),c+=a.move(o),l()),c+=a.move(")"),s(),c}function SY(e,t,n,r){const o=e.referenceType,i=n.enter("linkReference");let a=n.enter("label");const s=n.createTracker(r);let l=s.move("[");const c=n.containerPhrasing(e,A({before:l,after:"]"},s.current()));l+=s.move(c+"]["),a();const u=n.stack;n.stack=[],a=n.enter("reference");const h=n.safe(n.associationId(e),A({before:l,after:"]"},s.current()));return a(),n.stack=u,i(),o!=="full"&&c&&c===h?o==="shortcut"?l=l.slice(0,-1):l+=s.move("]"):l+=s.move(h+"]"),l}function A3(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function EY(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}yY.peek=function(){return"<"},wY.peek=function(){return"!"},kY.peek=function(){return"!"},xY.peek=function(){return"`"},TY.peek=function(e,t,n){return _Y(e,n)?"<":"["},SY.peek=function(){return"["};const CY=function(e){if(e==null)return yke;if(typeof e=="function")return Ry(e);if(typeof e=="object")return Array.isArray(e)?function(t){const n=[];let r=-1;for(;++r<t.length;)n[r]=CY(t[r]);return Ry(o);function o(...i){let a=-1;for(;++a<n.length;)if(n[a].apply(this,i))return!0;return!1}}(e):function(t){const n=t;return Ry(r);function r(o){const i=o;let a;for(a in t)if(i[a]!==n[a])return!1;return!0}}(e);if(typeof e=="string")return function(t){return Ry(n);function n(r){return r&&r.type===t}}(e);throw new Error("Expected function, string, or object as test")};function Ry(e){return function(t,n,r){return!(!function(o){return o!==null&&typeof o=="object"&&"type"in o}(t)||!e.call(this,t,typeof n=="number"?n:void 0,r||void 0))}}function yke(){return!0}const wke=CY(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function OY(e,t,n,r){const o=function(f){const g=f.options.strong||"*";if(g!=="*"&&g!=="_")throw new Error("Cannot serialize strong with `"+g+"` for `options.strong`, expected `*`, or `_`");return g}(n),i=n.enter("strong"),a=n.createTracker(r),s=a.move(o+o);let l=a.move(n.containerPhrasing(e,A({after:o,before:s},a.current())));const c=l.charCodeAt(0),u=Ay(r.before.charCodeAt(r.before.length-1),c,o);u.inside&&(l=nc(c)+l.slice(1));const h=l.charCodeAt(l.length-1),p=Ay(r.after.charCodeAt(0),h,o);p.inside&&(l=l.slice(0,-1)+nc(h));const d=a.move(o+o);return i(),n.attentionEncodeSurroundingInfo={after:p.outside,before:u.outside},s+l+d}OY.peek=function(e,t,n){return n.options.strong||"*"};const kke={blockquote:function(e,t,n,r){const o=n.enter("blockquote"),i=n.createTracker(r);i.move("> "),i.shift(2);const a=n.indentLines(n.containerFlow(e,i.current()),uke);return o(),a},break:lY,code:function(e,t,n,r){const o=function(h){const p=h.options.fence||"`";if(p!=="`"&&p!=="~")throw new Error("Cannot serialize code with `"+p+"` for `options.fence`, expected `` ` `` or `~`");return p}(n),i=e.value||"",a=o==="`"?"GraveAccent":"Tilde";if(C3(e,n)){const h=n.enter("codeIndented"),p=n.indentLines(i,dke);return h(),p}const s=n.createTracker(r),l=o.repeat(Math.max(function(h,p){const d=String(h);let f=d.indexOf(p),g=f,m=0,v=0;if(typeof p!="string")throw new TypeError("Expected substring");for(;f!==-1;)f===g?++m>v&&(v=m):m=1,g=f+p.length,f=d.indexOf(p,g);return v}(i,o)+1,3)),c=n.enter("codeFenced");let u=s.move(l);if(e.lang){const h=n.enter(`codeFencedLang${a}`);u+=s.move(n.safe(e.lang,A({before:u,after:" ",encode:["`"]},s.current()))),h()}if(e.lang&&e.meta){const h=n.enter(`codeFencedMeta${a}`);u+=s.move(" "),u+=s.move(n.safe(e.meta,A({before:u,after:`
`,encode:["`"]},s.current()))),h()}return u+=s.move(`
`),i&&(u+=s.move(i+`
`)),u+=s.move(l),c(),u},definition:function(e,t,n,r){const o=O3(n),i=o==='"'?"Quote":"Apostrophe",a=n.enter("definition");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),A({before:c,after:"]"},l.current()))),c+=l.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,A({before:c,after:">"},l.current()))),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,A({before:c,after:e.title?" ":`
`},l.current())))),s(),e.title&&(s=n.enter(`title${i}`),c+=l.move(" "+o),c+=l.move(n.safe(e.title,A({before:c,after:o},l.current()))),c+=l.move(o),s()),a(),c},emphasis:dY,hardBreak:lY,heading:function(e,t,n,r){const o=Math.max(Math.min(6,e.depth||1),1),i=n.createTracker(r);if(bY(e,n)){const u=n.enter("headingSetext"),h=n.enter("phrasing"),p=n.containerPhrasing(e,K(A({},i.current()),{before:`
`,after:`
`}));return h(),u(),p+`
`+(o===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const a="#".repeat(o),s=n.enter("headingAtx"),l=n.enter("phrasing");i.move(a+" ");let c=n.containerPhrasing(e,A({before:"# ",after:`
`},i.current()));return/^[\t ]/.test(c)&&(c=nc(c.charCodeAt(0))+c.slice(1)),c=c?a+" "+c:a,n.options.closeAtx&&(c+=" "+a),l(),s(),c},html:yY,image:wY,imageReference:kY,inlineCode:xY,link:TY,linkReference:SY,list:function(e,t,n,r){const o=n.enter("list"),i=n.bulletCurrent;let a=e.ordered?function(u){const h=u.options.bulletOrdered||".";if(h!=="."&&h!==")")throw new Error("Cannot serialize items with `"+h+"` for `options.bulletOrdered`, expected `.` or `)`");return h}(n):A3(n);const s=e.ordered?a==="."?")":".":function(u){const h=A3(u),p=u.options.bulletOther;if(!p)return h==="*"?"-":"*";if(p!=="*"&&p!=="+"&&p!=="-")throw new Error("Cannot serialize items with `"+p+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(p===h)throw new Error("Expected `bullet` (`"+h+"`) and `bulletOther` (`"+p+"`) to be different");return p}(n);let l=!(!t||!n.bulletLastUsed)&&a===n.bulletLastUsed;if(!e.ordered){const u=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&u&&(!u.children||!u.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),EY(n)===a&&u){let h=-1;for(;++h<e.children.length;){const p=e.children[h];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(a=s),n.bulletCurrent=a;const c=n.containerFlow(e,r);return n.bulletLastUsed=a,n.bulletCurrent=i,o(),c},listItem:function(e,t,n,r){const o=function(u){const h=u.options.listItemIndent||"one";if(h!=="tab"&&h!=="one"&&h!=="mixed")throw new Error("Cannot serialize items with `"+h+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return h}(n);let i=n.bulletCurrent||A3(n);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+i);let a=i.length+1;(o==="tab"||o==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=4*Math.ceil(a/4));const s=n.createTracker(r);s.move(i+" ".repeat(a-i.length)),s.shift(a);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,s.current()),function(u,h,p){return h?(p?"":" ".repeat(a))+u:(p?i:i+" ".repeat(a-i.length))+u});return l(),c},paragraph:function(e,t,n,r){const o=n.enter("paragraph"),i=n.enter("phrasing"),a=n.containerPhrasing(e,r);return i(),o(),a},root:function(e,t,n,r){return(e.children.some(function(o){return wke(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)},strong:OY,text:function(e,t,n,r){return n.safe(e.value,r)},thematicBreak:function(e,t,n){const r=(EY(n)+(n.options.ruleSpaces?" ":"")).repeat(function(o){const i=o.options.ruleRepetition||3;if(i<3)throw new Error("Cannot serialize rules with repetition `"+i+"` for `options.ruleRepetition`, expected `3` or more");return i}(n));return n.options.ruleSpaces?r.slice(0,-1):r}},xke=[function(e,t,n,r){if(t.type==="code"&&C3(t,r)&&(e.type==="list"||e.type===t.type&&C3(e,r)))return!1;if("spread"in n&&typeof n.spread=="boolean")return e.type==="paragraph"&&(e.type===t.type||t.type==="definition"||t.type==="heading"&&bY(t,r))?void 0:n.spread?1:0}],Pu=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],_ke=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Pu},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Pu},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:Pu},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Pu},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Pu},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Pu},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Pu},{atBreak:!0,character:"~"}],Tke=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Ske(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),o=r===120||r===88;return function(i,a){const s=Number.parseInt(i,a);return s<9||s===11||s>13&&s<32||s>126&&s<160||s>55295&&s<57344||s>64975&&s<65008||(65535&s)==65535||(65535&s)==65534||s>1114111?"�":String.fromCodePoint(s)}(n.slice(o?2:1),o?16:10)}return Su(n)||e}function Eke(e){return e.label||!e.identifier?e.label||"":function(t){return t.replace(Tke,Ske)}(e.identifier)}function Cke(e){if(!e._compiled){const t=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function Oke(e,t,n,r){let o=r.join.length;for(;o--;){const i=r.join[o](e,t,n,r);if(i===!0||i===1)break;if(typeof i=="number")return`
`.repeat(1+i);if(i===!1)return`

<!---->

`}return`

`}const Pke=/\r?\n|\r/g;function Ake(e,t){const n=[];let r,o=0,i=0;for(;r=Pke.exec(e);)a(e.slice(o,r.index)),n.push(r[0]),o=r.index+r[0].length,i++;return a(e.slice(o)),n.join("");function a(s){n.push(t(s,i,!s))}}function Nke(e,t){return e-t}function PY(e,t){const n=/\\(?=[!-/:-@[-`{-~])/g,r=[],o=[],i=e+t;let a,s=-1,l=0;for(;a=n.exec(i);)r.push(a.index);for(;++s<r.length;)l!==r[s]&&o.push(e.slice(l,r[s])),o.push("\\"),l=r[s];return o.push(e.slice(l)),o.join("")}function Rke(e){const t=e||{},n=t.now||{};let r=t.lineShift||0,o=n.line||1,i=n.column||1;return{move:function(a){const s=a||"",l=s.split(/\r?\n|\r/g),c=l[l.length-1];return o+=l.length-1,i=l.length===1?i+c.length:1+c.length+r,s},current:function(){return{now:{line:o,column:i},lineShift:r}},shift:function(a){r+=a}}}function Ike(e,t){const n=t||{},r={associationId:Eke,containerPhrasing:jke,containerFlow:zke,createTracker:Rke,compilePattern:Cke,enter:function(i){return r.stack.push(i),function(){r.stack.pop()}},handlers:A({},kke),handle:void 0,indentLines:Ake,indexStack:[],join:[...xke],options:{},safe:Fke,stack:[],unsafe:[..._ke]};iY(r,n),r.options.tightDefinitions&&r.join.push(Dke),r.handle=v3("type",{invalid:Mke,unknown:Lke,handlers:r.handlers});let o=r.handle(e,void 0,r,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return o&&o.charCodeAt(o.length-1)!==10&&o.charCodeAt(o.length-1)!==13&&(o+=`
`),o}function Mke(e){throw new Error("Cannot handle value `"+e+"`, expected node")}function Lke(e){throw new Error("Cannot handle unknown node `"+e.type+"`")}function Dke(e,t){if(e.type==="definition"&&e.type===t.type)return 0}function jke(e,t){return function(n,r,o){const i=r.indexStack,a=n.children||[],s=[];let l,c=-1,u=o.before;i.push(-1);let h=r.createTracker(o);for(;++c<a.length;){const p=a[c];let d;if(i[i.length-1]=c,c+1<a.length){let m=r.handle.handlers[a[c+1].type];m&&m.peek&&(m=m.peek),d=m?m(a[c+1],n,r,A({before:"",after:""},h.current())).charAt(0):""}else d=o.after;s.length>0&&(u==="\r"||u===`
`)&&p.type==="html"&&(s[s.length-1]=s[s.length-1].replace(/(\r?\n|\r)$/," "),u=" ",h=r.createTracker(o),h.move(s.join("")));let f=r.handle(p,n,r,K(A({},h.current()),{after:d,before:u}));l&&l===f.slice(0,1)&&(f=nc(l.charCodeAt(0))+f.slice(1));const g=r.attentionEncodeSurroundingInfo;r.attentionEncodeSurroundingInfo=void 0,l=void 0,g&&(s.length>0&&g.before&&u===s[s.length-1].slice(-1)&&(s[s.length-1]=s[s.length-1].slice(0,-1)+nc(u.charCodeAt(0))),g.after&&(l=d)),h.move(f),s.push(f),u=f.slice(-1)}return i.pop(),s.join("")}(e,this,t)}function zke(e,t){return function(n,r,o){const i=r.indexStack,a=n.children||[],s=r.createTracker(o),l=[];let c=-1;for(i.push(-1);++c<a.length;){const u=a[c];i[i.length-1]=c,l.push(s.move(r.handle(u,n,r,A({before:`
`,after:`
`},s.current())))),u.type!=="list"&&(r.bulletLastUsed=void 0),c<a.length-1&&l.push(s.move(Oke(u,a[c+1],n,r)))}return i.pop(),l.join("")}(e,this,t)}function Fke(e,t){return function(n,r,o){const i=(o.before||"")+(r||"")+(o.after||""),a=[],s=[],l={};let c=-1;for(;++c<n.unsafe.length;){const p=n.unsafe[c];if(!aY(n.stack,p))continue;const d=n.compilePattern(p);let f;for(;f=d.exec(i);){const g="before"in p||!!p.atBreak,m="after"in p,v=f.index+(g?f[1].length:0);a.includes(v)?(l[v].before&&!g&&(l[v].before=!1),l[v].after&&!m&&(l[v].after=!1)):(a.push(v),l[v]={before:g,after:m})}}a.sort(Nke);let u=o.before?o.before.length:0;const h=i.length-(o.after?o.after.length:0);for(c=-1;++c<a.length;){const p=a[c];p<u||p>=h||p+1<h&&a[c+1]===p+1&&l[p].after&&!l[p+1].before&&!l[p+1].after||a[c-1]===p-1&&l[p].before&&!l[p-1].before&&!l[p-1].after||(u!==p&&s.push(PY(i.slice(u,p),"\\")),u=p,!/[!-/:-@[-`{-~]/.test(i.charAt(p))||o.encode&&o.encode.includes(i.charAt(p))?(s.push(nc(i.charCodeAt(p))),u++):s.push("\\"))}return s.push(PY(i.slice(u,h),o.after)),s.join("")}(this,e,t)}function N3(e){return NY(e&&e.line)+":"+NY(e&&e.column)}function AY(e){return N3(e&&e.start)+"-"+N3(e&&e.end)}function NY(e){return e&&typeof e=="number"?e:1}class Io extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let o="",i={},a=!1;if(n&&(i="line"in n&&"column"in n||"start"in n&&"end"in n?{place:n}:"type"in n?{ancestors:[n],place:n.position}:A({},n)),typeof t=="string"?o=t:!i.cause&&t&&(a=!0,o=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?i.ruleId=r:(i.source=r.slice(0,l),i.ruleId=r.slice(l+1))}if(!i.place&&i.ancestors&&i.ancestors){const l=i.ancestors[i.ancestors.length-1];l&&(i.place=l.position)}const s=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file,this.message=o,this.line=s?s.line:void 0,this.name=function(l){return l&&typeof l=="object"?"position"in l||"type"in l?AY(l.position):"start"in l||"end"in l?AY(l):"line"in l||"column"in l?N3(l):"":""}(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=a&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual,this.expected,this.note,this.url}}Io.prototype.file="",Io.prototype.name="",Io.prototype.reason="",Io.prototype.message="",Io.prototype.stack="",Io.prototype.column=void 0,Io.prototype.line=void 0,Io.prototype.ancestors=void 0,Io.prototype.cause=void 0,Io.prototype.fatal=void 0,Io.prototype.place=void 0,Io.prototype.ruleId=void 0,Io.prototype.source=void 0;const is={basename:function(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Jm(e);let n,r=0,o=-1,i=e.length;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(n){r=i+1;break}}else o<0&&(n=!0,o=i+1);return o<0?"":e.slice(r,o)}if(t===e)return"";let a=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(n){r=i+1;break}}else a<0&&(n=!0,a=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(o=i):(s=-1,o=a));return r===o?o=a:o<0&&(o=e.length),e.slice(r,o)},dirname:function(e){if(Jm(e),e.length===0)return".";let t,n=-1,r=e.length;for(;--r;)if(e.codePointAt(r)===47){if(t){n=r;break}}else t||(t=!0);return n<0?e.codePointAt(0)===47?"/":".":n===1&&e.codePointAt(0)===47?"//":e.slice(0,n)},extname:function(e){Jm(e);let t,n=e.length,r=-1,o=0,i=-1,a=0;for(;n--;){const s=e.codePointAt(n);if(s!==47)r<0&&(t=!0,r=n+1),s===46?i<0?i=n:a!==1&&(a=1):i>-1&&(a=-1);else if(t){o=n+1;break}}return i<0||r<0||a===0||a===1&&i===r-1&&i===o+1?"":e.slice(i,r)},join:function(...e){let t,n=-1;for(;++n<e.length;)Jm(e[n]),e[n]&&(t=t===void 0?e[n]:t+"/"+e[n]);return t===void 0?".":function(r){Jm(r);const o=r.codePointAt(0)===47;let i=function(a,s){let l,c,u="",h=0,p=-1,d=0,f=-1;for(;++f<=a.length;){if(f<a.length)l=a.codePointAt(f);else{if(l===47)break;l=47}if(l===47){if(p!==f-1&&d!==1)if(p!==f-1&&d===2){if(u.length<2||h!==2||u.codePointAt(u.length-1)!==46||u.codePointAt(u.length-2)!==46){if(u.length>2){if(c=u.lastIndexOf("/"),c!==u.length-1){c<0?(u="",h=0):(u=u.slice(0,c),h=u.length-1-u.lastIndexOf("/")),p=f,d=0;continue}}else if(u.length>0){u="",h=0,p=f,d=0;continue}}s&&(u=u.length>0?u+"/..":"..",h=2)}else u.length>0?u+="/"+a.slice(p+1,f):u=a.slice(p+1,f),h=f-p-1;p=f,d=0}else l===46&&d>-1?d++:d=-1}return u}(r,!o);return i.length===0&&!o&&(i="."),i.length>0&&r.codePointAt(r.length-1)===47&&(i+="/"),o?"/"+i:i}(t)},sep:"/"};function Jm(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Bke={cwd:function(){return"/"}};function R3(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Uke(e){if(typeof e=="string")e=new URL(e);else if(!R3(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return function(t){if(t.hostname!==""){const o=new TypeError('File URL host must be "localhost" or empty on darwin');throw o.code="ERR_INVALID_FILE_URL_HOST",o}const n=t.pathname;let r=-1;for(;++r<n.length;)if(n.codePointAt(r)===37&&n.codePointAt(r+1)===50){const o=n.codePointAt(r+2);if(o===70||o===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(n)}(e)}const I3=["history","path","basename","stem","extname","dirname"];class Hke{constructor(t){let n;n=t?R3(t)?{path:t}:typeof t=="string"||function(i){return!!(i&&typeof i=="object"&&"byteLength"in i&&"byteOffset"in i)}(t)?{value:t}:t:{},this.cwd="cwd"in n?"":Bke.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r,o=-1;for(;++o<I3.length;){const i=I3[o];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}for(r in n)I3.includes(r)||(this[r]=n[r])}get basename(){return typeof this.path=="string"?is.basename(this.path):void 0}set basename(t){L3(t,"basename"),M3(t,"basename"),this.path=is.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?is.dirname(this.path):void 0}set dirname(t){RY(this.basename,"dirname"),this.path=is.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?is.extname(this.path):void 0}set extname(t){if(M3(t,"extname"),RY(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=is.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){R3(t)&&(t=Uke(t)),L3(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?is.basename(this.path,this.extname):void 0}set stem(t){L3(t,"stem"),M3(t,"stem"),this.path=is.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const o=this.message(t,n,r);throw o.fatal=!0,o}info(t,n,r){const o=this.message(t,n,r);return o.fatal=void 0,o}message(t,n,r){const o=new Io(t,n,r);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function M3(e,t){if(e&&e.includes(is.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+is.sep+"`")}function L3(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function RY(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const Vke=function(e){const t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},$ke={}.hasOwnProperty;class D3 extends Vke{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=aW()}copy(){const t=new D3;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(zm(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(F3("data",this.frozen),this.namespace[t]=n,this):$ke.call(this.namespace,t)&&this.namespace[t]||void 0:t?(F3("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const o=n.call(t,...r);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Iy(t),r=this.parser||this.Parser;return j3("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),j3("process",this.parser||this.Parser),z3("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(i,a){const s=Iy(t),l=r.parse(s);function c(u,h){u||!h?a(u):i?i(h):n(void 0,h)}r.run(l,s,function(u,h,p){if(u||!h||!p)return c(u);const d=h,f=r.stringify(d,p);(function(g){return typeof g=="string"||function(m){return!!(m&&typeof m=="object"&&"byteLength"in m&&"byteOffset"in m)}(g)})(f)?p.value=f:p.result=f,c(u,p)})}}processSync(t){let n,r=!1;return this.freeze(),j3("processSync",this.parser||this.Parser),z3("processSync",this.compiler||this.Compiler),this.process(t,function(o,i){r=!0,uy(o),n=i}),MY("processSync","process",r),n}run(t,n,r){IY(t),this.freeze();const o=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(a,s){const l=Iy(n);o.run(t,l,function(c,u,h){const p=u||t;c?s(c):a?a(p):r(void 0,p,h)})}}runSync(t,n){let r,o=!1;return this.run(t,n,function(i,a){uy(i),r=a,o=!0}),MY("runSync","run",o),r}stringify(t,n){this.freeze();const r=Iy(n),o=this.compiler||this.Compiler;return z3("stringify",o),IY(t),o(t,r)}use(t,...n){const r=this.attachers,o=this.namespace;if(F3("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else{if(typeof t!="object")throw new TypeError("Expected usable value, not `"+t+"`");Array.isArray(t)?s(t):a(t)}return this;function i(c){if(typeof c=="function")l(c,[]);else{if(typeof c!="object")throw new TypeError("Expected usable value, not `"+c+"`");if(Array.isArray(c)){const[u,...h]=c;l(u,h)}else a(c)}}function a(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(c.plugins),c.settings&&(o.settings=zm(!0,o.settings,c.settings))}function s(c){let u=-1;if(c!=null){if(!Array.isArray(c))throw new TypeError("Expected a list of plugins, not `"+c+"`");for(;++u<c.length;)i(c[u])}}function l(c,u){let h=-1,p=-1;for(;++h<r.length;)if(r[h][0]===c){p=h;break}if(p===-1)r.push([c,...u]);else if(u.length>0){let[d,...f]=u;const g=r[p][1];Lh(g)&&Lh(d)&&(d=zm(!0,g,d)),r[p]=[c,d,...f]}}}}function j3(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function z3(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function F3(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function IY(e){if(!Lh(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function MY(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Iy(e){return function(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}(e)?e:new Hke(e)}const qke=new D3().freeze()().use(function(e){const t=this;t.parser=function(n){return ike(n,K(A(A({},t.data("settings")),e),{extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]}))}}).use(function(e){const t=this;t.compiler=function(n){return Ike(n,K(A(A({},t.data("settings")),e),{extensions:t.data("toMarkdownExtensions")||[]}))}}).freeze();function Wke(e){mY(e,"text",(t,n,r)=>{t.value&&r&&function(o){if(o==="paragraph"||o==="heading"||o==="emphasis"||o==="strong"||o==="link")return!0}(r.type)&&(t.value=t.value.replace(/\$/g,"UNIQUEPLACEHOLDERDOLLAR"))})}const In=e=>typeof e=="string"?function(t){return t.replace(/UNIQUEPLACEHOLDERDOLLAR/g,"$").replace(/\\_/g,"_")}(e):Array.isArray(e)?e.map(t=>In(t)):e;var Gke=Object.defineProperty,Kke=Object.defineProperties,Yke=Object.getOwnPropertyDescriptors,My=Object.getOwnPropertySymbols,LY=Object.prototype.hasOwnProperty,DY=Object.prototype.propertyIsEnumerable,jY=(e,t,n)=>t in e?Gke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zY=(e,t)=>{for(var n in t||(t={}))LY.call(t,n)&&jY(e,n,t[n]);if(My)for(var n of My(t))DY.call(t,n)&&jY(e,n,t[n]);return e},FY=(e,t)=>Kke(e,Yke(t)),BY=(e,t)=>{var n={};for(var r in e)LY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&My)for(var r of My(e))t.indexOf(r)<0&&DY.call(e,r)&&(n[r]=e[r]);return n},Qke=Object.defineProperty,Xke=Object.defineProperties,Jke=Object.getOwnPropertyDescriptors,Ly=Object.getOwnPropertySymbols,UY=Object.prototype.hasOwnProperty,HY=Object.prototype.propertyIsEnumerable,VY=(e,t,n)=>t in e?Qke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zke=Object.defineProperty,e9e=Object.defineProperties,t9e=Object.getOwnPropertyDescriptors,Dy=Object.getOwnPropertySymbols,$Y=Object.prototype.hasOwnProperty,qY=Object.prototype.propertyIsEnumerable,WY=(e,t,n)=>t in e?Zke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,n9e=Object.defineProperty,r9e=Object.defineProperties,o9e=Object.getOwnPropertyDescriptors,jy=Object.getOwnPropertySymbols,GY=Object.prototype.hasOwnProperty,KY=Object.prototype.propertyIsEnumerable,YY=(e,t,n)=>t in e?n9e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,i9e=Object.defineProperty,a9e=Object.defineProperties,s9e=Object.getOwnPropertyDescriptors,zy=Object.getOwnPropertySymbols,QY=Object.prototype.hasOwnProperty,XY=Object.prototype.propertyIsEnumerable,JY=(e,t,n)=>t in e?i9e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,l9e=Object.defineProperty,c9e=Object.defineProperties,u9e=Object.getOwnPropertyDescriptors,Fy=Object.getOwnPropertySymbols,ZY=Object.prototype.hasOwnProperty,eQ=Object.prototype.propertyIsEnumerable,tQ=(e,t,n)=>t in e?l9e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d9e=Object.defineProperty,h9e=Object.defineProperties,p9e=Object.getOwnPropertyDescriptors,By=Object.getOwnPropertySymbols,nQ=Object.prototype.hasOwnProperty,rQ=Object.prototype.propertyIsEnumerable,oQ=(e,t,n)=>t in e?d9e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m9e=Object.defineProperty,f9e=Object.defineProperties,g9e=Object.getOwnPropertyDescriptors,Uy=Object.getOwnPropertySymbols,iQ=Object.prototype.hasOwnProperty,aQ=Object.prototype.propertyIsEnumerable,sQ=(e,t,n)=>t in e?m9e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v9e=Object.defineProperty,b9e=Object.defineProperties,y9e=Object.getOwnPropertyDescriptors,Hy=Object.getOwnPropertySymbols,lQ=Object.prototype.hasOwnProperty,cQ=Object.prototype.propertyIsEnumerable,uQ=(e,t,n)=>t in e?v9e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,w9e=Object.defineProperty,k9e=Object.defineProperties,x9e=Object.getOwnPropertyDescriptors,Vy=Object.getOwnPropertySymbols,dQ=Object.prototype.hasOwnProperty,hQ=Object.prototype.propertyIsEnumerable,pQ=(e,t,n)=>t in e?w9e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_9e=Object.defineProperty,T9e=Object.defineProperties,S9e=Object.getOwnPropertyDescriptors,$y=Object.getOwnPropertySymbols,mQ=Object.prototype.hasOwnProperty,fQ=Object.prototype.propertyIsEnumerable,gQ=(e,t,n)=>t in e?_9e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E9e=Object.defineProperty,C9e=Object.defineProperties,O9e=Object.getOwnPropertyDescriptors,qy=Object.getOwnPropertySymbols,vQ=Object.prototype.hasOwnProperty,bQ=Object.prototype.propertyIsEnumerable,yQ=(e,t,n)=>t in e?E9e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,P9e=Object.defineProperty,A9e=Object.defineProperties,N9e=Object.getOwnPropertyDescriptors,Wy=Object.getOwnPropertySymbols,wQ=Object.prototype.hasOwnProperty,kQ=Object.prototype.propertyIsEnumerable,xQ=(e,t,n)=>t in e?P9e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,R9e=Object.defineProperty,I9e=Object.defineProperties,M9e=Object.getOwnPropertyDescriptors,Gy=Object.getOwnPropertySymbols,_Q=Object.prototype.hasOwnProperty,TQ=Object.prototype.propertyIsEnumerable,SQ=(e,t,n)=>t in e?R9e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,L9e=Object.defineProperty,D9e=Object.defineProperties,j9e=Object.getOwnPropertyDescriptors,Ky=Object.getOwnPropertySymbols,EQ=Object.prototype.hasOwnProperty,CQ=Object.prototype.propertyIsEnumerable,OQ=(e,t,n)=>t in e?L9e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,z9e=Object.defineProperty,F9e=Object.defineProperties,B9e=Object.getOwnPropertyDescriptors,Yy=Object.getOwnPropertySymbols,PQ=Object.prototype.hasOwnProperty,AQ=Object.prototype.propertyIsEnumerable,NQ=(e,t,n)=>t in e?z9e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,U9e=Object.defineProperty,H9e=Object.defineProperties,V9e=Object.getOwnPropertyDescriptors,Qy=Object.getOwnPropertySymbols,RQ=Object.prototype.hasOwnProperty,IQ=Object.prototype.propertyIsEnumerable,MQ=(e,t,n)=>t in e?U9e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$9e=Object.defineProperty,q9e=Object.defineProperties,W9e=Object.getOwnPropertyDescriptors,Xy=Object.getOwnPropertySymbols,LQ=Object.prototype.hasOwnProperty,DQ=Object.prototype.propertyIsEnumerable,jQ=(e,t,n)=>t in e?$9e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,G9e=Object.defineProperty,K9e=Object.defineProperties,Y9e=Object.getOwnPropertyDescriptors,zQ=Object.getOwnPropertySymbols,Q9e=Object.prototype.hasOwnProperty,X9e=Object.prototype.propertyIsEnumerable,FQ=(e,t,n)=>t in e?G9e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,J9e=(e,t)=>{for(var n in t||(t={}))Q9e.call(t,n)&&FQ(e,n,t[n]);if(zQ)for(var n of zQ(t))X9e.call(t,n)&&FQ(e,n,t[n]);return e},Z9e=(e,t)=>K9e(e,Y9e(t));const exe=e=>{const t=dt();return R(txe,{children:R("img",Z9e(J9e({},e),{style:{width:e.width?`${e.width}px`:"auto",height:e.height?`${e.height}px`:"auto"},onClick:()=>{t(kU(e.src))}}))})},txe=tt("div",{target:"ed9b5b30"})(()=>{const[e,t]=RK();return{width:"100%",position:"relative",display:"inline-block",zIndex:20,"> img":{outline:"2px solid transparent",borderRadius:6,maxWidth:e,maxHeight:t,objectFit:"contain","&:hover":{cursor:"pointer",outlineColor:pn().primary_color}}}},"");var nxe=Object.defineProperty,rxe=Object.defineProperties,oxe=Object.getOwnPropertyDescriptors,Jy=Object.getOwnPropertySymbols,BQ=Object.prototype.hasOwnProperty,UQ=Object.prototype.propertyIsEnumerable,HQ=(e,t,n)=>t in e?nxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VQ=(e,t)=>{for(var n in t||(t={}))BQ.call(t,n)&&HQ(e,n,t[n]);if(Jy)for(var n of Jy(t))UQ.call(t,n)&&HQ(e,n,t[n]);return e},ixe=Object.defineProperty,axe=Object.defineProperties,sxe=Object.getOwnPropertyDescriptors,Zy=Object.getOwnPropertySymbols,$Q=Object.prototype.hasOwnProperty,qQ=Object.prototype.propertyIsEnumerable,WQ=(e,t,n)=>t in e?ixe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const lxe=e=>{var t=((r,o)=>{var i={};for(var a in r)$Q.call(r,a)&&o.indexOf(a)<0&&(i[a]=r[a]);if(r!=null&&Zy)for(var a of Zy(r))o.indexOf(a)<0&&qQ.call(r,a)&&(i[a]=r[a]);return i})(e,["_node"]);const{onTableDetected:n}=t;return n&&n(),R(Ar,((r,o)=>axe(r,sxe(o)))(((r,o)=>{for(var i in o||(o={}))$Q.call(o,i)&&WQ(r,i,o[i]);if(Zy)for(var i of Zy(o))qQ.call(o,i)&&WQ(r,i,o[i]);return r})({},t),{style:{width:"100%","--table-vertical-spacing":"calc(0.4375em * var(--mantine-scale))",backgroundColor:"var(--table-background-color, rgba(233, 236, 239, 1))",color:"var(--table-color, rgba(66, 66, 66, 1))"},striped:!0,children:In(t.children)}))};var cxe=Object.defineProperty,uxe=Object.defineProperties,dxe=Object.getOwnPropertyDescriptors,ew=Object.getOwnPropertySymbols,GQ=Object.prototype.hasOwnProperty,KQ=Object.prototype.propertyIsEnumerable,YQ=(e,t,n)=>t in e?cxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hxe=Object.defineProperty,pxe=Object.defineProperties,mxe=Object.getOwnPropertyDescriptors,tw=Object.getOwnPropertySymbols,QQ=Object.prototype.hasOwnProperty,XQ=Object.prototype.propertyIsEnumerable,JQ=(e,t,n)=>t in e?hxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fxe=Object.defineProperty,gxe=Object.defineProperties,vxe=Object.getOwnPropertyDescriptors,nw=Object.getOwnPropertySymbols,ZQ=Object.prototype.hasOwnProperty,eX=Object.prototype.propertyIsEnumerable,tX=(e,t,n)=>t in e?fxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bxe=Object.defineProperty,yxe=Object.defineProperties,wxe=Object.getOwnPropertyDescriptors,nX=Object.getOwnPropertySymbols,kxe=Object.prototype.hasOwnProperty,xxe=Object.prototype.propertyIsEnumerable,rX=(e,t,n)=>t in e?bxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oX=(e,t)=>{for(var n in t||(t={}))kxe.call(t,n)&&rX(e,n,t[n]);if(nX)for(var n of nX(t))xxe.call(t,n)&&rX(e,n,t[n]);return e},iX=(e,t)=>yxe(e,wxe(t));const _xe={a:e=>{var t=BY(e,["node"]);const n=t,{href:r}=n,o=BY(n,["href"]);if(t.href.toLowerCase().endsWith(".pdf")||t.href.toLowerCase().match(/\.pdf#page=(\d+)$/)||t.href.toLowerCase().match(/doc_type=pdf/))return R("a",FY(zY({},t),{target:"_blank",rel:"noopener noreferrer",children:In(t.children)}));const i=(s=>{try{const l=new URL(s),c=l.hostname,u=l.pathname;if(c==="youtube.com"||c==="www.youtube.com"||c==="www.youtube-nocookie.com"){if(u.startsWith("/embed/"))return s;if(u.startsWith("/shorts/"))return`https://${c}/embed/${u.split("/shorts/")[1]}`;if(u==="/watch"){const h=l.searchParams.get("v"),p=l.searchParams.get("t");return h?p?`https://${c}/embed/${h}?start=${p.replace("s","")}`:`https://${c}/embed/${h}`:null}}else if(u.endsWith(".mp4")||u.endsWith(".mov"))return s}catch{return null}return null})(r);if(i)return R(l2e,{embedVideoUrl:i});const a=r.replace(/\\_/g,"_").replace(/%5C_/g,"_");return R("a",FY(zY({},o),{target:"_blank",rel:"noopener noreferrer",onClick:()=>{kR(a),window.open(a,"_blank")},style:{cursor:"pointer",wordBreak:"break-all",transition:"color 0.3s ease"},children:In(t.children)}))},text:e=>{var t=((n,r)=>{var o={};for(var i in n)UY.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Ly)for(var i of Ly(n))r.indexOf(i)<0&&HY.call(n,i)&&(o[i]=n[i]);return o})(e,["node"]);return R("span",((n,r)=>Xke(n,Jke(r)))(((n,r)=>{for(var o in r||(r={}))UY.call(r,o)&&VY(n,o,r[o]);if(Ly)for(var o of Ly(r))HY.call(r,o)&&VY(n,o,r[o]);return n})({},t),{children:In(t.children)}))},p:e=>{var t=((n,r)=>{var o={};for(var i in n)$Y.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Dy)for(var i of Dy(n))r.indexOf(i)<0&&qY.call(n,i)&&(o[i]=n[i]);return o})(e,["node"]);return R("p",((n,r)=>e9e(n,t9e(r)))(((n,r)=>{for(var o in r||(r={}))$Y.call(r,o)&&WY(n,o,r[o]);if(Dy)for(var o of Dy(r))qY.call(r,o)&&WY(n,o,r[o]);return n})({},t),{children:In(t.children)}))},ol:e=>{var t=((n,r)=>{var o={};for(var i in n)GY.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&jy)for(var i of jy(n))r.indexOf(i)<0&&KY.call(n,i)&&(o[i]=n[i]);return o})(e,["node"]);return R("ol",((n,r)=>r9e(n,o9e(r)))(((n,r)=>{for(var o in r||(r={}))GY.call(r,o)&&YY(n,o,r[o]);if(jy)for(var o of jy(r))KY.call(r,o)&&YY(n,o,r[o]);return n})({},t),{children:In(t.children)}))},li:e=>{var t=((n,r)=>{var o={};for(var i in n)QY.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&zy)for(var i of zy(n))r.indexOf(i)<0&&XY.call(n,i)&&(o[i]=n[i]);return o})(e,["node"]);return R("li",((n,r)=>a9e(n,s9e(r)))(((n,r)=>{for(var o in r||(r={}))QY.call(r,o)&&JY(n,o,r[o]);if(zy)for(var o of zy(r))XY.call(r,o)&&JY(n,o,r[o]);return n})({},t),{children:In(t.children)}))},ul:e=>{var t=((n,r)=>{var o={};for(var i in n)ZY.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Fy)for(var i of Fy(n))r.indexOf(i)<0&&eQ.call(n,i)&&(o[i]=n[i]);return o})(e,["node"]);return R("ul",((n,r)=>c9e(n,u9e(r)))(((n,r)=>{for(var o in r||(r={}))ZY.call(r,o)&&tQ(n,o,r[o]);if(Fy)for(var o of Fy(r))eQ.call(r,o)&&tQ(n,o,r[o]);return n})({},t),{children:In(t.children)}))},span:e=>{var t=((n,r)=>{var o={};for(var i in n)nQ.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&By)for(var i of By(n))r.indexOf(i)<0&&rQ.call(n,i)&&(o[i]=n[i]);return o})(e,["node"]);return R("span",((n,r)=>h9e(n,p9e(r)))(((n,r)=>{for(var o in r||(r={}))nQ.call(r,o)&&oQ(n,o,r[o]);if(By)for(var o of By(r))rQ.call(r,o)&&oQ(n,o,r[o]);return n})({},t),{children:In(t.children)}))},thead:e=>{var t=((n,r)=>{var o={};for(var i in n)QQ.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&tw)for(var i of tw(n))r.indexOf(i)<0&&XQ.call(n,i)&&(o[i]=n[i]);return o})(e,["node"]);return R(Ar.Thead,((n,r)=>pxe(n,mxe(r)))(((n,r)=>{for(var o in r||(r={}))QQ.call(r,o)&&JQ(n,o,r[o]);if(tw)for(var o of tw(r))XQ.call(r,o)&&JQ(n,o,r[o]);return n})({},t),{children:In(t.children)}))},th:e=>{var t=((n,r)=>{var o={};for(var i in n)iQ.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Uy)for(var i of Uy(n))r.indexOf(i)<0&&aQ.call(n,i)&&(o[i]=n[i]);return o})(e,["node"]);return R(Ar.Th,((n,r)=>f9e(n,g9e(r)))(((n,r)=>{for(var o in r||(r={}))iQ.call(r,o)&&sQ(n,o,r[o]);if(Uy)for(var o of Uy(r))aQ.call(r,o)&&sQ(n,o,r[o]);return n})({},t),{children:In(t.children)}))},tr:e=>{var t=((n,r)=>{var o={};for(var i in n)GQ.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&ew)for(var i of ew(n))r.indexOf(i)<0&&KQ.call(n,i)&&(o[i]=n[i]);return o})(e,["node"]);return R(Ar.Tr,((n,r)=>uxe(n,dxe(r)))(((n,r)=>{for(var o in r||(r={}))GQ.call(r,o)&&YQ(n,o,r[o]);if(ew)for(var o of ew(r))KQ.call(r,o)&&YQ(n,o,r[o]);return n})({},t),{children:In(t.children)}))},tbody:e=>{var t=((n,r)=>{var o={};for(var i in n)ZQ.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&nw)for(var i of nw(n))r.indexOf(i)<0&&eX.call(n,i)&&(o[i]=n[i]);return o})(e,["node"]);return R(Ar.Tbody,((n,r)=>gxe(n,vxe(r)))(((n,r)=>{for(var o in r||(r={}))ZQ.call(r,o)&&tX(n,o,r[o]);if(nw)for(var o of nw(r))eX.call(r,o)&&tX(n,o,r[o]);return n})({},t),{children:In(t.children)}))},td:e=>{var t=((n,r)=>{var o={};for(var i in n)lQ.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Hy)for(var i of Hy(n))r.indexOf(i)<0&&cQ.call(n,i)&&(o[i]=n[i]);return o})(e,["node"]);return R(Ar.Td,((n,r)=>b9e(n,y9e(r)))(((n,r)=>{for(var o in r||(r={}))lQ.call(r,o)&&uQ(n,o,r[o]);if(Hy)for(var o of Hy(r))cQ.call(r,o)&&uQ(n,o,r[o]);return n})({},t),{children:In(t.children)}))},h1:e=>{var t=((n,r)=>{var o={};for(var i in n)dQ.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Vy)for(var i of Vy(n))r.indexOf(i)<0&&hQ.call(n,i)&&(o[i]=n[i]);return o})(e,["node"]);return R("h1",((n,r)=>k9e(n,x9e(r)))(((n,r)=>{for(var o in r||(r={}))dQ.call(r,o)&&pQ(n,o,r[o]);if(Vy)for(var o of Vy(r))hQ.call(r,o)&&pQ(n,o,r[o]);return n})({},t),{children:In(t.children)}))},h2:e=>{var t=((n,r)=>{var o={};for(var i in n)mQ.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&$y)for(var i of $y(n))r.indexOf(i)<0&&fQ.call(n,i)&&(o[i]=n[i]);return o})(e,["node"]);return R("h2",((n,r)=>T9e(n,S9e(r)))(((n,r)=>{for(var o in r||(r={}))mQ.call(r,o)&&gQ(n,o,r[o]);if($y)for(var o of $y(r))fQ.call(r,o)&&gQ(n,o,r[o]);return n})({},t),{children:In(t.children)}))},h3:e=>{var t=((n,r)=>{var o={};for(var i in n)vQ.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&qy)for(var i of qy(n))r.indexOf(i)<0&&bQ.call(n,i)&&(o[i]=n[i]);return o})(e,["node"]);return R("h3",((n,r)=>C9e(n,O9e(r)))(((n,r)=>{for(var o in r||(r={}))vQ.call(r,o)&&yQ(n,o,r[o]);if(qy)for(var o of qy(r))bQ.call(r,o)&&yQ(n,o,r[o]);return n})({},t),{children:In(t.children)}))},h4:e=>{var t=((n,r)=>{var o={};for(var i in n)wQ.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Wy)for(var i of Wy(n))r.indexOf(i)<0&&kQ.call(n,i)&&(o[i]=n[i]);return o})(e,["node"]);return R("h4",((n,r)=>A9e(n,N9e(r)))(((n,r)=>{for(var o in r||(r={}))wQ.call(r,o)&&xQ(n,o,r[o]);if(Wy)for(var o of Wy(r))kQ.call(r,o)&&xQ(n,o,r[o]);return n})({},t),{children:In(t.children)}))},h5:e=>{var t=((n,r)=>{var o={};for(var i in n)_Q.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Gy)for(var i of Gy(n))r.indexOf(i)<0&&TQ.call(n,i)&&(o[i]=n[i]);return o})(e,["node"]);return R("h5",((n,r)=>I9e(n,M9e(r)))(((n,r)=>{for(var o in r||(r={}))_Q.call(r,o)&&SQ(n,o,r[o]);if(Gy)for(var o of Gy(r))TQ.call(r,o)&&SQ(n,o,r[o]);return n})({},t),{children:In(t.children)}))},h6:e=>{var t=((n,r)=>{var o={};for(var i in n)EQ.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Ky)for(var i of Ky(n))r.indexOf(i)<0&&CQ.call(n,i)&&(o[i]=n[i]);return o})(e,["node"]);return R("h6",((n,r)=>D9e(n,j9e(r)))(((n,r)=>{for(var o in r||(r={}))EQ.call(r,o)&&OQ(n,o,r[o]);if(Ky)for(var o of Ky(r))CQ.call(r,o)&&OQ(n,o,r[o]);return n})({},t),{children:In(t.children)}))},del:e=>{var t=((n,r)=>{var o={};for(var i in n)PQ.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Yy)for(var i of Yy(n))r.indexOf(i)<0&&AQ.call(n,i)&&(o[i]=n[i]);return o})(e,["node"]);return R("del",((n,r)=>F9e(n,B9e(r)))(((n,r)=>{for(var o in r||(r={}))PQ.call(r,o)&&NQ(n,o,r[o]);if(Yy)for(var o of Yy(r))AQ.call(r,o)&&NQ(n,o,r[o]);return n})({},t),{children:In(t.children)}))},em:e=>{var t=((n,r)=>{var o={};for(var i in n)RQ.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Qy)for(var i of Qy(n))r.indexOf(i)<0&&IQ.call(n,i)&&(o[i]=n[i]);return o})(e,["node"]);return R("em",((n,r)=>H9e(n,V9e(r)))(((n,r)=>{for(var o in r||(r={}))RQ.call(r,o)&&MQ(n,o,r[o]);if(Qy)for(var o of Qy(r))IQ.call(r,o)&&MQ(n,o,r[o]);return n})({},t),{children:In(t.children)}))},strong:e=>{var t=((n,r)=>{var o={};for(var i in n)LQ.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Xy)for(var i of Xy(n))r.indexOf(i)<0&&DQ.call(n,i)&&(o[i]=n[i]);return o})(e,["node"]);return R("strong",((n,r)=>q9e(n,W9e(r)))(((n,r)=>{for(var o in r||(r={}))LQ.call(r,o)&&jQ(n,o,r[o]);if(Xy)for(var o of Xy(r))DQ.call(r,o)&&jQ(n,o,r[o]);return n})({},t),{children:In(t.children)}))},img:e=>{var t,n,r,o=((l,c)=>{var u={};for(var h in l)BQ.call(l,h)&&c.indexOf(h)<0&&(u[h]=l[h]);if(l!=null&&Jy)for(var h of Jy(l))c.indexOf(h)<0&&UQ.call(l,h)&&(u[h]=l[h]);return u})(e,["node"]);const i=(t=o.alt)==null?void 0:t.match(/width=(\d+)|height=(\d+)/g),a=(n=i==null?void 0:i.find(l=>l.includes("width")))==null?void 0:n.split("=")[1],s=(r=i==null?void 0:i.find(l=>l.includes("height")))==null?void 0:r.split("=")[1];return R(exe,a||s?((l,c)=>rxe(l,oxe(c)))(VQ({},o),{width:a,height:s}):VQ({},o))}},qh=({text:e,messageType:t,onTableDetected:n})=>{const r=function(s){return qke().use(()=>Wke).processSync(s).toString()}(e),o=t==="user",i=TO({p:{overflowWrap:LA(r)?"break-word":"anywhere",fontWeight:"var(--message-content-container-font-weight, 400)"},a:{color:o?"var(--markdown-user-link-color)":"var(--markdown-link-color)",textDecoration:o?"var(--markdown-user-link-text-decoration)":"var(--markdown-link-text-decoration)",fontWeight:o?"var(--markdown-user-link-font-weight)":"var(--markdown-link-font-weight)","&:hover":{color:o?"var(--markdown-user-link-hover-color)":"var(--markdown-link-hover-color)"}}}),a=iX(oX({},_xe),{table:s=>R(lxe,iX(oX({},s),{onTableDetected:n}))});return R(kG,{components:a,remarkPlugins:[H5e],rehypePlugins:[s2e],className:"livex-chatbox-markdown",css:i,children:r})},Txe=({message:e,background:t})=>{const n=(o=>{const i=pn(),a=o||i.primary_color;return er(a)})(t),{text:r}=e;return typeof r!="string"?(window.console.error("TextMessage  text is not a string",r),null):R("p",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word",fontSize:"var(--message-content-container-font-size, 12px)",fontWeight:"var(--message-content-container-font-weight, 400)",color:n,lineHeight:"var(--message-content-container-line-height, 16px)"},children:r})},Sxe=({message:e})=>{const{text:t,imageGcsUri:n}=e;return n==null||n.replace("gs://","https://dv.copilot.livex.ai/api/v1/users/static/"),ce("div",{className:"flex flex-col gap-2",children:[R("div",{children:"Image Uploaded"}),t&&R("div",{children:t})]})},Exe=e=>{var t;const{message:n,isBot:r,index:o,timeRef:i,isLastMessage:a}=e,s=Gc(),l=Br(),c=(()=>{var H,F;const z=mt();return(F=(H=z==null?void 0:z.config)==null?void 0:H.custom_style)==null?void 0:F.current_theme_template_name})(),{split_message_delay:u,split_message_delimiter:h}=l??{};let p;const[d,f]=x.useState(!1),[g,m]=x.useState(o===0);x.useEffect(()=>{!a||!r||De.scrollToLastMessagePair()},[a,r]);const v=pn(),{bot_message_background_color:y,user_message_background_color:b}=v,w=c?y||(s==null?void 0:s.bot_message_background_color):(s==null?void 0:s.bot_message_background_color)||y,k=(r?w:b)||"#ffffff",_=er(k)==="#fff"?"rgba(255, 255, 255, 0.3)":ku(.1,k,"MessageContent.defaultSelectionBackground"),O=er(_);let E="black";E=er(k),x.useEffect(()=>{let H,F=!0;const z=()=>{if(!u||!a)return m(!0),void(i.current[o]=Date.now());i.current[o-1]?setTimeout(()=>{F&&(m(!0),i.current[o]=Date.now())},u):H=requestAnimationFrame(z)};return H=requestAnimationFrame(z),()=>{F=!1,cancelAnimationFrame(H)}},[o,i,u,a]);const{format:C,imageGcsUri:N}=n;switch(C){case"text":case"form":if(N){p=R(Sxe,{message:n});break}p=R(Txe,{message:n,background:k});break;case"markdown":p=R(qh,{text:(t=n.text)!=null?t:"",messageType:n.type,onTableDetected:()=>f(!0)});break;default:p=null}const L=r?"bot":"user",j={background:`var(--${L}-message-content-container-background, ${k})`,color:E,justifyContent:r?"flex-start":"flex-end",lineHeight:"var(--message-content-container-line-height, 16px)",opacity:g?1:0,transition:"opacity 0.3s ease-in-out",boxShadow:`var(--message-content-container-box-shadow, ${Sb})`,padding:"var(--message-content-container-padding, 0.5em 0.75em)","--mcc-border-radius":"var(--message-content-container-border-radius, 8.75px)",borderTopLeftRadius:`var(--${L}-message-content-container-border-top-left-radius, var(--mcc-border-radius))`,borderTopRightRadius:`var(--${L}-message-content-container-border-top-right-radius, var(--mcc-border-radius))`,borderBottomLeftRadius:`var(--${L}-message-content-container-border-bottom-left-radius, var(--mcc-border-radius))`,borderBottomRightRadius:`var(--${L}-message-content-container-border-bottom-right-radius, var(--mcc-border-radius))`,border:`var(--${L}-message-content-container-border, none)`,"--mcc-selection-background-color":`var(--${L}-message-selection-background-color, ${_})`,"--mcc-selection-color":`var(--${L}-message-selection-text-color, ${O})`,backdropFilter:`var(--${L}-message-content-container-backdrop-filter, blur(10px))`};return g||(j.height=0),d&&h&&(j.paddingLeft="0",j.paddingRight="0",j.backgroundColor="transparent",delete j.boxShadow),ce(Cxe,{style:j,children:[p,n.stoppedByUser&&R(Oxe,{children:"Stopped by user"})]})},Cxe=tt("div",{target:"eycqg4i1"})({name:"1389qhh",styles:"display:flex;padding:0.5em 0.75em;flex-direction:column;align-items:flex-start;border-radius:0.625em;max-width:100%;&::selection{background-color:var(--mcc-selection-background-color);color:var(--mcc-selection-color);}"}),Oxe=tt("div",{target:"eycqg4i0"})({name:"8yaxvv",styles:"margin-top:16px;color:gray;font-style:italic"});function Pxe(e){return pt({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M2.957 4.34q.647 0 1.269.243.634.243 1.093.7.459.448.662 1l1.592 4.59 1.31-3.82Q9.84 4.26 11.92 4.26q.459 0 1.106.203.729.23 1.228.809.5.58.905 1.782l1.296 3.82 1.606-4.59q.189-.54.649-.998.472-.459 1.079-.703.608-.243 1.283-.243.62.04 1.241.338.783.378 1.228 1.106.459.73.459 1.66 0 .81-.364 1.54l-4.225 8.652q-1.025 2.106-3.037 2.106-.905-.04-1.634-.567-.728-.54-1.133-1.498L12 13.72l-1.606 3.955q-.243.634-.647 1.093-.406.447-.945.702-.54.257-1.134.27-1.013 0-1.755-.486-.742-.5-1.297-1.62L.392 8.983Q0 8.16 0 7.443q0-.89.46-1.632.459-.756 1.254-1.134.622-.297 1.243-.337Z"},child:[]}]})(e)}function Axe(e){return pt({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Youtube"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M19.437,19.937H4.562a2.5,2.5,0,0,1-2.5-2.5V6.563a2.5,2.5,0,0,1,2.5-2.5H19.437a2.5,2.5,0,0,1,2.5,2.5V17.437A2.5,2.5,0,0,1,19.437,19.937ZM4.562,5.063a1.5,1.5,0,0,0-1.5,1.5V17.437a1.5,1.5,0,0,0,1.5,1.5H19.437a1.5,1.5,0,0,0,1.5-1.5V6.563a1.5,1.5,0,0,0-1.5-1.5Z"},child:[]},{tag:"path",attr:{d:"M14.568,11.149,10.6,8.432a1.032,1.032,0,0,0-1.614.851v5.434a1.032,1.032,0,0,0,1.614.851l3.972-2.717A1.031,1.031,0,0,0,14.568,11.149Z"},child:[]}]}]}]})(e)}function Nxe(e){return pt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},child:[]}]})(e)}const aX=({url:e})=>{let t=R(Pxe,{style:{height:12,width:12}});return(n=>!!n&&(n.includes("youtube.com")||n.includes("youtu.be")))(e)&&(t=R(Axe,{style:{height:14,width:14}})),(n=>!!n&&n.includes("livex.ai")&&n.includes("users/doccontent-public"))(e)&&(t=R(Nxe,{style:{height:14,width:14}})),R(Rxe,{children:t})},Rxe=tt("div",{target:"e1a7e6je5"})({name:"v27ep3",styles:"height:20px;width:20px;margin-right:5px;display:flex;align-items:center;justify-content:center"}),sX=({score:e})=>e?ce(Ixe,{children:[Math.round(100*e),"%"]}):null,Ixe=tt("span",{target:"e1a7e6je4"})({name:"mr5c2h",styles:"margin-left:auto;padding-left:8px;font-size:0.9em;opacity:0.7"}),Mxe=({references:e})=>{const{mutate:t}=fi(),n=pn(),r=n.primary_color,o=er(r),i=Object.values(e).filter(a=>a.url!=="").length;return R(Lxe,{w:"100%",variant:"separated",radius:"md",styles:{label:{paddingTop:"4px",paddingBottom:"4px"},content:{padding:"var(--reference-list-padding, 5px)"}},style:{marginTop:"var(--reference-list-margin-top, -4px)"},children:ce(ri.Item,{value:"references",children:[R(ri.Control,{children:`References (${i})`}),R(ri.Panel,{children:R(Dxe,{children:Object.values(e).map((a,s)=>a.url?ce(jxe,{onClick:()=>(l=>{t({event_name:Lt.LinkClick,link_clicked:l}),window.open(l,"_blank","noopener noreferrer")})(a.url),hoverColor:r,hoverTextColor:o,children:[R(aX,{url:a.url}),R(zxe,{children:a.name}),R(sX,{score:a.score})]},`reference-${s}`):null)})})]})})},Lxe=tt(ri,{target:"e1a7e6je3"})({name:"1oj851r",styles:"svg{width:calc(1em * var(--mantine-scale))!important;height:calc(1em * var(--mantine-scale))!important;}"}),Dxe=tt("div",{target:"e1a7e6je2"})({name:"165d9we",styles:"display:flex;flex-direction:column;width:100%;gap:4px"}),jxe=tt("button",{target:"e1a7e6je1"})(({hoverColor:e,hoverTextColor:t})=>({display:"flex",alignItems:"center",width:"100%",padding:"2px 4px",borderRadius:"4px",color:"black",textAlign:"left",cursor:"pointer",border:"none",background:"transparent",whiteSpace:"nowrap",overflow:"hidden","&:hover":{background:e,color:t}}),""),zxe=tt("span",{target:"e1a7e6je0"})({name:"1gz2b5f",styles:"overflow:hidden;text-overflow:ellipsis"});var Fxe=Object.defineProperty,Bxe=Object.defineProperties,Uxe=Object.getOwnPropertyDescriptors,lX=Object.getOwnPropertySymbols,Hxe=Object.prototype.hasOwnProperty,Vxe=Object.prototype.propertyIsEnumerable,cX=(e,t,n)=>t in e?Fxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const $xe=({message:e})=>{const{type:t,references:n}=e,r=W(SU);if(t==="user"||!n||ht(n)||!r)return null;const o={};return n.forEach(i=>{let a=i.url;const s=a.trim().split(`
`);s&&s.length>1&&(a=s[0]);const l=a===""?`${i.name}`:`${i.name}, ${a}`;o[l]||(i.name.length>50?i.name.substring(0,47):i.name,o[l]=((c,u)=>Bxe(c,Uxe(u)))(((c,u)=>{for(var h in u||(u={}))Hxe.call(u,h)&&cX(c,h,u[h]);if(lX)for(var h of lX(u))Vxe.call(u,h)&&cX(c,h,u[h]);return c})({},i),{url:a}))}),ht(o)?null:R(qxe,{children:R(Mxe,{references:o})})},qxe=Zt.div`
  margin-top: 14px;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: flex-start;
  align-self: stretch;
  width: 100%;
  border-radius: 0.75em;
  font-size: 0.625em;
  font-style: normal;
  font-weight: 500;
`,Wxe=()=>ce(Gxe,{children:[ce(Kxe,{children:[R(Xxe,{src:"data:image/svg+xml,%3csvg%20width='70'%20height='35'%20viewBox='0%200%2070%2035'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20filter='url(%23filter0_b_1_611)'%3e%3crect%20width='70'%20height='35'%20rx='17.5'%20fill='%23eee'/%3e%3c/g%3e%3cdefs%3e%3cfilter%20id='filter0_b_1_611'%20x='-20'%20y='-20'%20width='110'%20height='75'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeGaussianBlur%20in='BackgroundImageFix'%20stdDeviation='10'/%3e%3cfeComposite%20in2='SourceAlpha'%20operator='in'%20result='effect1_backgroundBlur_1_611'/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect1_backgroundBlur_1_611'%20result='shape'/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e",alt:""}),R(Jxe,{src:"data:image/svg+xml,%3csvg%20width='10'%20height='10'%20viewBox='0%200%2010%2010'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='5'%20cy='5'%20r='5'%20fill='%23eee'/%3e%3c/svg%3e",alt:""}),R(Zxe,{src:"data:image/svg+xml,%3csvg%20width='6'%20height='6'%20viewBox='0%200%206%206'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='3'%20cy='3'%20r='3'%20fill='%23eee'/%3e%3c/svg%3e",alt:""})]}),ce(Yxe,{children:[R(U3,{}),R(U3,{delay:"0.2s",left:"15px"}),R(U3,{delay:"0.3s",left:"30px"})]})]}),B3=rk`
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
`,Gxe=tt("div",{target:"e1lrqwpz6"})({name:"1ihsvi5",styles:"display:flex;width:100%;column-gap:7px;position:relative"}),Kxe=tt("div",{target:"e1lrqwpz5"})({name:"1a2afmv",styles:"margin-left:10px"}),Yxe=tt("div",{target:"e1lrqwpz4"})({name:"1na6fkf",styles:"top:13px;left:22px;position:absolute"}),Qxe=rk`
  0% {
    opacity: 0.1;
  }
  20% {
    opacity: 1;
  }
  100% {
    opacity: 0.1;
  }
`,U3=tt("div",{target:"e1lrqwpz3"})("content:'';animation:",Qxe," 1s ",e=>e.delay||"0s"," infinite;animation-fill-mode:both;height:8px;width:8px;background:#666;position:absolute;left:",e=>`calc(${e.left||"0px"} + 4px)`,";top:0;border-radius:50%;"),Xxe=tt("img",{target:"e1lrqwpz2"})("animation:",B3," 1s ease-in;"),Jxe=tt("img",{target:"e1lrqwpz1"})("animation:",B3," 1.1s ease-in;transform:translateY(-10px);"),Zxe=tt("img",{target:"e1lrqwpz0"})("animation:",B3," 1.2s ease-in;transform:translateY(-8px) translateX(-5px);");var e4e=Object.defineProperty,t4e=Object.defineProperties,n4e=Object.getOwnPropertyDescriptors,uX=Object.getOwnPropertySymbols,r4e=Object.prototype.hasOwnProperty,o4e=Object.prototype.propertyIsEnumerable,dX=(e,t,n)=>t in e?e4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const i4e=e=>{var t;const n=mt(),r=n==null?void 0:n.config,{split_message_delimiter:o}=(t=r==null?void 0:r.custom_style)!=null?t:{},{message:i,isBot:a,isLastMessage:s}=e,l=x.useRef({}),c=x.useMemo(()=>{if(i==null||!i.text)return[];if(a){if(!o)return[i.text];const u=i.text.split(o);return u.length>0&&(l.current[0]=Date.now()),u}return[i.text.trim().replace(/\n{2,}/g,`
`)]},[i.text,o,a]);return i.type==="loading"?R(Wxe,{}):ce(a4e,{ref:a&&s?De.lastBotMessageRef:null,id:s?"last-message-body":"",children:[R(na,{gap:"sm",children:c.map((u,h)=>{const p=((d,f)=>t4e(d,n4e(f)))(((d,f)=>{for(var g in f||(f={}))r4e.call(f,g)&&dX(d,g,f[g]);if(uX)for(var g of uX(f))o4e.call(f,g)&&dX(d,g,f[g]);return d})({},i),{text:u});return R(Exe,{index:h,timeRef:l,message:p,isBot:a,isLastMessage:s},h)})}),R($xe,{message:i})]})},a4e=tt("div",{target:"et7gqdw0"})({name:"z9y1wb",styles:"user-select:text;display:flex;flex-direction:column;justify-content:flex-start;max-width:100%"});var s4e=Object.defineProperty,l4e=Object.defineProperties,c4e=Object.getOwnPropertyDescriptors,hX=Object.getOwnPropertySymbols,u4e=Object.prototype.hasOwnProperty,d4e=Object.prototype.propertyIsEnumerable,pX=(e,t,n)=>t in e?s4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mX=(e,t)=>{for(var n in t||(t={}))u4e.call(t,n)&&pX(e,n,t[n]);if(hX)for(var n of hX(t))d4e.call(t,n)&&pX(e,n,t[n]);return e},fX=(e,t)=>l4e(e,c4e(t));const h4e=()=>{const e=dt(),t=mt(),n=t==null?void 0:t.id,r=W(Tt),o=W(Kb);return Zr({mutationFn:i=>{var a,s,l;const c=i.id,u=IU(o,c)||"",h=i.text;return(async p=>{var d;const{agentId:f,conversationId:g,messageId:m,like:v,dislike:y,feedback:b,question:w,response:k}=p;if(!f||!g||m==null||m===void 0)throw new Error("Invalid request. agentId, conversationId or messageId is required.");const _=`${Bt.gatewayHost}/api/v1/chat-feedback/agents/${f}/conversations/${g}/messages/${m}`,O=await Mt.post(_,{like:v,dislike:y,feedback:b,question:w,response:k});if((d=O==null?void 0:O.data)==null||!d.response)throw new Error("Error sending feedback");return O.data})({agentId:n,conversationId:r,messageId:c,like:!((a=i.feedback)==null||!a.like),dislike:!((s=i.feedback)==null||!s.dislike),feedback:(l=i.feedback)==null?void 0:l.note,question:u,response:h})},onMutate:i=>{e(Wn(fX(mX({},i),{doNotScrollToBottom:!0})))},onError:(i,a)=>{e(Wn(fX(mX({},a),{feedback:void 0,doNotScrollToBottom:!0})))}})};var p4e=Object.defineProperty,m4e=Object.defineProperties,f4e=Object.getOwnPropertyDescriptors,gX=Object.getOwnPropertySymbols,g4e=Object.prototype.hasOwnProperty,v4e=Object.prototype.propertyIsEnumerable,vX=(e,t,n)=>t in e?p4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bX=(e,t)=>{for(var n in t||(t={}))g4e.call(t,n)&&vX(e,n,t[n]);if(gX)for(var n of gX(t))v4e.call(t,n)&&vX(e,n,t[n]);return e},yX=(e,t)=>m4e(e,f4e(t));const b4e=()=>{const e=dt(),t=mt(),n=t==null?void 0:t.id,r=W(Tt),o=W(Kb);return Zr({mutationFn:i=>{const a=i.id,s=IU(o,a)||"";return(async l=>{var c;const{agentId:u,conversationId:h,messageId:p,saveToUnansweredQuestion:d,question:f}=l;if(!u||!h||p==null||p===void 0)throw new Error("Invalid request. agentId, conversationId or messageId is required.");const g=`${Bt.gatewayHost}/api/v1/unanswered_questions_store/agents/${u}/conversations/${h}/messages/${p}`,m=await Mt.post(g,{save_to_unanswered_question:d,question:f});if((c=m==null?void 0:m.data)==null||!c.response)throw new Error("Error saving to unanswered question");return m.data})({agentId:n,conversationId:r,messageId:a,saveToUnansweredQuestion:!!i.save_to_unanswered_question,question:s})},onMutate:i=>{const a=!!i.save_to_unanswered_question;return e(Wn(yX(bX({},i),{save_to_unanswered_question:a,doNotScrollToBottom:!0}))),{saveToUnansweredQuestion:a}},onError:(i,a,s)=>{e(Wn(yX(bX({},a),{save_to_unanswered_question:!(s!=null&&s.saveToUnansweredQuestion),doNotScrollToBottom:!0})))}})};var y4e=Object.defineProperty,w4e=Object.defineProperties,k4e=Object.getOwnPropertyDescriptors,wX=Object.getOwnPropertySymbols,x4e=Object.prototype.hasOwnProperty,_4e=Object.prototype.propertyIsEnumerable,kX=(e,t,n)=>t in e?y4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xX=(e,t)=>{for(var n in t||(t={}))x4e.call(t,n)&&kX(e,n,t[n]);if(wX)for(var n of wX(t))_4e.call(t,n)&&kX(e,n,t[n]);return e},_X=(e,t)=>w4e(e,k4e(t));const TX=[{key:"wanted_something_else",label:"Wanted something else"},{key:"incorrect_answer",label:"Incorrect answer"},{key:"bad_style_tone",label:"Bad style/tone"},{key:"tell_us_more",label:"Tell us more"}],T4e=({message:e})=>{var t,n,r,o;const{t:i}=Nr(),a=Br(),{primary_color:s,placeholder_color:l}=pn(),c=String((t=e.id)!=null?t:""),{mutateAsync:u}=h4e(),{mutateAsync:h,isPending:p}=b4e(),d=pu(),[f,g]=x.useState(!1),[m,v]=x.useState(""),y=e.done,b=(n=e.feedback)==null?void 0:n.note,w=(r=e.feedback)==null?void 0:r.like,k=(o=e.feedback)==null?void 0:o.dislike,_=!!e.save_to_unanswered_question,O=b&&!TX.some(L=>L.label===b),E=a==null?void 0:a.show_save_to_unanswered_question_button,C=a==null?void 0:a.use_ask_feedback;if(!c||!C&&!E||!y)return null;const N=async(L,j)=>{g(!1);const H={like:L==="like",dislike:L==="dislike"};b&&(H.note=b),j&&(H.note=j),L==="like"&&(H.note="");const F=_X(xX({},e),{feedback:H});try{await u(F)}catch{}};return ce(Ga,{opened:f,onClose:()=>g(!1),position:"top-end",withArrow:!0,trapFocus:!0,styles:{dropdown:{zIndex:1e4}},children:[R(Ga.Target,{children:ce(Or,{align:"baseline",style:{gap:"var(--feedback-button-gap, 8px)"},children:[C&&ce(or,{children:[R(Eo,{label:i("good_response"),position:"top-start",children:R(Jt,{size:"sm",variant:"subtle",color:w?"var(--feedback-button-selected-color, var(--primary-color, #3D5AFE))":l,disabled:d,onClick:()=>{w||N("like")},style:{width:"var(--feedback-button-size, 18px)",height:"var(--feedback-button-size, 18px)"},children:w?R(Zme,{size:40}):R(efe,{})})}),ce(Ft,{position:"top-end",shadow:"md",styles:{dropdown:{zIndex:1e4}},children:[R(Ft.Target,{children:R(Eo,{label:i("bad_response"),position:"top-start",children:R(Jt,{size:"sm",variant:"subtle",color:k?"var(--feedback-button-selected-color, var(--primary-color, #3D5AFE))":l,disabled:d,style:{width:"var(--feedback-button-size, 18px)",height:"var(--feedback-button-size, 18px)"},children:R(k?Xme:Jme,{})})})}),R(Ft.Dropdown,{children:TX.map(L=>{const j=L.label===b||L.label==="Tell us more"&&O;return ce(Ft.Item,{onClick:()=>{j||(H=>{H==="Tell us more"?g(!0):N("dislike",H)})(L.label)},rightSection:j?R(_B,{size:16}):null,color:j?s:void 0,style:{display:"flex",alignItems:L.label==="Tell us more"&&O?"flex-start":"center",height:"40px",backgroundColor:j?"var(--menu-item-hover-color, rgba(219, 228, 255, 1))":void 0},children:[i(L.key),L.label==="Tell us more"&&O&&R(qn,{size:"xs",c:"dimmed",style:{marginTop:"4px",lineHeight:1.2,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"120px"},title:b,children:b})]},L.key)})})]})]}),E&&R(Eo,{label:i("unanswered_question"),position:"top-start",children:R(Jt,{size:"sm",variant:"subtle",color:_?"var(--feedback-button-selected-color, var(--primary-color, #3D5AFE))":l,onClick:async()=>{const L=_X(xX({},e),{save_to_unanswered_question:!_});await h(L)},disabled:p||d,style:{width:"var(--feedback-button-size, 18px)",height:"var(--feedback-button-size, 18px)"},children:R(_?zve:Fve,{})})})]})}),ce(Ga.Dropdown,{children:[R(yb,{placeholder:i("tell_us_what_went_wrong"),value:m,onChange:L=>v(L.target.value),autoFocus:!0}),ce(Or,{justify:"flex-end",mt:"md",children:[R(Zn,{variant:"subtle",onClick:()=>g(!1),color:s,children:i("cancel")}),R(Zn,{onClick:()=>{m.trim()&&(N("dislike",m),v("")),g(!1)},color:s,children:i("submit")})]})]})]})};var S4e=Object.defineProperty,E4e=Object.defineProperties,C4e=Object.getOwnPropertyDescriptors,rw=Object.getOwnPropertySymbols,SX=Object.prototype.hasOwnProperty,EX=Object.prototype.propertyIsEnumerable,CX=(e,t,n)=>t in e?S4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const O4e=e=>{var t,n,r,o;const i=mt(),a=(n=(t=i==null?void 0:i.config)==null?void 0:t.custom_style)==null?void 0:n.show_message_timestamp,s=e,{isBot:l}=s,c=((f,g)=>{var m={};for(var v in f)SX.call(f,v)&&g.indexOf(v)<0&&(m[v]=f[v]);if(f!=null&&rw)for(var v of rw(f))g.indexOf(v)<0&&EX.call(f,v)&&(m[v]=f[v]);return m})(s,["isBot"]),u=c.message,h=u.timestamp?new Date(u.timestamp).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}):"",p=u.type==="agent";if(!l)return null;let d=(o=(r=i==null?void 0:i.config)==null?void 0:r.chatbot_description)!=null?o:"Bot";return p&&(d=u.sender||"Agent"),ce(Sn,((f,g)=>E4e(f,C4e(g)))(((f,g)=>{for(var m in g||(g={}))SX.call(g,m)&&CX(f,m,g[m]);if(rw)for(var m of rw(g))EX.call(g,m)&&CX(f,m,g[m]);return f})({},c),{style:{width:"100%",flexDirection:l?"row":"row-reverse",alignItems:"baseline",justifyContent:"space-between",marginTop:6},children:[ce(Sn,{align:"baseline",gap:"0.25em",children:[l&&R(P4e,{children:d}),a&&R(A4e,{children:h})]}),R(T4e,{message:u})]}))},P4e=tt("div",{target:"ex0w4641"})({name:"93g6tc",styles:"font-size:var(--message-desc-text-font-size, 8px);font-style:normal;font-weight:400;line-height:var(--message-desc-text-line-height, 8px);margin:0.25em;color:var(--message-desc-text-color, rgba(134, 142, 150, 1))"}),A4e=tt("span",{target:"ex0w4640"})({name:"sfyg6x",styles:"font-size:var(--message-desc-text-font-size, 8px);font-style:normal;font-weight:400;line-height:var(--message-desc-text-line-height, 8px);color:var(--message-desc-text-color, rgba(134, 142, 150, 1))"}),N4e=e=>["useFetchSvg",e],R4e=e=>ZN({queryKey:N4e(e),queryFn:()=>(async t=>(await fetch(t)).text())(e)}),ow=x.memo(({url:e,size:t=32})=>{const{data:n,isFetched:r,isError:o}=R4e(e),i=x.useMemo(()=>{if(!n)return"";const a=n.trim();return a.startsWith("<svg")&&a.endsWith("</svg>")?n:""},[n]);return R(I4e,{style:{height:t,width:t},className:`svgInline svgInline--${r?"loaded":"loading"} ${o?"svgInline--errored":""}`,dangerouslySetInnerHTML:{__html:i??""}})}),I4e=tt("div",{target:"e4aetqu0"})(()=>({display:"flex",alignItems:"center",justifyContent:"center",height:"100%",width:"100%","& svg":{height:"100%",width:"100%"},"&.svgInline--loaded":{"& svg":{display:"block"}},"&.svgInline--loading":{"& svg":{display:"none"}},"&.svgInline--errored":{"& svg":{display:"none"}}}),""),M4e=({message:e})=>{var t;const n=e.type==="agent",r=pn(),o=U9(),i=(t=o==null?void 0:o.custom_style)==null?void 0:t.hide_bot_message_avatar,a=hR(o==null?void 0:o.custom_style,["chatbot_icon_size"]),s=er(r.primary_color);let l=R(Lme,{style:{color:s}});const c=e.type!=="user",u={background:c||n?r.primary_color:"transparent",position:"relative"};if(!n){if(!c||i)return null;const h=(o==null?void 0:o.chatbot_icon)||(o==null?void 0:o.chatbot_button_icon)||"";if(h){const p=(a==null?void 0:a.chatbot_icon_size)||22,d=h.endsWith(".svg"),f=`var(--avatar-logo-container-border-width, 1.5px) solid var(--avatar-logo-container-border-color, ${r.primary_color})`;u.border=f,l=d?R(ow,{url:h,size:p}):R("img",{src:h,style:{position:"absolute",objectFit:"cover",width:"100%",height:"100%",borderRadius:"100%"}})}else l=R(ow,{url:"data:image/svg+xml,%3csvg%20width='20'%20height='24'%20viewBox='0%200%2020%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.2495%2014.6655C3.15197%2016.1141%201.00034%2019.3008%201.00034%2023H19C19%2019.3008%2016.8484%2016.1141%2013.7508%2014.6655M2.80051%208.33333C2.80051%204.28319%206.02401%201%2010.0005%201C13.977%201%2017.2005%204.28319%2017.2005%208.33333M15.2493%208.33333H17.2002C18.1941%208.33333%2019%209.15413%2019%2010.1668C19%2011.1796%2018.1941%2012%2017.2002%2012H15.4M10.0002%2012H2.80017C1.80587%2012%201%2011.1792%201%2010.1668C1%209.15448%201.80587%208.33333%202.80017%208.33333H4.75102M15.6251%2010.3958C15.6251%2013.5598%2013.1066%2016.125%2010.0002%2016.125C6.89372%2016.125%204.37519%2013.5601%204.37519%2010.3958C4.37519%207.23148%206.89372%204.66667%2010.0002%204.66667C13.1066%204.66667%2015.6251%207.23148%2015.6251%2010.3958Z'%20stroke='white'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",size:24})}return R(L4e,{style:u,className:"shadow-md",children:l})},L4e=tt("div",{target:"ezzj5iu0"})({name:"1e99qty",styles:"display:flex;align-items:center;justify-content:center;flex-shrink:0;width:2.5em;height:2.5em;padding:0.25em;margin-bottom:24px;border-radius:50%;overflow:hidden"}),D4e=e=>{const{mutate:t}=fi(),{item:n}=e,{title:r,body:o,badge_title:i,badge_color:a,button_title:s="Click To Open",image_url:l,url:c}=n;let u="ml-auto text-white px-2 py-1 rounded-full text-xs";switch(a){case"pink":u+=" bg-pink-500";break;case"red":u+=" bg-red-500";break;case"blue":u+=" bg-blue-500"}return R("div",{className:"shadow-sm rounded-lg border max-w-[900px] overflow-hidden bg-white",children:ce("div",{className:"flex flex-wrap",children:[l&&R("div",{className:"w-full md:w-1/3",children:R("img",{src:l,className:"w-full h-full object-cover"})}),ce("div",{className:`w-full ${l?"md:w-2/3":"md:w-full"} p-4 flex flex-col justify-between`,children:[ce("div",{children:[ce("div",{className:"flex items-center mb-2 flex-wrap gap-x-4",children:[R("span",{className:"font-medium",children:r}),i&&R("span",{className:u,children:i})]}),R("p",{className:"text-sm text-gray-500",children:o})]}),c&&R("button",{className:"w-full mt-4 bg-blue-500 hover:bg-blue-600 text-white py-2 rounded-lg text-sm",onClick:()=>{t({event_name:Lt.PromotionItemLinkClick,link_clicked:c}),window.open(c,"_blank")},children:s})]})]})})},j4e=()=>{var e;const t=mt(),n=(e=t==null?void 0:t.config)==null?void 0:e.promotion_items;return R("div",{className:"flex flex-col gap-4 ",children:n==null?void 0:n.map((r,o)=>R(D4e,{item:r},o))})};function OX(e){return function(t){return Object.prototype.toString.call(t)==="[object Object]"}(e)||Array.isArray(e)}function H3(e,t){const n=Object.keys(e),r=Object.keys(t);return n.length!==r.length?!1:JSON.stringify(Object.keys(e.breakpoints||{}))===JSON.stringify(Object.keys(t.breakpoints||{}))&&n.every(o=>{const i=e[o],a=t[o];return typeof i=="function"?`${i}`==`${a}`:OX(i)&&OX(a)?H3(i,a):i===a})}function PX(e){return e.concat().sort((t,n)=>t.name>n.name?1:-1).map(t=>t.options)}function V3(e){return typeof e=="number"}function $3(e){return typeof e=="string"}function iw(e){return typeof e=="boolean"}function AX(e){return Object.prototype.toString.call(e)==="[object Object]"}function zn(e){return Math.abs(e)}function q3(e){return Math.sign(e)}function Zm(e,t){return zn(e-t)}function ef(e){return nf(e).map(Number)}function la(e){return e[tf(e)]}function tf(e){return Math.max(0,e.length-1)}function W3(e,t){return t===tf(e)}function NX(e,t=0){return Array.from(Array(e),(n,r)=>t+r)}function nf(e){return Object.keys(e)}function RX(e,t){return[e,t].reduce((n,r)=>(nf(r).forEach(o=>{const i=n[o],a=r[o],s=AX(i)&&AX(a);n[o]=s?RX(i,a):a}),n),{})}function G3(e,t){return t.MouseEvent!==void 0&&e instanceof t.MouseEvent}function rf(){let e=[];const t={add:function(n,r,o,i={passive:!0}){let a;if("addEventListener"in n)n.addEventListener(r,o,i),a=()=>n.removeEventListener(r,o,i);else{const s=n;s.addListener(o),a=()=>s.removeListener(o)}return e.push(a),t},clear:function(){e=e.filter(n=>n())}};return t}function z4e(e,t,n,r){const o=rf(),i=1e3/60;let a=null,s=0,l=0;function c(h){if(!l)return;a||(a=h,n(),n());const p=h-a;for(a=h,s+=p;s>=i;)n(),s-=i;r(s/i),l&&(l=t.requestAnimationFrame(c))}function u(){t.cancelAnimationFrame(l),a=null,s=0,l=0}return{init:function(){o.add(e,"visibilitychange",()=>{e.hidden&&(a=null,s=0)})},destroy:function(){u(),o.clear()},start:function(){l||(l=t.requestAnimationFrame(c))},stop:u,update:n,render:r}}function Au(e=0,t=0){const n=zn(e-t);function r(a){return a<e}function o(a){return a>t}function i(a){return r(a)||o(a)}return{length:n,max:t,min:e,constrain:function(a){return i(a)?r(a)?e:t:a},reachedAny:i,reachedMax:o,reachedMin:r,removeOffset:function(a){return n?a-n*Math.ceil((a-t)/n):a}}}function IX(e,t,n){const{constrain:r}=Au(0,e),o=e+1;let i=a(t);function a(u){return n?zn((o+u)%o):r(u)}function s(){return i}function l(){return IX(e,s(),n)}const c={get:s,set:function(u){return i=a(u),c},add:function(u){return l().set(s()+u)},clone:l};return c}function F4e(e,t,n,r,o,i,a,s,l,c,u,h,p,d,f,g,m,v,y){const{cross:b,direction:w}=e,k=["INPUT","SELECT","TEXTAREA"],_={passive:!1},O=rf(),E=rf(),C=Au(50,225).constrain(d.measure(20)),N={mouse:300,touch:400},L={mouse:500,touch:600},j=f?43:25;let H=!1,F=0,z=0,B=!1,V=!1,U=!1,S=!1;function q(re){if(!G3(re,r)&&re.touches.length>=2)return P(re);const _e=i.readPoint(re),se=i.readPoint(re,b),ue=Zm(_e,F),fe=Zm(se,z);if(!(V||S||re.cancelable&&(V=ue>fe,V)))return P(re);const je=i.pointerMove(re);ue>g&&(U=!0),c.useFriction(.3).useDuration(.75),s.start(),o.add(w(je)),re.preventDefault()}function P(re){const _e=u.byDistance(0,!1).index!==h.get(),se=i.pointerUp(re)*(f?L:N)[S?"mouse":"touch"],ue=function(Xe,ie){const Se=h.add(-1*q3(Xe)),ae=u.byDistance(Xe,!f).distance;return f||zn(Xe)<C?ae:m&&ie?.5*ae:u.byIndex(Se.get(),0).distance}(w(se),_e),fe=function(Xe,ie){if(Xe===0||ie===0||zn(Xe)<=zn(ie))return 0;const Se=Zm(zn(Xe),zn(ie));return zn(Se/Xe)}(se,ue),je=j-10*fe,Qe=v+fe/50;V=!1,B=!1,E.clear(),c.useDuration(je).useFriction(Qe),l.distance(ue,!f),S=!1,p.emit("pointerUp")}function Q(re){U&&(re.stopPropagation(),re.preventDefault(),U=!1)}return{init:function(re){if(!y)return;function _e(ue){(iw(y)||y(re,ue))&&function(fe){const je=G3(fe,r);S=je,U=f&&je&&!fe.buttons&&H,H=Zm(o.get(),a.get())>=2,(!je||fe.button===0)&&(function(Qe){const Xe=Qe.nodeName||"";return k.includes(Xe)}(fe.target)||(B=!0,i.pointerDown(fe),c.useFriction(0).useDuration(0),o.set(a),function(){const Qe=S?n:t;E.add(Qe,"touchmove",q,_).add(Qe,"touchend",P).add(Qe,"mousemove",q,_).add(Qe,"mouseup",P)}(),F=i.readPoint(fe),z=i.readPoint(fe,b),p.emit("pointerDown")))}(ue)}const se=t;O.add(se,"dragstart",ue=>ue.preventDefault(),_).add(se,"touchmove",()=>{},_).add(se,"touchend",()=>{}).add(se,"touchstart",_e).add(se,"mousedown",_e).add(se,"touchcancel",P).add(se,"contextmenu",P).add(se,"click",Q,!0)},destroy:function(){O.clear(),E.clear()},pointerDown:function(){return B}}}function B4e(e,t){let n,r;function o(a){return a.timeStamp}function i(a,s){const l="client"+((s||e.scroll)==="x"?"X":"Y");return(G3(a,t)?a:a.touches[0])[l]}return{pointerDown:function(a){return n=a,r=a,i(a)},pointerMove:function(a){const s=i(a)-i(r),l=o(a)-o(n)>170;return r=a,l&&(n=a),s},pointerUp:function(a){if(!n||!r)return 0;const s=i(r)-i(n),l=o(a)-o(n),c=o(a)-o(r)>170,u=s/l;return l&&!c&&zn(u)>.1?u:0},readPoint:i}}function U4e(e,t,n,r,o,i,a){const s=[e].concat(r);let l,c,u=[],h=!1;function p(d){return o.measureSize(a.measure(d))}return{init:function(d){i&&(c=p(e),u=r.map(p),l=new ResizeObserver(f=>{(iw(i)||i(d,f))&&function(g){for(const m of g){if(h)return;const v=m.target===e,y=r.indexOf(m.target),b=v?c:u[y];if(zn(p(v?e:r[y])-b)>=.5){d.reInit(),t.emit("resize");break}}}(f)}),n.requestAnimationFrame(()=>{s.forEach(f=>l.observe(f))}))},destroy:function(){h=!0,l&&l.disconnect()}}}function H4e(e,t,n,r,o){const i=o.measure(10),a=o.measure(50),s=Au(.1,.99);let l=!1;function c(){return!(l||!e.reachedAny(n.get())||!e.reachedAny(t.get()))}return{shouldConstrain:c,constrain:function(u){if(!c())return;const h=e.reachedMin(t.get())?"min":"max",p=zn(e[h]-t.get()),d=n.get()-t.get(),f=s.constrain(p/a);n.subtract(d*f),!u&&zn(d)<i&&(n.set(e.constrain(n.get())),r.useDuration(25).useBaseFriction())},toggleActive:function(u){l=!u}}}function V4e(e,t,n,r){const o=t.min+.1,i=t.max+.1,{reachedMin:a,reachedMax:s}=Au(o,i);return{loop:function(l){if(!function(u){return u===1?s(n.get()):u===-1&&a(n.get())}(l))return;const c=e*(-1*l);r.forEach(u=>u.add(c))}}}function $4e(e,t,n,r,o){const{reachedAny:i,removeOffset:a,constrain:s}=r;function l(u){return u.concat().sort((h,p)=>zn(h)-zn(p))[0]}function c(u,h){const p=[u,u+n,u-n];if(!e)return u;if(!h)return l(p);const d=p.filter(f=>q3(f)===h);return d.length?l(d):la(p)-n}return{byDistance:function(u,h){const p=o.get()+u,{index:d,distance:f}=function(m){const v=e?a(m):s(m),y=t.map((w,k)=>({diff:c(w-v,0),index:k})).sort((w,k)=>zn(w.diff)-zn(k.diff)),{index:b}=y[0];return{index:b,distance:v}}(p),g=!e&&i(p);return!h||g?{index:d,distance:u}:{index:d,distance:u+c(t[d]-f,0)}},byIndex:function(u,h){return{index:u,distance:c(t[u]-o.get(),h)}},shortcut:c}}function q4e(e,t,n,r,o,i,a,s){const l={passive:!0,capture:!0};let c=0;function u(h){h.code==="Tab"&&(c=new Date().getTime())}return{init:function(h){s&&(i.add(document,"keydown",u,!1),t.forEach((p,d)=>{i.add(p,"focus",f=>{(iw(s)||s(h,f))&&function(g){if(new Date().getTime()-c>10)return;a.emit("slideFocusStart"),e.scrollLeft=0;const m=n.findIndex(v=>v.includes(g));V3(m)&&(o.useDuration(0),r.index(m,0),a.emit("slideFocus"))}(d)},l)}))}}}function of(e){let t=e;function n(r){return V3(r)?r:r.get()}return{get:function(){return t},set:function(r){t=n(r)},add:function(r){t+=n(r)},subtract:function(r){t-=n(r)}}}function MX(e,t){const n=e.scroll==="x"?function(a){return`translate3d(${a}px,0px,0px)`}:function(a){return`translate3d(0px,${a}px,0px)`},r=t.style;let o=null,i=!1;return{clear:function(){i||(r.transform="",t.getAttribute("style")||t.removeAttribute("style"))},to:function(a){if(i)return;const s=function(l){return Math.round(100*l)/100}(e.direction(a));s!==o&&(r.transform=n(s),o=s)},toggleActive:function(a){i=!a}}}function W4e(e,t,n,r,o,i,a,s,l){const c=ef(o),u=ef(o).reverse(),h=function(){const g=a[0],m=d(u,g);return f(m,n,!1)}().concat(function(){const g=t-a[0]-1,m=d(c,g);return f(m,-n,!0)}());function p(g,m){return g.reduce((v,y)=>v-o[y],m)}function d(g,m){return g.reduce((v,y)=>p(v,m)>0?v.concat([y]):v,[])}function f(g,m,v){const y=function(b){return i.map((w,k)=>({start:w-r[k]+.5+b,end:w+t-.5+b}))}(m);return g.map(b=>{const w=v?0:-n,k=v?n:0,_=v?"end":"start",O=y[b][_];return{index:b,loopPoint:O,slideLocation:of(-1),translate:MX(e,l[b]),target:()=>s.get()>O?w:k}})}return{canLoop:function(){return h.every(({index:g})=>{const m=c.filter(v=>v!==g);return p(m,t)<=.1})},clear:function(){h.forEach(g=>g.translate.clear())},loop:function(){h.forEach(g=>{const{target:m,translate:v,slideLocation:y}=g,b=m();b!==y.get()&&(v.to(b),y.set(b))})},loopPoints:h}}function G4e(e,t,n){let r,o=!1;return{init:function(i){n&&(r=new MutationObserver(a=>{o||(iw(n)||n(i,a))&&function(s){for(const l of s)if(l.type==="childList"){i.reInit(),t.emit("slidesChanged");break}}(a)}),r.observe(e,{childList:!0}))},destroy:function(){r&&r.disconnect(),o=!0}}}function K4e(e,t,n,r){const o={};let i,a=null,s=null,l=!1;return{init:function(){i=new IntersectionObserver(c=>{l||(c.forEach(u=>{const h=t.indexOf(u.target);o[h]=u}),a=null,s=null,n.emit("slidesInView"))},{root:e.parentElement,threshold:r}),t.forEach(c=>i.observe(c))},destroy:function(){i&&i.disconnect(),l=!0},get:function(c=!0){if(c&&a)return a;if(!c&&s)return s;const u=function(h){return nf(o).reduce((p,d)=>{const f=parseInt(d),{isIntersecting:g}=o[f];return(h&&g||!h&&!g)&&p.push(f),p},[])}(c);return c&&(a=u),c||(s=u),u}}}function Y4e(e,t,n,r,o,i,a,s,l){const{startEdge:c,endEdge:u,direction:h}=e,p=V3(n);return{groupSlides:function(d){return p?function(f,g){return ef(f).filter(m=>m%g==0).map(m=>f.slice(m,m+g))}(d,n):function(f){return f.length?ef(f).reduce((g,m,v)=>{const y=la(g)||0,b=y===0,w=m===tf(f),k=o[c]-i[y][c],_=o[c]-i[m][u],O=!r&&b?h(a):0,E=zn(_-(!r&&w?h(s):0)-(k+O));return v&&E>t+l&&g.push(m),w&&g.push(f.length),g},[]).map((g,m,v)=>{const y=Math.max(v[m-1]||0);return f.slice(y,g)}):[]}(d)}}}function Q4e(e,t,n,r,o,i,a){const{align:s,axis:l,direction:c,startIndex:u,loop:h,duration:p,dragFree:d,dragThreshold:f,inViewThreshold:g,slidesToScroll:m,skipSnaps:v,containScroll:y,watchResize:b,watchSlides:w,watchDrag:k,watchFocus:_}=i,O={measure:function(ze){const{offsetTop:He,offsetLeft:et,offsetWidth:oe,offsetHeight:X}=ze;return{top:He,right:et+oe,bottom:He+X,left:et,width:oe,height:X}}},E=O.measure(t),C=n.map(O.measure),N=function(ze,He){const et=He==="rtl",oe=ze==="y",X=!oe&&et?-1:1;return{scroll:oe?"y":"x",cross:oe?"x":"y",startEdge:oe?"top":et?"right":"left",endEdge:oe?"bottom":et?"left":"right",measureSize:function(de){const{height:he,width:Ee}=de;return oe?he:Ee},direction:function(de){return de*X}}}(l,c),L=N.measureSize(E),j=function(ze){return{measure:function(He){return ze*(He/100)}}}(L),H=function(ze,He){const et={start:function(){return 0},center:function(X){return oe(X)/2},end:oe};function oe(X){return He-X}return{measure:function(X,de){return $3(ze)?et[ze](X):ze(He,X,de)}}}(s,L),F=!h&&!!y,z=h||!!y,{slideSizes:B,slideSizesWithGaps:V,startGap:U,endGap:S}=function(ze,He,et,oe,X,de){const{measureSize:he,startEdge:Ee,endEdge:$e}=ze,Je=et[0]&&X,at=function(){if(!Je)return 0;const ut=et[0];return zn(He[Ee]-ut[Ee])}(),We=function(){if(!Je)return 0;const ut=de.getComputedStyle(la(oe));return parseFloat(ut.getPropertyValue(`margin-${$e}`))}(),bt=et.map(he),ft=et.map((ut,St,yt)=>{const Ct=!St,jt=W3(yt,St);return Ct?bt[St]+at:jt?bt[St]+We:yt[St+1][Ee]-ut[Ee]}).map(zn);return{slideSizes:bt,slideSizesWithGaps:ft,startGap:at,endGap:We}}(N,E,C,n,z,o),q=Y4e(N,L,m,h,E,C,U,S,2),{snaps:P,snapsAligned:Q}=function(ze,He,et,oe,X){const{startEdge:de,endEdge:he}=ze,{groupSlides:Ee}=X,$e=Ee(oe).map(We=>la(We)[he]-We[0][de]).map(zn).map(He.measure),Je=oe.map(We=>et[de]-We[de]).map(We=>-zn(We)),at=Ee(Je).map(We=>We[0]).map((We,bt)=>We+$e[bt]);return{snaps:Je,snapsAligned:at}}(N,H,E,C,q),re=-la(P)+la(V),{snapsContained:_e,scrollContainLimit:se}=function(ze,He,et,oe,X){const de=Au(-He+ze,0),he=et.map((at,We)=>{const{min:bt,max:ft}=de,ut=de.constrain(at),St=!We,yt=W3(et,We);return St?ft:yt||Je(bt,ut)?bt:Je(ft,ut)?ft:ut}).map(at=>parseFloat(at.toFixed(3))),Ee=function(){const at=he[0],We=la(he);return Au(he.lastIndexOf(at),he.indexOf(We)+1)}(),$e=function(){if(He<=ze+X)return[de.max];if(oe==="keepSnaps")return he;const{min:at,max:We}=Ee;return he.slice(at,We)}();function Je(at,We){return Zm(at,We)<=1}return{snapsContained:$e,scrollContainLimit:Ee}}(L,re,Q,y,2),ue=F?_e:Q,{limit:fe}=function(ze,He,et){const oe=He[0];return{limit:Au(et?oe-ze:la(He),oe)}}(re,ue,h),je=IX(tf(ue),u,h),Qe=je.clone(),Xe=ef(n),ie=z4e(r,o,()=>(({dragHandler:ze,scrollBody:He,scrollBounds:et,options:{loop:oe}})=>{oe||et.constrain(ze.pointerDown()),He.seek()})(Re),ze=>(({scrollBody:He,translate:et,location:oe,offsetLocation:X,previousLocation:de,scrollLooper:he,slideLooper:Ee,dragHandler:$e,animation:Je,eventHandler:at,scrollBounds:We,options:{loop:bt}},ft)=>{const ut=He.settled(),St=!We.shouldConstrain(),yt=bt?ut:ut&&St,Ct=yt&&!$e.pointerDown();Ct&&Je.stop();const jt=oe.get()*ft+de.get()*(1-ft);X.set(jt),bt&&(he.loop(He.direction()),Ee.loop()),et.to(X.get()),Ct&&at.emit("settle"),yt||at.emit("scroll")})(Re,ze)),Se=ue[je.get()],ae=of(Se),pe=of(Se),Te=of(Se),be=of(Se),we=function(ze,He,et,oe,X,de){let he=0,Ee=0,$e=X,Je=de,at=ze.get(),We=0;function bt(St){return $e=St,ut}function ft(St){return Je=St,ut}const ut={direction:function(){return Ee},duration:function(){return $e},velocity:function(){return he},seek:function(){const St=oe.get()-ze.get();let yt=0;return $e?(et.set(ze),he+=St/$e,he*=Je,at+=he,ze.add(he),yt=at-We):(he=0,et.set(oe),ze.set(oe),yt=St),Ee=q3(yt),We=at,ut},settled:function(){return zn(oe.get()-He.get())<.001},useBaseFriction:function(){return ft(de)},useBaseDuration:function(){return bt(X)},useFriction:ft,useDuration:bt};return ut}(ae,Te,pe,be,p,.68),Oe=$4e(h,ue,re,fe,be),ke=function(ze,He,et,oe,X,de,he){function Ee($e){const Je=$e.distance,at=$e.index!==He.get();de.add(Je),Je&&(oe.duration()?ze.start():(ze.update(),ze.render(1),ze.update())),at&&(et.set(He.get()),He.set($e.index),he.emit("select"))}return{distance:function($e,Je){Ee(X.byDistance($e,Je))},index:function($e,Je){const at=He.clone().set($e);Ee(X.byIndex(at.get(),Je))}}}(ie,je,Qe,we,Oe,be,a),Me=function(ze){const{max:He,length:et}=ze;return{get:function(oe){return et?(oe-He)/-et:0}}}(fe),Le=rf(),Ge=K4e(t,n,a,g),{slideRegistry:Ye}=function(ze,He,et,oe,X,de){const{groupSlides:he}=X,{min:Ee,max:$e}=oe;return{slideRegistry:function(){const at=he(de),We=!ze||He==="keepSnaps";return et.length===1?[de]:We?at:at.slice(Ee,$e).map((bt,ft,ut)=>{const St=!ft,yt=W3(ut,ft);return St?NX(la(ut[0])+1):yt?NX(tf(de)-la(ut)[0]+1,la(ut)[0]):bt})}()}}(F,y,ue,se,q,Xe),ct=q4e(e,n,Ye,ke,we,Le,a,_),Re={ownerDocument:r,ownerWindow:o,eventHandler:a,containerRect:E,slideRects:C,animation:ie,axis:N,dragHandler:F4e(N,e,r,o,be,B4e(N,o),ae,ie,ke,we,Oe,je,a,j,d,f,v,.68,k),eventStore:Le,percentOfView:j,index:je,indexPrevious:Qe,limit:fe,location:ae,offsetLocation:Te,previousLocation:pe,options:i,resizeHandler:U4e(t,a,o,n,N,b,O),scrollBody:we,scrollBounds:H4e(fe,Te,be,we,j),scrollLooper:V4e(re,fe,Te,[ae,Te,pe,be]),scrollProgress:Me,scrollSnapList:ue.map(Me.get),scrollSnaps:ue,scrollTarget:Oe,scrollTo:ke,slideLooper:W4e(N,L,re,B,V,P,ue,Te,n),slideFocus:ct,slidesHandler:G4e(t,a,w),slidesInView:Ge,slideIndexes:Xe,slideRegistry:Ye,slidesToScroll:q,target:be,translate:MX(N,t)};return Re}const X4e={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function J4e(e){function t(n,r){return RX(n,r||{})}return{mergeOptions:t,optionsAtMedia:function(n){const r=n.breakpoints||{},o=nf(r).filter(i=>e.matchMedia(i).matches).map(i=>r[i]).reduce((i,a)=>t(i,a),{});return t(n,o)},optionsMediaQueries:function(n){return n.map(r=>nf(r.breakpoints||{})).reduce((r,o)=>r.concat(o),[]).map(e.matchMedia)}}}function aw(e,t,n){const r=e.ownerDocument,o=r.defaultView,i=J4e(o),a=function(z){let B=[];return{init:function(V,U){return B=U.filter(({options:S})=>z.optionsAtMedia(S).active!==!1),B.forEach(S=>S.init(V,z)),U.reduce((S,q)=>Object.assign(S,{[q.name]:q}),{})},destroy:function(){B=B.filter(V=>V.destroy())}}}(i),s=rf(),l=function(){let z,B={};function V(S){return B[S]||[]}const U={init:function(S){z=S},emit:function(S){return V(S).forEach(q=>q(z,S)),U},off:function(S,q){return B[S]=V(S).filter(P=>P!==q),U},on:function(S,q){return B[S]=V(S).concat([q]),U},clear:function(){B={}}};return U}(),{mergeOptions:c,optionsAtMedia:u,optionsMediaQueries:h}=i,{on:p,off:d,emit:f}=l,g=N;let m,v,y,b,w=!1,k=c(X4e,aw.globalOptions),_=c(k),O=[];function E(z){const B=Q4e(e,y,b,r,o,z,l);return z.loop&&!B.slideLooper.canLoop()?E(Object.assign({},z,{loop:!1})):B}function C(z,B){w||(k=c(k,z),_=u(k),O=B||O,function(){const{container:V,slides:U}=_;y=($3(V)?e.querySelector(V):V)||e.children[0];const S=$3(U)?y.querySelectorAll(U):U;b=[].slice.call(S||y.children)}(),m=E(_),h([k,...O.map(({options:V})=>V)]).forEach(V=>s.add(V,"change",N)),_.active&&(m.translate.to(m.location.get()),m.animation.init(),m.slidesInView.init(),m.slideFocus.init(F),m.eventHandler.init(F),m.resizeHandler.init(F),m.slidesHandler.init(F),m.options.loop&&m.slideLooper.loop(),y.offsetParent&&b.length&&m.dragHandler.init(F),v=a.init(F,O)))}function N(z,B){const V=H();L(),C(c({startIndex:V},z),B),l.emit("reInit")}function L(){m.dragHandler.destroy(),m.eventStore.clear(),m.translate.clear(),m.slideLooper.clear(),m.resizeHandler.destroy(),m.slidesHandler.destroy(),m.slidesInView.destroy(),m.animation.destroy(),a.destroy(),s.clear()}function j(z,B,V){!_.active||w||(m.scrollBody.useBaseFriction().useDuration(B===!0?0:_.duration),m.scrollTo.index(z,V||0))}function H(){return m.index.get()}const F={canScrollNext:function(){return m.index.add(1).get()!==H()},canScrollPrev:function(){return m.index.add(-1).get()!==H()},containerNode:function(){return y},internalEngine:function(){return m},destroy:function(){w||(w=!0,s.clear(),L(),l.emit("destroy"),l.clear())},off:d,on:p,emit:f,plugins:function(){return v},previousScrollSnap:function(){return m.indexPrevious.get()},reInit:g,rootNode:function(){return e},scrollNext:function(z){j(m.index.add(1).get(),z,-1)},scrollPrev:function(z){j(m.index.add(-1).get(),z,1)},scrollProgress:function(){return m.scrollProgress.get(m.offsetLocation.get())},scrollSnapList:function(){return m.scrollSnapList},scrollTo:j,selectedScrollSnap:H,slideNodes:function(){return b},slidesInView:function(){return m.slidesInView.get()},slidesNotInView:function(){return m.slidesInView.get(!1)}};return C(t,n),setTimeout(()=>l.emit("init"),0),F}function K3(e={},t=[]){const n=x.useRef(e),r=x.useRef(t),[o,i]=x.useState(),[a,s]=x.useState(),l=x.useCallback(()=>{o&&o.reInit(n.current,r.current)},[o]);return x.useEffect(()=>{H3(n.current,e)||(n.current=e,l())},[e,l]),x.useEffect(()=>{(function(c,u){if(c.length!==u.length)return!1;const h=PX(c),p=PX(u);return h.every((d,f)=>H3(d,p[f]))})(r.current,t)||(r.current=t,l())},[t,l]),x.useEffect(()=>{if(typeof window<"u"&&window.document&&window.document.createElement&&a){aw.globalOptions=K3.globalOptions;const c=aw(a,n.current,r.current);return i(c),()=>c.destroy()}i(void 0)},[a,i]),[s,o]}aw.globalOptions=void 0,K3.globalOptions=void 0;const[Z4e,e_e]=Xi("Carousel component was not found in tree");var Y3={root:"m_17884d0f",viewport:"m_a2dae653",container:"m_fcd81474",controls:"m_39bc3463",control:"m_64f58e10",indicators:"m_71ea3ab1",indicator:"m_eae68602",slide:"m_d98df724"};const t_e={},Q3=wt((e,t)=>{const n=Ze("CarouselSlide",t_e,e),{classNames:r,className:o,style:i,styles:a,vars:s,mod:l}=n,c=xe(n,["classNames","className","style","styles","vars","mod"]),u=e_e();return Y.jsx(nt,A(A({ref:t,mod:[{orientation:u.orientation},l]},u.getStyles("slide",{className:o,style:i,classNames:r,styles:a})),c))});function n_e({slideGap:e,slideSize:t,selector:n}){const r=_o(),o=nh({"--carousel-slide-gap":xo(Lv(e)),"--carousel-slide-size":Pe(Lv(t))}),i=ko(r.breakpoints).reduce((s,l)=>(s[l]||(s[l]={}),typeof e=="object"&&e[l]!==void 0&&(s[l]["--carousel-slide-gap"]=xo(e[l])),typeof t=="object"&&t[l]!==void 0&&(s[l]["--carousel-slide-size"]=xo(t[l])),s),{}),a=function(s,l){const c=s.map(u=>({value:u,px:Pde(u,l)}));return c.sort((u,h)=>u.px-h.px),c}(ko(i),r.breakpoints).filter(s=>ko(i[s.value]).length>0).map(s=>({query:`(min-width: ${r.breakpoints[s.value]})`,styles:i[s.value]}));return Y.jsx(Bv,{styles:o,media:a,selector:n})}function LX(e){return typeof e=="object"&&e!==null?ko(e):[]}function r_e({slideGap:e,slideSize:t}){return function(n){return n.sort((r,o)=>Iv(r)-Iv(o))}(Array.from(new Set([...LX(e),...LX(t)])))}function o_e({slideGap:e,slideSize:t,selector:n}){const r=nh({"--carousel-slide-gap":xo(Lv(e)),"--carousel-slide-size":Pe(Lv(t))}),o=r_e({slideGap:e,slideSize:t}).reduce((a,s)=>(a[s]||(a[s]={}),typeof e=="object"&&e[s]!==void 0&&(a[s]["--carousel-slide-gap"]=xo(e[s])),typeof t=="object"&&t[s]!==void 0&&(a[s]["--carousel-slide-size"]=xo(t[s])),a),{}),i=Object.keys(o).map(a=>({query:`carousel (min-width: ${a})`,styles:o[a]}));return Y.jsx(Bv,{styles:r,container:i,selector:n})}function DX({dir:e,orientation:t,direction:n}){return n==="previous"?t==="horizontal"?90*(e==="ltr"?1:-1):-180:t==="horizontal"?90*(e==="ltr"?-1:1):0}Q3.classes=Y3,Q3.displayName="@mantine/carousel/CarouselSlide";const i_e={controlSize:26,controlsOffset:"sm",slideSize:"100%",slideGap:0,orientation:"horizontal",align:"center",slidesToScroll:1,includeGapInSize:!0,draggable:!0,dragFree:!1,loop:!1,speed:10,initialSlide:0,inViewThreshold:0,withControls:!0,withIndicators:!1,skipSnaps:!1,containScroll:"",withKeyboardEvents:!0,type:"media"},a_e=(e,{height:t,controlSize:n,controlsOffset:r})=>({root:{"--carousel-height":Pe(t),"--carousel-control-size":Pe(n),"--carousel-controls-offset":xo(r)}}),af=wt((e,t)=>{const n=Ze("Carousel",i_e,e),r=n,{classNames:o,className:i,style:a,styles:s,unstyled:l,vars:c,children:u,getEmblaApi:h,onNextSlide:p,onPreviousSlide:d,onSlideChange:f,nextControlProps:g,previousControlProps:m,controlSize:v,controlsOffset:y,slideSize:b,slideGap:w,orientation:k,height:_,align:O,slidesToScroll:E,includeGapInSize:C,draggable:N,dragFree:L,loop:j,speed:H,initialSlide:F,inViewThreshold:z,withControls:B,withIndicators:V,plugins:U,nextControlIcon:S,previousControlIcon:q,skipSnaps:P,containScroll:Q,withKeyboardEvents:re,mod:_e,type:se}=r,ue=xe(r,["classNames","className","style","styles","unstyled","vars","children","getEmblaApi","onNextSlide","onPreviousSlide","onSlideChange","nextControlProps","previousControlProps","controlSize","controlsOffset","slideSize","slideGap","orientation","height","align","slidesToScroll","includeGapInSize","draggable","dragFree","loop","speed","initialSlide","inViewThreshold","withControls","withIndicators","plugins","nextControlIcon","previousControlIcon","skipSnaps","containScroll","withKeyboardEvents","mod","type"]),fe=Rt({name:"Carousel",classes:Y3,props:n,className:i,style:a,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:a_e}),je=o_(),{dir:Qe}=sh(),[Xe,ie]=K3({axis:k==="horizontal"?"x":"y",direction:k==="horizontal"?Qe:void 0,startIndex:F,loop:j,align:O,slidesToScroll:E,draggable:N,dragFree:L,speed:H,inViewThreshold:z,skipSnaps:P,containScroll:Q},U),[Se,ae]=x.useState(0),[pe,Te]=x.useState(0),be=x.useCallback(ct=>ie&&ie.scrollTo(ct),[ie]),we=x.useCallback(()=>{if(!ie)return;const ct=ie.selectedScrollSnap();ae(ct),ct!==Se&&(f==null||f(ct))},[ie,ae,f,Se]),Oe=x.useCallback(()=>{ie==null||ie.scrollPrev(),d==null||d()},[ie]),ke=x.useCallback(()=>{ie==null||ie.scrollNext(),p==null||p()},[ie]),Me=x.useCallback(ct=>{re&&(ct.key==="ArrowRight"&&(ct.preventDefault(),ke()),ct.key==="ArrowLeft"&&(ct.preventDefault(),Oe()))},[ie]);x.useEffect(()=>{if(ie)return h==null||h(ie),we(),Te(ie.scrollSnapList().length),ie.on("select",we),()=>{ie.off("select",we)}},[ie,E,we]),x.useEffect(()=>{ie&&(ie.reInit(),Te(ie.scrollSnapList().length),ae(ct=>function(Re,ze,He){return He===void 0?Math.max(Re,ze):Math.min(Math.max(Re,ze),He)}(ct,0,x.Children.toArray(u).length-1)))},[x.Children.toArray(u).length,E]);const Le=(ie==null?void 0:ie.canScrollPrev())||!1,Ge=(ie==null?void 0:ie.canScrollNext())||!1,Ye=Array(pe).fill(0).map((ct,Re)=>x.createElement(Wa,K(A({},fe("indicator")),{key:Re,"data-active":Re===Se||void 0,"aria-hidden":!0,tabIndex:-1,onClick:()=>be(Re),"data-orientation":k,onMouseDown:ze=>ze.preventDefault()})));return Y.jsxs(Z4e,{value:{getStyles:fe,orientation:k},children:[se==="container"?Y.jsx(o_e,K(A({},n),{selector:`.${je}`})):Y.jsx(n_e,K(A({},n),{selector:`.${je}`})),Y.jsxs(nt,K(A(A({ref:t},fe("root",{className:"responsiveClassName"})),ue),{mod:[{orientation:k,"include-gap-in-size":C},_e],onKeyDownCapture:Me,children:[Y.jsx("div",K(A({},fe("viewport")),{ref:Xe,"data-type":se,children:Y.jsx("div",K(A({},fe("container",{className:je})),{"data-orientation":k,children:u}))})),V&&Y.jsx("div",K(A({},fe("indicators")),{"data-orientation":k,children:Ye})),B&&Y.jsxs("div",K(A({},fe("controls")),{"data-orientation":k,children:[Y.jsx(Wa,K(A(A({},m),fe("control",{className:m==null?void 0:m.className,style:m==null?void 0:m.style})),{onClick:ct=>{var Re;Oe(),(Re=m==null?void 0:m.onClick)==null||Re.call(m,ct)},"data-inactive":!Le||void 0,tabIndex:Le?0:-1,children:q!==void 0?q:Y.jsx(cm,{style:{transform:`rotate(${DX({dir:Qe,orientation:k,direction:"previous"})}deg)`}})})),Y.jsx(Wa,K(A(A({},fe("control",{className:g==null?void 0:g.className,style:g==null?void 0:g.style})),g),{onClick:ct=>{var Re;ke(),(Re=g==null?void 0:g.onClick)==null||Re.call(g,ct)},"data-inactive":!Ge||void 0,tabIndex:Ge?0:-1,children:S!==void 0?S:Y.jsx(cm,{style:{transform:`rotate(${DX({dir:Qe,orientation:k,direction:"next"})}deg)`}})}))]}))]}))]})});af.classes=Y3,af.displayName="@mantine/carousel/Carousel",af.Slide=Q3;const s_e={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function X3(e={}){let t,n,r,o,i=null,a=0,s=!1,l=!1,c=!1,u=!1;function h(){if(!r){if(f())return void(c=!0);s||n.emit("autoplay:play"),function(){const{ownerWindow:w}=n.internalEngine();w.clearTimeout(a),a=w.setTimeout(b,o[n.selectedScrollSnap()]),i=new Date().getTime(),n.emit("autoplay:timerset")}(),s=!0}}function p(){r||(s&&n.emit("autoplay:stop"),function(){const{ownerWindow:w}=n.internalEngine();w.clearTimeout(a),a=0,i=null,n.emit("autoplay:timerstopped")}(),s=!1)}function d(){if(f())return c=s,p();c&&h()}function f(){const{ownerDocument:w}=n.internalEngine();return w.visibilityState==="hidden"}function g(){l||p()}function m(){l||h()}function v(){l=!0,p()}function y(){l=!1,h()}function b(){const{index:w}=n.internalEngine(),k=w.clone().add(1).get(),_=n.scrollSnapList().length-1,O=t.stopOnLastSnap&&k===_;if(n.canScrollNext()?n.scrollNext(u):n.scrollTo(0,u),n.emit("autoplay:select"),O)return p();h()}return{name:"autoplay",options:e,init:function(w,k){n=w;const{mergeOptions:_,optionsAtMedia:O}=k,E=_(s_e,X3.globalOptions),C=_(E,e);if(t=O(C),n.scrollSnapList().length<=1)return;u=t.jump,r=!1,o=function(F,z){const B=F.scrollSnapList();return typeof z=="number"?B.map(()=>z):z(B,F)}(n,t.delay);const{eventStore:N,ownerDocument:L}=n.internalEngine(),j=!!n.internalEngine().options.watchDrag,H=function(F,z){const B=F.rootNode();return z&&z(B)||B}(n,t.rootNode);N.add(L,"visibilitychange",d),j&&n.on("pointerDown",g),j&&!t.stopOnInteraction&&n.on("pointerUp",m),t.stopOnMouseEnter&&N.add(H,"mouseenter",v),t.stopOnMouseEnter&&!t.stopOnInteraction&&N.add(H,"mouseleave",y),t.stopOnFocusIn&&n.on("slideFocusStart",p),t.stopOnFocusIn&&!t.stopOnInteraction&&N.add(n.containerNode(),"focusout",h),t.playOnInit&&h()},destroy:function(){n.off("pointerDown",g).off("pointerUp",m).off("slideFocusStart",p),p(),r=!0,s=!1},play:function(w){w!==void 0&&(u=w),h()},stop:function(){s&&p()},reset:function(){s&&h()},isPlaying:function(){return s},timeUntilNext:function(){return i?o[n.selectedScrollSnap()]-(new Date().getTime()-i):null}}}X3.globalOptions=void 0;const l_e=e=>{const{mutate:t}=fi(),{primary_color:n}=pn(),{item:r}=e,{title:o,body:i,badge_title:a,badge_color:s,button_title:l="Click To Open",image_url:c,url:u}=r;return R(af.Slide,{children:ce(dm,{shadow:"md",padding:"lg",radius:"md",withBorder:!0,style:{height:"92%",backgroundColor:"var(--promotion-card-background-color, white)"},children:[R(dm.Section,{style:{flex:1},children:c&&R(nT,{src:c,style:{maxHeight:"150px"}})}),ce(Or,{justify:"space-between",mt:"xs",mb:5,style:{position:"relative"},children:[R(qn,{fw:500,lineClamp:2,style:{lineHeight:1.2,color:"var(--carousel-text-color, black)"},children:o}),a&&R(Q_,{autoContrast:!0,color:s,variant:"filled",size:"lg",style:{position:"absolute",top:-20,right:-20,borderTopRightRadius:0,borderBottomRightRadius:0},children:a})]}),R(su,{type:"hover",children:R(qn,{size:"sm",c:"dimmed",children:i})}),u&&R(Zn,{fullWidth:!0,mt:"md",style:{flexShrink:0},color:n,onClick:()=>{t({event_name:Lt.PromotionItemLinkClick,link_clicked:u}),window.open(u,"_blank")},children:l})]})})},c_e=()=>{var e,t,n;const r=mt(),o=x.useRef(),i=(e=r==null?void 0:r.config)==null?void 0:e.promotion_items,a=(n=(t=r==null?void 0:r.config)==null?void 0:t.custom_style)==null?void 0:n.promotion_carousel,s=x.useRef(null),l=x.useMemo(()=>a!=null&&a.autoplay_interval_ms?(s.current=X3({delay:a==null?void 0:a.autoplay_interval_ms}),[s.current]):[],[a==null?void 0:a.autoplay_interval_ms]);return i!=null&&i.length?R(u_e,{withIndicators:!0,height:"350px",slideSize:"70%",slideGap:"md",loop:!0,align:"center",slidesToScroll:1,plugins:l,onSlideChange:()=>{var c;(c=s.current)==null||c.stop(),o.current&&clearTimeout(o.current);const u=a==null?void 0:a.resume_after_interaction_dealy_ms;u&&(o.current=setTimeout(()=>{var h;(h=s.current)==null||h.play()},u))},style:{"--carousel-height":"calc(21.875em * var(--mantine-scale))","--carousel-control-size":"calc(1.625em * var(--mantine-scale))"},styles:{controls:{"--carousel-control-size":"calc(1.625em * var(--mantine-scale))"}},children:i==null?void 0:i.map((c,u)=>R(l_e,{item:c},u))}):null},u_e=tt(af,{target:"ee87xqx0"})({name:"1a922wm",styles:"button.mantine-Carousel-control{svg{width:calc(1em * var(--mantine-scale))!important;height:calc(1em * var(--mantine-scale))!important;}}.mantine-Group-root{margin-bottom:calc(0.3125em * var(--mantine-scale))!important;}"}),d_e=()=>{var e,t,n;const r=mt(),o=(t=(e=r==null?void 0:r.config)==null?void 0:e.custom_style)==null?void 0:t.promotion_carousel,i=(n=r==null?void 0:r.config)==null?void 0:n.promotion_items;return i!=null&&i.length?o!=null&&o.enabled?R(c_e,{}):R(j4e,{}):null},h_e=e=>{x.useLayoutEffect(()=>{De.scrollToLastMessagePair(1)},[]);const{message:t,callbacks:n,isLastMessage:r,index:o}=e;if(t.type==="system")return R("div",{className:"flex justify-center p-2",children:R("div",{className:"text-sm font-light text-gray-400",children:t.text})});const i=t.type!=="user";return ce(or,{children:[ce(p_e,{style:{justifyContent:i?"flex-start":"flex-end"},children:[R(M4e,{message:t}),R(m_e,{style:{flexDirection:i?"row":"row-reverse"},children:ce(f_e,{style:{alignItems:i?"flex-start":"flex-end"},children:[R(i4e,{message:t,isBot:i,isLastMessage:r}),R(O4e,{message:t,isBot:i})]})})]}),o===0&&R(d_e,{}),R(mye,{message:t}),R(oye,{message:t,callbacks:n}),R(Vbe,{message:t,callbacks:n,isLastMessage:r})]})},p_e=tt("div",{target:"e1fth2qa2"})({name:"1s3gs5l",styles:"display:flex;flex-direction:row;align-items:flex-start;gap:5px"}),m_e=tt("div",{target:"e1fth2qa1"})({name:"16xf79m",styles:"display:flex;justify-content:flex-start;align-items:flex-start;width:fit-content;height:auto;max-width:calc(100% - 2.5em - 10px);gap:0.5em"}),f_e=tt("div",{target:"e1fth2qa0"})({name:"12fhxm6",styles:"display:flex;flex-direction:column;justify-content:flex-start;align-self:stretch;width:fit-content;height:auto;max-width:100%"});var g_e=Object.defineProperty,jX=Object.getOwnPropertySymbols,v_e=Object.prototype.hasOwnProperty,b_e=Object.prototype.propertyIsEnumerable,zX=(e,t,n)=>t in e?g_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y_e=(e,t)=>{for(var n in t||(t={}))v_e.call(t,n)&&zX(e,n,t[n]);if(jX)for(var n of jX(t))b_e.call(t,n)&&zX(e,n,t[n]);return e};const w_e=()=>{var e,t;const[n,r]=x.useState(!0),o=Br(),i=W(c=>c.chatBox.botLanguage),{notification_banner:a}=o||{};if(a==null||!a.enabled)return null;const s=((e=a.multi_lang_title)==null?void 0:e[i])||a.title,l=((t=a.multi_lang_message)==null?void 0:t[i])||a.message;return R(ni,{mounted:n,transition:"slide-up",duration:400,timingFunction:"ease",children:c=>R(J3,{style:y_e({},c),children:R(k_e,{withBorder:!0,radius:"sm",color:a.color,title:R(qh,{text:s}),onClose:()=>r(!1),styles:{root:{boxShadow:"var(--mantine-shadow-sm)",backgroundColor:"var(--notification-banner-background-color, white)",borderColor:"var(--notification-banner-border-color, #dee2e6)"},title:{color:"var(--notification-banner-title-color, rgba(52, 58, 64, 1)"},description:{color:"var(--notification-banner-message-color, rgba(52, 58, 64, 1))"},closeButton:{"--cb-icon-size":"calc(1em * var(--mantine-scale))",color:"var(--notification-banner-close-button-color, --mantine-color-gray-7)",backgroundColor:"var(--notification-banner-close-button-background-color, white)"}},children:R(qh,{text:l})})})})},k_e=tt(cT,{target:"e14wzl8b0"})({name:"1yfh2xk",styles:".livex-chatbox-markdown{font-size:var(--notification-banner-message-font-size, 14px);}"}),x_e=()=>{var e;const t=Br(),n=W(i=>i.chatBox.botLanguage),{compliance_section:r}=t||{};if(r==null||!r.enabled)return null;const o=((e=r.multi_lang_message)==null?void 0:e[n])||r.message;return R(J3,{children:R(qh,{text:o})})},__e=x.forwardRef(({callbacks:e},t)=>{const n=dt(),r=W(Kb),o=W(Tt),i=du(),a=W(y=>y.chat.messagesUpdatedAt),[s,l]=x.useState(0),c=W(y=>y.chatBox.showChatBox),u=W(y=>y.chatBox.videoAutoPlayStatus),h=W(y=>y.chatBox.isChurnControlEnabled),p=Pm(),d=sx(xS),f=Wc(()=>{var y,b,w,k,_;const O=((y=window.visualViewport)==null?void 0:y.height)||window.innerHeight,E=(w=(b=De.headerRef)==null?void 0:b.current)==null?void 0:w.getBoundingClientRect(),C=(E==null?void 0:E.height)||64,N=(_=(k=De.footerRef)==null?void 0:k.current)==null?void 0:_.getBoundingClientRect(),L=(N==null?void 0:N.height)||110;l(O-C-L)},100);x.useLayoutEffect(()=>{_t&&f()},[c,i,f]),x.useEffect(()=>{if(_t)return window.addEventListener("resize",f),window.addEventListener("scroll",f),()=>{window.removeEventListener("resize",f),window.removeEventListener("scroll",f)}},[f]),x.useEffect(()=>{e==null||e.onMessageUpdated()},[e,a]),x.useEffect(()=>{r&&r.length>0&&r[r.length-1].done&&(e==null||e.onTokenUsageRefresh())},[e,r]);const g=x.useMemo(()=>{const y=[];for(let b=0;b<r.length;b++){const w=r[b],k=[w];w.type==="user"&&b+1<r.length&&r[b+1].type==="bot"&&(k.push(r[b+1]),b++),y.push(k)}return h&&(y.shift(),yr(y[0])&&(y[0]=y[0].filter(b=>b.type!=="user"))),y},[r,h]),m=(y=>{const[b]=An(gT),w=W(H=>H.chatBox.botMode),k=W(H=>H.chatBox.showPopupImageSrc),_=em(De.headerRef),O=em(De.footerRef),E=fT(),C=(_==null?void 0:_.height)||0,N=(O==null?void 0:O.height)||0,L=E&&w!=="avataiWebRtc"&&w!=="avataiOnly"?60:0,j={display:"flex",flexDirection:"column",flexGrow:1,justifyContent:"flex-start",gap:14,WebkitOverflowScrolling:"touch",scrollbarWidth:"none",msOverflowStyle:"none",padding:14,paddingTop:14+L,background:"transparent",position:"absolute",bottom:N,left:0,width:"100%",height:`calc(100% - ${N}px - ${C}px - ${L}px)`,overflowY:"auto",overflowX:"hidden",zIndex:20};return w==="avataiWebRtc"||w==="avataiOnly"||b==="video"?(j.paddingTop=80,j.maxHeight="calc(var(--message-list-max-height-percentage, 50%) - 64px)",k||(j.maskImage="linear-gradient(to top, black 75%, transparent 100%)")):_t&&(j.maxHeight=y),j})(s),v=(()=>{const y=W(_=>_.chatBox.botMode),b=W(_=>_.chatBox.videoAutoPlayStatus),w=W(_=>_.chatBox.cancelParams);let k=Ht(y)&&!b;return ht(w)||(k=!1),y==="avataiOnly"&&(k=!1),k})();return u==="needUserInteraction"?R("div",{className:"flex-1 flex justify-center items-center",children:R("div",{style:{position:"absolute",top:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.5)",color:"white",cursor:"pointer",zIndex:100,borderRadius:"8px"},onClick:()=>{n(JT("canAutoPlay"))},children:"Click to start"})}):i||!o||v||d?R("div",{className:"flex-1 flex justify-center items-center",children:R(Lm,{size:36})}):p?null:ce(T_e,{id:"livex-message-list",ref:t,className:"animate-fade",style:m,children:[R("div",{id:"message-list-top-spacer",style:{marginTop:"auto"}}),R(x_e,{}),R(w_e,{}),g.map((y,b)=>{const w=b===g.length-1;return R(J3,{style:{},id:w?"last-message-pair":"",children:y.map(k=>R(h_e,{message:k,callbacks:e,index:b,isLastMessage:w},`${k.type}-${k.id}`))},`message-pair-${b}`)})]})}),J3=tt("div",{target:"e1jldibi1"})({name:"efm2rk",styles:"display:flex;flex-direction:column;gap:14px;scroll-margin-top:14px"}),T_e=tt("div",{target:"e1jldibi0"})({name:"0",styles:""});rk`
  from {
    transform: scale(0);
  }
  to {
    transform: scale(1);
  }
`;const S_e=tt("div",{target:"e19jf3sk0"})({name:"1qxijjx",styles:"position:absolute;bottom:0;width:100%;display:flex;flex-grow:0;flex-direction:column;justify-content:stretch;align-items:center;border-bottom-left-radius:16px;border-bottom-right-radius:16px"}),Z3=()=>{var e,t,n;const r=mt();return(n=(t=(e=r==null?void 0:r.config)==null?void 0:e.custom_style)==null?void 0:t.center_stage)!=null&&n},FX=()=>{const e=W(o=>o.chatBox.showChatBox),t=W(o=>o.chatBox.useLiveXCopilot),n=Xa(),r=W(_i);return(r==null?void 0:r.chatAgentType)==="liveChat"||e&&(t||n)};var E_e=Object.defineProperty,C_e=Object.defineProperties,O_e=Object.getOwnPropertyDescriptors,BX=Object.getOwnPropertySymbols,P_e=Object.prototype.hasOwnProperty,A_e=Object.prototype.propertyIsEnumerable,UX=(e,t,n)=>t in e?E_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const sw=(e,t)=>`var(${e.startsWith("--")?e:`--${e}`}, ${typeof t=="number"?`${t}px`:t})`,N_e=e=>{var t,n,r,o,i,a,s;const l=Z3(),c=du(),u=Xa(),h=W(se=>se.chatBox.resizingType),p=Vs();W(se=>se.chatBox.visualViewportUpdatedAt);const d=Om(),f=W(se=>se.chatBox.botMode),g=W(se=>se.chatBox.chatBoxWidth),m=W(se=>se.chatBox.chatBoxHeight),v=W(se=>se.chatBox.source),y=W(se=>se.chatBox.agent),b=(n=(t=y==null?void 0:y.config)==null?void 0:t.style)!=null?n:{},{z_index:w,search_bar_z_index:k}=b,_=Id(),{position:O}=Rd(),E=FX();W(se=>se.chatBox.visualViewportUpdatedAt);const C=pn(),{text_color:N,background_color:L}=C,{windowWidth:j,windowHeight:H}=vR(),{isTop:F,isLeft:z}=Sg();let B={};switch(!0){case p:B=((se,ue,fe,je)=>({width:se,height:ue,maxHeight:"unset",borderRadius:0,zIndex:fe||1,background:je}))(j,H,w,L);break;case(u&&!_t):B=((se,ue,fe,je,Qe)=>{document.documentElement.style.backgroundColor=Xl(.4,Qe.primary_color,"useChatboxContainerStyle.backgroundColor");const Xe=se<830,ie=Xe?se:Math.min(.6*se,830),Se=Xe?ue:ue-40;return{width:ie,height:Se,maxHeight:"unset",position:"fixed",left:Xe?0:(se-ie)/2,bottom:Xe?0:(ue-Se)/2,background:je,borderRadius:16,borderTopLeftRadius:18,borderTopRightRadius:18,zIndex:fe||1}})(j,H,w,L,C);break;case d:B=((se,ue,fe,je,Qe,Xe)=>{document.documentElement.style.backgroundColor=Xl(.4,Qe.primary_color,"useChatboxContainerStyle.backgroundColor.isFullScreen");const ie=se*(_t?1:se>960?.7:1);return{width:ie,height:ue,maxHeight:"unset",borderRadius:0,position:"fixed",left:Math.max(se-ie,0)/2,bottom:0,background:je,boxShadow:Xe||bR,zIndex:fe||1}})(j,H,w,L,C,_)}if(!ht(B))return E?(B.opacity=1,B.transform="scale(1)",B.pointerEvents="auto",B.transition="opacity 0.3s ease-in-out, transform 0.3s ease-in-out"):(B.opacity=0,B.transform="scale(0.95)",B.pointerEvents="none",B.transition="opacity 0.15s ease-in-out, transform 0.15s ease-in-out"),B;const V=Math.min(parseInt(`${g}`),j-100),U=Math.min(parseInt(`${m}`),H-100),S=F?O.top:O.bottom,q=z?O.left:O.right,P=`calc(${H}px - ${S}px - 100px)`,Q=`calc(${j}px - ${q}px - 100px)`;if(B=((se,ue)=>C_e(se,O_e(ue)))(((se,ue)=>{for(var fe in ue||(ue={}))P_e.call(ue,fe)&&UX(se,fe,ue[fe]);if(BX)for(var fe of BX(ue))A_e.call(ue,fe)&&UX(se,fe,ue[fe]);return se})({},e.style),{width:V,height:U,color:N,background:`var(--background-color, ${L})`,maxHeight:P,maxWidth:Q,overflow:"visible",borderRadius:"var(--chat-box-border-radius, 16px)",borderTopLeftRadius:"var(--chat-box-border-top-left-radius, 16px)",borderTopRightRadius:"var(--chat-box-border-top-right-radius, 16px)",position:"fixed",boxShadow:_,zIndex:w}),h&&(B.userSelect="none"),_t)delete B.borderTopLeftRadius,delete B.borderTopRightRadius,B=mi(B,{width:"100vw",height:"100%",marginBottom:0,maxHeight:"unset",maxWidth:"unset",right:0,bottom:0,borderRadius:0,zIndex:k||w||1e4,overscrollBehavior:"contain"}),B.overflow="scroll",v==="playground"&&(B.height=H-100);else if(l)delete B.marginBottom,B=mi(B,{maxHeight:"90vh",top:"50%",left:"50%",transform:"translate(-50%, -50%) scale(1)",maxWidth:"90vw",opacity:1,transition:"opacity 0.3s ease-in-out, transform 0.3s ease-in-out"});else{z?B.left=q:B.right=q;const se=S+parseInt((r=b==null?void 0:b.chatbot_icon_size)!=null?r:"60")+16;F?B.top=se:B.bottom=se}Ht(f)&&(B.minWidth=320,B.minHeight=480,f==="avataiWebRtc"&&(B.background=c?"white":"transparent"));const re=l?"0.3s":"0.1s",_e=`opacity ${re} ease-in-out, transform ${re} ease-in-out`;return E?(B.opacity=1,B.pointerEvents="auto",B.transition=_e,B.transform=l&&!_t?"translate(-50%, -50%) scale(1)":"translateY(0)"):(B.opacity=0,B.pointerEvents="none",B.zIndex=-1,B.transition=_e,B.transform=l&&!_t?"translate(-50%, -50%) scale(0.95)":F?"translateY(-20px)":"translateY(20px)"),B.width=sw("chatbox-width",(o=B.width)!=null?o:400),B.height=sw("chatbox-height",(i=B.height)!=null?i:600),B.maxWidth=sw("chatbox-max-width",(a=B.maxWidth)!=null?a:"90vw"),B.maxHeight=sw("chatbox-max-height",(s=B.maxHeight)!=null?s:"90vh"),B},HX=({height:e})=>{var t;const n=mt(),r=((t=n==null?void 0:n.config)==null?void 0:t.livex_logo_link_url)||"https://www.livex.ai/",o={};return e&&(o.height=e),R("button",{onClick:()=>window.open(r,"_blank"),children:R("img",{src:"data:image/webp;base64,UklGRmAJAABXRUJQVlA4WAoAAAAQAAAAfwAAIAAAQUxQSFQFAAAB8Ebbtmnbtq2lUksb08aybdvW9Jzbtm3bNpZtG9NYtjFtY3D23lqv+UdDnxjjf0RMAFvXoe/XXtHpBHrkYNin50ov9qH7ty1hDuNflNR6KKH7w9yaMIcTH5Fq0nk43X7fXQBzq+Cw11VSlkZ9iITu3rh184Nf2BcIXhBgwE/bFNOY6Zs43X7gekmdk7+0FxDA4WMLpDTGVH8gALhXcjcghFAWQgA88cLEgeChxL0ZC6FC8AAYw95Ul6T2uyc5FjjicanekOq6HizXvJG3ImMLh5zRtLElA/uuUT1LJb12JpzQqTRTVF2PgQH4z37VUuVztx9D4LOTTyLkAu+efAmBz17z/0svvfTS/1/9CQLn3nseDkav//ygWmD/+35UYoy6Z1SOhOO6lCmmqboO4AVtlqLqerEfAQicI52HFxh7b9btsKf0Enlj51a9nrC/Kh5Gy1y1H4JjXCWdQ6hgPCaNwnO0vK3WAhLOlxqKsaZJO6oRY1SqRTvjFIyWRpcEDtmou6D/29JYHJwfStfDkfW0trlWq3XFZ4fB/6U3B9CLb0ord8fKnAvVodnkjUHvSEUkfEBqKGYat4dijMrUeigJRZdIl1Q4aJPupIWvSg9jQN950olweE2PHHzcMcccfdxgAmGWdDecJ+kcnHJjuhQ1Gs8NeFtZCc5X1Ii53RWjGopnkbCFWnUngUFLpOMJzkekh/Hc9RQbgZFLpJ/uuE76HE65M1pa2q6ZkBv4jhplBH6hrKwR9T4StoYl/EC6AofHpVG05G4sAZwTMm1eIv2bQOXHpXPvkUbjzWH8S1mZvoGzdYyRq7RpDzhTegYCh6da8eiUyY/N+O8ggISPSdKjhlVwJkrTmSjNgS3CVaoVZPoLga2E8xvpx3CD9HE8cHim0o/hYPCaOjWeXlR+WhpFn1ek8fgWubEo090Etpqx+3rNt7069HZfKKht2LhxQ9u8QzBwfiNJi3cmlDnvle4CJkqPw5b4t9Is19CC/fBmRjWH81dpzDekb+G5mu4Zuvuuu+7eH4OEd0vLJkuzwMDcAF6QbvjsN7/8k46oCSTNOD9SFgtiqkU74U1cUmBmFYx9O/TCPK0agRXdQKEbzsEd0nt5S/ofAQNwPqR6Tfm0piewJhI+phhLVNfLAwjNBPJeAedySfoDTtHNBMAg0PdV6d9weJf0eRL2nDQUwiuqmGo8uawk4UKpoZKoumY6oUp8fdYTj8958pFD4KCNuqMgcFiWxc59sZLVs594/PE5Tz52KNwkPRto4YNqZGcyfL4mG5+WXv/Qxz720Y9+/L1/lOYYg95SWpRwdKcyxZhpQi6qrrvASsao/B9wcF0PFhC4WboWp0AV/8txUscBOM6fpPs5Qto4mBnShyh9STqOQYulAmevlUoVc2fsrrQRY6zr0hJjp1lL5s6dO/edea+eCi23tX6UUHTAirUHEcj3vmvZ3MJ5b5xDv1vWTSABg2sWj6Pl2vU/gM903h5C4u7eiwvX39oHftf5u1xg8BtKFRU3640WHpXSLMZUvybkMMKwIflhvQBsGKXGiB0xSocNKRzWG4PBGIBBHwyGAIyk6hAwGA4QCDNVV4xpQ2uOhr6/XycpTTN9lZDDKDfyVoKBsQUNg0ChQQAwMLAyAwMwMLhddSlLpZt2IxiM/Ny0uqS6JhByYMUUGhXNqGil5I1yAzAAo6qRN3L/Ul2NVJp9JjiYAwd9e3ZNWtqb7t/5kbJGKs3/CIRA3hzgkK/Nvta7P+eTatSl1h/3B6dicHrK0Wqkiv/fHZxmg/cIR3ZIuvtocKNnfl6afi640VMvfHgUhEDPDVZQOCDmAwAAsBUAnQEqgAAhAD4xFolDIiEhFVsEwCADBLYAZ+ygrd7+vm34ifmN8sdTfmn3i/dL/PZbvzb/oftE95P+Z9on46/2nuAfop/b/tN7m/mP/lH9L/Wv3iP8l/APY1+KvuD/0D+79Y76Cf7L+lR+2PwY/tR+13s/f/sm6BsRpLPiFPnQTPQMhmN7UBGDxQZ2uTNmbmaJjF5veXLxDVOkTzCm07kadm1yTGQ3RMdw0AoFoRZ2+pqooAAA/uIQv/Hafum/iZYUiOTxPemWkrxurYndPlhkv9cxi+1CBwkd868MyZpJDcJHGG6FNBWx3x/+6tCFmW0jSjPfVHbnxKSwIbMlWsrA05RNM2frs3Af2wM7dXrlG9/sDp2ptLj88ajEShtf0ImmwMTPI/fsyWIqLMGgSYKAOoUXVYZQTjzQkUhkNJ+acSf4vkjT/KwzUijZJVF+dqBQP//B2OHBIwiaewzWWr+CADjsTw0d+BHU2Ry0oXCgF4AkPcf8RKjA9lQ8xZojGWwA71OtxSHoZmWSWPvRE5FPlG+vH6l7smxl49PFqdcKRv/95KVpMGO14sQ4U23YSbSwaXcbDALTQsHxfmruqm7y+buRj/QEkayG0lhyc1VhAZ8B690YkPEVtOQVyKmO1/0uv//Jwf/3US//7ij1rE35ACYK/L2n+nAi1f9DMB4VMUVeESgrBFx/CVatRXFOZXX6/cNIV7TWWQbuy/72r+eOvWRq0UUXqP+Dz05it19e+rE/7o4tEqYn+6fQzIM+H1u5PiQshorD+K5qAUtjO6qKGU4L4SHxc8YHkI8UZ2E99Cqrn7zx6EizI1lPHPB0Vh5LDbnhhTf8Qw+tqFBM0EZ9BQdSTowHebgxnhoidmpE+uT77/+ouRd/OnyQDGCSgdfb+rmlANO91URANqO2oXTRgnxco5dichSYLpelq/rcjm/TC6g7hNwtotsA1vnpXCL7/CF9Se5rjHVodhQmDwBUf4DOpRWVRoher45gCjskzrZkmM6LOGfiAlT3SYw/PqUndlgndbEi461GYlHuporWAGt7JrA6ZCn0qhgSm9sRYjnlGf4yyxXekUYAAZMXyQXmiMsi0yjE2urUgQ8m6rHO2FDiYJTYsXi84XU08yf/YVAAiFTebeUBgBoNWCxphXqJe7VpBpQpFFMsc2gtY8CJpq4fAPJMq6sbMZTVnESKBzRmh6iyfCs4z+Fq6fpEpf697OQUgCmUCOaKb6tGNapxWmMmxUZJscWhO+G8MxktJGTBPoZIO4d/+PEP/hr//adj0eG6zoovuFJVtdiOZ1W0MRRUIAPnxGLaAAA79oAAAAAAAAA=",alt:"Logo",className:"h-7",style:o})})},R_e=()=>{var e;const t=mt(),n=(e=t==null?void 0:t.config)==null?void 0:e.partner_logo;if(!n)return null;const{title:r,logo_url:o,link_url:i,width:a,height:s}=n;return ce("div",{className:"flex items-center whitespace-pre",children:[r,R("img",{src:o,style:{objectFit:"cover",cursor:"pointer",width:a,height:s},onClick:()=>window.open(i,"_blank")})]})},I_e=()=>{const e=W(o=>o.chatBox.botMode),t=Vs(),n=Xa();if(t)return null;const r={backgroundColor:"var(--bottom-logo-bg-color, white)"};return n&&(r.marginRight="auto",r.marginLeft="1em"),Ht(e)&&(r.backgroundColor="var(--bottom-logo-bg-color, white)"),ce(M_e,{style:r,children:[R(Ome,{components:[R(HX,{},"logo")],i18nKey:"poweredBy"}),!_t&&R(R_e,{})]})},M_e=tt("div",{target:"e17ytut60"})({name:"1s802ns",styles:"z-index:10;opacity:var(--bottom-logo-opacity, 0.65);display:var(--bottom-logo-display, flex);align-items:center;margin-bottom:14px;font-size:9px;color:black;padding:0 12px;gap:7px;border-radius:8px;font-weight:var(--bottom-logo-font-weight, 400)"});var L_e=Object.defineProperty,D_e=Object.defineProperties,j_e=Object.getOwnPropertyDescriptors,lw=Object.getOwnPropertySymbols,VX=Object.prototype.hasOwnProperty,$X=Object.prototype.propertyIsEnumerable,qX=(e,t,n)=>t in e?L_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const sf=x.forwardRef((e,t)=>{var n=e,{children:r,onClick:o}=n,i=((h,p)=>{var d={};for(var f in h)VX.call(h,f)&&p.indexOf(f)<0&&(d[f]=h[f]);if(h!=null&&lw)for(var f of lw(h))p.indexOf(f)<0&&$X.call(h,f)&&(d[f]=h[f]);return d})(n,["children","onClick"]);const a=Br(),s=(a==null?void 0:a.theme)||{},{header_button_size:l="24px",header_button_variant:c="subtle",header_button_color:u="var(--header-button-color, white)"}=s;return R(Jt,((h,p)=>D_e(h,j_e(p)))(((h,p)=>{for(var d in p||(p={}))VX.call(p,d)&&qX(h,d,p[d]);if(lw)for(var d of lw(p))$X.call(p,d)&&qX(h,d,p[d]);return h})({ref:t,style:{width:l,height:l,minWidth:l,minHeight:l},variant:c,onClick:o,color:u},i),{children:r}))});sf.displayName="HeaderActionIcon";const z_e=()=>{const e=dt(),t=W(n=>n.chatBox.showAvatarVideo);return W(n=>n.chatBox.botMode)==="avataiToggle"?R(sf,{onClick:()=>e(xge(!t)),children:R(t?qme:Wme,{})}):null},cw=()=>{const e=W(n=>n.chatBox.chatAgentType),t=W(n=>n.chatBox.initialBotMode);return e==="liveChat"&&t==="searchBar"};function F_e(e){return pt({attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M14 8v1H3V8h11z"},child:[]}]})(e)}const B_e=()=>{const e=dt(),t=Gc(),n=t==null?void 0:t.hide_minimize_button;return cw()||n?null:R(sf,{onClick:()=>{e(ia(!1))},children:R(F_e,{})})},WX=()=>{const e=W(n=>n.chatBox.streamDetails),t=W(n=>n.chatBox.triedToGetAvataiSession);return W(n=>n.chatBox.botMode)==="avataiOnly"&&!e&&!t},U_e=({options:e})=>{var t,n,r,o;const i=dt(),{closeChatbot:a}=Bq(),s=mt(),l=Om(),c=Vs(),u=WX(),h=Z3(),p=!((n=(t=s==null?void 0:s.config)==null?void 0:t.style)!=null&&n.disable_show_confirm_close_view);return(o=(r=s==null?void 0:s.config)==null?void 0:r.style)!=null&&o.hide_close_button||!e.enableClose&&!_t||l||c||u&&!h?null:R(sf,{onClick:async()=>{a9("onCloseButtonClick"),p?i($b(!0)):await a()},children:R(Fs,{})})};function H_e(e){return pt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 5h7"},child:[]},{tag:"path",attr:{d:"M7 4c0 4.846 0 7 .5 8"},child:[]},{tag:"path",attr:{d:"M10 8.5c0 2.286 -2 4.5 -3.5 4.5s-2.5 -1.135 -2.5 -2c0 -2 1 -3 3 -3s5 .57 5 2.857c0 1.524 -.667 2.571 -2 3.143"},child:[]},{tag:"path",attr:{d:"M12 20l4 -9l4 9"},child:[]},{tag:"path",attr:{d:"M19.1 18h-6.2"},child:[]}]})(e)}function V_e(e){return pt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 5.5a3.498 3.498 0 0 1-6.062 2.385l-5.112 3.021a3.498 3.498 0 0 1 0 2.188l5.112 3.021a3.5 3.5 0 1 1-.764 1.29l-5.112-3.02a3.499 3.499 0 1 1-3.843-5.642 3.499 3.499 0 0 1 3.843.872l5.112-3.021A3.5 3.5 0 1 1 20 5.5Zm-1.5 13a2 2 0 1 0-3.999-.001 2 2 0 0 0 3.999.001Zm0-13a2 2 0 1 0-3.999-.001A2 2 0 0 0 18.5 5.5ZM5.5 14a2 2 0 1 0 .001-3.999A2 2 0 0 0 5.5 14Z"},child:[]}]})(e)}const $_e={modalTitle:{width:"17px",height:"17px"}},uw={content:{backgroundColor:"var(--modal-background-color, rgba(255, 255, 255, 1))",border:"var(--modal-border, 1px solid rgba(184, 184, 184, 1))",borderRadius:"var(--modal-border-radius, 8px)",margin:"8px 10px"},header:{backgroundColor:"var(--modal-background-color,rgba(255, 255, 255, 1))",color:"var(--modal-content-color, rgba(73, 80, 87, 1))"},title:{color:"var(--modal-content-color, rgba(73, 80, 87, 1))",fontSize:"var(--modal-title-font-size, 16px)",fontWeight:"var(--modal-title-font-weight, 700)",padding:"0 8px"},body:{backgroundColor:"var(--modal-background-color, rgba(255, 255, 255, 1))",color:"var(--modal-content-color, rgba(73, 80, 87, 1))",fontSize:"var(--modal-content-font-size, 12px)",margin:"12px 8px"},input:{backgroundColor:"var(--modal-input-background-color, rgba(255, 255, 255, 1))",border:"1px solid var(--modal-input-border-color, rgba(222, 226, 230, 1))",color:"var(--modal-input-text-color, rgba(173, 181, 189, 1))",height:"var(--modal-input-height, 32px)"},label:{color:"var(--modal-input-label-color, rgba(73, 80, 87, 1))",fontSize:"var(--modal-input-label-font-size, 12px)",fontWeight:"var(--modal-input-label-font-weight, 500)",marginBottom:"8px"},titleBox:{display:"flex",flexDirection:"row",alignItems:"center",gap:"4px",whiteSpace:"nowrap",justifyContent:"center",fontSize:"var(--modal-title-font-size, 16px)",fontWeight:"var(--modal-title-font-weight, 700)"}},GX={itemLabel:{fontSize:"var(--dropdown-item-font-size, 12px)"}},q_e=()=>{var e,t,n,r,o;const{t:i}=Nr(),a=dt(),s=W(Tt),l=mt(),c=U9(),u=W(F=>F.chatBox.botMode),h=Tie(c==null?void 0:c.language),p=W(F=>F.chatBox.languageCode),{status:d,disconnectLivekit:f}=ra(),{initiateSession:g}=ym(),{joinChat:m}=Eb(),[v,y]=x.useState(!1),[b,w]=x.useState(!1),k=WX(),_=(e=c==null?void 0:c.style)==null?void 0:e.hide_language_button,O=(t=c==null?void 0:c.custom_style)==null?void 0:t.hide_share_button,E=(r=(n=l==null?void 0:l.config)==null?void 0:n.style)==null?void 0:r.hide_refresh_button,C=x.useMemo(()=>s?`${Bt.frontendHost}/share/conversations/${s}`:"",[s]),N=x.useCallback(async()=>{d==="connected"&&(f(),a(Nh("text"))),De.shouldAbort=!0,Ra.instance.stop(),s&&l!=null&&l.id&&(u==="avataiOnly"&&(a(s9(!0)),De.isGettingAvatarSession=!0),await a(fo({threadId:s,keepOpen:!0})),De.scrollToBottom(200),u==="avataiOnly"&&g(!0,1e3))},[d,s,l==null?void 0:l.id,u,a,f,g]),L=x.useCallback(()=>{y(!0)},[]),j=x.useCallback(()=>{y(!1)},[]),H=x.useMemo(()=>{const F=[];return!E&&!k&&F.push({type:"item",content:R(Ft.Item,{leftSection:R(tH,{size:12}),onClick:N,children:i("new_chat")})}),_||F.push({type:"submenu",content:ce(Ft,{shadow:"md",position:"left-start",trigger:"hover",closeOnItemClick:!1,openDelay:100,closeDelay:400,styles:GX,children:[R(Ft.Target,{children:R(Ft.Item,{leftSection:R(H_e,{style:{width:"var(--dropdown-item-font-size, 12px)",height:"var(--dropdown-item-font-size, 12px)"}}),style:{backgroundColor:v?"var(--menu-item-hover-color, rgba(219, 228, 255, 1))":void 0},onMouseOver:L,onMouseOut:j,children:i("language")})}),R(Ft.Dropdown,{onMouseEnter:L,onMouseLeave:j,children:h.map(z=>R(Ft.Item,{onClick:()=>(B=>{a(xU(B)),m(B)})(z.code),style:{backgroundColor:p===z.code?"var(--menu-item-hover-color, rgba(219, 228, 255, 1))":void 0},children:z.title},z.code))})]})}),O||F.push({type:"item",content:R(Ft.Item,{leftSection:R(jfe,{style:{width:"var(--dropdown-item-font-size, 12px)",height:"var(--dropdown-item-font-size, 12px)"}}),onClick:()=>{w(!0)},children:i("share")})}),F},[a,N,L,j,E,k,_,O,v,h,p,m,i]);return ht(H)?null:ce(or,{children:[ce(Ft,{shadow:"md",position:"bottom-end",styles:GX,children:[R(Ft.Target,{children:R(sf,{onClick:()=>{},style:{color:"var(--header-button-color, white)"},children:R(Uve,{})})}),R(Ft.Dropdown,{children:H.map((F,z)=>F.type==="divider"?R(Ft.Divider,{},`divider-${z}`):F.content?x.cloneElement(F.content,{key:`item-${z}`}):null)})]}),((o=De.containerRef)==null?void 0:o.current)&&vs.createPortal(ce(Pr.Root,{radius:"lg",opened:b,onClose:()=>w(!1),withinPortal:!1,centered:!0,styles:uw,children:[R(Pr.Overlay,{}),ce(Pr.Content,{children:[ce(Pr.Header,{children:[R(Pr.Title,{children:ce(nt,{style:uw.titleBox,children:[R(V_e,{style:$_e.modalTitle}),R("span",{children:i("share_public_link")})]})}),R(Jt,{variant:"subtle",onClick:()=>w(!1),color:"var(--modal-close-button-color, white)",children:R(Mfe,{})})]}),R(Pr.Body,{children:ce(Or,{gap:"xs",align:"flex-end",children:[R(yb,{label:i("chat_link"),value:C,style:{flex:1},styles:{input:uw.input,label:uw.label},readOnly:!0}),R(vF,{value:C,timeout:2e3,children:({copied:F,copy:z})=>R(Zn,{onClick:z,variant:"filled",size:"md",color:"indigo.7",children:i(F?"copied":"copy")})})]})})]})]}),De.containerRef.current)]})},KX=Zt.div`
  color: rgba(240, 62, 62, 1);
  cursor: pointer;
  position: relative;
  transition: background-color 0.2s ease;
  z-index: 100;

  &::after {
    background-color: rgba(240, 62, 62, 0.7);
    border-radius: 4px;
    color: white;
    content: attr(data-tooltip);
    font-size: 14px;
    left: 50%;
    opacity: 0;
    padding: 8px 12px;
    position: absolute;
    top: 200%;
    transform: translateY(-50%) translateX(-50%);
    visibility: hidden;
    white-space: nowrap;
    transition:
      opacity 0.2s ease,
      visibility 0.2s ease;
  }

  &:hover::after {
    opacity: 1;
    visibility: visible;
  }
`,W_e=()=>{const e=W(s=>s.chatBox.triedToGetAvataiSession),t=W(s=>s.chatBox.streamDetails),n=W(s=>{var l,c,u;return(u=(c=(l=s.chatBox.agent)==null?void 0:l.config)==null?void 0:c.avatai)==null?void 0:u.disable_lip_sync}),{initiateSession:r}=ym(),o=W(s=>s.chatBox.botMode),{isV2Avatar:i}=Nl(),{t:a}=Nr();return i||!e||t||n||!Ht(o)?null:R(KX,{onClick:()=>{r()},style:{top:0},"data-tooltip":a("could_not_get_session"),children:R(CB,{style:{width:22,height:22}})})},G_e=()=>{const{initiateSession:e}=ym(),{isV2Avatar:t}=Nl(),{disconnectLivekit:n}=ra(),{t:r}=Nr(),o=TB();return t&&o?R(KX,{onClick:async()=>{await e()&&n()},"data-tooltip":r("could_not_get_session"),children:R(CB,{style:{width:22,height:22}})}):null},K_e=()=>{var e;const t=mt(),n=W(d=>d.chatBox.showNavigationView),r=Vs(),o=W(d=>{var f,g,m;return(m=(g=(f=d.chatBox.agent)==null?void 0:f.config)==null?void 0:g.custom_style)==null?void 0:m.transparent_header}),i=wb(),a=Br(),s=a==null?void 0:a.agent_description;if(t==null||!t.config)return null;const l=(e=t.config.name)!=null?e:"Copilot",c=t.config.logo||t.logo;if(r)return R("div",{});const u="var(--logo-size, 42px)",h=n?`calc(${u} - 18px)`:u,p={fontSize:_t?"var(--agent-name-mobile-font-size, 14px)":"var(--agent-name-font-size, 16px)",fontWeight:"var(--agent-name-font-weight, unset)",color:"var(--agent-name-color, rgba(233, 236, 239, 1))"};return ce("div",{id:"livex-logo-agent-name-container",className:"flex flex-grow items-center gap-3",style:{opacity:i||o?0:1},children:[c&&R("div",{id:"livex-logo-container",style:{width:h,height:h,overflow:"hidden",borderRadius:"var(--logo-border-radius, 100%)"},children:R("img",{id:"livex-logo-image",className:"w-full h-full object-contain",src:c,alt:t.id})}),ce(na,{gap:0,children:[R("div",{id:"livex-agent-name-container",style:p,className:"hidden flex-grow xs:flex ",children:l}),s&&R("div",{id:"livex-agent-description",style:{fontSize:"var(--agent-description-font-size, 8px)",fontWeight:"var(--agent-description-font-weight, 400)",color:"var(--agent-description-color, #B8B8B8)",marginTop:"var(--agent-description-margin-top, -4px)"},children:s})]})]})},Y_e=()=>{const e=W(r=>r.chatBox.showNavigationView),t=wR().header,n=W(Ja);return t&&e&&!(n&&n>0)?ce(J_e,{children:[R("div",{style:{fontWeight:800,fontSize:"1.71em"},children:t.title}),R("div",{style:{fontSize:"1em",fontWeight:100},children:t.body})]}):null},Q_e=x.forwardRef(({options:e},t)=>{const n=(()=>{var a,s,l;const c=pn(),u=Vs(),h=Om(),p=W(k=>k.chatBox.showPopupImageSrc),d=W(k=>k.chatBox.showNavigationView),f=mt(),g=(a=f==null?void 0:f.config)==null?void 0:a.style,m=(l=(s=f==null?void 0:f.config)==null?void 0:s.custom_style)==null?void 0:l.transparent_header,{name:v}=c,y=v==="gradient",b=wb(),w={borderTopLeftRadius:8,borderTopRightRadius:8,borderBottom:"var(--header-border-bottom)",userSelect:"none",width:"100%",display:"flex",flex:"0 0 56px",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:14,padding:"var(--regular-header-padding, 4px 14px)",background:"var(--header-background-color, transparent)",color:(g==null?void 0:g.header_text_color)||"white",zIndex:p?20:30};return y&&(w.background="linear-gradient(125deg, var(--primary-color) 0%, var(--secondary-color) 100%)"),u&&(w.flex="0 0 28px"),_t&&(delete w.borderTopLeftRadius,delete w.borderTopRightRadius,w.position="fixed",w.top=0,w.left=0,d||(w.height=64)),(h||u)&&(delete w.borderTopLeftRadius,delete w.borderTopRightRadius),b&&(w.background="transparent"),m&&(w.background="transparent"),w})(),[r,o]=x.useState(0),i={position:"absolute",top:r,height:"0",width:"var(--header-divider-width, 0)",borderBottom:"var(--header-divider-border, 0px solid #F1F3F5)"};return x.useLayoutEffect(()=>{if(t&&typeof t!="function"){const a=t.current;if(a){const s=a.getBoundingClientRect();o(s.height)}}},[t]),ce("div",{ref:t,id:"livex-regular-header-container",style:n,children:[ce("div",{id:"livex-regular-header-top-container",style:{paddingLeft:"var(--regular-header-top-container-padding-left, 0px)",paddingRight:"var(--regular-header-top-container-padding-right, 0px)",display:"flex",alignItems:"center",width:"100%",height:"30px"},children:[R(K_e,{}),ce(X_e,{children:[R(W_e,{}),R(G_e,{}),R(z_e,{}),R(B_e,{}),R(q_e,{}),R(U_e,{options:e})]})]}),R(Y_e,{}),R("div",{id:"livex-regular-header-divider",style:i})]})}),X_e=tt("div",{target:"evwks8c1"})({name:"1i49dfn",styles:"display:flex;align-items:flex-end;column-gap:var(--header-buttons-container-gap, 12px)"}),J_e=tt("div",{target:"evwks8c0"})({name:"1hm6nh2",styles:"margin-right:auto;font-size:1em;white-space:pre;padding-left:1.5em;padding-right:1.5em;padding-bottom:1em;& *{white-space:break-spaces;}"}),YX=tt("button",{target:"ehi52mm0"})({name:"1l0r6ky",styles:"display:flex;align-items:center;background-color:white;color:#374151;font-size:12px;padding:0.25em 0.5em;border:1px solid #9ca3af;border-radius:0.5em;&:hover{background-color:#f3f4f6;border-color:#374151;}"}),Z_e=x.forwardRef((e,t)=>{const n=dt(),{mutateAsync:r}=Ig(),o=cw(),i={zIndex:100};return _t&&(i.position="fixed",i.top=0,i.width="100%"),R(eTe,{ref:t,style:i,children:ce(YX,{onClick:async()=>{const a=async()=>{n(Rp([])),n(Dd("")),await r({keepOpenSearchBar:!0})};o?MT({modal:"confirm",title:"Close Live Chat",innerProps:{message:"Are you sure you want to close the live chat?",confirmLabel:"Close Live Chat",confirmColor:"red",onCancel:()=>{},onConfirm:a}}):a()},children:[R(Ife,{style:{width:16}}),"Back"]})})}),eTe=tt("div",{target:"e1mef90"})({name:"1sxx6ad",styles:"border-top-left-radius:16px;border-top-right-radius:16px;background-color:white;display:flex;padding:0.5em;justify-content:space-between;border-bottom:var(--search_bar_header_border_bottom)"});var tTe=Object.defineProperty,nTe=Object.defineProperties,rTe=Object.getOwnPropertyDescriptors,QX=Object.getOwnPropertySymbols,oTe=Object.prototype.hasOwnProperty,iTe=Object.prototype.propertyIsEnumerable,XX=(e,t,n)=>t in e?tTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const aTe=x.forwardRef((e,t)=>Xa()?R(Z_e,{ref:t}):R(Q_e,((n,r)=>nTe(n,rTe(r)))(((n,r)=>{for(var o in r||(r={}))oTe.call(r,o)&&XX(n,o,r[o]);if(QX)for(var o of QX(r))iTe.call(r,o)&&XX(n,o,r[o]);return n})({},e),{ref:t})));var sTe=Object.defineProperty,lTe=Object.defineProperties,cTe=Object.getOwnPropertyDescriptors,JX=Object.getOwnPropertySymbols,uTe=Object.prototype.hasOwnProperty,dTe=Object.prototype.propertyIsEnumerable,ZX=(e,t,n)=>t in e?sTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eE=(e,t)=>{for(var n in t||(t={}))uTe.call(t,n)&&ZX(e,n,t[n]);if(JX)for(var n of JX(t))dTe.call(t,n)&&ZX(e,n,t[n]);return e};const eJ=({selectedIndex:e,setSelectedIndex:t,currentLevel:n})=>{const r=dt(),o=H9(),i=Gc(),a=e==null?void 0:e.split("-").slice(0,n-1).join("-"),s=x.useMemo(()=>Object.entries(o).reduce((l,[c,u])=>(c.startsWith(a??"")&&c.split("-").length===n&&l.push(eE({key:c},u)),l),[]),[n,o,a]);return R(mTe,{children:s.map(l=>{const c=e==null?void 0:e.startsWith(l.key);return ce(or,{children:[ce(fTe,{onClick:()=>{var u;l.command?r(oa({text:(u=l.text)!=null?u:"",command:l.command})):t(c?a??"":l.key)},color:i==null?void 0:i.primary_color,indent:n-2,children:[l.iconUrl&&R("img",{src:l.iconUrl,style:{width:30,height:30}}),l.imageUrl&&R("div",{style:{width:80,height:80,overflow:"hidden"},children:R("img",{src:l.imageUrl,style:{width:100,height:100,marginLeft:"-10px",marginTop:"-10px"}})}),ce("div",{style:{display:"flex",flexDirection:"column"},children:[l.title,l.description&&R("div",{style:{fontSize:"0.8em"},children:l.description})]})]},l.key),c&&R(eJ,{selectedIndex:e,setSelectedIndex:t,currentLevel:n+1})]})})})},hTe=({selectedIndex:e,setSelectedIndex:t})=>{const n=dt(),r=Gc(),o=H9(),i=x.useMemo(()=>{const a=e?e.split("-").length+1:1;return Object.entries(o).reduce((s,[l,c])=>(l.startsWith(e||"")&&l.split("-").length===a&&s.push(eE({key:l},c)),s),[])},[o,e]);return R("div",{className:"flex flex-col",style:{padding:24,paddingTop:"calc(28px + 1em)",gap:7},children:i.map(a=>ce(gTe,{className:"flex items-center border rounded-xl text-left",style:{padding:14,gap:14},onClick:()=>{var s;a.command?n(oa({text:(s=a.text)!=null?s:"",command:a.command})):t(a.key)},color:r==null?void 0:r.primary_color,children:[a.iconUrl&&R("img",{src:a.iconUrl,style:{width:30,height:30}}),a.imageUrl&&R("div",{style:{width:80,height:80,overflow:"hidden"},children:R("img",{src:a.imageUrl,style:{width:100,height:100,marginLeft:"-10px",marginTop:"-10px"}})}),ce("div",{className:"flex flex-col items-start",children:[R("div",{style:{display:"flex",fontSize:"1.28em"},children:a.title}),a.description&&R("div",{style:{fontSize:"0.85em"},children:a.description})]}),!a.command&&R("div",{className:"ml-auto",children:R(Ume,{style:{width:"1em",height:"1em"}})})]},a.key))})},pTe=()=>{var e,t;const n=H9(),[r,o]=x.useState(null),i=em(De.headerRef),a=em(De.footerRef),s=x.useMemo(()=>{if(!r)return"menu";const[u]=r.split("-");return n[u].navStyle||"menu"},[n,r]),l=(e=a==null?void 0:a.height)!=null?e:0,c=(t=i==null?void 0:i.height)!=null?t:0;return R("div",{id:"livex-navigation-view",className:"animate-fade",style:{position:"absolute",bottom:l,width:"100%",display:"flex",flex:1,height:`calc(100% - ${l}px)`,overflow:"auto"},children:ce("div",{style:{flex:1,paddingTop:c+14},children:[r&&ce("button",{className:"flex items-center absolute bg-white hover:bg-gray-100 text-gray-800 border border-gray-400 rounded",style:{marginLeft:10.5,paddingLeft:14,paddingRight:14,paddingTop:3.5,paddingBottom:3.5},onClick:()=>{if(r){const u=r.split("-").slice(0,-1).join("-");o(u)}},children:[R(Bme,{className:"mr-2"}),"Back"]}),s==="menu"&&R(hTe,{selectedIndex:r,setSelectedIndex:o}),s==="accordion"&&R("div",{style:{padding:"42px"},children:R(eJ,{selectedIndex:r,setSelectedIndex:o,currentLevel:2})})]})})},mTe=tt("div",{target:"e8d56zx2"})({name:"9kzmib",styles:"display:flex;flex-direction:column;border-radius:14px;text-align:left;& .header:first-of-type{border-top-left-radius:14px;border-top-right-radius:14px;}& .header:last-of-type{border-bottom-left-radius:14px;border-bottom-right-radius:14px;}"}),fTe=tt(e=>{const{indent:t=0,className:n}=e,r=t>0?"item":"header";return R("div",((o,i)=>lTe(o,cTe(i)))(eE({},e),{className:n+" "+r}))},{target:"e8d56zx1"})(e=>{const{color:t="black",indent:n=0}=e,r=n===0,o=Xl(.2,t,"NavigationAccordianItem.backgroundColor"),i=er(o),a={color:r?i:"black",background:r?o:"white",display:"flex",border:r?`1px solid ${t}`:"1px solid transparent",alignItems:"center",gap:"1em",padding:r?"14px":"0px",cursor:"pointer","& svg":{fill:i},"&:hover":{background:r?t:"unset",border:`1px solid ${t}`}};return n>0&&(a.marginLeft=2*n*14+"px"),a},""),gTe=tt("button",{target:"e8d56zx0"})(e=>{const{color:t="black",indent:n=0}=e,r=Xl(.37,t,"NavigationItemButton.backgroundColor"),o=er(r),i=Xl(.34,t,"NavigationItemButton.hoverBackgroundColor"),a={background:`var(--navigation-item-button-bg, ${r})`,color:`var(--navigation-item-button-text-color, ${o})`,"& svg":{fill:`var(--navigation-item-button-svg-fill, ${o})`},"&:hover":{background:`var(--navigation-item-button-hover-bg, ${i})`,borderColor:`var(--navigation-item-button-hover-border-color, ${ku(.05,i,"NavigationItemButton.hoverBorderColor")})`,color:`var(--navigation-item-button-hover-text-color, ${er(i)})`}};return n>0&&(a.marginLeft=2*n+"em"),a},""),vTe={1:{mousePath:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-6c-2.33 0-4.32 1.45-5.12 3.5h1.67c.69-1.19 1.97-2 3.45-2s2.75.81 3.45 2h1.67c-.8-2.05-2.79-3.5-5.12-3.5z",label:"Very Dissatisfied",color:"darkred"},2:{mousePath:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-3.5c.73 0 1.39.19 1.97.53.12-.14.86-.98 1.01-1.14-.85-.56-1.87-.89-2.98-.89-1.11 0-2.13.33-2.99.88.97 1.09.01.02 1.01 1.14.59-.33 1.25-.52 1.98-.52z",label:"Dissatisfied",color:"red"},3:{mousePath:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-4c-.73 0-1.38-.18-1.96-.52-.12.14-.86.98-1.01 1.15.86.55 1.87.87 2.97.87 1.11 0 2.12-.33 2.98-.88-.97-1.09-.01-.02-1.01-1.15-.59.35-1.24.53-1.97.53z",label:"Neutral",color:"orange"},4:{mousePath:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-2.5c2.33 0 4.32-1.45 5.12-3.5h-1.67c-.69 1.19-1.97 2-3.45 2s-2.75-.81-3.45-2H6.88c.8 2.05 2.79 3.5 5.12 3.5z",label:"Satisfied",color:"green"},5:{mousePath:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm-5-6c.78 2.34 2.72 4 5 4s4.22-1.66 5-4H7z",label:"Very Satisfied",color:"darkgreen"}},bTe=e=>{const{value:t,selected:n,onClick:r}=e;return R(yTe,{children:R("button",{onClick:r,children:(()=>{const o=vTe[t],{color:i,mousePath:a}=o;if(a&&i)return((s,l,c)=>{const u=s?l:"grey";return ce("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[R("circle",{fill:u,cx:"15.5",cy:"9.5",r:"1.5"}),R("circle",{fill:u,cx:"8.5",cy:"9.5",r:"1.5"}),R("path",{fill:u,d:c}),s&&R("circle",{stroke:l,strokeWidth:2,fill:"none",cx:"12",cy:"12",r:"10"})]})})(n,i,a)})()})})},tJ=({rating:e,setRating:t})=>R("div",{className:"flex items-center",children:[1,2,3,4,5].map((n,r)=>R(bTe,{value:n,selected:e===n,onClick:()=>t(e===n?void 0:n)},r))}),yTe=tt("div",{target:"e6mtb560"})({name:"ho6j5g",styles:"transform:scale(1);transition:transform 0.3s ease-in-out;cursor:pointer;&:hover{transform:scale(1.2);}"});var wTe=Object.defineProperty,nJ=Object.getOwnPropertySymbols,kTe=Object.prototype.hasOwnProperty,xTe=Object.prototype.propertyIsEnumerable,rJ=(e,t,n)=>t in e?wTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oJ=(e,t)=>{for(var n in t||(t={}))kTe.call(t,n)&&rJ(e,n,t[n]);if(nJ)for(var n of nJ(t))xTe.call(t,n)&&rJ(e,n,t[n]);return e};const iJ={display:"flex",justifyContent:"center",alignItems:"center"},_Te=()=>{const{t:e}=Nr(),t=dt(),[n,r]=An(zq),[o,i]=An(Fq),{closeChatbot:a,isClosing:s}=Bq();return R("section",{className:"mx-auto h-full flex flex-col w-full animate-fade z-20",children:ce("div",{className:"p-4 flex my-auto flex-col w-full py-5 border shadow-inner max-w-[350px] mx-auto bg-white rounded-lg",children:[R(qn,{style:{fontSize:"16px"},children:e("confirm_close_view_title")}),ce("div",{style:oJ({gap:30,padding:"10px"},iJ),children:[R(Zn,{color:"dark",size:"md",variant:"outline",loading:s,onClick:()=>(async()=>{await a()})(),children:e("confirm_close_view_yes")}),R(Zn,{size:"md",color:"dark",variant:"outline",disabled:s,onClick:()=>{t($b(!1))},children:e("confirm_close_view_no")})]}),R("div",{style:oJ({padding:12},iJ),className:"mx-12",children:R(tJ,{rating:n,setRating:r})}),n&&ce("div",{className:"animate-fade",children:[R("label",{className:"block mb-2 text-sm font-medium text-gray-500",children:e("confirm_close_view_comment_label")}),R("textarea",{defaultValue:o,id:"message",rows:4,className:"block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 resize-none",placeholder:e("confirm_close_view_comment_placeholder"),onBlur:l=>i(l.target.value)})]})]})})};var TTe=Object.defineProperty,STe=Object.defineProperties,ETe=Object.getOwnPropertyDescriptors,aJ=Object.getOwnPropertySymbols,CTe=Object.prototype.hasOwnProperty,OTe=Object.prototype.propertyIsEnumerable,sJ=(e,t,n)=>t in e?TTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tE=(e=>(e.User="user",e.Agent="agent",e))(tE||{}),lJ=(e=>(e.Text="text",e.File="file",e.Markdown="markdown",e))(lJ||{});const PTe=()=>{const e=mt(),t=W(Tt);return Zr({mutationFn:n=>(async r=>{const{agentId:o,conversationId:i,text:a,senderType:s,messageType:l}=r;if(!o||!i)throw new Error("agentId or conversationId is missing");const c=`${Bt.chatHost}/api/live_chat`,u={conversation_id:i,chatbot_id:o,sender_type:s||"user",text:a,message_type:l||"text"};return(await Mt.post(c,u)).data})(((r,o)=>STe(r,ETe(o)))(((r,o)=>{for(var i in o||(o={}))CTe.call(o,i)&&sJ(r,i,o[i]);if(aJ)for(var i of aJ(o))OTe.call(o,i)&&sJ(r,i,o[i]);return r})({},n),{agentId:e==null?void 0:e.id,conversationId:t}))})};var ATe=Object.defineProperty,NTe=Object.defineProperties,RTe=Object.getOwnPropertyDescriptors,cJ=Object.getOwnPropertySymbols,ITe=Object.prototype.hasOwnProperty,MTe=Object.prototype.propertyIsEnumerable,uJ=(e,t,n)=>t in e?ATe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const LTe=()=>{const e=mt(),t=W(Tt);return Zr({mutationFn:n=>(async r=>{const{agentId:o,conversationId:i,agentName:a,type:s}=r;if(!o||!i)throw new Error("agentId or conversationId is missing");const l=`${Bt.chatHost}/api/salesforce/live-chat-status`,c={chatbot_id:o,conversation_id:i,agent_name:a,type:s};return(await Mt.post(l,c)).data})(((r,o)=>NTe(r,RTe(o)))(((r,o)=>{for(var i in o||(o={}))ITe.call(o,i)&&uJ(r,i,o[i]);if(cJ)for(var i of cJ(o))MTe.call(o,i)&&uJ(r,i,o[i]);return r})({},n),{agentId:e==null?void 0:e.id,conversationId:t}))})};var DTe=Object.defineProperty,dJ=Object.getOwnPropertySymbols,jTe=Object.prototype.hasOwnProperty,zTe=Object.prototype.propertyIsEnumerable,hJ=(e,t,n)=>t in e?DTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;let as={},lf=!1,Wh=null;const nE=async()=>Wh||(Wh=new Promise((e,t)=>{if(as.app&&as.analytics&&as.firestore)return void e(as);if(lf){const i=()=>{as.app&&as.analytics&&as.firestore?e(as):setTimeout(i,100)};return void i()}lf=!0;const n=setTimeout(()=>{lf=!1,Wh=null,t(new Error("Firebase CDN script load timeout"))},3e4),r=document.createElement("script");r.type="module",r.textContent=`
      import { initializeApp } from 'https://www.gstatic.com/firebasejs/12.0.0/firebase-app.js';
      import { getAnalytics, logEvent } from 'https://www.gstatic.com/firebasejs/12.0.0/firebase-analytics.js';
      import { 
        getFirestore, 
        collection, 
        addDoc, 
        serverTimestamp, 
        query, 
        orderBy, 
        onSnapshot, 
        deleteDoc, 
        doc 
      } from 'https://www.gstatic.com/firebasejs/12.0.0/firebase-firestore.js';
      
      window.firebaseModules = {
        app: { initializeApp },
        analytics: { getAnalytics, logEvent },
        firestore: { 
          getFirestore, 
          collection, 
          addDoc, 
          serverTimestamp, 
          query, 
          orderBy, 
          onSnapshot, 
          deleteDoc, 
          doc 
        }
      };
    `;const o=()=>{Wh&&(ee.log("checking modules"),window.firebaseModules?(clearTimeout(n),lf=!1,as=window.firebaseModules,ee.log("firebase script loaded"),e(as)):setTimeout(o,100))};r.onerror=()=>{ee.error("Failed to load Firebase from CDN"),clearTimeout(n),lf=!1,Wh=null,t(new Error("Failed to load Firebase from CDN"))},document.head.appendChild(r),setTimeout(o,100)}),Wh),FTe=async(e,t,n="desc")=>{var r,o,i,a;const s=De.firestore;if(!s)return;const l=await nE(),c=(i=l.firestore)==null?void 0:i.query((r=l.firestore)==null?void 0:r.collection(s,e),(o=l.firestore)==null?void 0:o.orderBy("createdAt",n));return(a=l.firestore)==null?void 0:a.onSnapshot(c,u=>{const h=u.docs.map(p=>{const d=p.data();return((f,g)=>{for(var m in g||(g={}))jTe.call(g,m)&&hJ(f,m,g[m]);if(dJ)for(var m of dJ(g))zTe.call(g,m)&&hJ(f,m,g[m]);return f})({id:p.id},d)});t(h)})},BTe=async(e,t)=>{var n,r;const o=De.firestore;if(o)try{const i=await nE();await((r=i.firestore)==null?void 0:r.deleteDoc((n=i.firestore)==null?void 0:n.doc(o,e,t)))}catch{}},UTe=go(0),HTe=e=>({id:e.messageId.toString(),live_chat_message_id:e.id,timestamp:e.createdAt.toDate().toISOString(),text:e.text,done:!0,sender:e.sender,type:e.senderType,format:e.format||"text"}),VTe=({dispatch:e,message:t,shouldCloseLiveChat:n})=>{const{senderType:r,text:o}=t;if(r!=="system")return;const i=o.includes("left the conversation"),a=o.includes("joined the conversation"),s=o.includes("reopened the conversation");switch(!0){case(i&&n):e(QT(!0));break;case a:e(YT("liveChat"));break;case s:e(QT(!1))}},$Te=()=>{const e=dt(),t=((a,s)=>{if(s)return`${a}_${s}`})("livechat_messages",W(Tt)),[n,r]=x.useState([]),o=!(()=>{var a,s,l,c,u,h;const p=W(d=>d.chatBox.agent);return(h=(u=(c=(l=(s=(a=p==null?void 0:p.config)==null?void 0:a.tools)==null?void 0:s.document_qa)==null?void 0:l.no_answer_action)==null?void 0:c.salesforce)==null?void 0:u.live_chat_options)==null?void 0:h.enabled})(),[i]=An(UTe);return x.useEffect(()=>{if(r([]),!t)return;let a,s=!0;return(async()=>{if(s)try{a=await FTe(t,async l=>{if(!s)return;const c=l;for(const u of c){VTe({dispatch:e,message:u,shouldCloseLiveChat:o});const h=HTe(u);await e(Wn(h)),u.senderType==="agent"&&await BTe(t,u.id)}},"asc")}catch(l){ee.error("Failed to setup Firebase subscription:",l)}})(),()=>{s=!1,a==null||a()}},[e,t,o,i]),n},qTe=()=>{const e=dt(),t=W(o=>o.chatBox.isLiveChatEnded),n=W(o=>o.chatBox.agent),r=W(Tt);return t?R("div",{className:"flex p-4 gap-16 items-center",children:R("button",{className:"bg-blue-500 hover:bg-blue-700 text-white py-2 px-4 rounded",onClick:async()=>{!r||n==null||!n.id||(await e(fo({threadId:r})),De.scrollToBottom(200))},children:"Start a new conversation"})}):null},WTe=()=>{const{mutate:e}=jq(),t=W(Tt),[n,r]=x.useState(void 0),o=W(a=>a.chatBox.showSearchBar),i=Wc(()=>{n&&t&&e({conversation_id:t,rating:n,comment:""})},1e3);return x.useEffect(()=>{i()},[i,n]),o?R(GTe,{className:"has-tooltip",children:R(tJ,{rating:n,setRating:r})}):null},GTe=tt("div",{target:"e1okewqg0"})({name:"3nezot",styles:"position:absolute;right:16px;bottom:-2px;width:120px"}),dw=e=>{var t,n,r,o;const i=(n=(t=De.containerRef)==null?void 0:t.current)==null?void 0:n.getBoundingClientRect(),a=(r=i==null?void 0:i.width)!=null?r:0,s=(o=i==null?void 0:i.height)!=null?o:0,{width:l,height:c}=(()=>{var p,d,f,g;return{height:(d=(p=window.visualViewport)==null?void 0:p.height)!=null?d:window.innerHeight,width:(g=(f=window.visualViewport)==null?void 0:f.width)!=null?g:window.innerWidth}})();let u=l-100,h=c-160;return e==="avataiWebRtc"&&(u=l-100,h=c-140),u=Math.max(u,a),h=Math.max(h,s),{maxWidth:u,maxHeight:h}},KTe=()=>{var e,t;const n=dt(),r=W(l=>l.chatBox.botMode),o=De.containerRef,i=W(l=>l.chatBox.resizingType),a=((t=(e=mt())==null?void 0:e.config)==null?void 0:t.avatai)||{},s=(l,c,u)=>{const{newWidth:h,newHeight:p}=((d,f,g)=>{var m,v;let y=d,b=f;switch(r){case"avataiWebRtc":case"avataiOnly":{const w=a.ratio||.6666666666666666,k=a.min_width||320,_=a.min_height||480,{maxWidth:O,maxHeight:E}=dw(r);g==="top"||g==="bottom"?(b=Math.min(Math.max(_,f),E),y=b*w,y>O&&(y=O,b=y/w)):(y=Math.min(Math.max(k,d),O),b=y/w,b>E&&(b=E,y=b*w)),y=Math.min(Math.max(k,y),O),b=Math.min(Math.max(_,b),E);break}case"avataiToggle":{const w=(v=(m=De.avatarVideoContainerRef)==null?void 0:m.current)==null?void 0:v.getBoundingClientRect();if(w){const k=w.width/w.height,{maxWidth:_,maxHeight:O}=dw(r);if(g==="top"||g==="bottom"){b=Math.min(Math.max(460,f),O);const E=_-b*k;E<400&&(b=(_-400)/k),y=Math.min(Math.max(400,d),E)}else y=Math.min(Math.max(400,d),_-w.width),b=Math.min(Math.max(460,f),O)}break}default:{const{maxWidth:w,maxHeight:k}=dw(r);y=Math.min(Math.max(400,y),w),b=Math.min(Math.max(250,b),k);break}}return{newWidth:y,newHeight:b}})(l,c,u??i);n(fge(h)),n(vge(h)),n(gge(p)),n(bge(p))};return{handleResize:l=>{var c;const u=(c=o==null?void 0:o.current)==null?void 0:c.getBoundingClientRect();if(!u)return;let h=u.width,p=u.height;switch(i){case"top":case"bottom":p=i==="top"?u.bottom-l.clientY:l.clientY-u.top,document.body.style.cursor="ns-resize";break;case"left":case"right":h=i==="left"?u.right-l.clientX:l.clientX-u.left,document.body.style.cursor="ew-resize";break;default:return void(document.body.style.cursor="auto")}s(h,p),window.dispatchEvent(new Event("resize"))},updateRect:()=>{var l,c,u;if(!Ht(r))return;const h=(l=o==null?void 0:o.current)==null?void 0:l.getBoundingClientRect();if(!h)return;const p=(u=(c=De.avatarVideoContainerRef)==null?void 0:c.current)==null?void 0:u.getBoundingClientRect();let d=i,f=!1;const{maxWidth:g,maxHeight:m}=dw(r);d||(r==="avataiWebRtc"?h.width>=g?(f=!0,d="left"):h.height>=m&&(f=!0,d="top"):r==="avataiToggle"&&p&&(h.width+p.width>=g?(f=!0,d="left"):h.height>=m&&(f=!0,d="top"))),f&&s(h.width,h.height,d)}}},pJ=_l("chat/initChatThunk",async(e,{dispatch:t,getState:n})=>{var r,o,i,a,s;const l=n(),c=l.chatBox.agent,u=l.chatBox.botMode;if(!c||(c==null?void 0:c.id)==="loading")return;let h=_i(l);for(;h!=null&&h.waitingForReply;){await new Promise(f=>setTimeout(f,1e3));const p=a8()[h.id];if(p!=null&&p.waitingForReply)continue;const d=r9(p==null?void 0:p.messages);d!=null&&d.done&&(h=p)}if(h){const p=l.chatBox.expiredTime;if(Gb(h,p))await t(fo({threadId:h.id}));else{if(t(l8(h)),h.chatAgentType==="liveChat"&&(t(YT("liveChat")),u==="searchBar"&&((i=(o=(r=c.config)==null?void 0:r.custom_style)==null?void 0:o.search_bar_config)!=null&&i.use_default_mode_for_live_chat?t(Ph(void 0)):t(bu({showSearchBar:!0})))),u==="avataiOnly")return;if(Ht(u)){let d=!1;d=u==="avataiWebRtc"||u==="avataiToggle"?!((a=h.stream_details)==null||!a.agora_app_id):!((s=h.stream_details)==null||!s.pull_stream_url),d||(Ol(),t(Ph(void 0)))}}}else{if(De.isGettingAvatarSession)return;t(wm())}}),YTe=()=>{var e,t,n;const r=mt(),o=dt(),{t:i}=Nr(),{mutateAsync:a}=fi(),{mutateAsync:s}=Ig(),l=W(N=>N.chatBox.showChatBox),c=W(Tt),u=W(N=>N.chatBox.isChurnControlEnabled),h=W(N=>N.chatBox.composedMessage),[p,d]=x.useState(!1),[f,g]=x.useState(!1),m=(e=r==null?void 0:r.config)==null?void 0:e.churn_control,v=(n=(t=r==null?void 0:r.config)==null?void 0:t.custom_style)==null?void 0:n.proceed_cancel_button,y=W(N=>{var L;return(L=N.chatBox.cancelParams.subscription)==null?void 0:L.cancel_function_name}),b=W(N=>{var L;return(L=N.chatBox.cancelParams.parameters)==null?void 0:L.cancel_function_arguments}),w=W(N=>{var L;return(L=N.chatBox.cancelParams.parameters)==null?void 0:L.twi}),k=W(N=>{var L;return(L=N.chatBox.cancelParams.subscription)==null?void 0:L.cancel_link}),_=typeof w=="string"&&w.startsWith("pause"),O=i(_?"proceed_pause_button":"proceed_cancel_button");x.useEffect(()=>{d(!1),g(!1)},[c]),x.useLayoutEffect(()=>{if(!l||!u)return;const N=setTimeout(()=>{v!=null&&v.do_not_change_opacity||d(!0)},(v==null?void 0:v.change_opacity_delay_ms)||3e3);return()=>clearTimeout(N)},[l,u,v]),x.useEffect(()=>{h&&g(!0)},[h]);const E=x.useMemo(()=>{const N=(v==null?void 0:v.min_opacity)||.5,L={"--button-bg":"var(--proceed-cancel-button-bg, #d1d5db)","--button-color":"var(--proceed-cancel-button-text-color, black)","--button-hover":"var(--proceed-cancel-button-hover-bg, rgba(188, 192, 197, 1))","--button-bd":"var(--proceed-cancel-button-border, none)",top:"var(--proceed-cancel-button-top, 80px)",right:"var(--proceed-cancel-button-right, 16px)",left:"var(--proceed-cancel-button-left, unset)",transition:"opacity 0.3s ease-in-out",fontWeight:"var(--proceed-cancel-button-font-weight, 600)",borderRadius:"var(--proceed-cancel-button-border-radius, 4px)",zIndex:50,opacity:p?N:1,position:"absolute"};return f&&!(v!=null&&v.show_after_user_typing)&&(L.opacity=0,L.zIndex=0),L},[p,f,v]);if(!u||m==null||!m.show_proceed_cancel_button)return null;const C=async(N=!1)=>{o(ia(!1)),a({event_name:"ChurnCancelNow"});const{text:L,command:j}=(()=>({text:_?"Proceed to Pause":"Proceed to Cancel",command:JSON.stringify({type:"livex",parameters:{action:"frontend_action",follow_up:"Thank you for your business. We hope to work with you in the future! 😊",intention:_?"pause":"cancel",is_livex_direct_cancel:!0}})}))();await o(oa({text:L,command:j})),N?await s({}):s({})};return R(Zn,{style:E,onClick:async()=>{if(c&&window.livexChatbot){if(!k&&!y)return window.alert("We apologize, but the `Cancel Now` button is temporarily unavailable. Please continue with the conversation to process your subscription changes."),void window.console.error("No cancel function name or link provided");if(k)await C(!0),window.location.href=k;else if(y)await JB({functionName:y,functionArguments:b}),await C(!0);else{const N="No cancel function name or link provided";a({event_name:Lt.ChatbotError,note:N}),window.console.error(N)}}},children:O})},mJ=()=>typeof window<"u"&&"caches"in window;var QTe=Object.defineProperty,XTe=Object.defineProperties,JTe=Object.getOwnPropertyDescriptors,fJ=Object.getOwnPropertySymbols,ZTe=Object.prototype.hasOwnProperty,e8e=Object.prototype.propertyIsEnumerable,gJ=(e,t,n)=>t in e?QTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,t8e=(e,t)=>{for(var n in t||(t={}))ZTe.call(t,n)&&gJ(e,n,t[n]);if(fJ)for(var n of fJ(t))e8e.call(t,n)&&gJ(e,n,t[n]);return e},n8e=(e,t)=>XTe(e,JTe(t));const vJ=({url:e,cacheName:t="video-cache",enableCache:n=!0,cacheTimeMinutes:r=30})=>{const[o,i]=x.useState(null),[a,s]=x.useState(!0),[l,c]=x.useState(null),u=x.useRef(null),h=x.useCallback(async()=>{if(e){if(!n)return ee.log("[VideoCache] Caching disabled, using direct URL"),void i(e);if(!mJ())return ee.log("[VideoCache] Cache API not supported, falling back to direct URL"),void i(e);ee.log("[VideoCache] Starting video cache process for:",e),s(!0),c(null),u.current&&(ee.log("[VideoCache] Cancelling previous request"),Ia.abort(u.current)),u.current=Ia.createController();try{const p=await caches.open(t);ee.log("[VideoCache] Opened cache:",t);const d=await p.match(e);if(d){const b=d.headers.get("x-cache-timestamp");if(b&&!(Date.now()-parseInt(b,10)>60*r*1e3)){ee.log("[VideoCache] Found valid cached video, creating blob URL");const w=await d.blob(),k=URL.createObjectURL(w);return i(k),s(!1),void ee.log("[VideoCache] Using cached video:",k)}ee.log("[VideoCache] Cached video expired, removing from cache"),await p.delete(e)}ee.log("[VideoCache] Video not cached, fetching from network");const f=await fetch(e,{signal:u.current.signal});if(!f.ok)throw new Error(`Failed to fetch video: ${f.status} ${f.statusText}`);ee.log("[VideoCache] Video fetched successfully, caching response");const g=f.clone(),m=new Response(g.body,{status:g.status,statusText:g.statusText,headers:n8e(t8e({},Object.fromEntries(g.headers.entries())),{"x-cache-timestamp":Date.now().toString()})});await p.put(e,m),ee.log("[VideoCache] Video cached successfully with timestamp");const v=await f.blob(),y=URL.createObjectURL(v);i(y),c(null),ee.log("[VideoCache] Created blob URL for immediate use:",y)}catch(p){if(p instanceof Error&&p.name==="AbortError")return void ee.log("[VideoCache] Request was cancelled");ee.warn("[VideoCache] Video caching failed, falling back to direct URL:",p),i(e),c(p instanceof Error?p.message:"Unknown error")}finally{s(!1)}}else ee.log("[VideoCache] No URL provided, skipping cache")},[e,t,n,r]);return x.useEffect(()=>(ee.log("[VideoCache] useEffect triggered"),h(),()=>{ee.log("[VideoCache] Cleanup: aborting request"),u.current&&Ia.abort(u.current)}),[h]),x.useEffect(()=>()=>{o&&o.startsWith("blob:")&&(URL.revokeObjectURL(o),ee.log("[VideoCache] Cleanup: revoked blob URL:",o))},[o]),{cachedUrl:o,isLoading:a,error:l,refetch:async()=>{if(ee.log("[VideoCache] Refetching video"),mJ()&&n)try{await(await caches.open(t)).delete(e),ee.log("[VideoCache] Cleared existing cache entry")}catch(p){ee.warn("[VideoCache] Failed to clear cache entry:",p)}await h()}}};var r8e=Object.defineProperty,o8e=Object.defineProperties,i8e=Object.getOwnPropertyDescriptors,bJ=Object.getOwnPropertySymbols,a8e=Object.prototype.hasOwnProperty,s8e=Object.prototype.propertyIsEnumerable,yJ=(e,t,n)=>t in e?r8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wJ=(e,t)=>{for(var n in t||(t={}))a8e.call(t,n)&&yJ(e,n,t[n]);if(bJ)for(var n of bJ(t))s8e.call(t,n)&&yJ(e,n,t[n]);return e},kJ=(e,t)=>o8e(e,i8e(t));const xJ=()=>{var e,t;const n=mt(),r=((t=(e=n==null?void 0:n.config)==null?void 0:e.avatai)==null?void 0:t.done_video_urls[0])||"",{videoStyle:o,videoContainerStyle:i}=hu(),a=W(h=>h.chatBox.showDoneVideo),{cachedUrl:s,isLoading:l,error:c}=vJ({url:r,cacheName:"done-video-cache",enableCache:!!r});if(!r||!a)return null;if(l)return R("div",{id:"done-video-container",style:kJ(wJ({},i),{zIndex:1}),children:R("div",{style:kJ(wJ({},o),{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.1)",color:"rgba(255, 255, 255, 0.7)",fontSize:"14px"}),children:"Loading video..."})});c&&ee.warn("[DoneVideo] video caching error:",c);const u=s||r;return ee.log("[DoneVideo] videoSrc:",u),R("div",{id:"done-video-container",style:i,children:R("video",{id:"done-video",autoPlay:!0,muted:!0,playsInline:!0,controls:!1,loop:!0,style:o,src:u,preload:"auto"})})};let Pi;const _J=()=>{localStorage.getItem("agora_debug")||window.AgoraRTC.setLogLevel(4),Pi=window.AgoraRTC.createClient({mode:"rtc",codec:"vp8"})},TJ=x.memo(()=>{var e;const t=dt(),n=W(H=>H.chatBox.botMode),r=W(H=>H.chatBox.chatBoxWidth),o=W(H=>H.chatBox.showChatBox),i=W(H=>H.chatBox.isAvatarSpeaking),a=W(H=>H.chatBox.isMicOn),s=W(H=>H.chatBox.botVoiceEnabled),[l,c]=x.useState(!1),[u,h]=x.useState(!1),p=x.useRef(null),d=x.useRef(null),f=x.useRef(null),g=x.useRef(null),m=x.useRef(!1),v=x.useRef("DISCONNECTED"),y=x.useRef(!1),b=r8(),w=mt(),k=o,_=(e=w==null?void 0:w.config)==null?void 0:e.avatai,O=W(H=>H.chat.messagesUpdatedAt);x.useEffect(()=>{if(l)return;const H=(async()=>{if(window.AgoraRTC)return _J(),void c(!0);const F=document.createElement("script");return F.src="https://download.agora.io/sdk/release/AgoraRTC_N-4.23.0.js",F.async=!0,F.onload=()=>{_J(),c(!0)},document.body.appendChild(F),()=>{document.body.removeChild(F)}})();return()=>{H==null||H.then(F=>F==null?void 0:F())}},[l]),x.useEffect(()=>{if(_!=null&&_.use_transparent_background&&l&&d.current&&!u){const H=(async()=>{if(window.VirtualBackgroundExtension)return void h(!0);const F=document.createElement("script");return F.src="https://dv.copilot.livex.ai/api/v1/users/static/avatai/agora-extension-virtual-background.js",F.async=!0,F.onload=()=>{const z=new window.VirtualBackgroundExtension;if(!z.checkCompatibility())return void window.console.error("Does not support Virtual Background!");window.AgoraRTC.registerExtensions([z]);const B=z.createProcessor();f.current=B,(async()=>(await B.init(),await B.setOptions({type:"color",color:"transparent"}),await B.enable(),d.current&&d.current.pipe(B).pipe(d.current.processorDestination)))(),h(!0)},document.body.appendChild(F),()=>{document.body.removeChild(F)}})();return()=>{H==null||H.then(F=>F==null?void 0:F())}}},[l,u,_]);const E=x.useCallback(async(H,F)=>{try{await H.play(F),F.addEventListener("playing",()=>{ee.log("[WebRtcVideo] setShowDoneVideo(false) called from: video playing event"),t(Yl(!1))},{once:!0})}catch(z){window.console.error("Failed to play video track:",z),setTimeout(()=>E(H,F),1e3)}},[t]),C=x.useCallback(async(H,F,z,B)=>{if(!d.current&&v.current!=="CONNECTING")try{v.current="CONNECTING",Pi.setLowStreamParameter({width:1280,height:720,framerate:30,bitrate:1500}),Pi.on("connection-state-change",U=>{v.current=U,U==="DISCONNECTED"&&t(Yl(!0))});const V=async(U,S)=>{if(p.current){if(S==="video"){const q=await Pi.subscribe(U,S);d.current=q,p.current&&await E(q,p.current)}S==="audio"&&((await Pi.subscribe(U,S)).play(),Pi.enableAudioVolumeIndicator(),Pi.on("volume-indicator",q=>{q.forEach(P=>{P.uid===U.uid&&t(xi(P.level>5))})}))}};Pi.on("user-published",V),Pi.on("exception",U=>{window.console.error("Agora exception:",U)}),await Pi.join(H,F,z,B)}catch(V){window.console.error("Failed to join Agora channel:",V),v.current="DISCONNECTED",setTimeout(()=>C(H,F,z,B),2e3)}},[t,E]),N=x.useCallback(async()=>{if(t(Yl(!0)),(d.current||v.current!=="DISCONNECTED")&&!y.current){y.current=!0;try{d.current&&(d.current.unpipe(),f.current&&f.current.unpipe()),Pi.removeAllListeners(),await Pi.leave(),d.current=null,t(xi(!1)),v.current="DISCONNECTED"}catch(H){window.console.error("Failed to leave Agora channel:",H)}finally{y.current=!1}}},[t]);x.useEffect(()=>{if(l&&k&&s){if(!(b!=null&&b.agora_app_id&&b!=null&&b.agora_channel&&b!=null&&b.agora_token&&b!=null&&b.uid))return void(v.current==="CONNECTED"&&Ld.clearSession());C(b.agora_app_id,b.agora_channel,b.agora_token,b.uid),De.avatarPlayer={play:()=>{},reload:()=>{},destroy:()=>{N()}}}},[C,N,b,k,l,s]),x.useEffect(()=>()=>{d.current&&(y.current||N())},[N]),x.useEffect(()=>{l&&(!k||!Ht(n)||!s)&&(y.current||N())},[N,n,k,l,s]),x.useEffect(()=>{var H;if(!o||!b)return;const F=(H=De.chatWrapperRef)==null?void 0:H.current;if(!F)return;const z=()=>{m.current=!0,g.current&&(clearInterval(g.current),g.current=null)};return F.addEventListener("wheel",z),F.addEventListener("touchmove",z),()=>{F.removeEventListener("wheel",z),F.removeEventListener("touchmove",z)}},[o,b]),x.useLayoutEffect(()=>{var H,F;m.current=!1;const z=(H=De.chatWrapperRef)==null?void 0:H.current,B=(F=De.lastBotMessageRef)==null?void 0:F.current;if(!z||!B)return;const V=B.getBoundingClientRect(),U=UU(V.width);return i&&!m.current?g.current=setInterval(()=>{z.scrollTop+=1},U):g.current&&(clearInterval(g.current),g.current=null),()=>{g.current&&clearInterval(g.current)}},[i,r,O]);const{videoStyle:L,videoContainerStyle:j}=hu();return l?ce(or,{children:[R(xJ,{}),R("div",{id:"avatai-rtc-video-container",style:j,children:R("video",{ref:p,id:"avatai-rtc-video",controls:!1,playsInline:!0,style:L,muted:a})})]}):null});var l8e=Object.defineProperty,SJ=Object.getOwnPropertySymbols,c8e=Object.prototype.hasOwnProperty,u8e=Object.prototype.propertyIsEnumerable,EJ=(e,t,n)=>t in e?l8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d8e=(e,t)=>{for(var n in t||(t={}))c8e.call(t,n)&&EJ(e,n,t[n]);if(SJ)for(var n of SJ(t))u8e.call(t,n)&&EJ(e,n,t[n]);return e};const h8e=x.memo(()=>{const e=dt(),t=W(y=>y.chatBox.isMicOn),n=qb(),r=yR(),o=r==null?void 0:r.welcome_video_urls,i=W(y=>y.chatBox.showChatBox),a=W(y=>y.chatBox.botMode),s=x.useRef(null),[l,c]=x.useState(null),u=x.useRef(null),h=x.useRef(null),p=du(),d=W(y=>y.chatBox.videoAutoPlayStatus);x.useLayoutEffect(()=>{De.avatarVideoContainerRef=s},[]),x.useEffect(()=>{Ht(a)&&(ee.log("[BackgroundVideoHoc] setShowDoneVideo(true) called from: botMode effect"),e(Yl(!0)))},[e,a]),x.useEffect(()=>{if(o&&o.length>0){const y=Math.floor(Math.random()*o.length),b=o[y];c(b)}},[o]);const f=x.useCallback(()=>{u.current&&(u.current.style.display="none")},[]),g=x.useCallback(async()=>{if(u.current&&document.contains(u.current))try{h.current&&h.current.catch(()=>{}),h.current=u.current.play(),await h.current,h.current=null}catch(y){y instanceof Error&&y.name!=="AbortError"&&(y.name==="NotAllowedError"?e(JT("needUserInteraction")):window.console.error("Error playing welcome video in BackgroundVideoHoc:",y)),h.current=null}},[e]),m=i&&!n&&l&&!p;x.useEffect(()=>{m&&g()},[m,g]),x.useEffect(()=>{d==="canAutoPlay"&&g()},[d,g]),x.useEffect(()=>()=>{h.current=null},[]);const{style:v}=hu();return Ht(a)&&a!=="avataiOnly"?R(x.Suspense,{fallback:R("div",{children:"Loading video player..."}),children:ce("div",{ref:s,style:d8e({},v),children:[m&&R("video",{ref:u,playsInline:!0,controls:!1,style:{position:"absolute",width:"100%",height:"100%",objectFit:"cover",zIndex:3},muted:t,onEnded:f,children:R("source",{src:l,type:"video/mp4"})}),(a==="avataiWebRtc"||a==="avataiToggle")&&R(TJ,{})]})}):(Ol(),null)});function p8e(e){return pt({attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 16c-2.137 0-4.146-0.832-5.657-2.343s-2.343-3.52-2.343-5.657c0-1.513 0.425-2.986 1.228-4.261 0.781-1.239 1.885-2.24 3.193-2.895l0.672 1.341c-1.063 0.533-1.961 1.347-2.596 2.354-0.652 1.034-0.997 2.231-0.997 3.461 0 3.584 2.916 6.5 6.5 6.5s6.5-2.916 6.5-6.5c0-1.23-0.345-2.426-0.997-3.461-0.635-1.008-1.533-1.822-2.596-2.354l0.672-1.341c1.308 0.655 2.412 1.656 3.193 2.895 0.803 1.274 1.228 2.748 1.228 4.261 0 2.137-0.832 4.146-2.343 5.657s-3.52 2.343-5.657 2.343z"},child:[]}]})(e)}var m8e=Object.defineProperty,f8e=Object.defineProperties,g8e=Object.getOwnPropertyDescriptors,hw=Object.getOwnPropertySymbols,CJ=Object.prototype.hasOwnProperty,OJ=Object.prototype.propertyIsEnumerable,PJ=(e,t,n)=>t in e?m8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const rE={xs:{padding:"6px 12px",fontSize:"12px",spinnerSize:12},sm:{padding:"8px 16px",fontSize:"14px",spinnerSize:14},md:{padding:"12px 24px",fontSize:"16px",spinnerSize:16},lg:{padding:"16px 32px",fontSize:"18px",spinnerSize:18},xl:{padding:"20px 40px",fontSize:"20px",spinnerSize:20}},v8e=e=>{var t=e,{title:n,loading:r,loadingMessage:o,color:i="rgba(248, 249, 250, 0.80)",size:a="md",style:s}=t,l=((d,f)=>{var g={};for(var m in d)CJ.call(d,m)&&f.indexOf(m)<0&&(g[m]=d[m]);if(d!=null&&hw)for(var m of hw(d))f.indexOf(m)<0&&OJ.call(d,m)&&(g[m]=d[m]);return g})(t,["title","loading","loadingMessage","color","size","style"]);const{t:c}=Nr(),u=rE[a].spinnerSize,h=s?zi(s):{};h.opacity=r?.7:1;const p=x.useMemo(()=>r?ce(or,{children:[R(p8e,{className:"spinner",style:{width:u,height:u,flexShrink:0}}),R("span",{children:o||c("loading")})]}):R("span",{style:{whiteSpace:"nowrap"},children:n||""}),[r,n,u,o,c]);return ce(b8e,((d,f)=>f8e(d,g8e(f)))(((d,f)=>{for(var g in f||(f={}))CJ.call(f,g)&&PJ(d,g,f[g]);if(hw)for(var g of hw(f))OJ.call(f,g)&&PJ(d,g,f[g]);return d})({color:i,size:a,disabled:r,style:h},l),{children:[!r&&R(Qme,{style:{width:u,height:u,flexShrink:0}}),p]}))},b8e=tt("button",{target:"e1rn4k6n0"})("padding:",e=>rE[e.size||"md"].padding,";color:",e=>er(e.color||"#007bff"),";border:1px solid transparent;border-radius:16px;background:",e=>{const t=e.color||"#007bff";return`var(--click-to-chat-background, linear-gradient(${t}, ${t}) padding-box, var(--gradient-border-main, linear-gradient(to top, #424242, #ffffff)) border-box)`},";cursor:",e=>e.loading?"wait":"pointer",";font-size:",e=>rE[e.size||"md"].fontSize,";font-weight:400;z-index:1;display:flex;align-items:center;justify-content:center;gap:8px;backdrop-filter:blur(10px);text-align:center;min-height:52px;&:hover:not(:disabled){background:",e=>{const t=e.color||"#007bff",n=ku(.1,t,"StyledButton.background");return`var(--click-to-chat-hover-background, linear-gradient(${n}, ${n}) padding-box, var(--gradient-border-main, linear-gradient(to top, #424242, #ffffff)) border-box)`},";}&:disabled{cursor:not-allowed;opacity:0.5;}.spinner{animation:spin 1s linear infinite;}@keyframes spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}");var y8e=Object.defineProperty,w8e=Object.defineProperties,k8e=Object.getOwnPropertyDescriptors,AJ=Object.getOwnPropertySymbols,x8e=Object.prototype.hasOwnProperty,_8e=Object.prototype.propertyIsEnumerable,NJ=(e,t,n)=>t in e?y8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oE=(e,t)=>{for(var n in t||(t={}))x8e.call(t,n)&&NJ(e,n,t[n]);if(AJ)for(var n of AJ(t))_8e.call(t,n)&&NJ(e,n,t[n]);return e},iE=(e,t)=>w8e(e,k8e(t));const T8e=()=>{var e,t;const n=dt(),r=mt(),o=W(C=>C.chatBox.isWelcomeVideoPlayed),i=((t=(e=r==null?void 0:r.config)==null?void 0:e.avatai)==null?void 0:t.welcome_video_urls[0])||"",{videoStyle:a,videoContainerStyle:s}=hu(),l=x.useRef(null),c=W(C=>C.chatBox.clickToStartClicked),u=W(C=>C.chatBox.skipWelcomeVideo),h=Wl(),p=W(C=>C.chatBox.showChatBox),[d,f]=x.useState(!1),g=x.useRef(null),m=W(C=>C.chatBox.botVoiceEnabled),{cachedUrl:v,isLoading:y,error:b}=vJ({url:i,cacheName:"welcome-video-cache",enableCache:d&&!!i});x.useEffect(()=>{c&&i&&!o&&!u&&!d&&f(!0)},[c,i,o,u,d]);const w=x.useCallback(async()=>{if(l.current)try{ee.log("[WelcomeVideo] Attempting to play video"),g.current&&g.current.catch(()=>{}),g.current=l.current.play(),await g.current,g.current=null,ee.log("[WelcomeVideo] Video started playing successfully")}catch(C){C instanceof Error&&C.name!=="AbortError"?ee.error("[WelcomeVideo] Error playing welcome video:",C):ee.log("[WelcomeVideo] Play request was cancelled (AbortError)"),g.current=null}else ee.log("[WelcomeVideo] Video ref not available for playing")},[]),k=x.useCallback((C=10,N=300)=>{let L=0;const j=()=>{if(!(L>=C))return l.current?l.current.isConnected?l.current.readyState<2?(ee.log(`[WelcomeVideo] Video not ready (readyState: ${l.current.readyState}), retry ${L+1}/${C}`),L++,void setTimeout(j,N)):(ee.log("[WelcomeVideo] Video element ready, attempting to play"),void w()):(ee.log(`[WelcomeVideo] Video element not connected to DOM, retry ${L+1}/${C}`),L++,void setTimeout(j,N)):(ee.log(`[WelcomeVideo] Video ref not available, retry ${L+1}/${C}`),L++,void setTimeout(j,N));ee.log("[WelcomeVideo] Max retries reached, giving up on playing video")};setTimeout(j,100)},[w]),_=x.useCallback(()=>{l.current&&l.current.isConnected&&(l.current.pause(),l.current.currentTime=0),g.current=null},[]),O=x.useCallback(()=>{ee.log("[WelcomeVideo] Video loaded, checking if should play"),p&&!o&&c&&!u&&(ee.log("[WelcomeVideo] Conditions met after video load, playing video"),k())},[p,o,c,u,k]),E=v||i;return x.useEffect(()=>{l.current&&E?(ee.log("[WelcomeVideo] Video control check:",{showChatBox:p,isWelcomeVideoPlayed:o,clickToStartClicked:c,skipWelcomeVideo:u,hasVideoSrc:!!E,videoSrc:E.substring(0,50)+"..."}),p&&!o&&c&&!u?(ee.log("[WelcomeVideo] Conditions met, playing video"),k()):(ee.log("[WelcomeVideo] Conditions not met, pausing video"),_())):ee.log("[WelcomeVideo] Video control: video element or video source not available")},[p,o,c,u,E,w,_,k]),x.useEffect(()=>{o||h&&l.current&&(_(),n(ZT(!0)))},[n,h,o,_]),x.useEffect(()=>()=>{g.current=null},[]),!i||o||!c||u?null:y?R("div",{id:"welcome-video-container",style:iE(oE({},s),{zIndex:2}),children:R("div",{style:iE(oE({},a),{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.1)",color:"rgba(255, 255, 255, 0.7)",fontSize:"14px"}),children:"Loading welcome video..."})}):(b&&ee.warn("[WelcomeVideo] Welcome video caching error:",b),R("div",{id:"welcome-video-container",style:iE(oE({},s),{zIndex:2}),children:R("video",{id:"welcome-video",ref:l,playsInline:!0,controls:!1,style:a,src:E,preload:"auto",muted:!m,onEnded:()=>n(ZT(!0)),onLoadedData:O})}))};var S8e=Object.defineProperty,aE=(e,t,n)=>((r,o,i)=>o in r?S8e(r,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[o]=i)(e,typeof t!="symbol"?t+"":t,n);class E8e{constructor(t=mu){aE(this,"queue",""),aE(this,"currentId",null),aE(this,"idGenerator"),this.idGenerator=t}processChunk(t){const n=[];return t&&(this.currentId?(this.queue+=t,n.push({id:this.currentId,text:this.queue,done:!1})):(this.currentId=this.idGenerator(),this.queue=t,n.push({id:this.currentId,text:this.queue,done:!1}))),n}flush(){if(!this.currentId)return[];const t={id:this.currentId,text:this.queue,done:!0};return this.queue="",this.currentId=null,[t]}getCurrentId(){return this.currentId}}var C8e=Object.defineProperty,RJ=(e,t,n)=>((r,o,i)=>o in r?C8e(r,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[o]=i)(e,typeof t!="symbol"?t+"":t,n);class O8e{constructor(){RJ(this,"jsonParts",{}),RJ(this,"isCollecting",{})}processMessage(t){var n;const r=t.mid,o=t.idx,i=t.fin,a=(n=t.pld)==null?void 0:n.extra_data;return!r||typeof o!="number"||o<0?(ee.error("JsonResponseAssembler: Invalid message format - missing or invalid messageId or idx:",{messageId:r,idx:o}),null):a&&a.json_response!==void 0&&(this.isCollecting[r]||(this.isCollecting[r]=!0,this.jsonParts[r]={},ee.log("JsonResponseAssembler: Started collecting JSON response for messageId:",r)),this.jsonParts[r][o]=a.json_response,i)?this.assembleJson(r):null}assembleJson(t){const n=this.jsonParts[t];if(!n)return null;const r=Object.keys(n).map(Number).filter(i=>!isNaN(i)&&i>=0).sort((i,a)=>i-a);if(ht(r))return ee.error("JsonResponseAssembler: No valid fragments found for messageId:",t),this.cleanup(t),null;let o="";for(const i of r)o+=n[i];delete this.jsonParts[t],delete this.isCollecting[t];try{const i=JSON.parse(o);return ee.log("JsonResponseAssembler: Successfully assembled JSON response for messageId:",t),i}catch(i){return ee.error("JsonResponseAssembler: JSON parsing failed:",i,"for messageId:",t),null}}cleanup(t){delete this.jsonParts[t],delete this.isCollecting[t]}cleanupAll(){this.jsonParts={},this.isCollecting={}}}var P8e=Object.defineProperty,IJ=Object.getOwnPropertySymbols,A8e=Object.prototype.hasOwnProperty,N8e=Object.prototype.propertyIsEnumerable,MJ=(e,t,n)=>t in e?P8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sE=(e,t)=>{for(var n in t||(t={}))A8e.call(t,n)&&MJ(e,n,t[n]);if(IJ)for(var n of IJ(t))N8e.call(t,n)&&MJ(e,n,t[n]);return e};const R8e=()=>{const e=dt(),t=W(Tt),n=x.useRef(new E8e(mu)),r=x.useRef(new O8e),o=x.useRef(null);return x.useCallback((i,a)=>{try{const s=(f=>{const g=new TextDecoder().decode(f);if(g.trim())try{const m=JSON.parse(g);return{version:m.v,type:m.type,mid:m.mid,idx:m.idx,fin:m.fin,payload:m.pld}}catch(m){return void ee.error("Failed to parse message as JSON:",{error:m,message:g})}else ee.warn("Received empty message")})(a);if(ee.log("useOnStreamMessageHandler parsedMessage:",s),!s)return;const{version:l,type:c,mid:u,idx:h,fin:p,payload:d}=s;if(l!==2)return void ee.error(`unsupported message version, v=${l}`);switch(c){case"cmd":{const{cmd:f,code:g,msg:m}=d;g!==1e3&&ee.error(`cmd-response, cmd=${f}, code=${g}, msg=${m}`);break}case"event":{const{event:f}=d;switch(f){case"audio_start":e(xi(!0));break;case"audio_end":e(xi(!1))}break}case"chat":{const{text:f,from:g,extra_data:m}=d;if(g==="user")e(Wn({type:g,text:f,id:mu(),done:!0})),e(Ti({threadId:t,waiting:!0}));else if((m==null?void 0:m.json_response)!==void 0){const v=n.current.getCurrentId();v&&(o.current=v),n.current.flush().forEach(b=>e(Wn(sE({type:"bot"},b))));const y=r.current.processMessage({mid:u,idx:h,fin:p,pld:{extra_data:m}});if(y){ee.log("Received complete LiveX JSON response:",y);const b=sE({type:"bot",id:o.current,done:!0},y);e(Wn(b)),o.current=null}}else n.current.processChunk(f).forEach(v=>{const y=sE({type:"bot",format:"markdown"},v);e(Wn(y))}),e(Ti({threadId:t,waiting:!1}));break}}}catch(s){ee.error("Error processing stream message: ",s)}},[e,t])},I8e=x.memo(()=>{const e=dt(),t=W(P=>P.chatBox.chatBoxWidth),n=W(P=>P.chatBox.showChatBox),r=W(P=>P.chatBox.isAvatarSpeaking),o=W(P=>P.chatBox.isMicOn),[i,a]=x.useState(!1),{joinChat:s}=Eb(),l=x.useRef(s),c=x.useRef(null),u=x.useRef(null),h=x.useRef(null),p=x.useRef(null),d=x.useRef(!1),f=x.useRef("DISCONNECTED"),g=x.useRef(!1),m=r8(),v=n,y=x.useRef(()=>{}),{isV2Avatar:b}=Nl(),w=fT(),k=x.useRef(b),_=x.useRef(W(P=>P.chatBox.botVoiceEnabled)),{onConnectButtonClicked:O}=ra(),E=W(Tt),C=R8e(),N=W(P=>P.chat.messagesUpdatedAt),L=W(P=>P.chatBox.botVoiceEnabled);x.useEffect(()=>{l.current=s},[s]),x.useEffect(()=>{if(i)return;const P=(async()=>{if(window.AgoraRTC)return ee.log("WebRtcVideoV4 useEffect window.AgoraRTC is true, skipping loadAgoraScript"),Xn(),void a(!0);const Q=document.createElement("script");return Q.src="https://download.agora.io/sdk/release/AgoraRTC_N-4.23.4.js",Q.async=!0,Q.onload=()=>{ee.log("WebRtcVideoV4 useEffect script.onload getSharedAgoraClient"),Xn(),a(!0)},document.body.appendChild(Q),()=>{document.body.removeChild(Q)}})();return()=>{P==null||P.then(Q=>Q==null?void 0:Q())}},[i]);const j=x.useCallback(async(P,Q)=>{try{Q.addEventListener("playing",()=>{ee.log("[WebRtcVideoV4] setShowDoneVideo(false) called from: video playing event"),e(Yl(!1))},{once:!0}),await P.play(Q)}catch(re){window.console.error("Failed to play video track:",re),re.name!=="AbortError"&&document.contains(Q)&&setTimeout(()=>j(P,Q),1e3)}},[e]),H=x.useCallback(async()=>{if(window.console.log("Server disconnected - cleaning up session state"),e(Yl(!0)),e(xi(!1)),e(Sm(null)),await Ld.clearSession(),f.current="DISCONNECTED",u.current=null,p.current&&(clearInterval(p.current),p.current=null),b&&E&&w)try{window.console.log("Triggering LiveKit fallback for V2Avatar mode"),await O(E)}catch(P){window.console.error("Failed to initiate LiveKit fallback after server disconnection:",P)}},[e,O,b,E,w]),F=x.useRef(!1),z=x.useCallback(async(P,Q,re,_e)=>{if(F.current)return;if(F.current=!0,u.current||f.current==="CONNECTING")return void(F.current=!1);ee.log("WebRtcVideoV4 joinChannel getSharedAgoraClient");const se=await Xn();if(se)try{f.current="CONNECTING",se.on("connection-state-change",fe=>{f.current=fe,fe==="DISCONNECTED"&&H()});const ue=async(fe,je)=>{if(c.current){if(je==="video"){k.current&&(ee.log("WebRtcVideoV4 onUserPublish joinChat"),l.current());try{const Qe=await se.subscribe(fe,je);u.current=Qe,c.current?await j(Qe,c.current):window.console.error("Video element not found")}catch(Qe){window.console.error("onUserPublish: Error subscribing to video track:",Qe)}}if(je==="audio")try{const Qe=await se.subscribe(fe,je);_.current&&Qe.play(),se.enableAudioVolumeIndicator(),se.on("volume-indicator",Xe=>{Xe.forEach(ie=>{ie.uid===fe.uid&&e(xi(ie.level>5))})})}catch(Qe){window.console.error("onUserPublish: Error subscribing to audio track:",Qe)}}else window.console.error("Video element not found")};se.on("user-published",ue),se.on("user-unpublished",()=>{}),se.on("exception",fe=>{const je=fe.code;je===2003||je===4003||window.console.error("Agora exception:",fe)}),se.on("stream-message",C),await se.join(P,Q,re,_e)}catch(ue){return await y.current(),f.current="DISCONNECTED",window.console.error("Failed to join Agora channel:",JSON.stringify(ue)),ue instanceof Error&&ue.message.includes("UID_BANNED")?(Ld.clearSession(),void(F.current=!1)):(F.current=!1,void setTimeout(()=>z(P,Q,re,_e),2e3))}finally{F.current=!1}else F.current=!1},[e,H,j,C]),B=x.useCallback(async()=>{if(e(Yl(!0)),!u.current&&f.current==="DISCONNECTED"||g.current)return;ee.log("WebRtcVideoV4 leaveChannel getSharedAgoraClient");const P=await Xn();if(P){g.current=!0;try{u.current&&(await u.current.stop(),u.current.unpipe(),h.current&&h.current.unpipe()),P.removeAllListeners(),await P.leave(),u.current=null,e(xi(!1)),f.current="DISCONNECTED"}catch(Q){window.console.error("Failed to leave Agora channel:",Q)}finally{g.current=!1}}},[e]),V=x.useCallback(async()=>{m==null||!m.agora_app_id||m==null||!m.agora_channel||m==null||!m.agora_token||m==null||!m.uid||(await z(m.agora_app_id,m.agora_channel,m.agora_token,m.uid),ee.log("WebRtcVideoV4 handleManualJoin joinChat"),await l.current())},[m,z]),U=x.useCallback(async()=>{await y.current()},[]);x.useEffect(()=>{y.current=B},[B]),x.useEffect(()=>{i&&(v?m!=null&&m.agora_app_id&&(m!=null&&m.agora_channel)&&(m!=null&&m.agora_token)&&(m!=null&&m.uid)?(f.current==="DISCONNECTED"&&(async()=>(await z(m.agora_app_id,m.agora_channel,m.agora_token,Number(m.uid)),ee.log("WebRtcVideoV4 DISCONNECTED joinChat"),await l.current()))(),De.avatarPlayer={play:()=>{},reload:()=>{},destroy:()=>{y.current()}}):f.current!=="DISCONNECTED"&&(y.current(),Ld.clearSession()):f.current!=="DISCONNECTED"&&y.current())},[i,v,m==null?void 0:m.agora_app_id,m==null?void 0:m.agora_channel,m==null?void 0:m.agora_token,m==null?void 0:m.uid,e,z]),x.useEffect(()=>{var P;if(!n||!m)return;const Q=(P=De.chatWrapperRef)==null?void 0:P.current;if(!Q)return;const re=()=>{d.current=!0,p.current&&(clearInterval(p.current),p.current=null)};return Q.addEventListener("wheel",re),Q.addEventListener("touchmove",re),()=>{Q.removeEventListener("wheel",re),Q.removeEventListener("touchmove",re)}},[n,m]),x.useLayoutEffect(()=>{var P,Q;d.current=!1;const re=(P=De.chatWrapperRef)==null?void 0:P.current,_e=(Q=De.lastBotMessageRef)==null?void 0:Q.current;if(!re||!_e)return;const se=_e.getBoundingClientRect(),ue=UU(se.width);return r&&!d.current?p.current=setInterval(()=>{re.scrollTop+=1},ue):p.current&&(clearInterval(p.current),p.current=null),()=>{p.current&&clearInterval(p.current)}},[r,t,N]),x.useEffect(()=>{_.current=L},[L]);const{videoStyle:S,videoContainerStyle:q}=hu();return i?ce(or,{children:[R(lu,{shadow:"md",p:"xs",style:{position:"fixed",top:"70px",right:"10px",zIndex:1e3,backgroundColor:"rgba(0, 0, 0, 0.8)",color:"white",display:"none"},children:ce(Or,{gap:"xs",children:[R(Zn,{size:"xs",color:"green",onClick:V,children:"Join Channel"}),R(Zn,{size:"xs",color:"red",onClick:U,children:"Leave Channel"}),ce(qn,{size:"xs",ta:"center",c:"dimmed",children:["Status: ",f.current]})]})}),R(xJ,{}),R("div",{id:"avatai-rtc-video-container",style:q,children:R("video",{ref:c,id:"avatai-rtc-video",controls:!1,playsInline:!0,style:S,muted:o})})]}):null});var M8e=Object.defineProperty,LJ=Object.getOwnPropertySymbols,L8e=Object.prototype.hasOwnProperty,D8e=Object.prototype.propertyIsEnumerable,DJ=(e,t,n)=>t in e?M8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,j8e=(e,t)=>{for(var n in t||(t={}))L8e.call(t,n)&&DJ(e,n,t[n]);if(LJ)for(var n of LJ(t))D8e.call(t,n)&&DJ(e,n,t[n]);return e};const z8e=x.memo(()=>{const e=W(v=>v.chatBox.botMode),{initiateSession:t,isPending:n}=ym(),r=W(v=>v.chatBox.triedToGetAvataiSession),{style:o}=hu(),i=Pm(),a=(()=>{var v;const{t:y}=Nr(),b=U9(),w=((v=b==null?void 0:b.avatai)==null?void 0:v.click_to_start_button)||{},k=CA(w,E=>E),_=hR(k,["font_size","bottom_offset"]),O=mi({},{title:"",i18n_key:"click_to_chat",color:"rgba(248, 249, 250, 0.8)",font_size:14,bottom_offset:120},_);return O.title=O.i18n_key?y(O.i18n_key):w.title||"",O})(),s=W(v=>v.chatBox.streamDetails),{isV4:l}=Pl(),{t:c}=Nr(),{status:u}=W(v=>v.chat.close),h=u==="loading";if(!e||e!=="avataiOnly")return Ol(),null;const{title:p,color:d,font_size:f,bottom_offset:g}=a,m=!s&&!r;return ce("div",{style:j8e({},o),id:"avatai-only-start-view",children:[R(yh,{visible:h}),R(l?I8e:TJ,{}),(m||i)&&R(or,{children:R(v8e,{style:{position:"absolute",bottom:g,left:"50%",transform:"translateX(-50%)",zIndex:10,fontSize:f,width:"fit-content",height:"52px"},onClick:async()=>{ee.log("handleClick"),await t()},loading:n,loadingMessage:c("loading"),title:p,color:d})}),R(T8e,{})]})});var jJ,pw={exports:{}},F8e=pw.exports;/** @license
     * eventsource.js
     * Available under MIT License (MIT)
     * https://github.com/Yaffle/EventSource/
     */var B8e=(jJ||(jJ=1,function(e,t){(function(n){var r=n.setTimeout,o=n.clearTimeout,i=n.XMLHttpRequest,a=n.XDomainRequest,s=n.ActiveXObject,l=n.EventSource,c=n.document,u=n.Promise,h=n.fetch,p=n.Response,d=n.TextDecoder,f=n.TextEncoder,g=n.AbortController;if(typeof window<"u"&&c!==void 0&&!("readyState"in c)&&c.body==null&&(c.readyState="loading",window.addEventListener("load",function(ie){c.readyState="complete"},!1)),i==null&&s!=null&&(i=function(){return new s("Microsoft.XMLHTTP")}),Object.create==null&&(Object.create=function(ie){function Se(){}return Se.prototype=ie,new Se}),Date.now||(Date.now=function(){return new Date().getTime()}),g==null){var m=h;h=function(ie,Se){var ae=Se.signal;return m(ie,{headers:Se.headers,credentials:Se.credentials,cache:Se.cache}).then(function(pe){var Te=pe.body.getReader();return ae._reader=Te,ae._aborted&&ae._reader.cancel(),{status:pe.status,statusText:pe.statusText,headers:pe.headers,body:{getReader:function(){return Te}}}})},g=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){this.signal._reader!=null&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function v(){this.bitsNeeded=0,this.codePoint=0}v.prototype.decode=function(ie){function Se(Me,Le,Ge){if(Ge===1)return Me>=128>>Le&&Me<<Le<=2047;if(Ge===2)return Me>=2048>>Le&&Me<<Le<=55295||Me>=57344>>Le&&Me<<Le<=65535;if(Ge===3)return Me>=65536>>Le&&Me<<Le<=1114111;throw new Error}function ae(Me,Le){if(Me===6)return Le>>6>15?3:Le>31?2:1;if(Me===12)return Le>15?3:2;if(Me===18)return 3;throw new Error}for(var pe=65533,Te="",be=this.bitsNeeded,we=this.codePoint,Oe=0;Oe<ie.length;Oe+=1){var ke=ie[Oe];be!==0&&(ke<128||ke>191||!Se(we<<6|63&ke,be-6,ae(be,we)))&&(be=0,we=pe,Te+=String.fromCharCode(we)),be===0?(ke>=0&&ke<=127?(be=0,we=ke):ke>=192&&ke<=223?(be=6,we=31&ke):ke>=224&&ke<=239?(be=12,we=15&ke):ke>=240&&ke<=247?(be=18,we=7&ke):(be=0,we=pe),be!==0&&!Se(we,be,ae(be,we))&&(be=0,we=pe)):(be-=6,we=we<<6|63&ke),be===0&&(we<=65535?Te+=String.fromCharCode(we):(Te+=String.fromCharCode(55296+(we-65535-1>>10)),Te+=String.fromCharCode(56320+(we-65535-1&1023))))}return this.bitsNeeded=be,this.codePoint=we,Te},(d==null||f==null||!function(){try{return new d().decode(new f().encode("test"),{stream:!0})==="test"}catch{}return!1}())&&(d=v);var y=function(){};function b(ie){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=y,this.onload=y,this.onerror=y,this.onreadystatechange=y,this._contentType="",this._xhr=ie,this._sendTimeout=0,this._abort=y}function w(ie){return ie.replace(/[A-Z]/g,function(Se){return String.fromCharCode(Se.charCodeAt(0)+32)})}function k(ie){for(var Se=Object.create(null),ae=ie.split(`\r
`),pe=0;pe<ae.length;pe+=1){var Te=ae[pe].split(": "),be=Te.shift(),we=Te.join(": ");Se[w(be)]=we}this._map=Se}function _(){}function O(ie){this._headers=ie}function E(){}function C(){this._listeners=Object.create(null)}function N(ie){r(function(){throw ie},0)}function L(ie){this.type=ie,this.target=void 0}function j(ie,Se){L.call(this,ie),this.data=Se.data,this.lastEventId=Se.lastEventId}function H(ie,Se){L.call(this,ie),this.status=Se.status,this.statusText=Se.statusText,this.headers=Se.headers}function F(ie,Se){L.call(this,ie),this.error=Se.error}b.prototype.open=function(ie,Se){this._abort(!0);var ae=this,pe=this._xhr,Te=1,be=0;this._abort=function(Le){ae._sendTimeout!==0&&(o(ae._sendTimeout),ae._sendTimeout=0),(Te===1||Te===2||Te===3)&&(Te=4,pe.onload=y,pe.onerror=y,pe.onabort=y,pe.onprogress=y,pe.onreadystatechange=y,pe.abort(),be!==0&&(o(be),be=0),Le||(ae.readyState=4,ae.onabort(null),ae.onreadystatechange())),Te=0};var we=function(){if(Te===1){var Le=0,Ge="",Ye=void 0;if("contentType"in pe)Le=200,Ge="OK",Ye=pe.contentType;else try{Le=pe.status,Ge=pe.statusText,Ye=pe.getResponseHeader("Content-Type")}catch{Le=0,Ge="",Ye=void 0}Le!==0&&(Te=2,ae.readyState=2,ae.status=Le,ae.statusText=Ge,ae._contentType=Ye,ae.onreadystatechange())}},Oe=function(){if(we(),Te===2||Te===3){Te=3;var Le="";try{Le=pe.responseText}catch{}ae.readyState=3,ae.responseText=Le,ae.onprogress()}},ke=function(Le,Ge){if((Ge==null||Ge.preventDefault==null)&&(Ge={preventDefault:y}),Oe(),Te===1||Te===2||Te===3){if(Te=4,be!==0&&(o(be),be=0),ae.readyState=4,Le==="load")ae.onload(Ge);else if(Le==="error")ae.onerror(Ge);else{if(Le!=="abort")throw new TypeError;ae.onabort(Ge)}ae.onreadystatechange()}},Me=function(){be=r(function(){Me()},500),pe.readyState===3&&Oe()};"onload"in pe&&(pe.onload=function(Le){ke("load",Le)}),"onerror"in pe&&(pe.onerror=function(Le){ke("error",Le)}),"onabort"in pe&&(pe.onabort=function(Le){ke("abort",Le)}),"onprogress"in pe&&(pe.onprogress=Oe),"onreadystatechange"in pe&&(pe.onreadystatechange=function(Le){(function(Ge){pe!=null&&(pe.readyState===4?(!("onload"in pe)||!("onerror"in pe)||!("onabort"in pe))&&ke(pe.responseText===""?"error":"load",Ge):pe.readyState===3?"onprogress"in pe||Oe():pe.readyState===2&&we())})(Le)}),("contentType"in pe||!("ontimeout"in i.prototype))&&(Se+=(Se.indexOf("?")===-1?"?":"&")+"padding=true"),pe.open(ie,Se,!0),"readyState"in pe&&(be=r(function(){Me()},0))},b.prototype.abort=function(){this._abort(!1)},b.prototype.getResponseHeader=function(ie){return this._contentType},b.prototype.setRequestHeader=function(ie,Se){var ae=this._xhr;"setRequestHeader"in ae&&ae.setRequestHeader(ie,Se)},b.prototype.getAllResponseHeaders=function(){return this._xhr.getAllResponseHeaders!=null&&this._xhr.getAllResponseHeaders()||""},b.prototype.send=function(){if("ontimeout"in i.prototype&&("sendAsBinary"in i.prototype||"mozAnon"in i.prototype)||c==null||c.readyState==null||c.readyState==="complete"){var ie=this._xhr;"withCredentials"in ie&&(ie.withCredentials=this.withCredentials);try{ie.send(void 0)}catch(ae){throw ae}}else{var Se=this;Se._sendTimeout=r(function(){Se._sendTimeout=0,Se.send()},4)}},k.prototype.get=function(ie){return this._map[w(ie)]},i!=null&&i.HEADERS_RECEIVED==null&&(i.HEADERS_RECEIVED=2),_.prototype.open=function(ie,Se,ae,pe,Te,be,we){ie.open("GET",Te);var Oe=0;for(var ke in ie.onprogress=function(){var Me=ie.responseText.slice(Oe);Oe+=Me.length,ae(Me)},ie.onerror=function(Me){Me.preventDefault(),pe(new Error("NetworkError"))},ie.onload=function(){pe(null)},ie.onabort=function(){pe(null)},ie.onreadystatechange=function(){if(ie.readyState===i.HEADERS_RECEIVED){var Me=ie.status,Le=ie.statusText,Ge=ie.getResponseHeader("Content-Type"),Ye=ie.getAllResponseHeaders();Se(Me,Le,Ge,new k(Ye))}},ie.withCredentials=be,we)Object.prototype.hasOwnProperty.call(we,ke)&&ie.setRequestHeader(ke,we[ke]);return ie.send(),ie},O.prototype.get=function(ie){return this._headers.get(ie)},E.prototype.open=function(ie,Se,ae,pe,Te,be,we){var Oe=null,ke=new g,Me=ke.signal,Le=new d;return h(Te,{headers:we,credentials:be?"include":"same-origin",signal:Me,cache:"no-store"}).then(function(Ge){return Oe=Ge.body.getReader(),Se(Ge.status,Ge.statusText,Ge.headers.get("Content-Type"),new O(Ge.headers)),new u(function(Ye,ct){var Re=function(){Oe.read().then(function(ze){if(ze.done)Ye(void 0);else{var He=Le.decode(ze.value,{stream:!0});ae(He),Re()}}).catch(function(ze){ct(ze)})};Re()})}).catch(function(Ge){if(Ge.name!=="AbortError")return Ge}).then(function(Ge){pe(Ge)}),{abort:function(){Oe!=null&&Oe.cancel(),ke.abort()}}},C.prototype.dispatchEvent=function(ie){ie.target=this;var Se=this._listeners[ie.type];if(Se!=null)for(var ae=Se.length,pe=0;pe<ae;pe+=1){var Te=Se[pe];try{typeof Te.handleEvent=="function"?Te.handleEvent(ie):Te.call(this,ie)}catch(be){N(be)}}},C.prototype.addEventListener=function(ie,Se){ie=String(ie);var ae=this._listeners,pe=ae[ie];pe==null&&(pe=[],ae[ie]=pe);for(var Te=!1,be=0;be<pe.length;be+=1)pe[be]===Se&&(Te=!0);Te||pe.push(Se)},C.prototype.removeEventListener=function(ie,Se){ie=String(ie);var ae=this._listeners,pe=ae[ie];if(pe!=null){for(var Te=[],be=0;be<pe.length;be+=1)pe[be]!==Se&&Te.push(pe[be]);Te.length===0?delete ae[ie]:ae[ie]=Te}},j.prototype=Object.create(L.prototype),H.prototype=Object.create(L.prototype),F.prototype=Object.create(L.prototype);var z=-1,B=0,V=1,U=2,S=-1,q=0,P=1,Q=2,re=3,_e=/^text\/event\-stream(;.*)?$/i,se=function(ie,Se){var ae=ie==null?Se:parseInt(ie,10);return ae!=ae&&(ae=Se),ue(ae)},ue=function(ie){return Math.min(Math.max(ie,1e3),18e6)},fe=function(ie,Se,ae){try{typeof Se=="function"&&Se.call(ie,ae)}catch(pe){N(pe)}};function je(ie,Se){C.call(this),Se=Se||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,function(ae,pe,Te){pe=String(pe);var be=!!Te.withCredentials,we=Te.lastEventIdQueryParameterName||"lastEventId",Oe=ue(1e3),ke=se(Te.heartbeatTimeout,45e3),Me="",Le=Oe,Ge=!1,Ye=0,ct=Te.headers||{},Re=Te.Transport,ze=Qe&&Re==null?void 0:new b(Re!=null?new Re:i!=null&&"withCredentials"in i.prototype||a==null?new i:new a),He=Re!=null&&typeof Re!="string"?new Re:ze==null?new E:new _,et=void 0,oe=0,X=z,de="",he="",Ee="",$e="",Je=q,at=0,We=0,bt=function(Ct,jt,sr,ln){if(X===B)if(Ct===200&&sr!=null&&_e.test(sr)){X=V,Ge=Date.now(),Le=Oe,ae.readyState=V;var dn=new H("open",{status:Ct,statusText:jt,headers:ln});ae.dispatchEvent(dn),fe(ae,ae.onopen,dn)}else Ct!==200?jt&&(jt=jt.replace(/\s+/g," ")):sr==null||sr.replace(/\s+/g," "),St(),dn=new H("error",{status:Ct,statusText:jt,headers:ln}),ae.dispatchEvent(dn),fe(ae,ae.onerror,dn)},ft=function(Ct){if(X===V){for(var jt=-1,sr=0;sr<Ct.length;sr+=1)((wn=Ct.charCodeAt(sr))===10||wn===13)&&(jt=sr);var ln=(jt!==-1?$e:"")+Ct.slice(0,jt+1);$e=(jt===-1?$e:"")+Ct.slice(jt+1),Ct!==""&&(Ge=Date.now(),Ye+=Ct.length);for(var dn=0;dn<ln.length;dn+=1){var wn=ln.charCodeAt(dn);if(Je===S&&wn===10)Je=q;else if(Je===S&&(Je=q),wn===13||wn===10){if(Je!==q){Je===P&&(We=dn+1);var Gn=ln.slice(at,We-1),Mn=ln.slice(We+(We<dn&&ln.charCodeAt(We)===32?1:0),dn);Gn==="data"?(de+=`
`,de+=Mn):Gn==="id"?he=Mn:Gn==="event"?Ee=Mn:Gn==="retry"?(Oe=se(Mn,Oe),Le=Oe):Gn==="heartbeatTimeout"&&(ke=se(Mn,ke),oe!==0&&(o(oe),oe=r(function(){yt()},ke)))}if(Je===q){if(de!==""){Me=he,Ee===""&&(Ee="message");var It=new j(Ee,{data:de.slice(1),lastEventId:he});if(ae.dispatchEvent(It),Ee==="open"?fe(ae,ae.onopen,It):Ee==="message"?fe(ae,ae.onmessage,It):Ee==="error"&&fe(ae,ae.onerror,It),X===U)return}de="",Ee=""}Je=wn===13?S:q}else Je===q&&(at=dn,Je=P),Je===P?wn===58&&(We=dn+1,Je=Q):Je===Q&&(Je=re)}}},ut=function(Ct){if(X===V||X===B){X=z,oe!==0&&(o(oe),oe=0),oe=r(function(){yt()},Le),Le=ue(Math.min(16*Oe,2*Le)),ae.readyState=B;var jt=new F("error",{error:Ct});ae.dispatchEvent(jt),fe(ae,ae.onerror,jt)}},St=function(){X=U,et!=null&&(et.abort(),et=void 0),oe!==0&&(o(oe),oe=0),ae.readyState=U},yt=function(){if(oe=0,X===z){Ge=!1,Ye=0,oe=r(function(){yt()},ke),X=B,de="",Ee="",he=Me,$e="",at=0,We=0,Je=q;var Ct=pe;if(pe.slice(0,5)!=="data:"&&pe.slice(0,5)!=="blob:"&&Me!==""){var jt=pe.indexOf("?");Ct=jt===-1?pe:pe.slice(0,jt+1)+pe.slice(jt+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,function(Mn,It){return It===we?"":Mn}),Ct+=(pe.indexOf("?")===-1?"?":"&")+we+"="+encodeURIComponent(Me)}var sr=ae.withCredentials,ln={Accept:"text/event-stream"},dn=ae.headers;if(dn!=null)for(var wn in dn)Object.prototype.hasOwnProperty.call(dn,wn)&&(ln[wn]=dn[wn]);try{et=He.open(ze,bt,ft,ut,Ct,sr,ln)}catch(Mn){throw St(),Mn}}else if(Ge||et==null){var Gn=Math.max((Ge||Date.now())+ke-Date.now(),1);Ge=!1,oe=r(function(){yt()},Gn)}else ut(new Error("No activity within "+ke+" milliseconds. "+(X===B?"No response received.":Ye+" chars received.")+" Reconnecting.")),et!=null&&(et.abort(),et=void 0)};ae.url=pe,ae.readyState=B,ae.withCredentials=be,ae.headers=ct,ae._close=St,yt()}(this,ie,Se)}var Qe=h!=null&&p!=null&&"body"in p.prototype;je.prototype=Object.create(C.prototype),je.prototype.CONNECTING=B,je.prototype.OPEN=V,je.prototype.CLOSED=U,je.prototype.close=function(){this._close()},je.CONNECTING=B,je.OPEN=V,je.CLOSED=U,je.prototype.withCredentials=void 0;var Xe=l;i!=null&&(l==null||!("withCredentials"in l.prototype))&&(Xe=je),function(ie){var Se=function(ae){ae.EventSourcePolyfill=je,ae.NativeEventSource=l,ae.EventSource=Xe}(t);Se!==void 0&&(e.exports=Se)}()})(typeof globalThis>"u"?typeof window<"u"?window:typeof self<"u"?self:F8e:globalThis)}(pw,pw.exports)),pw.exports);let lE=null,cE=null,uE=0;const U8e=({options:e,tokenUsageRefresh:t})=>{const n=W(z=>z.chatBox.showChatBox),r=W(z=>z.chatBox.chatAgentType),o=dt();W(z=>z.chatBox.botMode);const{handleResize:i,updateRect:a}=KTe(),s=Xa(),l=FX(),c=wb(),u=pn(),{mutateAsync:h}=PTe(),{mutateAsync:p}=LTe();$Te();const d=W(z=>z.chatBox.agent),f=W(z=>z.chatBox.source),g=W(z=>z.chatBox.showNavigationView),m=W(z=>z.chatBox.showConfirmCloseView),v=qb(),y=W(Tt),b=W(Pge);x.useEffect(()=>{v&&o(Vb(!1))},[o,v]);const w=x.useRef(null);De.chatWrapperRef=w;const k=FO(Mge),_=W(_i),O=_==null?void 0:_.id,E=N_e(e),[C]=sR();De.containerRef=C;const N=x.useRef(null);De.headerRef=N;const L=x.useRef(null);De.footerRef=L,x.useEffect(()=>{De.scrollToBottom=z=>{n&&(lE&&clearTimeout(lE),lE=setTimeout(()=>{w.current&&(w.current.scrollTop=w.current.scrollHeight)},z))},De.scrollToLastMessagePair=(z=200)=>{n&&(cE&&clearTimeout(cE),cE=setTimeout(async()=>{var B;const V=(B=w.current)==null?void 0:B.querySelector("#last-message-pair");V?(uE=0,V.scrollIntoView({block:"nearest",inline:"nearest",behavior:"smooth"})):uE<10&&(uE++,De.scrollToLastMessagePair(z))},z))}},[n]);const j=x.useMemo(()=>({onSendMessage:z=>{switch(r){case"ai":o(oa(z));break;case"liveChat":h({text:z.text})}},onMessageUpdated:()=>{e.autoScrollToBottom&&De.scrollToLastMessagePair()},onTokenUsageRefresh:()=>{t==null||t()}}),[r,o,e.autoScrollToBottom,h,t]),H=x.useCallback(z=>{let B;return B&&cancelAnimationFrame(B),B=requestAnimationFrame(()=>i(z)),()=>{cancelAnimationFrame(B)}},[i]);if(x.useEffect(()=>{const z=()=>{o(Tm(null))};window.addEventListener("mousemove",H),window.addEventListener("mouseup",z);const B=i9();return B&&(B.addEventListener("mousemove",H),B.addEventListener("mouseup",z)),()=>{window.removeEventListener("mousemove",H),window.removeEventListener("mouseup",z),B&&(B.removeEventListener("mousemove",H),B.removeEventListener("mouseup",z))}},[o,H]),x.useEffect(()=>{a()},[a,n]),x.useEffect(()=>{l&&k&&(!d||d.id==="loading"||o(pJ()))},[k,d,o,f,O,l]),x.useEffect(()=>{var z,B,V,U,S,q,P,Q,re,_e,se,ue,fe,je,Qe,Xe;if(r!=="liveChat"||!((q=(S=(U=(V=(B=(z=d==null?void 0:d.config)==null?void 0:z.tools)==null?void 0:B.document_qa)==null?void 0:V.no_answer_action)==null?void 0:U.salesforce)==null?void 0:S.live_chat_options)!=null&&q.enabled)||!b)return;const ie=(fe=(ue=(se=(_e=(re=(Q=(P=d==null?void 0:d.config)==null?void 0:P.tools)==null?void 0:Q.document_qa)==null?void 0:re.no_answer_action)==null?void 0:_e.salesforce)==null?void 0:se.live_chat_options)==null?void 0:ue.config)==null?void 0:fe.org_id,Se=`${(Xe=(Qe=(je=d==null?void 0:d.config)==null?void 0:je.applications)==null?void 0:Qe.salesforce)==null?void 0:Xe.name}.salesforce-scrt.com`;if(!Se||!ie)return void window.console.error("No messagingUrl or orgId found");const ae=Te=>{if(Te&&Te.data&&typeof Te.data=="string"){const be=JSON.parse(Te.data);if(!be||typeof be!="object")throw new Error("Error parsing data in server sent event.");return be}throw new Error("Invalid data in server sent event.")},pe={CONVERSATION_MESSAGE:async Te=>{var be,we,Oe,ke;try{const Me=ae(Te),Le=JSON.parse(((be=Me.conversationEntry)==null?void 0:be.entryPayload)||"{}");if(((Oe=(we=Me.conversationEntry)==null?void 0:we.sender)==null?void 0:Oe.role)!=="Agent"||Me.conversationId!==y)return;if((ke=Le.abstractMessage)!=null&&ke.staticContent){const{formatType:Ge,text:Ye,linkItem:ct,attachments:Re}=Le.abstractMessage.staticContent;let ze="";if(Ge==="Text"||Ge==="Attachments"?ze=Ye||"":Ge==="RichLink"&&(ze=(ct==null?void 0:ct.url)||""),ze.trim())try{await h({text:ze,senderType:tE.Agent})}catch(He){window.console.error("Failed to post agent text message:",He)}if(Re!=null&&Re.length)for(const He of Re)try{const{name:et,url:oe,mimeType:X}=He;if(!oe)continue;const de=X.startsWith("image/")?`![${et||"Image"}](${oe})`:`[${et||"File"}](${oe})`;await h({text:de,senderType:tE.Agent,messageType:lJ.File})}catch(et){window.console.error("Failed to post attachment message:",et)}}}catch(Me){window.console.error(`Something went wrong in handling conversation message server sent event: ${Me}`)}},CONVERSATION_PARTICIPANT_CHANGED:async Te=>{try{const be=(ke=>{var Me,Le,Ge;try{const Ye=JSON.parse(((Me=ke.conversationEntry)==null?void 0:Me.entryPayload)||"{}");if(((Ge=(Le=ke.conversationEntry)==null?void 0:Le.sender)==null?void 0:Ge.role)!=="System"||Ye.entries.length===0)return;const ct={conversationId:ke.conversationId,entry:Ye.entries[0]};return ke.conversationId===y?ct:void 0}catch(Ye){return void window.console.error(`Something went wrong in generating conversation status entry: ${Ye}`)}})(ae(Te));if(!be)return;const we=be.entry.operation;let Oe="";we==="remove"?Oe="left":we==="add"&&(Oe="join"),await p({agentName:be.entry.displayName,type:Oe})}catch(be){window.console.error(`Something went wrong in handling conversation participant changed server sent event: ${be}`)}}};return((Te,be,we)=>{const Oe=`https://${be}/eventrouter/v1/sse`,ke=new B8e.EventSourcePolyfill(Oe,{withCredentials:!1,headers:{Authorization:`Bearer ${Te}`,"X-Org-Id":we}});return ke.onopen=Me=>{((Le,Ge)=>{Object.entries(Le).forEach(Ye=>{const[ct,Re]=Ye;if(typeof ct!="string")throw new Error(`Expected event listener name parameter to be a valid string, but received: ${ct}.`);if(ct.trim().length<1)throw new Error(`Expected event listener name parameter to be a string with length greater than 0, but received: ${ct}.`);if(typeof Re!="function")throw new Error(`Expected event listener handler parameter to be a function, but received: ${Re}.`);Ge.addEventListener(ct,Re)})})(pe,ke)},ke.onerror=Me=>{window.console.error("EventSource failed:",Me)},()=>{ke.close()}})(b,Se,ie)},[r,d,y,h,b,p]),d==null||!d.id)return null;let F="flex flex-col flex-grow items-stretch right-1/100 z-50 max-h-[calc(100vh-7em)] md:max-h-full";return s&&(F+=" border border-gray-200"),c||(F+=" shadow-lg"),R("div",{id:"chatbox-container",className:F,style:E,ref:C,onMouseOver:()=>{document.documentElement.style.overscrollBehaviorX="none"},onMouseOut:()=>{document.documentElement.style.overscrollBehaviorX="unset"},children:ce("div",{className:"h-full flex flex-col relative",children:[ce(or,{children:[R(zJ,{onMouseDown:()=>o(Tm("left")),style:{left:0}}),R(zJ,{onMouseDown:()=>o(Tm("right")),style:{right:0}}),R(FJ,{onMouseDown:()=>o(Tm("top")),style:{top:-3}}),R(FJ,{onMouseDown:()=>o(Tm("bottom")),style:{bottom:-3}})]}),R(aTe,{ref:N,options:e}),(()=>{if(m)return R(_Te,{});let z=null;return z=g?R(pTe,{}):R(__e,{ref:w,callbacks:j}),ce(or,{children:[z,R(YTe,{}),ce(S_e,{ref:L,style:{backgroundColor:u.background_color},children:[R(qTe,{}),R(Ibe,{callbacks:j}),R(I_e,{}),!_t&&R(WTe,{})]})]})})(),R(h8e,{}),R(z8e,{})]})})},zJ=tt("div",{target:"e1apzu461"})({name:"18qbkec",styles:"display:block;cursor:ew-resize;opacity:0;resize:horizontal;position:absolute;top:0;min-height:100%;height:100%;width:6px;z-index:99"}),FJ=tt("div",{target:"e1apzu460"})({name:"b5buw",styles:"display:block;cursor:ns-resize;opacity:0;resize:vertical;position:absolute;left:0;height:6px;width:100%;z-index:99"});var H8e=Object.defineProperty,V8e=Object.defineProperties,$8e=Object.getOwnPropertyDescriptors,BJ=Object.getOwnPropertySymbols,q8e=Object.prototype.hasOwnProperty,W8e=Object.prototype.propertyIsEnumerable,UJ=(e,t,n)=>t in e?H8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const G8e=e=>{const t=W(u=>u.chatBox.botLanguage),{button:n,onClick:r}=e,{text:o,multi_lang_text:i={},command:a}=n,s=i[t]||o,l=UT(a||""),c=Vq(l);return R(K8e,{onClick:()=>{r==null||r(s)},$buttonType:c,children:s})},K8e=tt("button",{target:"etysad20"})(({$buttonType:e})=>{const t=pn(),{wm_command_button_bg:n,wm_command_button_hover_bg:r,wm_command_button_text_color:o,wm_command_button_hover_text_color:i}=t;return((a,s)=>V8e(a,$8e(s)))(((a,s)=>{for(var l in s||(s={}))q8e.call(s,l)&&UJ(a,l,s[l]);if(BJ)for(var l of BJ(s))W8e.call(s,l)&&UJ(a,l,s[l]);return a})({},{cursor:"pointer",display:"flex",padding:"0em 1em",fontSize:"var(--command-button-font-size, 12px)",borderRadius:"var(--wm-command-button-border-radius, 0.5em)",textAlign:"end",alignItems:"center",wordBreak:"normal",boxShadow:`var(--wm-command-button-box-shadow, ${Sb})`,whiteSpace:"var(--wm-command-button-white-space, wrap)",border:"var(--wm-command-button-border, 0px)",height:"var(--wm-command-button-height, 32px)"}),{color:`var(--wm-command-button-text-color, ${o})`,background:`var(--wm-command-button-bg, ${n})`,"&:hover":{background:`var(--wm-command-button-hover-bg, ${r})`,color:`var(--wm-command-button-hover-text-color, ${i})`}})},"");var Y8e=Object.defineProperty,Q8e=Object.defineProperties,X8e=Object.getOwnPropertyDescriptors,mw=Object.getOwnPropertySymbols,HJ=Object.prototype.hasOwnProperty,VJ=Object.prototype.propertyIsEnumerable,$J=(e,t,n)=>t in e?Y8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const J8e=({popupQuestions:e})=>{var t,n,r,o;const i=mt(),a=dt(),s=W(w=>w.chatBox.showChatBox),l=W(w=>w.chatBox.showWelcomeMessage),c=W(w=>w.chatBox.botLanguage),{welcomeMessageStyle:u,iconButtonStyle:h}=(()=>{var w,k,_,O;const E=mt(),C=Id(),N=W(P=>P.chatBox.showWelcomeMessage),{position:L}=Rd();let j=(w=E==null?void 0:E.config)==null?void 0:w.style,H=parseInt((k=j==null?void 0:j.chatbot_icon_size)!=null?k:"60");_t&&(j=mi({},j,(_=j==null?void 0:j.mobile)!=null?_:{}),H=parseInt((O=j==null?void 0:j.chatbot_icon_size)!=null?O:"48"));const{isTop:F,isLeft:z}=Sg(),B=F?L.top:L.bottom,V=z?L.left:L.right,U={transitionDelay:N?"3s":"0s",opacity:N?1:0,position:"fixed",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",transition:"opacity 0.5s ease-in-out",fontSize:"1.143em",fontWeight:"500",maxWidth:"50vw","--welcome-message-bottom":"10px","--welcome-message-top":"60px",bottom:"calc(var(--welcome-message-bottom) + var(--welcome-message-offset, 0px))",top:"calc(var(--welcome-message-top) + var(--welcome-message-offset, 0px))"};_t&&(U.bottom="calc(var(--welcome-message-bottom) + var(--welcome-message-offset-phone, 0px))",U.top="calc(var(--welcome-message-top) + var(--welcome-message-offset-phone, 0px))");const S={borderRadius:"50%",top:-38,position:"absolute",boxShadow:C,width:32,height:32};z?(U.left=V,S.left=0):(U.right=V,S.right=0);const q=B+H+18;if(F){delete U.bottom;const P=q+50;U["--welcome-message-top"]=`${P}px`}else delete U.top,U["--welcome-message-bottom"]=`${q}px`;return{welcomeMessageStyle:U,iconButtonStyle:S}})(),p=x.useRef(null),d=i==null?void 0:i.config,f=yr(d==null?void 0:d.initial_message)?d==null?void 0:d.initial_message:[d==null?void 0:d.initial_message],g=((t=d==null?void 0:d.welcome_message)==null?void 0:t.json_response)||((n=f[0])==null?void 0:n.json_response),m=x.useMemo(()=>{var w;return ht(e)?((w=d==null?void 0:d.welcome_message)==null?void 0:w.json_response.buttons)||[]:e},[e,(r=d==null?void 0:d.welcome_message)==null?void 0:r.json_response.buttons]),v=(o=d==null?void 0:d.style)==null?void 0:o.hide_chatbot_button;x.useEffect(()=>{if(l)return;const w=setTimeout(()=>{p.current&&(p.current.style.display="none")},500);return()=>{clearTimeout(w)}},[l]);const y=x.useMemo(()=>g?(g.multi_lang_text||{})[c]||g.text:"",[g,c]);if(!l||s||v||ht(m)&&!y)return null;const b=LA(y);return ce(Z8e,{style:u,children:[R(Yb,{color:"rgb(242, 242, 242)",variant:"contained",onClick:()=>{a(Hb(!1))},style:h,children:R(Fs,{})}),y&&R(eSe,{ref:p,thereIsGap:b,children:R(qh,{text:y})}),!ht(m)&&R(tSe,{style:{width:"100%",marginTop:"1em"},children:m.map((w,k)=>R(G8e,{button:w,onClick:_=>{var O,E;(E=(O=Rn).open)==null||E.call(O),setTimeout(()=>{var C,N;(N=(C=Rn).sendMessage)==null||N.call(C,_)},100)}},`welcome-message-button-${k}`))})]})},Z8e=Zt(e=>{const t=e,{className:n}=t,r=((o,i)=>{var a={};for(var s in o)HJ.call(o,s)&&i.indexOf(s)<0&&(a[s]=o[s]);if(o!=null&&mw)for(var s of mw(o))i.indexOf(s)<0&&VJ.call(o,s)&&(a[s]=o[s]);return a})(t,["className"]);return R("livex-chatbox-welcome-message-wrapper",((o,i)=>Q8e(o,X8e(i)))(((o,i)=>{for(var a in i||(i={}))HJ.call(i,a)&&$J(o,a,i[a]);if(mw)for(var a of mw(i))VJ.call(i,a)&&$J(o,a,i[a]);return o})({},r),{class:n}))})(()=>({position:"fixed",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",transition:"opacity 0.5s ease-in-out",fontSize:"1.143em",fontWeight:"500",maxWidth:"50vw"})),eSe=Zt.div(()=>({minHeight:"60px",padding:"20px",borderRadius:8,color:"#101214",backgroundColor:"#ECEEF4",marginLeft:"auto",boxShadow:Id(),"& p":{whiteSpace:"pre-line"}})),tSe=Zt("div")({display:"flex",flexDirection:"var(--wm-message-commands-flex-direction, column)",gap:"0.5em",alignItems:"flex-end",marginTop:"auto",width:"100%",overflow:"auto",paddingBottom:6,marginBottom:-6}),xt=e=>typeof e=="string",cf=()=>{let e,t;const n=new Promise((r,o)=>{e=r,t=o});return n.resolve=e,n.reject=t,n},qJ=e=>e==null?"":""+e,nSe=/###/g,WJ=e=>e&&e.indexOf("###")>-1?e.replace(nSe,"."):e,GJ=e=>!e||xt(e),uf=(e,t,n)=>{const r=xt(t)?t.split("."):t;let o=0;for(;o<r.length-1;){if(GJ(e))return{};const i=WJ(r[o]);!e[i]&&n&&(e[i]=new n),e=Object.prototype.hasOwnProperty.call(e,i)?e[i]:{},++o}return GJ(e)?{}:{obj:e,k:WJ(r[o])}},KJ=(e,t,n)=>{const{obj:r,k:o}=uf(e,t,Object);if(r!==void 0||t.length===1)return void(r[o]=n);let i=t[t.length-1],a=t.slice(0,t.length-1),s=uf(e,a,Object);for(;s.obj===void 0&&a.length;)i=`${a[a.length-1]}.${i}`,a=a.slice(0,a.length-1),s=uf(e,a,Object),s!=null&&s.obj&&s.obj[`${s.k}.${i}`]!==void 0&&(s.obj=void 0);s.obj[`${s.k}.${i}`]=n},fw=(e,t)=>{const{obj:n,k:r}=uf(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},YJ=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?xt(e[r])||e[r]instanceof String||xt(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):YJ(e[r],t[r],n):e[r]=t[r]);return e},Gh=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var rSe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const oSe=e=>xt(e)?e.replace(/[&<>"'\/]/g,t=>rSe[t]):e,iSe=[" ",",","?","!",";"],aSe=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}(20),dE=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const r=t.split(n);let o=e;for(let i=0;i<r.length;){if(!o||typeof o!="object")return;let a,s="";for(let l=i;l<r.length;++l)if(l!==i&&(s+=n),s+=r[l],a=o[s],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<r.length-1)continue;i+=l-i+1;break}o=a}return o},gw=e=>e==null?void 0:e.replace("_","-"),sSe={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var n,r;(r=(n=console==null?void 0:console[e])==null?void 0:n.apply)==null||r.call(n,console,t)}};class vw{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||sSe,this.options=n,this.debug=n.debug}log(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,o){return o&&!this.debug?null:(xt(t[0])&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new vw(this.logger,A({prefix:`${this.prefix}:${t}:`},this.options))}clone(t){return(t=t||this.options).prefix=t.prefix||this.prefix,new vw(this.logger,t)}}var ss=new vw;class bw{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const o=this.observers[r].get(n)||0;this.observers[r].set(n,o+1)}),this}off(t,n){if(this.observers[t]){if(!n)return void delete this.observers[t];this.observers[t].delete(n)}}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(i=>{let[a,s]=i;for(let l=0;l<s;l++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(i=>{let[a,s]=i;for(let l=0;l<s;l++)a.apply(a,[t,...r])})}}class QJ extends bw{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r){var o,i;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,l=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;t.indexOf(".")>-1?c=t.split("."):(c=[t,n],r&&(Array.isArray(r)?c.push(...r):xt(r)&&s?c.push(...r.split(s)):c.push(r)));const u=fw(this.data,c);return!u&&!n&&!r&&t.indexOf(".")>-1&&(t=c[0],n=c[1],r=c.slice(2).join(".")),!u&&l&&xt(r)?dE((i=(o=this.data)==null?void 0:o[t])==null?void 0:i[n],r,s):u}addResource(t,n,r,o){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let s=[t,n];r&&(s=s.concat(a?r.split(a):r)),t.indexOf(".")>-1&&(s=t.split("."),o=n,n=s[1]),this.addNamespaces(n),KJ(this.data,s,o),i.silent||this.emit("added",t,n,r,o)}addResources(t,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in r)(xt(r[i])||Array.isArray(r[i]))&&this.addResource(t,n,i,r[i],{silent:!0});o.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,o,i){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},s=[t,n];t.indexOf(".")>-1&&(s=t.split("."),o=r,r=n,n=s[1]),this.addNamespaces(n);let l=fw(this.data,s)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),o?YJ(l,r,i):l=A(A({},l),r),KJ(this.data,s,l),a.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(r=>n[r]&&Object.keys(n[r]).length>0)}toJSON(){return this.data}}var XJ={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,o){return e.forEach(i=>{var a,s;t=(s=(a=this.processors[i])==null?void 0:a.process(t,n,r,o))!=null?s:t}),t}};const JJ={},ZJ=e=>!xt(e)&&typeof e!="boolean"&&typeof e!="number";class yw extends bw{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),((r,o,i)=>{r.forEach(a=>{o[a]&&(i[a]=o[a])})})(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ss.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){const n=A({},arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}});if(t==null)return!1;const r=this.resolve(t,n);return(r==null?void 0:r.res)!==void 0}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const a=r&&t.indexOf(r)>-1,s=!(this.options.userDefinedKeySeparator||n.keySeparator||this.options.userDefinedNsSeparator||n.nsSeparator||((l,c,u)=>{c=c||"",u=u||"";const h=iSe.filter(f=>c.indexOf(f)<0&&u.indexOf(f)<0);if(h.length===0)return!0;const p=aSe.getRegExp(`(${h.map(f=>f==="?"?"\\?":f).join("|")})`);let d=!p.test(l);if(!d){const f=l.indexOf(u);f>0&&!p.test(l.substring(0,f))&&(d=!0)}return d})(t,r,o));if(a&&!s){const l=t.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:t,namespaces:xt(i)?[i]:i};const c=t.split(r);(r!==o||r===o&&this.options.ns.indexOf(c[0])>-1)&&(i=c.shift()),t=c.join(o)}return{key:t,namespaces:xt(i)?[i]:i}}translate(t,n,r){let o=typeof n=="object"?A({},n):n;if(typeof o!="object"&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(o=A({},o)),o||(o={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const i=o.returnDetails!==void 0?o.returnDetails:this.options.returnDetails,a=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,{key:s,namespaces:l}=this.extractFromKey(t[t.length-1],o),c=l[l.length-1],u=o.lng||this.language,h=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((u==null?void 0:u.toLowerCase())==="cimode"){if(h){const L=o.nsSeparator||this.options.nsSeparator;return i?{res:`${c}${L}${s}`,usedKey:s,exactUsedKey:s,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(o)}:`${c}${L}${s}`}return i?{res:s,usedKey:s,exactUsedKey:s,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(o)}:s}const p=this.resolve(t,o);let d=p==null?void 0:p.res;const f=(p==null?void 0:p.usedKey)||s,g=(p==null?void 0:p.exactUsedKey)||s,m=o.joinArrays!==void 0?o.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject,y=o.count!==void 0&&!xt(o.count),b=yw.hasDefaultValue(o),w=y?this.pluralResolver.getSuffix(u,o.count,o):"",k=o.ordinal&&y?this.pluralResolver.getSuffix(u,o.count,{ordinal:!1}):"",_=y&&!o.ordinal&&o.count===0,O=_&&o[`defaultValue${this.options.pluralSeparator}zero`]||o[`defaultValue${w}`]||o[`defaultValue${k}`]||o.defaultValue;let E=d;v&&!d&&b&&(E=O);const C=ZJ(E),N=Object.prototype.toString.apply(E);if(!(v&&E&&C&&["[object Number]","[object Function]","[object RegExp]"].indexOf(N)<0)||xt(m)&&Array.isArray(E))if(v&&xt(m)&&Array.isArray(d))d=d.join(m),d&&(d=this.extendTranslation(d,t,o,r));else{let L=!1,j=!1;!this.isValidLookup(d)&&b&&(L=!0,d=O),this.isValidLookup(d)||(j=!0,d=s);const H=(o.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&j?void 0:d,F=b&&O!==d&&this.options.updateMissing;if(j||L||F){if(this.logger.log(F?"updateKey":"missingKey",u,c,s,F?O:d),a){const U=this.resolve(s,K(A({},o),{keySeparator:!1}));U&&U.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let z=[];const B=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if(this.options.saveMissingTo==="fallback"&&B&&B[0])for(let U=0;U<B.length;U++)z.push(B[U]);else this.options.saveMissingTo==="all"?z=this.languageUtils.toResolveHierarchy(o.lng||this.language):z.push(o.lng||this.language);const V=(U,S,q)=>{var P;const Q=b&&q!==d?q:H;this.options.missingKeyHandler?this.options.missingKeyHandler(U,c,S,Q,F,o):(P=this.backendConnector)!=null&&P.saveMissing&&this.backendConnector.saveMissing(U,c,S,Q,F,o),this.emit("missingKey",U,c,S,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&y?z.forEach(U=>{const S=this.pluralResolver.getSuffixes(U,o);_&&o[`defaultValue${this.options.pluralSeparator}zero`]&&S.indexOf(`${this.options.pluralSeparator}zero`)<0&&S.push(`${this.options.pluralSeparator}zero`),S.forEach(q=>{V([U],s+q,o[`defaultValue${q}`]||O)})}):V(z,s,O))}d=this.extendTranslation(d,t,o,p,r),j&&d===s&&this.options.appendNamespaceToMissingKey&&(d=`${c}:${s}`),(j||L)&&this.options.parseMissingKeyHandler&&(d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${s}`:s,L?d:void 0,o))}else{if(!o.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const L=this.options.returnedObjectHandler?this.options.returnedObjectHandler(f,E,K(A({},o),{ns:l})):`key '${s} (${this.language})' returned an object instead of string.`;return i?(p.res=L,p.usedParams=this.getUsedParamsDetails(o),p):L}if(a){const L=Array.isArray(E),j=L?[]:{},H=L?g:f;for(const F in E)if(Object.prototype.hasOwnProperty.call(E,F)){const z=`${H}${a}${F}`;j[F]=b&&!d?this.translate(z,K(A({},o),{defaultValue:ZJ(O)?O[F]:void 0,joinArrays:!1,ns:l})):this.translate(z,K(A({},o),{joinArrays:!1,ns:l})),j[F]===z&&(j[F]=E[F])}d=j}}return i?(p.res=d,p.usedParams=this.getUsedParamsDetails(o),p):d}extendTranslation(t,n,r,o,i){var a,s,l=this;if((a=this.i18nFormat)!=null&&a.parse)t=this.i18nFormat.parse(t,A(A({},this.options.interpolation.defaultVariables),r),r.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init(K(A({},r),{interpolation:A(A({},this.options.interpolation),r.interpolation)}));const h=xt(t)&&(((s=r==null?void 0:r.interpolation)==null?void 0:s.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let p;if(h){const f=t.match(this.interpolator.nestingRegexp);p=f&&f.length}let d=r.replace&&!xt(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(d=A(A({},this.options.interpolation.defaultVariables),d)),t=this.interpolator.interpolate(t,d,r.lng||this.language||o.usedLng,r),h){const f=t.match(this.interpolator.nestingRegexp);p<(f&&f.length)&&(r.nest=!1)}!r.lng&&o&&o.res&&(r.lng=this.language||o.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var f=arguments.length,g=new Array(f),m=0;m<f;m++)g[m]=arguments[m];return(i==null?void 0:i[0])!==g[0]||r.context?l.translate(...g,n):(l.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${n[0]}`),null)},r)),r.interpolation&&this.interpolator.reset()}const c=r.postProcess||this.options.postProcess,u=xt(c)?[c]:c;return t!=null&&u!=null&&u.length&&r.applyPostProcessor!==!1&&(t=XJ.handle(u,t,n,this.options&&this.options.postProcessPassResolved?A({i18nResolved:K(A({},o),{usedParams:this.getUsedParamsDetails(r)})},r):r,this)),t}resolve(t){let n,r,o,i,a,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return xt(t)&&(t=[t]),t.forEach(l=>{if(this.isValidLookup(n))return;const c=this.extractFromKey(l,s),u=c.key;r=u;let h=c.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const p=s.count!==void 0&&!xt(s.count),d=p&&!s.ordinal&&s.count===0,f=s.context!==void 0&&(xt(s.context)||typeof s.context=="number")&&s.context!=="",g=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);h.forEach(m=>{var v,y;this.isValidLookup(n)||(a=m,!JJ[`${g[0]}-${m}`]&&(v=this.utils)!=null&&v.hasLoadedNamespace&&!((y=this.utils)!=null&&y.hasLoadedNamespace(a))&&(JJ[`${g[0]}-${m}`]=!0,this.logger.warn(`key "${r}" for languages "${g.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(b=>{var w;if(this.isValidLookup(n))return;i=b;const k=[u];if((w=this.i18nFormat)!=null&&w.addLookupKeys)this.i18nFormat.addLookupKeys(k,u,b,m,s);else{let O;p&&(O=this.pluralResolver.getSuffix(b,s.count,s));const E=`${this.options.pluralSeparator}zero`,C=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(k.push(u+O),s.ordinal&&O.indexOf(C)===0&&k.push(u+O.replace(C,this.options.pluralSeparator)),d&&k.push(u+E)),f){const N=`${u}${this.options.contextSeparator}${s.context}`;k.push(N),p&&(k.push(N+O),s.ordinal&&O.indexOf(C)===0&&k.push(N+O.replace(C,this.options.pluralSeparator)),d&&k.push(N+E))}}let _;for(;_=k.pop();)this.isValidLookup(n)||(o=_,n=this.getResource(b,m,_,s))}))})}),{res:n,usedKey:r,exactUsedKey:o,usedLng:i,usedNS:a}}isValidLookup(t){return!(t===void 0||!this.options.returnNull&&t===null||!this.options.returnEmptyString&&t==="")}getResource(t,n,r){var o;let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(o=this.i18nFormat)!=null&&o.getResource?this.i18nFormat.getResource(t,n,r,i):this.resourceStore.getResource(t,n,r,i)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&!xt(t.replace);let o=r?t.replace:t;if(r&&t.count!==void 0&&(o.count=t.count),this.options.interpolation.defaultVariables&&(o=A(A({},this.options.interpolation.defaultVariables),o)),!r){o=A({},o);for(const i of n)delete o[i]}return o}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,12)&&t[r]!==void 0)return!0;return!1}}class eZ{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ss.create("languageUtils")}getScriptPartFromCode(t){if(!(t=gw(t))||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(!(t=gw(t))||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(xt(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const o=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(o))&&(n=o)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const o=this.getScriptPartFromCode(r);if(this.isSupportedCode(o))return n=o;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(a=>a===i?a:a.indexOf("-")<0&&i.indexOf("-")<0||!(a.indexOf("-")>0&&i.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===i||a.indexOf(i)===0&&i.length>1)?void 0:a)}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),xt(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],t),o=[],i=a=>{a&&(this.isSupportedCode(a)?o.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return xt(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):xt(t)&&i(this.formatLanguageCode(t)),r.forEach(a=>{o.indexOf(a)<0&&i(this.formatLanguageCode(a))}),o}}const tZ={zero:0,one:1,two:2,few:3,many:4,other:5},nZ={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class lSe{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=n,this.logger=ss.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=gw(t==="dev"?"en":t),o=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:o});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let a;try{a=new Intl.PluralRules(r,{type:o})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),nZ;if(!t.match(/-|_/))return nZ;const l=this.languageUtils.getLanguagePartFromCode(t);a=this.getRule(l,n)}return this.pluralRulesCache[i]=a,a}needsPlural(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,r).map(o=>`${n}${o}`)}getSuffixes(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((o,i)=>tZ[o]-tZ[i]).map(o=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${o}`):[]}getSuffix(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const o=this.getRule(t,r);return o?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${o.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,r))}}const rZ=function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",o=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],i=((a,s,l)=>{const c=fw(a,l);return c!==void 0?c:fw(s,l)})(e,t,n);return!i&&o&&xt(n)&&(i=dE(e,n,r),i===void 0&&(i=dE(t,n,r))),i},hE=e=>e.replace(/\$/g,"$$$$");class cSe{constructor(){var t;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ss.create("interpolator"),this.options=n,this.format=((t=n==null?void 0:n.interpolation)==null?void 0:t.format)||(r=>r),this.init(n)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:o,prefix:i,prefixEscaped:a,suffix:s,suffixEscaped:l,formatSeparator:c,unescapeSuffix:u,unescapePrefix:h,nestingPrefix:p,nestingPrefixEscaped:d,nestingSuffix:f,nestingSuffixEscaped:g,nestingOptionsSeparator:m,maxReplaces:v,alwaysFormat:y}=t.interpolation;this.escape=n!==void 0?n:oSe,this.escapeValue=r===void 0||r,this.useRawValueToEscape=o!==void 0&&o,this.prefix=i?Gh(i):a||"{{",this.suffix=s?Gh(s):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=u?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=p?Gh(p):d||Gh("$t("),this.nestingSuffix=f?Gh(f):g||Gh(")"),this.nestingOptionsSeparator=m||",",this.maxReplaces=v||1e3,this.alwaysFormat=y!==void 0&&y,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,n,r,o){var i;let a,s,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=d=>{if(d.indexOf(this.formatSeparator)<0){const v=rZ(n,c,d,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(v,void 0,r,K(A(A({},o),n),{interpolationkey:d})):v}const f=d.split(this.formatSeparator),g=f.shift().trim(),m=f.join(this.formatSeparator).trim();return this.format(rZ(n,c,g,this.options.keySeparator,this.options.ignoreJSONStructure),m,r,K(A(A({},o),n),{interpolationkey:g}))};this.resetRegExp();const h=(o==null?void 0:o.missingInterpolationHandler)||this.options.missingInterpolationHandler,p=((i=o==null?void 0:o.interpolation)==null?void 0:i.skipOnVariables)!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:d=>hE(d)},{regex:this.regexp,safeValue:d=>this.escapeValue?hE(this.escape(d)):hE(d)}].forEach(d=>{for(l=0;a=d.regex.exec(t);){const f=a[1].trim();if(s=u(f),s===void 0)if(typeof h=="function"){const m=h(t,a,o);s=xt(m)?m:""}else if(o&&Object.prototype.hasOwnProperty.call(o,f))s="";else{if(p){s=a[0];continue}this.logger.warn(`missed to pass in variable ${f} for interpolating ${t}`),s=""}else!xt(s)&&!this.useRawValueToEscape&&(s=qJ(s));const g=d.safeValue(s);if(t=t.replace(a[0],g),p?(d.regex.lastIndex+=s.length,d.regex.lastIndex-=a[0].length):d.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,n){let r,o,i,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=(l,c)=>{var u;const h=this.nestingOptionsSeparator;if(l.indexOf(h)<0)return l;const p=l.split(new RegExp(`${h}[ ]*{`));let d=`{${p[1]}`;l=p[0],d=this.interpolate(d,i);const f=d.match(/'/g),g=d.match(/"/g);(((u=f==null?void 0:f.length)!=null?u:0)%2==0&&!g||g.length%2!=0)&&(d=d.replace(/'/g,'"'));try{i=JSON.parse(d),c&&(i=A(A({},c),i))}catch(m){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,m),`${l}${h}${d}`}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,l};for(;r=this.nestingRegexp.exec(t);){let l=[];i=A({},a),i=i.replace&&!xt(i.replace)?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;let c=!1;if(r[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(r[1])){const u=r[1].split(this.formatSeparator).map(h=>h.trim());r[1]=u.shift(),l=u,c=!0}if(o=n(s.call(this,r[1].trim(),i),i),o&&r[0]===t&&!xt(o))return o;xt(o)||(o=qJ(o)),o||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${t}`),o=""),c&&(o=l.reduce((u,h)=>this.format(u,h,a.lng,K(A({},a),{interpolationkey:r[1].trim()})),o.trim())),t=t.replace(r[0],o),this.regexp.lastIndex=0}return t}}const Kh=e=>{const t={};return(n,r,o)=>{let i=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(i=K(A({},i),{[o.interpolationkey]:void 0}));const a=r+JSON.stringify(i);let s=t[a];return s||(s=e(gw(r),o),t[a]=s),s(n)}};class uSe{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ss.create("formatter"),this.options=t,this.formats={number:Kh((n,r)=>{const o=new Intl.NumberFormat(n,A({},r));return i=>o.format(i)}),currency:Kh((n,r)=>{const o=new Intl.NumberFormat(n,K(A({},r),{style:"currency"}));return i=>o.format(i)}),datetime:Kh((n,r)=>{const o=new Intl.DateTimeFormat(n,A({},r));return i=>o.format(i)}),relativetime:Kh((n,r)=>{const o=new Intl.RelativeTimeFormat(n,A({},r));return i=>o.format(i,r.range||"day")}),list:Kh((n,r)=>{const o=new Intl.ListFormat(n,A({},r));return i=>o.format(i)})},this.init(t)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=Kh(n)}format(t,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(a=>a.indexOf(")")>-1)){const a=i.findIndex(s=>s.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,a)].join(this.formatSeparator)}return i.reduce((a,s)=>{var l;const{formatName:c,formatOptions:u}=(h=>{let p=h.toLowerCase().trim();const d={};if(h.indexOf("(")>-1){const f=h.split("(");p=f[0].toLowerCase().trim();const g=f[1].substring(0,f[1].length-1);p==="currency"&&g.indexOf(":")<0?d.currency||(d.currency=g.trim()):p==="relativetime"&&g.indexOf(":")<0?d.range||(d.range=g.trim()):g.split(";").forEach(m=>{if(m){const[v,...y]=m.split(":"),b=y.join(":").trim().replace(/^'+|'+$/g,""),w=v.trim();d[w]||(d[w]=b),b==="false"&&(d[w]=!1),b==="true"&&(d[w]=!0),isNaN(b)||(d[w]=parseInt(b,10))}})}return{formatName:p,formatOptions:d}})(s);if(this.formats[c]){let h=a;try{const p=((l=o==null?void 0:o.formatParams)==null?void 0:l[o.interpolationkey])||{},d=p.locale||p.lng||o.locale||o.lng||r;h=this.formats[c](a,d,A(A(A({},u),o),p))}catch(p){this.logger.warn(p)}return h}return this.logger.warn(`there was no format function for ${c}`),a},t)}}class dSe extends bw{constructor(t,n,r){var o,i;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=a,this.logger=ss.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],(i=(o=this.backend)==null?void 0:o.init)==null||i.call(o,r,a.backend,a)}queueLoad(t,n,r,o){const i={},a={},s={},l={};return t.forEach(c=>{let u=!0;n.forEach(h=>{const p=`${c}|${h}`;!r.reload&&this.store.hasResourceBundle(c,h)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?a[p]===void 0&&(a[p]=!0):(this.state[p]=1,u=!1,a[p]===void 0&&(a[p]=!0),i[p]===void 0&&(i[p]=!0),l[h]===void 0&&(l[h]=!0)))}),u||(s[c]=!0)}),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}loaded(t,n,r){const o=t.split("|"),i=o[0],a=o[1];n&&this.emit("failedLoading",i,a,n),!n&&r&&this.store.addResourceBundle(i,a,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);const s={};this.queue.forEach(l=>{((c,u,h,p)=>{const{obj:d,k:f}=uf(c,u,Object);d[f]=d[f]||[],d[f].push(h)})(l.loaded,[i],a),((c,u)=>{c.pending[u]!==void 0&&(delete c.pending[u],c.pendingCount--)})(l,t),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{s[c]||(s[c]={});const u=l.loaded[c];u.length&&u.forEach(h=>{s[c][h]===void 0&&(s[c][h]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(l=>!l.done)}read(t,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!t.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:t,ns:n,fcName:r,tried:o,wait:i,callback:a});this.readingCalls++;const s=(c,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}c&&u&&o<this.maxRetries?setTimeout(()=>{this.read.call(this,t,n,r,o+1,2*i,a)},i):a(c,u)},l=this.backend[r].bind(this.backend);if(l.length!==2)return l(t,n,s);try{const c=l(t,n);c&&typeof c.then=="function"?c.then(u=>s(null,u)).catch(s):s(null,c)}catch(c){s(c)}}prepareLoading(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();xt(t)&&(t=this.languageUtils.toResolveHierarchy(t)),xt(n)&&(n=[n]);const i=this.queueLoad(t,n,r,o);if(!i.toLoad.length)return i.pending.length||o(),null;i.toLoad.forEach(a=>{this.loadOne(a)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=t.split("|"),o=r[0],i=r[1];this.read(o,i,"read",void 0,void 0,(a,s)=>{a&&this.logger.warn(`${n}loading namespace ${i} for language ${o} failed`,a),!a&&s&&this.logger.log(`${n}loaded namespace ${i} for language ${o}`,s),this.loaded(t,a,s)})}saveMissing(t,n,r,o,i){var a,s,l,c,u;let h=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},p=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if((s=(a=this.services)==null?void 0:a.utils)==null||!s.hasLoadedNamespace||(c=(l=this.services)==null?void 0:l.utils)!=null&&c.hasLoadedNamespace(n)){if(r!=null&&r!==""){if((u=this.backend)!=null&&u.create){const d=K(A({},h),{isUpdate:i}),f=this.backend.create.bind(this.backend);if(f.length<6)try{let g;g=f.length===5?f(t,n,r,o,d):f(t,n,r,o),g&&typeof g.then=="function"?g.then(m=>p(null,m)).catch(p):p(null,g)}catch(g){p(g)}else f(t,n,r,o,p,d)}!t||!t[0]||this.store.addResource(t[0],n,r,o)}}else this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")}}const oZ=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),xt(e[1])&&(t.defaultValue=e[1]),xt(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),iZ=e=>{var t,n;return xt(e.ns)&&(e.ns=[e.ns]),xt(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),xt(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((n=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:n.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},ww=()=>{};class df extends bw{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=iZ(t),this.services={},this.logger=ss,this.modules={external:[]},(r=>{Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach(o=>{typeof r[o]=="function"&&(r[o]=r[o].bind(r))})})(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),n.defaultNS==null&&n.ns&&(xt(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const o=oZ();this.options=A(A(A({},o),this.options),iZ(n)),this.options.interpolation=A(A({},o.interpolation),this.options.interpolation),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const i=l=>l?typeof l=="function"?new l:l:null;if(!this.options.isClone){let l;this.modules.logger?ss.init(i(this.modules.logger),this.options):ss.init(null,this.options),l=this.modules.formatter?this.modules.formatter:uSe;const c=new eZ(this.options);this.store=new QJ(this.options.resources,this.options);const u=this.services;u.logger=ss,u.resourceStore=this.store,u.languageUtils=c,u.pluralResolver=new lSe(c,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),l&&(!this.options.interpolation.format||this.options.interpolation.format===o.interpolation.format)&&(u.formatter=i(l),u.formatter.init(u,this.options),this.options.interpolation.format=u.formatter.format.bind(u.formatter)),u.interpolator=new cSe(this.options),u.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},u.backendConnector=new dSe(i(this.modules.backend),u.resourceStore,u,this.options),u.backendConnector.on("*",function(h){for(var p=arguments.length,d=new Array(p>1?p-1:0),f=1;f<p;f++)d[f-1]=arguments[f];t.emit(h,...d)}),this.modules.languageDetector&&(u.languageDetector=i(this.modules.languageDetector),u.languageDetector.init&&u.languageDetector.init(u,this.options.detection,this.options)),this.modules.i18nFormat&&(u.i18nFormat=i(this.modules.i18nFormat),u.i18nFormat.init&&u.i18nFormat.init(this)),this.translator=new yw(this.services,this.options),this.translator.on("*",function(h){for(var p=arguments.length,d=new Array(p>1?p-1:0),f=1;f<p;f++)d[f-1]=arguments[f];t.emit(h,...d)}),this.modules.external.forEach(h=>{h.init&&h.init(this)})}if(this.format=this.options.interpolation.format,r||(r=ww),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&l[0]!=="dev"&&(this.options.lng=l[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(l=>{this[l]=function(){return t.store[l](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(l=>{this[l]=function(){return t.store[l](...arguments),t}});const a=cf(),s=()=>{const l=(c,u)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(u),r(c,u)};if(this.languages&&!this.isInitialized)return l(null,this.t.bind(this));this.changeLanguage(this.options.lng,l)};return this.options.resources||!this.options.initAsync?s():setTimeout(s,0),a}loadResources(t){var n,r;let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ww;const i=xt(t)?t:this.language;if(typeof t=="function"&&(o=t),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return o();const a=[],s=l=>{l&&l!=="cimode"&&this.services.languageUtils.toResolveHierarchy(l).forEach(c=>{c!=="cimode"&&a.indexOf(c)<0&&a.push(c)})};i?s(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>s(l)),(r=(n=this.options.preload)==null?void 0:n.forEach)==null||r.call(n,l=>s(l)),this.services.backendConnector.load(a,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),o(l)})}else o(null)}reloadResources(t,n,r){const o=cf();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=ww),this.services.backendConnector.reload(t,n,i=>{o.resolve(),r(i)}),o}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&XJ.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(t&&this.languages&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){var r=this;this.isLanguageChangingTo=t;const o=cf();this.emit("languageChanging",t);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,c)=>{c?this.isLanguageChangingTo===t&&(i(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,o.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},s=l=>{var c,u;!t&&!l&&this.services.languageDetector&&(l=[]);const h=xt(l)?l:l&&l[0],p=this.store.hasLanguageSomeTranslations(h)?h:this.services.languageUtils.getBestMatchFromCodes(xt(l)?[l]:l);p&&(this.language||i(p),this.translator.language||this.translator.changeLanguage(p),(u=(c=this.services.languageDetector)==null?void 0:c.cacheUserLanguage)==null||u.call(c,p)),this.loadResources(p,d=>{a(d,p)})};return t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(t):s(this.services.languageDetector.detect()),o}getFixedT(t,n,r){var o=this;const i=function(a,s){let l;if(typeof s!="object"){for(var c=arguments.length,u=new Array(c>2?c-2:0),h=2;h<c;h++)u[h-2]=arguments[h];l=o.options.overloadTranslationOptionHandler([a,s].concat(u))}else l=A({},s);l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||i.keyPrefix);const p=o.options.keySeparator||".";let d;return d=l.keyPrefix&&Array.isArray(a)?a.map(f=>`${l.keyPrefix}${p}${f}`):l.keyPrefix?`${l.keyPrefix}${p}${a}`:a,o.t(d,l)};return xt(t)?i.lng=t:i.lngs=t,i.ns=n,i.keyPrefix=r,i}t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=this.translator)==null?void 0:t.translate(...r)}exists(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=this.translator)==null?void 0:t.exists(...r)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],o=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(s,l)=>{const c=this.services.backendConnector.state[`${s}|${l}`];return c===-1||c===0||c===2};if(n.precheck){const s=n.precheck(this,a);if(s!==void 0)return s}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,t)&&(!o||a(i,t)))}loadNamespaces(t,n){const r=cf();return this.options.ns?(xt(t)&&(t=[t]),t.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=cf();xt(t)&&(t=[t]);const o=this.options.preload||[],i=t.filter(a=>o.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return i.length?(this.options.preload=o.concat(i),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}dir(t){var n,r;if(t||(t=this.resolvedLanguage||(((n=this.languages)==null?void 0:n.length)>0?this.languages[0]:this.language)),!t)return"rtl";const o=((r=this.services)==null?void 0:r.languageUtils)||new eZ(oZ());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(o.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new df(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ww;const r=t.forkResourceStore;r&&delete t.forkResourceStore;const o=K(A(A({},this.options),t),{isClone:!0}),i=new df(o);if((t.debug!==void 0||t.prefix!==void 0)&&(i.logger=i.logger.clone(t)),["store","services","language"].forEach(a=>{i[a]=this[a]}),i.services=A({},this.services),i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r){const a=Object.keys(this.store.data).reduce((s,l)=>(s[l]=A({},this.store.data[l]),s[l]=Object.keys(s[l]).reduce((c,u)=>(c[u]=A({},s[l][u]),c),s[l]),s),{});i.store=new QJ(a,o),i.services.resourceStore=i.store}return i.translator=new yw(i.services,o),i.translator.on("*",function(a){for(var s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];i.emit(a,...l)}),i.init(o,n),i.translator.options=o,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const qr=df.createInstance();qr.createInstance=df.createInstance,qr.createInstance,qr.dir,qr.init,qr.loadResources,qr.reloadResources,qr.use,qr.changeLanguage,qr.getFixedT,qr.t,qr.exists,qr.setDefaultNamespace,qr.hasLoadedNamespace,qr.loadNamespaces,qr.loadLanguages;var hSe=["added","removed","updated"];function aZ(e){return hSe.includes(e)}async function sZ({queryClient:e,persister:t,buster:n="",dehydrateOptions:r}){const o={buster:n,timestamp:Date.now(),clientState:Cae(e,r)};await t.persistClient(o)}var pSe=e=>{var t=e,{children:n,persistOptions:r,onSuccess:o,onError:i}=t,a=xe(t,["children","persistOptions","onSuccess","onError"]);const[s,l]=x.useState(!0),c=x.useRef({persistOptions:r,onSuccess:o,onError:i}),u=x.useRef(!1);return x.useEffect(()=>{c.current={persistOptions:r,onSuccess:o,onError:i}}),x.useEffect(()=>{const h=K(A({},c.current.persistOptions),{queryClient:a.client});return u.current||(u.current=!0,async function({queryClient:p,persister:d,maxAge:f=864e5,buster:g="",hydrateOptions:m}){try{const v=await d.restoreClient();if(v){if(!v.timestamp)return d.removeClient();{const y=Date.now()-v.timestamp>f,b=v.buster!==g;if(y||b)return d.removeClient();Oae(p,v.clientState,m)}}}catch(v){throw await d.removeClient(),v}}(h).then(()=>{var p,d;return(d=(p=c.current).onSuccess)==null?void 0:d.call(p)}).catch(()=>{var p,d;return(d=(p=c.current).onError)==null?void 0:d.call(p)}).finally(()=>{l(!1)})),s?void 0:function(p){const d=p.queryClient.getQueryCache().subscribe(g=>{aZ(g.type)&&sZ(p)}),f=p.queryClient.getMutationCache().subscribe(g=>{aZ(g.type)&&sZ(p)});return()=>{d(),f()}}(h)},[a.client,s]),Y.jsx(Pae,K(A({},a),{children:Y.jsx(Nae,{value:s,children:n})}))};function pE(){}function mSe(e,t=100){let n,r=null;return function(...o){n=o,r===null&&(r=setTimeout(()=>{e(...n),r=null},t))}}const mE=()=>{var e,t;const n=W(r=>r.chatBox.agent);return((t=(e=n==null?void 0:n.config)==null?void 0:e.style)==null?void 0:t.font_size)||"12px"},fSe=["add to cart"],gSe=["buy now"],vSe=["buy now with shoppay"],bSe=["amazon-pay-button","buy now with prime"],lZ=e=>{switch(e){case"website":return fSe;case"buyNow":return gSe;case"buyWithShopPay":return vSe;case"prime":return bSe;default:return[]}},cZ=e=>{var t,n,r,o,i;const a=(t=jn)==null?void 0:t.getState();if(((n=a==null?void 0:a.chatBox)==null?void 0:n.source)!=="chatbox")return;const s=(r=a.chatBox)==null?void 0:r.agent,l=(o=a.chatBox)==null?void 0:o.source,c=(i=a.chatBox)==null?void 0:i.botMode,u=Tt(a),h=Ja(a),p=(f=>{switch(f){case"website":return Lt.WebsiteAddToCart;case"buyNow":return Lt.BuyNow;case"buyWithShopPay":return Lt.BuyWithShopPay;case"prime":return Lt.BuyWithPrime;default:return null}})(e);if(!p)return;const d={event_name:p,source:l,bot_mode:c,chatbot_id:s==null?void 0:s.id,conversation_id:u,message_id:h};Xo(d)},ySe=(e,t)=>{var n;const r=[];for(const o of t){if(((n=o.textContent)==null?void 0:n.trim().toLowerCase())!==e)continue;const i=o.closest("button");i&&r.push(i);const a=o.closest('div[role="button"]');a&&r.push(a)}return r},uZ=(e,t)=>{for(const n of t)n.dataset.eventAdded||(n.addEventListener("click",()=>{cZ(e)}),n.dataset.eventAdded="true")};let dZ=!1;const kw=e=>{switch(e){case"website":case"buyNow":case"buyWithShopPay":(t=>{const n=Array.from(document.querySelectorAll("span")),r=lZ(t);for(const o of r){const i=ySe(o,n);ht(i)||uZ(t,i)}})(e);break;case"prime":if((()=>{var t;const n=Array.from(document.querySelectorAll("div"));for(const r of n){if(!r.shadowRoot)continue;const o=Array.from(r.shadowRoot.children);for(const i of o){const a=lZ("prime");for(const s of a)if(i.type==="button"&&((t=i.className)==null?void 0:t.trim().toLowerCase())===s)return uZ("prime",[i]),i}}return null})())break;(()=>{if(dZ)return;const t=Array.from(document.querySelectorAll("iframe"));for(const n of t)if(n.contentWindow&&n.title.trim().toLowerCase()==="buy with prime")return window.addEventListener("message",r=>{var o;((o=r.data)==null?void 0:o.messageType)==="ADD_TO_CART"&&cZ("prime")}),dZ=!0,n})()}};var hZ,xr={},pZ={};function mZ(){return hZ||(hZ=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getListFiles=e.getImage=e.getBase64=e.getAcceptTypeString=e.openFileDialog=void 0,e.openFileDialog=function(t){t.current&&t.current.click()},e.getAcceptTypeString=function(t,n){return t!=null&&t.length?t.map(function(r){return"."+r}).join(", "):n?"":"image/*"},e.getBase64=function(t){var n=new FileReader;return new Promise(function(r){n.addEventListener("load",function(){return r(String(n.result))}),n.readAsDataURL(t)})},e.getImage=function(t){var n=new Image;return new Promise(function(r){n.addEventListener("load",function(){return r(n)}),n.src=URL.createObjectURL(t)})},e.getListFiles=function(t,n){for(var r=[],o=0;o<t.length;o+=1)r.push(e.getBase64(t[o]));return Promise.all(r).then(function(i){var a=i.map(function(s,l){var c;return(c={})[n]=s,c.file=t[l],c});return a})}}(pZ)),pZ}var fZ,gZ,vZ,Yh={},rc={};function bZ(){return fZ||(fZ=1,Object.defineProperty(rc,"__esModule",{value:!0}),rc.DEFAULT_DATA_URL_KEY=rc.INIT_MAX_NUMBER=rc.DEFAULT_NULL_INDEX=void 0,rc.DEFAULT_NULL_INDEX=-1,rc.INIT_MAX_NUMBER=1e3,rc.DEFAULT_DATA_URL_KEY="dataURL"),rc}function wSe(){return gZ||(gZ=1,function(e){var t=Yh&&Yh.__awaiter||function(i,a,s,l){return new(s||(s=Promise))(function(c,u){function h(f){try{d(l.next(f))}catch(g){u(g)}}function p(f){try{d(l.throw(f))}catch(g){u(g)}}function d(f){f.done?c(f.value):function(g){return g instanceof s?g:new s(function(m){m(g)})}(f.value).then(h,p)}d((l=l.apply(i,a||[])).next())})},n=Yh&&Yh.__generator||function(i,a){var s,l,c,u,h={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return u={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function p(d){return function(f){return function(g){if(s)throw new TypeError("Generator is already executing.");for(;h;)try{if(s=1,l&&(c=2&g[0]?l.return:g[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,g[1])).done)return c;switch(l=0,c&&(g=[2&g[0],c.value]),g[0]){case 0:case 1:c=g;break;case 4:return h.label++,{value:g[1],done:!1};case 5:h.label++,l=g[1],g=[0];continue;case 7:g=h.ops.pop(),h.trys.pop();continue;default:if(!(c=(c=h.trys).length>0&&c[c.length-1])&&(g[0]===6||g[0]===2)){h=0;continue}if(g[0]===3&&(!c||g[1]>c[0]&&g[1]<c[3])){h.label=g[1];break}if(g[0]===6&&h.label<c[1]){h.label=c[1],c=g;break}if(c&&h.label<c[2]){h.label=c[2],h.ops.push(g);break}c[2]&&h.ops.pop(),h.trys.pop();continue}g=a.call(i,h)}catch(m){g=[6,m],l=0}finally{s=c=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([d,f])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.getErrorValidation=e.isMaxNumberValid=e.isAcceptTypeValid=e.isMaxFileSizeValid=e.isImageValid=e.isResolutionValid=void 0;var r=bZ(),o=mZ();e.isResolutionValid=function(i,a,s,l){if(s===void 0&&(s=0),l===void 0&&(l=1),!(s&&l&&i.width&&i.height))return!0;switch(a){case"absolute":if(i.width===s&&i.height===l)return!0;break;case"ratio":var c=s/l;if(i.width/i.height===c)return!0;break;case"less":if(i.width<=s&&i.height<=l)return!0;break;case"more":if(i.width>=s&&i.height>=l)return!0}return!1},e.isImageValid=function(i){return!!i.includes("image")},e.isMaxFileSizeValid=function(i,a){return!a||i<=a},e.isAcceptTypeValid=function(i,a){if(i&&i.length>0){var s=a.split(".").pop()||"";if(i.findIndex(function(l){return l.toLowerCase()===s.toLowerCase()})<0)return!1}return!0},e.isMaxNumberValid=function(i,a,s){if(a!==0&&!a)return!0;if(s===r.DEFAULT_NULL_INDEX){if(i<=a)return!0}else if(i<=a+1)return!0;return!1},e.getErrorValidation=function(i){var a=i.fileList,s=i.value,l=i.maxNumber,c=i.keyUpdate,u=i.acceptType,h=i.maxFileSize,p=i.resolutionType,d=i.resolutionWidth,f=i.resolutionHeight,g=i.allowNonImageType;return t(void 0,void 0,void 0,function(){var m,v,y,b;return n(this,function(w){switch(w.label){case 0:return m={},e.isMaxNumberValid(a.length+s.length,l,c)?[3,1]:(m.maxNumber=!0,[3,5]);case 1:v=0,w.label=2;case 2:return v<a.length?(y=a[v].file)?(g||e.isImageValid(y.type))&&e.isAcceptTypeValid(u,y.name)?e.isMaxFileSizeValid(y.size,h)?p?[4,o.getImage(y)]:[3,4]:(m.maxFileSize=!0,[3,5]):(m.acceptType=!0,[3,5]):[3,4]:[3,5];case 3:if(b=w.sent(),!e.isResolutionValid(b,p,d,f))return m.resolution=!0,[3,5];w.label=4;case 4:return v+=1,[3,2];case 5:return Object.values(m).find(Boolean)?[2,m]:[2,null]}})})}}(Yh)),Yh}var kSe=function(){if(vZ)return xr;vZ=1;var e=xr&&xr.__assign||function(){return e=Object.assign||function(h){for(var p,d=1,f=arguments.length;d<f;d++)for(var g in p=arguments[d])Object.prototype.hasOwnProperty.call(p,g)&&(h[g]=p[g]);return h},e.apply(this,arguments)},t=xr&&xr.__createBinding||(Object.create?function(h,p,d,f){f===void 0&&(f=d),Object.defineProperty(h,f,{enumerable:!0,get:function(){return p[d]}})}:function(h,p,d,f){f===void 0&&(f=d),h[f]=p[d]}),n=xr&&xr.__setModuleDefault||(Object.create?function(h,p){Object.defineProperty(h,"default",{enumerable:!0,value:p})}:function(h,p){h.default=p}),r=xr&&xr.__importStar||function(h){if(h&&h.__esModule)return h;var p={};if(h!=null)for(var d in h)d!=="default"&&Object.prototype.hasOwnProperty.call(h,d)&&t(p,h,d);return n(p,h),p},o=xr&&xr.__awaiter||function(h,p,d,f){return new(d||(d=Promise))(function(g,m){function v(w){try{b(f.next(w))}catch(k){m(k)}}function y(w){try{b(f.throw(w))}catch(k){m(k)}}function b(w){w.done?g(w.value):function(k){return k instanceof d?k:new d(function(_){_(k)})}(w.value).then(v,y)}b((f=f.apply(h,p||[])).next())})},i=xr&&xr.__generator||function(h,p){var d,f,g,m,v={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return m={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function y(b){return function(w){return function(k){if(d)throw new TypeError("Generator is already executing.");for(;v;)try{if(d=1,f&&(g=2&k[0]?f.return:k[0]?f.throw||((g=f.return)&&g.call(f),0):f.next)&&!(g=g.call(f,k[1])).done)return g;switch(f=0,g&&(k=[2&k[0],g.value]),k[0]){case 0:case 1:g=k;break;case 4:return v.label++,{value:k[1],done:!1};case 5:v.label++,f=k[1],k=[0];continue;case 7:k=v.ops.pop(),v.trys.pop();continue;default:if(!(g=(g=v.trys).length>0&&g[g.length-1])&&(k[0]===6||k[0]===2)){v=0;continue}if(k[0]===3&&(!g||k[1]>g[0]&&k[1]<g[3])){v.label=k[1];break}if(k[0]===6&&v.label<g[1]){v.label=g[1],g=k;break}if(g&&v.label<g[2]){v.label=g[2],v.ops.push(k);break}g[2]&&v.ops.pop(),v.trys.pop();continue}k=p.call(h,v)}catch(_){k=[6,_],f=0}finally{d=g=0}if(5&k[0])throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}([b,w])}}},a=xr&&xr.__spreadArrays||function(){for(var h=0,p=0,d=arguments.length;p<d;p++)h+=arguments[p].length;var f=Array(h),g=0;for(p=0;p<d;p++)for(var m=arguments[p],v=0,y=m.length;v<y;v++,g++)f[g]=m[v];return f};Object.defineProperty(xr,"__esModule",{value:!0});var s=r(fn),l=mZ(),c=wSe(),u=bZ();return xr.default=function(h){var p=h.value,d=p===void 0?[]:p,f=h.onChange,g=h.onError,m=h.children,v=h.dataURLKey,y=v===void 0?u.DEFAULT_DATA_URL_KEY:v,b=h.multiple,w=b!==void 0&&b,k=h.maxNumber,_=k===void 0?u.INIT_MAX_NUMBER:k,O=h.acceptType,E=h.maxFileSize,C=h.resolutionWidth,N=h.resolutionHeight,L=h.resolutionType,j=h.inputProps,H=j===void 0?{}:j,F=h.allowNonImageType,z=F!==void 0&&F,B=d||[],V=s.useRef(null),U=s.useState(u.DEFAULT_NULL_INDEX),S=U[0],q=U[1],P=s.useState(null),Q=P[0],re=P[1],_e=s.useState(!1),se=_e[0],ue=_e[1],fe=s.useCallback(function(){return l.openFileDialog(V)},[V]),je=s.useCallback(function(){q(u.DEFAULT_NULL_INDEX),fe()},[fe]),Qe=s.useCallback(function(){f==null||f([])},[f]),Xe=function(ae){return o(void 0,void 0,void 0,function(){var pe;return i(this,function(Te){switch(Te.label){case 0:return[4,c.getErrorValidation({fileList:ae,maxFileSize:E,maxNumber:_,acceptType:O,keyUpdate:S,resolutionType:L,resolutionWidth:C,resolutionHeight:N,value:B,allowNonImageType:z})];case 1:return(pe=Te.sent())?(re(pe),g==null||g(pe,ae),[2,!1]):(Q&&re(null),[2,!0])}})})},ie=function(ae){return o(void 0,void 0,void 0,function(){var pe,Te,be,we,Oe;return i(this,function(ke){switch(ke.label){case 0:return ae?[4,l.getListFiles(ae,y)]:[2];case 1:return(pe=ke.sent()).length?[4,Xe(pe)]:[2];case 2:if(!ke.sent())return[2];if(be=[],S>u.DEFAULT_NULL_INDEX)we=pe[0],(Te=a(B))[S]=we,be.push(S);else if(w)for(Te=a(B,pe),Oe=B.length;Oe<Te.length;Oe+=1)be.push(Oe);else Te=[pe[0]],be.push(0);return f==null||f(Te,be),[2]}})})},Se=s.useMemo(function(){return l.getAcceptTypeString(O,z)},[O,z]);return s.default.createElement(s.default.Fragment,null,s.default.createElement("input",e({type:"file",accept:Se,ref:V,multiple:w&&S===u.DEFAULT_NULL_INDEX,onChange:function(ae){return o(void 0,void 0,void 0,function(){return i(this,function(pe){switch(pe.label){case 0:return[4,ie(ae.target.files)];case 1:return pe.sent(),S>u.DEFAULT_NULL_INDEX&&q(u.DEFAULT_NULL_INDEX),V.current&&(V.current.value=""),[2]}})})},style:{display:"none"}},H)),m==null?void 0:m({imageList:B,onImageUpload:je,onImageRemoveAll:Qe,onImageUpdate:function(ae){q(ae),fe()},onImageRemove:function(ae){var pe=a(B);Array.isArray(ae)?ae.forEach(function(Te){pe.splice(Te,1)}):pe.splice(ae,1),f==null||f(pe)},errors:Q,dragProps:{onDrop:function(ae){ae.preventDefault(),ae.stopPropagation(),ue(!1),ae.dataTransfer.files&&ae.dataTransfer.files.length>0&&ie(ae.dataTransfer.files)},onDragEnter:function(ae){ae.preventDefault(),ae.stopPropagation(),ae.dataTransfer.items&&ae.dataTransfer.items.length>0&&ue(!0)},onDragLeave:function(ae){ae.preventDefault(),ae.stopPropagation(),ue(!1)},onDragOver:function(ae){ae.preventDefault(),ae.stopPropagation()},onDragStart:function(ae){ae.preventDefault(),ae.stopPropagation(),ae.dataTransfer.clearData()}},isDragging:se}))},xr}();const xSe=Li(kSe),yZ=tt("div",{target:"eqken7f0"})({name:"esuuq6",styles:"display:flex;gap:0.5em;align-items:center;padding:1em;height:44px;justify-content:space-between"}),wZ=()=>{var e;const t=mt(),n=t==null?void 0:t.config;return(e=n==null?void 0:n.search_bar)==null?void 0:e.hide_search_by},_Se=()=>{var e,t,n;const r=pn(),o=W(g=>g.chatBox.showSearchBar);wZ();const i=mt(),a=dt(),s=W(g=>g.searchBar.query),l=W(g=>g.searchBar.isWaitingForReply),c=W(g=>g.searchBar.fileImages),{handleUploadImage:u}=((g=!1)=>{const m=dt(),{mutateAsync:v,isPending:y}=Eg(),[b,w]=x.useState({});return{handleUploadImage:async k=>{m(Z9("loading")),Np={};const _=k.map(async O=>{var E;try{const C=await v({image:O,return_product:g,onUploadProgress:N=>{w(L=>{var j;return J9(X9({},L),{[(j=O.file)==null?void 0:j.name]:N.loaded/N.total})})}});return Np[(E=O.file)==null?void 0:E.name]=C.image_gcs_uri,m(Z9("success")),C}catch(C){throw m(Z9("error")),C}});return await Promise.all(_)},uploadProgress:b,isUploading:y}})(!0),h=x.useRef(null),p=x.useRef(null),d=(n=(t=(e=i==null?void 0:i.config)==null?void 0:e.search_bar)==null?void 0:t.placeholder)!=null?n:"Ask anything...";x.useLayoutEffect(()=>{o&&(document.activeElement instanceof HTMLElement&&document.activeElement.blur(),p.current&&p.current.focus())},[o]);const f=async g=>{a(Pg(g));let m=(await u(g)).reduce((v,y)=>(y!=null&&y.products&&v.push(...y.products),v),[]);a(zse(m))};return ce(yZ,{style:{gap:0},children:[(()=>{var g,m;return(m=(g=i==null?void 0:i.config)==null?void 0:g.image_search)!=null&&m.enabled_on_search_bar?R(xSe,{value:c,onChange:f,maxNumber:10,children:({onImageUpload:v})=>R("button",{ref:h,className:"p-1 text-slate-500 hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-full text-lg inline-flex items-center justify-center hover:rounded-full hover:ring-4 hover:ring-slate-300",onClick:()=>{v(),h.current&&h.current.blur()},children:R(Fme,{style:{width:24,height:24}})})}):R(Lfe,{style:{color:r.primary_color,marginLeft:-10,width:24,height:24}})})(),R("input",{ref:p,type:"text",value:s,onChange:g=>a(Cg(g.target.value)),placeholder:d,className:"p-2 rounded flex-1 text-base focus:outline-none",disabled:l,style:{maxWidth:"calc(100% - 40px)"}}),R("button",{className:"p-1 text-slate-500 hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-full text-lg inline-flex items-center justify-center hover:rounded-full hover:ring-4 hover:ring-slate-300",style:{marginRight:-12},onClick:()=>{a(s?Cg(""):bu({showSearchBar:!1}))},children:R(EB,{className:"text-2xl "})})]})},TSe=()=>{const e=dt(),{mutate:t}=Ig(),n=W(i=>i.searchBar.userQuestion),r=W(i=>i.searchBar.isWaitingForReply),o=W(i=>i.searchBar.processingImageStatus==="loading");return ce(yZ,{style:{paddingTop:8,paddingBottom:8,overscrollBehaviorY:"contain"},children:[R("input",{readOnly:!0,type:"text",value:n,className:"p-2 rounded flex-1 text-base focus:outline-none",style:{overscrollBehaviorY:"contain",width:"100%"}}),(r||o)&&R(Lm,{}),!r&&R(YX,{onClick:()=>{e(Dd("")),e(Pg([])),t({keepOpenSearchBar:!0})},children:"Clear"})]})},SSe=()=>{const e=dt();return Zr({mutationFn:t=>(async n=>{const{imageName:r}=n,o=Np[r];if(!o)throw new Error("gcsUri is missing");const i=new FormData;i.append("image_gcs_uri",o);const a=`${Bt.chatHost}/api/v1/image_delete`,s=await Mt.post(a,i,{headers:{"Content-Type":"multipart/form-data"}});if(s.status!==200)throw new Error("Failed to delete image");return s.data})(t),onMutate(t){e(Fse(t.imageName))},onSuccess:(t,n)=>{delete Np[n.imageName]}})},ESe=Zt.div({display:"flex",height:"10rem",width:"10rem",cursor:"pointer",flexDirection:"column",alignItems:"center",gap:"1rem",borderRadius:"1rem",borderWidth:"1px","--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity, 1))",padding:"0.5rem",":hover":{borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgb(147 197 253 / var(--tw-border-opacity, 1))"}}),CSe=e=>{const{product:t}=e,{url:n,image_url:r,price:o}=t;return ce(ESe,{children:[R("img",{src:r,onClick:()=>{window.open(n,"_blank")}}),ce("div",{children:["$",o]})]})},OSe=Zt.div({marginRight:"1rem",display:"flex",gap:"0.5rem",borderRightWidth:"4px","--tw-border-opacity":"1",borderColor:"rgb(226 232 240 / var(--tw-border-opacity, 1))",paddingRight:"2.25rem"}),PSe=Zt.div({position:"relative",height:"10rem",width:"10rem",overflow:"hidden",borderRadius:"1rem",borderWidth:"1px","--tw-bg-opacity":"1",backgroundColor:"rgb(71 85 105 / var(--tw-bg-opacity, 1))",padding:"0.5rem"}),ASe=Zt.img({height:"100%",width:"100%",cursor:"default",borderRadius:"1rem",objectFit:"cover"}),kZ=Zt.div({position:"absolute",inset:"0px",display:"flex",alignItems:"center",justifyContent:"center","--tw-bg-opacity":"0.2",backgroundColor:"rgb(0 0 0 / var(--tw-bg-opacity, 1))",fontSize:"30px",lineHeight:"36px","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity, 1))"}),NSe=Zt.button({borderRadius:"9999px","--tw-bg-opacity":"0.5",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity, 1))",padding:"0.5rem","--tw-text-opacity":"0.5",color:"rgb(0 0 0 / var(--tw-text-opacity, 1))",":hover":{"--tw-bg-opacity":"1","--tw-text-opacity":"1"}}),RSe=e=>{var t;const n=W(c=>c.searchBar.processingImageStatus),r=W(s8).status===Yc,[o,i]=x.useState(!1),{mutateAsync:a}=SSe(),{image:s,isUserEngaged:l}=e;return ce(PSe,{onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[R(ASe,{src:s.dataURL,alt:(t=s.file)==null?void 0:t.name}),o&&!l&&!r&&R(kZ,{children:R(NSe,{onClick:()=>{var c;a({imageName:((c=s.file)==null?void 0:c.name)||""})},children:R(EB,{})})}),n==="loading"&&R(kZ,{children:R(Lm,{size:30})})]})},ISe=()=>{const e=W(o=>o.searchBar.processingImageStatus),t=W(o=>o.searchBar.products).slice(0,5);let n="",r="flex flex-col justify-center text-slate-500 text-sm whitespace-pre-wrap";switch(e){case"loading":n=`While processing image, you can still modify your question.
Once it's done, you can send it.`;break;case"success":t.length||(n="No products found");break;case"error":r+=" text-red-500",n="Failed to process image"}return n?R("div",{className:r,children:n}):R(or,{children:t.map(o=>R(CSe,{product:o},o.product_id))})},MSe=Zt.div({margin:"1rem",display:"flex",gap:"1.5rem",borderRadius:"1rem",borderWidth:"1px","--tw-border-opacity":"1",borderColor:"rgb(226 232 240 / var(--tw-border-opacity, 1))","--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity, 1))",padding:"1.5rem",paddingBottom:"2.5rem","--tw-shadow":"inset 0 2px 4px 0 rgb(0 0 0 / 0.05)","--tw-shadow-colored":"inset 0 2px 4px 0 var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"}),LSe=({isUserEngaged:e})=>{const t=W(n=>n.searchBar.fileImages);return t.length?ce(MSe,{children:[t.length>0&&R(OSe,{children:t.map(n=>{var r;return R(RSe,{image:n,isUserEngaged:e},(r=n.file)==null?void 0:r.name)})}),R(ISe,{})]}):null},DSe=({item:e})=>ce(jSe,{children:[R(aX,{url:e.url}),R("div",{children:e.value}),R(sX,{score:e.score})]}),jSe=tt("div",{target:"e10csq9m0"})({name:"15lmu4t",styles:"display:flex;align-items:center;gap:10px;padding:7px;flex:1"}),zSe=({item:e})=>ce("div",{className:"flex items-center gap-3",children:[R($me,{}),R("div",{children:e.value})]}),FSe=({item:e})=>W(t=>t.searchBar.processingImageStatus==="loading")?R(Lm,{className:"w-8 h-8"}):ce("div",{className:"flex items-center gap-3",children:[R(tH,{}),R("div",{children:e.value})]}),BSe=({item:e,selected:t})=>{const n=x.useRef(null),[r,o]=x.useState(!1);x.useLayoutEffect(()=>{var a;const s=(a=n.current)==null?void 0:a.getBoundingClientRect();s&&s.height>224?o(!0):o(!1)},[e.value]);const i={};return r&&(i.maskImage="linear-gradient(to bottom, black 75%, transparent 100%)"),ce(USe,{children:[R(HSe,{style:i,selected:t,children:ce("div",{ref:n,children:[R(qh,{text:e.value}),(()=>{var a;if(!e.buttons)return null;const s=(a=e.buttons)==null?void 0:a.map(l=>R("div",{className:"bg-white ml-auto text-gray-800 px-2 py-1 border text-sm rounded-lg shadow",children:l.text},l.text));return R("div",{className:"flex flex-col justify-end mt-2 gap-1",children:s})})()]})}),r&&R("button",{className:"bg-white hover:bg-gray-100 text-gray-800 font-semibold py-2 border border-gray-400 rounded shadow",children:"Read More"})]})},USe=tt("div",{target:"e1ow7yf21"})({name:"b6wrti",styles:"display:flex;flex-direction:column;width:100%"}),HSe=tt("div",{target:"e1ow7yf20"})(e=>({fontSize:18,padding:16,maxHeight:224,overflow:"hidden",position:"relative"}),""),VSe=({results:e,highlightedIndex:t,setHighlightedIndex:n,handleSelect:r})=>{const o=W(h=>h.searchBar.query),[i,a]=sR(),{height:s}=function(){const[h,p]=x.useState({width:0,height:0}),d=x.useCallback(()=>{p({width:window.innerWidth||0,height:window.innerHeight||0})},[]);return Op("resize",d,lR),Op("orientationchange",d,lR),x.useEffect(d,[]),h}(),l=W(h=>h.searchBar.fileImages);if(ht(e))return null;let c=0;c=ht(l)?e.length>4?100:150:250;const u=s-a.top-c;return R("div",{ref:i,className:"mt-2 border-t overflow-y-auto p-2",style:{maxHeight:u},children:e.map((h,p)=>{let d="";const f=p===t;f&&(d+=" bg-blue-500");let g=R(qn,{size:"md",children:R(Iq,{text:h.value,query:o})});switch(h.kind){case"reference":g=R(DSe,{item:h});break;case"aiResponse":g=R(BSe,{item:h,selected:f});break;case"showPreviousMessage":g=R(zSe,{item:h});break;case"askCopilot":g=R(FSe,{item:h})}const m=`${h.kind}-${p}`;return R($Se,{selected:f,className:d,onMouseEnter:()=>n(p),onClick:()=>{r(h)},children:g},m)})})},$Se=tt(Sn,{target:"e41ucl0"})(e=>{const{selected:t}=e,n={alignItems:"center",gap:"7px",fontSize:"14px",padding:"7px 14px",borderBottomWidth:"1px",borderRadius:"5.25px",cursor:"pointer","&:last-child":{borderBottomWidth:"0px"}};return t&&(n.color="white",n.span={color:"white","--mantine-color-dimmed":"white"}),n},""),qSe=()=>{var e;const t=W(s8).status===Yc,n=W(S=>S.searchBar.processingImageStatus==="loading"),r=W(S=>S.searchBar.fileImages),o=W(Bse),i=dt(),a=Xa(),s=W(S=>S.searchBar.userQuestion),l=W(S=>S.searchBar.query),c=cw(),u=wZ(),h=mE(),[p,d]=x.useState(0),f=Wc(()=>{i(wU(Date.now()))},100);x.useEffect(()=>{const S=()=>{var q;f();const P=((q=window.visualViewport)==null?void 0:q.height)||window.innerHeight;d(P)};return S(),window.addEventListener("resize",S),window.addEventListener("scroll",S),()=>{window.removeEventListener("resize",S),window.removeEventListener("scroll",S)}},[f]);const{bestSuggestions:g}=Th(l),m=x.useMemo(()=>(g==null?void 0:g.map(S=>({kind:"text",value:S})))||[],[g]),v=W(S=>S.searchBar.searchResults),y=W(S=>S.chatBox.showSearchBar),b=W(S=>S.chatBox.showChatBox),w=W(S=>S.chatBox.agent),k=W(SU),_=W(Tt),O=(e=w==null?void 0:w.config)==null?void 0:e.style,[E,C]=x.useState(-1),N=W(_i),L=x.useMemo(()=>{if(N){for(const S of N.messages.slice().reverse())if(S.type==="bot")return S}},[N]),j=!!L;x.useEffect(()=>{!N&&!ht(v)&&i(Rp([]))},[i,v,N]),x.useEffect(()=>{if(!L)return;const S=L.references||[],q=[{kind:"aiResponse",value:L.text,buttons:L.buttons}];k&&q.push(...S.map(P=>({kind:"reference",value:P.name,url:P.url,score:P.score}))),i(Rp(q))},[i,L,L==null?void 0:L.text,k]),x.useEffect(()=>{L!=null&&L.done&&i(Og(!1))},[i,L==null?void 0:L.done]),x.useEffect(()=>{!w||w.id==="loading"||y&&i(pJ())},[i,_,w,y]);const H=x.useCallback(S=>{i(Rp([])),i(Og(!0)),i(Cg("")),i(Dd(S));const q={text:S},P=o[0];P&&(q.imageGcsUri=P),i(oa(q))},[i,o]),F=x.useCallback(S=>{switch(S.kind){case"reference":window.open(S.url,"_blank");break;case"aiResponse":case"showPreviousMessage":i(ia(!0));break;case"askCopilot":H(l);break;default:H(S.value)}},[i,H,l]);x.useEffect(()=>{const S=q=>{var P,Q;if(y&&!b)switch(q.key){case"ArrowDown":v.length>0&&(q.preventDefault(),C(re=>re<v.length-1?re+1:re));break;case"ArrowUp":v.length>0&&(q.preventDefault(),C(re=>re>0?re-1:re));break;case"Enter":{if(q.isComposing||(q.preventDefault(),t)||n)return;const re=v[E];re?F(re):!s&&l&&H(l);break}case"Escape":q.preventDefault(),b?(Q=(P=Rn).close)==null||Q.call(P):l?Cg(""):i(bu({showSearchBar:!1}))}};return window.addEventListener("keydown",S),()=>{window.removeEventListener("keydown",S)}},[i,F,H,E,n,t,l,v,b,y,s]),x.useEffect(()=>{const S=setTimeout(()=>{let q=[];if(l){const P=m.filter(re=>re.value.toLowerCase().includes(l.toLowerCase()));q=[...q,{kind:"askCopilot",value:`Search for: ${l}`},...P];const Q=q.findIndex(re=>re.kind==="askCopilot");C(Q)}else ht(q)?C(-1):C(0);s||i(Rp(q.slice(0,7)))},300);return()=>clearTimeout(S)},[m,j,l,s,i]),x.useEffect(()=>{l&&Dd("")},[l]);let z="";j?ht(r)?v.length>4?z+=" pt-4":z+=" pt-24":v.length>3?z+=" pt-4":z+=" pt-24":z+=" pt-24";const B=(y||b)&&a,V=B?"0.3s":"0.1s",U=`opacity ${V} ease-in-out, transform ${V} ease-in-out`;return R(xZ,{style:{zIndex:B?(O==null?void 0:O.z_index)||1e3:-1,maxHeight:_t?p:void 0,opacity:B?1:0,pointerEvents:B?"auto":"none",transition:U},onClick:()=>{c||i(bu({showSearchBar:!1}))},children:R(WSe,{className:z,style:{maxHeight:_t?p+1:void 0,opacity:B?1:0,transform:B?"scale(1)":"scale(0.95)",transition:U},children:b?null:ce("div",{className:"relative w-full max-w-[830px]",style:{fontSize:h,padding:"1em"},children:[ce("div",{className:"flex flex-col relative bg-white border rounded-lg shadow-lg w-full",onClick:S=>{S.stopPropagation()},children:[!s&&R(_Se,{}),s&&R(TSe,{}),R(LSe,{isUserEngaged:j}),R(VSe,{results:v,highlightedIndex:E,setHighlightedIndex:C,handleSelect:F})]}),!u&&ce("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"8px",gap:"8px",fontSize:"10px",transition:"opacity 0.3s ease-in-out",opacity:ht(v)&&!t?1:0},children:[R("div",{style:{color:"#e2e2e2"},children:"Search by"}),R(HX,{height:_t?16:18})]})]})})})},xZ=tt("div",{target:"e1d3k54n1"})({name:"bomocg",styles:"position:fixed;inset:0;background-color:rgba(0, 0, 0, 0.7);backdrop-filter:blur(10px);display:flex;align-items:flex-start;justify-content:center;width:100vw;height:100vh;overflow:scroll;overscroll-behavior:contain;z-index:1000"}),WSe=tt("div",{target:"e1d3k54n0"})({name:"bazsni",styles:"display:flex;flex-direction:column;align-items:center;height:100vh;width:100vw"}),GSe=()=>{var e;const t=dt(),n=mt(),r=(e=n==null?void 0:n.config)==null?void 0:e.churn_control,o=x.useRef(null),i=W(a=>a.chatBox.source);x.useEffect(()=>{if(ht(r))return;const{cancel_url:a,cancel_button_text:s,cancel_button_query_selector:l,cancel_button_xpath:c}=r,u=async()=>{let m;if(await new Promise(v=>setTimeout(v,10)),c)try{m=document.evaluate(c,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}catch(v){window.console.error("Error evaluating XPath",v)}if(l&&!m&&(m=document.querySelector(l)),s&&!m&&(m=Array.from(document.querySelectorAll("button, a, input[type='button'], input[type='submit']")).find(v=>{var y;return((y=v.textContent)==null?void 0:y.trim().toLowerCase())===s.trim().toLowerCase()})),m){const v=m.getBoundingClientRect();(v.top>=window.innerHeight||v.bottom<=0)&&(m=null)}return m},h=m=>{var v;if(!m)return void window.console.warn("No button found");const y=m.cloneNode(!0);Object.assign(m.style,{position:"fixed",top:"-100vh",opacity:"0",visibility:"hidden",display:"none",width:"1px",height:"1px",overflow:"hidden"}),(v=m.parentNode)==null||v.insertBefore(y,m.nextSibling),window.livexCCFn=()=>{m.click()},y.onclick=b=>{De.cancelHandlerCalled?window.console.warn("Custom handler already executed"):(b.preventDefault(),b.stopImmediatePropagation(),t(_ge(!0)),async function(w){const k={type:"support",parameters:{twi:"cancel_subscription"},subscription:{cancel_function_name:"livexCCFn",customer_id:Kc(w)}};await Rn.clickChatbotButton({skipWelcomeVideo:!0}),Rn.sendMessage("Cancel Subscription",JSON.stringify(k))}(i),De.cancelHandlerCalled=!0)},o.current=y},p=()=>{const m=new MutationObserver(()=>{document.body.contains(o.current)||(m.disconnect(),g())});return m.observe(document.body,{childList:!0,subtree:!0}),m};let d=null,f=null;const g=async()=>{if((Array.isArray(a)?a:[a]).some(m=>window.location.href.includes(m))){const m=await u();m?(h(m),f=p()):d=(()=>{const v=new MutationObserver(async()=>{const y=await u();y&&(v.disconnect(),h(y),f=p())});return v.observe(document.body,{childList:!0,subtree:!0,attributes:!0}),v})()}else window.console.warn("URL not matched")};return g(),()=>{d&&d.disconnect(),f&&f.disconnect()}},[r,i,t])};let fE=!1,Nu=null;const KSe=()=>{var e,t;const n=dt(),r=mt(),o=(t=(e=r==null?void 0:r.config)==null?void 0:e.style)==null?void 0:t.enable_draggable_button,i=W(w=>w.chatBox.isDragging),{setPosition:a}=Rd(),[s,l]=x.useState({x:0,y:0}),[c,u]=x.useState({right:0,bottom:0,left:0,top:0}),h=x.useRef(null),[p,d]=x.useState(!1),f=x.useCallback((w,k)=>{if(!i||!p)return;fE=!0;const _=s.x-w,O=c.left-_,E=c.right+_,C=s.y-k,N=c.top-C,L=c.bottom+C;a(E,L,O,N)},[i,p,c,s,a]),g=x.useCallback(w=>{f(w.clientX,w.clientY)},[f]),m=x.useCallback(w=>{w.preventDefault(),f(w.touches[0].clientX,w.touches[0].clientY)},[f]),v=(w,k)=>{Nu&&(clearTimeout(Nu),Nu=null),Nu=setTimeout(()=>{d(!0)},300),n(XT(!0)),l({x:w,y:k});const _=h.current;if(!_)return;const O=_.getBoundingClientRect(),E={right:window.innerWidth-O.right,bottom:window.innerHeight-O.bottom,left:O.left,top:O.top};u(E)},y=x.useCallback(()=>{Nu&&(clearTimeout(Nu),Nu=null),d(!1),fE?setTimeout(()=>{n(XT(!1))},1):n(XT(!1)),fE=!1},[n]),b=x.useCallback(()=>{y()},[y]);return x.useEffect(()=>{if(i){document.body.classList.add("select-none"),document.documentElement.style.overscrollBehaviorY="none",window.addEventListener("mousemove",g),window.addEventListener("mouseup",y),window.addEventListener("touchmove",m),window.addEventListener("touchend",b);const w=i9();w&&(w.addEventListener("mousemove",g),w.addEventListener("mouseup",y),w.addEventListener("touchmove",m),w.addEventListener("touchend",b))}return()=>{document.body.classList.remove("select-none"),document.documentElement.style.overscrollBehaviorY="",window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",y),window.removeEventListener("touchmove",m),window.removeEventListener("touchend",b);const w=i9();w&&(w.removeEventListener("mousemove",g),w.removeEventListener("mouseup",y),w.removeEventListener("touchmove",m),w.removeEventListener("touchend",b))}},[i,g,y,m,b]),o?R("div",{ref:h,className:"absolute w-full h-full",style:{cursor:i?"grabbing":"grab"},onMouseDown:w=>v(w.clientX,w.clientY),onTouchStart:w=>{w.preventDefault(),v(w.touches[0].clientX,w.touches[0].clientY)},children:R("div",{style:{position:"absolute",top:-4,left:-4},children:p&&R(Kme,{style:{width:16,height:16}})})}):null},_Z=()=>{var e,t,n,r,o,i,a;const s=mt();let l=parseInt((n=(t=(e=s==null?void 0:s.config)==null?void 0:e.style)==null?void 0:t.chatbot_icon_size)!=null?n:"60");return _t&&(l=parseInt((a=(i=(o=(r=s==null?void 0:s.config)==null?void 0:r.style)==null?void 0:o.mobile)==null?void 0:i.chatbot_icon_size)!=null?a:"48")),l},YSe=()=>{const e=W(g=>g.chatBox.showWelcomeMessage),t=_Z(),n=(()=>{var g;const m=mt(),v=zi((g=m==null?void 0:m.config)==null?void 0:g.red_dot_indicator)||{enabled:!0,size:14,indicator_text:"1",color:"rgb(220, 38, 38)",animate:!0,border_width:0,border_color:"#FFFFFF",offset_percentage:40};return v.size=parseInt(`${v.size||12}`),v.border_width=parseInt(`${v.border_width||0}`),v.offset_percentage=parseInt(`${v.offset_percentage||40}`),v})(),{enabled:r,size:o,color:i,animate:a,indicator_text:s,border_width:l,border_color:c,offset_percentage:u}=n;if(!r||!e)return null;const h={display:"flex",position:"absolute",top:0,right:0,borderRadius:"100%",zIndex:10,alignItems:"center",justifyContent:"center",border:`${l}px solid ${c}`};if(o>0)h.width=o,h.height=o;else{const g=_t?14:17.5;h.width=g,h.height=g}h.fontSize=.66*h.width,h.backgroundColor=i,h.color=er(i);const p=t/2*(1-Math.cos(Math.PI/4)),d=h.width/2*(u/100),f=p-h.width/2+d;return h.top=f,h.right=f,h.fontWeight=500,ce(or,{children:[a&&R("div",{style:h,className:"animate-ping",children:s}),R("div",{style:h,children:s})]})},QSe=e=>{const{color:t="white"}=e;return ce("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 500 500",width:"100%",height:"100%",children:[R("path",{d:"M137.73 117.671h228.309c27.614 0 50 22.386 50 50v155.41c0 27.614-22.386 50-50 50H240.533l-75.154 77.491-.002-77.491H137.73c-27.614 0-50-22.386-50-50v-155.41c0-27.614 22.386-50 50-50Z",style:{stroke:t,fill:"transparent",strokeWidth:25,strokeMiterlimit:5.26,strokeLinejoin:"round"}}),R("path",{d:"M189.955 296.294c16.719 14.664 39.168 21.496 67.349 20.495 22.148-.787 43.399-7.074 63.754-18.862",style:{stroke:t,fill:"transparent",strokeWidth:24,strokeLinecap:"round",strokeLinejoin:"round"}}),R("circle",{cx:178.893,cy:236.567,r:26.588,style:{fill:t,stroke:t}}),R("circle",{cx:326.754,cy:237.006,r:26.588,style:{stroke:t,fill:t,transformOrigin:"468.323px 240.39px"}}),R("circle",{cx:253.734,cy:60.884,r:24.542,style:{fill:t,stroke:t,transformOrigin:"384.409px 64.007px"}}),R("path",{d:"M254.185 114.959c-.768-1.276-.951-43.509-.183-42.233",style:{stroke:t,strokeWidth:26,strokeLinecap:"round"}})]})},XSe=()=>{var e,t;const n=mt(),r=pn(n),o=W(u=>u.chatBox.showChatBox),i=_Z(),a=Math.round(.53*i),s={position:"absolute",objectFit:"cover",width:"100%",height:"100%",borderRadius:"100%",border:`3px solid ${r.primary_color}`};if(o)return(e=n==null?void 0:n.config)!=null&&e.chatbot_button_close_icon?R(ow,{url:n.config.chatbot_button_close_icon,size:a}):R("div",{children:R(Vme,{style:{color:"white",width:a,height:a}})});const l=(t=n==null?void 0:n.config)==null?void 0:t.chatbot_button_icon;if(l)return l.endsWith(".svg")?R(ow,{url:l,size:a}):R("img",{src:l,style:s});const c=er(r.primary_color);return R(QSe,{color:c})},JSe=()=>{const e=dt(),t=W(o=>o.chatBox.showPopupImageSrc),n=Ib(100);if(!t)return null;const r=()=>{e(kU(""))};return ce(ZSe,{style:{zIndex:n},children:[R(t3e,{children:ce(n3e,{children:[R(Yb,{style:{position:"absolute",right:"4px",top:"-34px"},onClick:r,children:R(Fs,{})}),R("img",{src:t,width:"100%",height:"100%",onClick:r})]})}),R(e3e,{onClick:r})]})},ZSe=tt("div",{target:"eu2qs5j3"})(()=>({zIndex:30,position:"fixed",top:0,left:0,width:"100%",height:"100%"}),""),e3e=tt("div",{target:"eu2qs5j2"})(()=>({position:"fixed",top:0,left:0,right:0,bottom:0,background:"black",opacity:.5,zIndex:1}),""),t3e=tt("div",{target:"eu2qs5j1"})(()=>({zIndex:2,position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}),""),n3e=tt("div",{target:"eu2qs5j0"})(()=>({"> img":{boxShadow:Id()}}),""),r3e=()=>{const e=Z3(),t=Xa(),n=W(s=>s.chatBox.showChatBox),r=W(s=>{var l,c,u;return(u=(c=(l=s.chatBox.agent)==null?void 0:l.config)==null?void 0:c.style)==null?void 0:u.z_index})||50,o=W(s=>{var l,c,u;return(u=(c=(l=s.chatBox.agent)==null?void 0:l.config)==null?void 0:c.style)==null?void 0:u.search_bar_z_index})||50;x.useEffect(()=>{t||e&&(n?Rn.setRootZIndex(o):Rn.setRootZIndex(r))},[e,n,r,o,t]);const i=e&&n,a=i?"0.3s":"0.1s";return t?null:R(xZ,{style:{zIndex:i?r-1:-1,opacity:i?1:0,pointerEvents:i?"auto":"none",transition:`opacity ${a} ease-in-out, transform ${a} ease-in-out`}})},o3e={error:({context:e,id:t,innerProps:n})=>ce(or,{children:[R(na,{children:R(qn,{size:"sm",style:{whiteSpace:"pre-wrap"},children:n.message})}),R(Zn,{fullWidth:!0,mt:"md",color:"red",onClick:()=>{var r;Rn.resetToDefaultZIndex(),e.closeModal(t),(r=n.onClose)==null||r.call(n)},children:"Close"})]}),confirm:({context:e,id:t,innerProps:n})=>ce(or,{children:[R(na,{children:R(qn,{size:"sm",style:{whiteSpace:"pre-wrap"},children:n.message})}),ce(Or,{mt:"md",justify:"space-between",children:[R(Zn,{variant:"outline",onClick:()=>{var r;Rn.resetToDefaultZIndex(),e.closeModal(t),(r=n.onCancel)==null||r.call(n)},children:n.cancelLabel||"Cancel"}),R(Zn,{color:n.confirmColor||"blue",onClick:()=>{var r;Rn.resetToDefaultZIndex(),e.closeModal(t),(r=n.onConfirm)==null||r.call(n)},children:n.confirmLabel||"Confirm"})]})]})},i3e=()=>{const e=W(t=>t.chatBox.showChatBox)?"open":"closed";return R(a3e,{suffix:e})},a3e=tt("div",{target:"e1riqc2a0"})("position:absolute;width:100%;height:100%;background:var(--chatbox-button-image-background-",({suffix:e})=>e,", unset);border-radius:var(--chatbox-button-image-border-radius, 100%);");var s3e=Object.defineProperty,l3e=Object.defineProperties,c3e=Object.getOwnPropertyDescriptors,TZ=Object.getOwnPropertySymbols,u3e=Object.prototype.hasOwnProperty,d3e=Object.prototype.propertyIsEnumerable,SZ=(e,t,n)=>t in e?s3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xw=(e,t)=>{for(var n in t||(t={}))u3e.call(t,n)&&SZ(e,n,t[n]);if(TZ)for(var n of TZ(t))d3e.call(t,n)&&SZ(e,n,t[n]);return e},EZ=(e,t)=>l3e(e,c3e(t));qr.use(Eme).init({resources:_ie,fallbackLng:ng,lng:ng,interpolation:{escapeValue:!1}});const h3e=new yae({defaultOptions:{queries:{gcTime:864e5}}}),p3e=function({storage:e,key:t="REACT_QUERY_OFFLINE_CACHE",throttleTime:n=1e3,serialize:r=JSON.stringify,deserialize:o=JSON.parse,retry:i}){if(e){const a=s=>{try{return void e.setItem(t,r(s))}catch(l){return l}};return{persistClient:mSe(s=>{let l=s,c=a(l),u=0;for(;c&&l;)u++,l=i==null?void 0:i({persistedClient:l,error:c,errorCount:u}),l&&(c=a(l))},n),restoreClient:()=>{const s=e.getItem(t);if(s)return o(s)},removeClient:()=>{e.removeItem(t)}}}return{persistClient:pE,restoreClient:pE,removeClient:pE}}({storage:window.localStorage}),m3e={persister:p3e,maxAge:864e5};let CZ=!1;const f3e=e=>{const t=W(h=>h.chatBox.useLiveXCopilot),n=W(h=>h.chatBox.isDragging),r=qb(),o=W(h=>h.chatBox.showChatBox),i=W(h=>h.chatBox.showWelcomeMessage),a=(()=>{var h,p,d,f,g,m;const v=W(S=>S.chatBox.showChatBox),y=Vs(),{position:b}=Rd(),w=Om(),k=Xa(),_=W(S=>S.chatBox.agent),O=Id(),E=cw(),{isTop:C,isLeft:N}=Sg();let L=(p=(h=_==null?void 0:_.config)==null?void 0:h.style)!=null?p:{};_t&&(L=mi({},L,(d=L==null?void 0:L.mobile)!=null?d:{}));const j=pn(),{primary_color:H,name:F}=j;let z=H;F==="gradient"&&(z=`linear-gradient(125deg, ${j.primary_color} 0%, ${j.secondary_color} 100%)`);let B=parseInt((f=L==null?void 0:L.chatbot_icon_size)!=null?f:"60");_t&&(B=parseInt((m=(g=L==null?void 0:L.mobile)==null?void 0:g.chatbot_icon_size)!=null?m:"48"));const V=v?"open":"closed",U={background:`var(--chatbox-button-image-background-${V}, ${z})`,zIndex:1,width:`var(--chatbox-button-width-${V}, ${B}px)`,height:`var(--chatbox-button-height-${V}, ${B}px)`,boxShadow:O};return E||y||w||k?{display:"none"}:(_t&&v&&(U.opacity=0),N?(delete U.right,U.left=b.left):(delete U.left,U.right=b.right),C?U.top=b.top:U.bottom=b.bottom,U)})(),s=W(h=>{var p,d;return(d=(p=h.chatBox.agent)==null?void 0:p.config)==null?void 0:d.style}),{disable_attention_animation:l,hide_chatbot_button:c}=s||{};if(!t||c)return null;let u="flex items-center justify-center rounded-full fixed right-0 bottom-0 p-2 transition-transform duration-200 ease-in-out hover:scale-110 cursor-pointer";return!r&&!o&&i&&!l&&(u+=" custom-animate-bounce"),ce("div",{id:"livex-chatbot-button",className:u,style:a,onClick:async h=>{if(!n){if(o)return void e(h);Rn.clickChatbotButton({skipWelcomeVideo:!1})}},children:[R(YSe,{}),R(XSe,{}),R(i3e,{}),R(KSe,{})]})},g3e=e=>{var t;GSe();const n=DB(),r=W(F=>F.chatBox.showChatBox),o=dt(),{mutate:i}=fi(),{agent:a,gatewayHost:s,chatHost:l,frontendHost:c,firebaseConfig:u,popupQuestions:h,botLanguage:p="en",hasQuota:d}=e;x.useEffect(()=>{u&&!De.firebaseApp&&(async()=>{try{const{app:F,analytics:z,firestore:B}=await(async V=>{ee.log("Initializing Firebase from CDN: ",V);let U=0;const S=async()=>{var q,P,Q;try{const re=await nE();ee.log("🚀 ~ :115 ~ attemptInitialization ~ modules:",re);const _e=(q=re.app)==null?void 0:q.initializeApp(V),se=(P=re.analytics)==null?void 0:P.getAnalytics(_e),ue=(Q=re.firestore)==null?void 0:Q.getFirestore(_e);return ee.log("firebase initialized"),{app:_e,analytics:se,firestore:ue}}catch(re){if(U++,U>=3)throw ee.error("Firebase CDN initialization failed after 3 attempts:",re),re;const _e=1e3*Math.pow(2,U-1);return ee.warn(`Firebase CDN initialization attempt ${U} failed, retrying in ${_e}ms...`,re),await new Promise(se=>setTimeout(se,_e)),S()}};return S()})(u);De.firebaseApp=F,De.analytics=z,De.firestore=B}catch(F){ee.error("Failed to setupFirebase Firebase:",F)}})()},[u]);const f=W(F=>F.chatBox.agent),g=x.useMemo(()=>mi(kP,e.options||{}),[e.options]),m=e.source||"chatbox",v=a==null?void 0:a.config,y=v==null?void 0:v.style,b=e.botMode||(v==null?void 0:v.chatbot_mode),{isV4:w}=Pl(),k=W(_i),_=k==null?void 0:k.id;x.useEffect(()=>{De.threadId=_},[_]),x.useEffect(()=>{a9(r?"beforeOpen":"beforeClose")},[r]),x.useEffect(()=>{Ht(b)&&Ra.instance.init(o)},[b,o]),x.useLayoutEffect(()=>{setTimeout(()=>{a9(r?"afterOpen":"afterClose")},10)},[r]),x.useEffect(()=>{const F=window.zE;if(F){try{if(F("webWidget:get","chat:isChatting"))return;F("webWidget","hide")}catch(z){window.console.error("Error occurred using zendesk API",z)}o(Bb(!0))}else o(Bb(!0))},[o]),Bt.chatHost=l,Bt.gatewayHost=s,Bt.frontendHost=c;const O=!((t=y==null?void 0:y.expansion)==null||!t.default),{i18n:E}=Nr(),C=W(F=>F.chatBox.languageCode);x.useEffect(()=>{E.changeLanguage(C)},[E,C]),x.useEffect(()=>{!a||a.id==="loading"||o(yge({agent:a,initExpanded:O,source:m,botMode:b,options:g,botLanguage:p}))},[a,b,o,O,g,m,p]),x.useEffect(()=>{if(CZ||!f)return;const F=(z=>{const B=jn.getState(),{botMode:V,source:U}=B.chatBox,S=z.threadId||"";if(Ht(V)&&V!=="avataiOnly")return!1;if(pge.includes(V??"")||mge.includes(U??""))return!0;if(V==="searchBar")return!1;const q=B.chat.threads[S];return Gb(q)?(localStorage.removeItem("openChatBox"),z.dispatch(fo({threadId:S})),!1):localStorage.getItem("openChatBox")==="true"})({threadId:_,dispatch:o});ee.log("[ChatBoxButton] useEffect initialShowChatBox:",F),o(ia(F)),CZ=!0},[o,f,_]),(()=>{var F,z;const B=(F=jn)==null?void 0:F.getState();((z=B==null?void 0:B.chatBox)==null?void 0:z.source)==="chatbox"&&(kw("website"),kw("buyNow"),kw("buyWithShopPay"),kw("prime"))})(),x.useEffect(()=>()=>{o(wge(null))},[o]);const N=x.useCallback(F=>{F.shiftKey&&(localStorage.removeItem("hasPlayedWelcomeVideo"),o(Hb(!0))),Ht(b)&&w?o($b(!0)):o(ia(!1))},[b,o,w]),L=(()=>{var F,z,B;const V=Vs(),U=Om(),S=Xa(),q=W(ue=>ue.chatBox.agent),P=(z=(F=q==null?void 0:q.config)==null?void 0:F.style)!=null?z:{},Q=rB(),re=mE(),_e=parseInt((B=P==null?void 0:P.vertical_offset)!=null?B:"18"),se={fontFamily:Q,fontSize:re,right:"18px",bottom:_e,zIndex:Ib()};return V||U||S?(se.right="0px",se.bottom="0px",se):((P==null?void 0:P.horizontal)==="left"&&(delete se.right,se.left="30px"),(P==null?void 0:P.vertical)==="top"&&(delete se.bottom,se.top=_e),P!=null&&P.z_index&&(se.zIndex=P==null?void 0:P.z_index),se)})();D0e({onClose:N,autoScrollToBottom:g.auto_scroll_to_bottom}),x.useEffect(()=>{const F=async()=>{if(!Ht(b)||!_)return;const z=jn.getState().chat.threads[_];z&&((B=>{if(B==null||!B.id)return;const V=a8();V[B.id]=B,Ql(V)})(EZ(xw({},z),{stream_details:void 0})),await WR(_,!0),i({event_name:"ChatbotBeforeUnload"}))};return window.addEventListener("beforeunload",F),()=>{window.removeEventListener("beforeunload",F)}},[b,i,_]);const j=EZ(xw({},e),{onClose:N,options:g}),H=f3e(N);return n||!d?null:ce("div",{id:"livex-chatbot-app",children:[R(JSe,{}),R(qSe,{}),ce("livex-chatbox-button-container",{style:L,children:[R(J8e,{popupQuestions:h}),H,R(U8e,xw({},j)),R(r3e,{})]})]})},v3e=({children:e})=>{const t=mE(),n=pn(),r=x.useRef(null),[o,i]=x.useState(null),[a,s]=x.useState(null);De.shadowRootRef=r;const l=Ib(1),c=WB();x.useEffect(()=>{if(r.current)if(r.current.shadowRoot)i(r.current.shadowRoot);else{const h=r.current.attachShadow({mode:"open"}),p=document.createElement("style");p.id="chatbox-base-styles",p.textContent=`.livex-chatbox-markdown p{overflow-wrap:anywhere}@media (prefers-color-scheme: dark){.livex-chatbox-markdown{color-scheme:dark;--color-prettylights-syntax-comment: #8b949e;--color-prettylights-syntax-constant: #79c0ff;--color-prettylights-syntax-entity: #d2a8ff;--color-prettylights-syntax-storage-modifier-import: #c9d1d9;--color-prettylights-syntax-entity-tag: #7ee787;--color-prettylights-syntax-keyword: #ff7b72;--color-prettylights-syntax-string: #a5d6ff;--color-prettylights-syntax-variable: #ffa657;--color-prettylights-syntax-brackethighlighter-unmatched: #f85149;--color-prettylights-syntax-invalid-illegal-text: #f0f6fc;--color-prettylights-syntax-invalid-illegal-bg: #8e1519;--color-prettylights-syntax-carriage-return-text: #f0f6fc;--color-prettylights-syntax-carriage-return-bg: #b62324;--color-prettylights-syntax-string-regexp: #7ee787;--color-prettylights-syntax-markup-list: #f2cc60;--color-prettylights-syntax-markup-heading: #1f6feb;--color-prettylights-syntax-markup-italic: #c9d1d9;--color-prettylights-syntax-markup-bold: #c9d1d9;--color-prettylights-syntax-markup-deleted-text: #ffdcd7;--color-prettylights-syntax-markup-deleted-bg: #67060c;--color-prettylights-syntax-markup-inserted-text: #aff5b4;--color-prettylights-syntax-markup-inserted-bg: #033a16;--color-prettylights-syntax-markup-changed-text: #ffdfb6;--color-prettylights-syntax-markup-changed-bg: #5a1e02;--color-prettylights-syntax-markup-ignored-text: #c9d1d9;--color-prettylights-syntax-markup-ignored-bg: #1158c7;--color-prettylights-syntax-meta-diff-range: #d2a8ff;--color-prettylights-syntax-brackethighlighter-angle: #8b949e;--color-prettylights-syntax-sublimelinter-gutter-mark: #484f58;--color-prettylights-syntax-constant-other-reference-link: #a5d6ff;--color-fg-muted: #8b949e;--color-fg-subtle: #6e7681;--color-canvas-default: transparent;--color-canvas-subtle: transparent;--color-border-default: #30363d;--color-border-muted: #21262d;--color-neutral-muted: rgba(110, 118, 129, .4);--color-accent-fg: #58a6ff;--color-accent-emphasis: #1f6feb;--color-attention-subtle: rgba(187, 128, 9, .15);--color-danger-fg: #f85149}}@media (prefers-color-scheme: light){.livex-chatbox-markdown{color-scheme:light;--color-prettylights-syntax-comment: #6e7781;--color-prettylights-syntax-constant: #0550ae;--color-prettylights-syntax-entity: #8250df;--color-prettylights-syntax-storage-modifier-import: #24292f;--color-prettylights-syntax-entity-tag: #116329;--color-prettylights-syntax-keyword: #cf222e;--color-prettylights-syntax-string: #0a3069;--color-prettylights-syntax-variable: #953800;--color-prettylights-syntax-brackethighlighter-unmatched: #82071e;--color-prettylights-syntax-invalid-illegal-text: #f6f8fa;--color-prettylights-syntax-invalid-illegal-bg: #82071e;--color-prettylights-syntax-carriage-return-text: #f6f8fa;--color-prettylights-syntax-carriage-return-bg: #cf222e;--color-prettylights-syntax-string-regexp: #116329;--color-prettylights-syntax-markup-list: #3b2300;--color-prettylights-syntax-markup-heading: #0550ae;--color-prettylights-syntax-markup-italic: #24292f;--color-prettylights-syntax-markup-bold: #24292f;--color-prettylights-syntax-markup-deleted-text: #82071e;--color-prettylights-syntax-markup-deleted-bg: #ffebe9;--color-prettylights-syntax-markup-inserted-text: #116329;--color-prettylights-syntax-markup-inserted-bg: #dafbe1;--color-prettylights-syntax-markup-changed-text: #953800;--color-prettylights-syntax-markup-changed-bg: #ffd8b5;--color-prettylights-syntax-markup-ignored-text: #eaeef2;--color-prettylights-syntax-markup-ignored-bg: #0550ae;--color-prettylights-syntax-meta-diff-range: #8250df;--color-prettylights-syntax-brackethighlighter-angle: #57606a;--color-prettylights-syntax-sublimelinter-gutter-mark: #8c959f;--color-prettylights-syntax-constant-other-reference-link: #0a3069;--color-fg-muted: #57606a;--color-fg-subtle: #6e7781;--color-canvas-default: transparent;--color-canvas-subtle: transparent;--color-border-default: #d0d7de;--color-border-muted: hsla(210, 18%, 87%, 1);--color-neutral-muted: rgba(175, 184, 193, .2);--color-accent-fg: #0969da;--color-accent-emphasis: #0969da;--color-attention-subtle: #fff8c5;--color-danger-fg: #cf222e}}.livex-chatbox-markdown{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;margin:0;color:var(--color-fg-default);background-color:var(--color-canvas-default);font-size:var(--message-content-container-font-size, 12px);word-wrap:break-word;width:100%}.livex-chatbox-markdown .octicon{display:inline-block;fill:currentColor;vertical-align:text-bottom}.livex-chatbox-markdown h1:hover .anchor .octicon-link:before,.livex-chatbox-markdown h2:hover .anchor .octicon-link:before,.livex-chatbox-markdown h3:hover .anchor .octicon-link:before,.livex-chatbox-markdown h4:hover .anchor .octicon-link:before,.livex-chatbox-markdown h5:hover .anchor .octicon-link:before,.livex-chatbox-markdown h6:hover .anchor .octicon-link:before{width:1em;height:1em;content:" ";display:inline-block;background-color:currentColor;-webkit-mask-image:url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>");mask-image:url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>")}.livex-chatbox-markdown details,.livex-chatbox-markdown figcaption,.livex-chatbox-markdown figure{display:block}.livex-chatbox-markdown summary{display:list-item}.livex-chatbox-markdown [hidden]{display:none!important}.livex-chatbox-markdown a{background-color:transparent;text-decoration:none}.livex-chatbox-markdown abbr[title]{border-bottom:none;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}.livex-chatbox-markdown b,.livex-chatbox-markdown strong{font-weight:var(--base-text-weight-semibold, 600)}.livex-chatbox-markdown dfn{font-style:italic}.livex-chatbox-markdown h1{margin:.67em 0;font-weight:var(--base-text-weight-semibold, 600);padding-bottom:.3em;font-size:2em;border-bottom:1px solid var(--color-border-muted)}.livex-chatbox-markdown mark{background-color:var(--color-attention-subtle);color:var(--color-fg-default)}.livex-chatbox-markdown small{font-size:90%}.livex-chatbox-markdown sub,.livex-chatbox-markdown sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.livex-chatbox-markdown sub{bottom:-.25em}.livex-chatbox-markdown sup{top:-.5em}.livex-chatbox-markdown img{border-style:none;max-width:100%;box-sizing:content-box;background-color:var(--color-canvas-default)}.livex-chatbox-markdown code,.livex-chatbox-markdown kbd,.livex-chatbox-markdown pre,.livex-chatbox-markdown samp{font-family:monospace;font-size:1em}.livex-chatbox-markdown figure{margin:1em 3.25em}.livex-chatbox-markdown hr{box-sizing:content-box;overflow:hidden;background:transparent;border-bottom:1px solid var(--color-border-muted);height:.25em;padding:0;margin:1.5em 0;background-color:var(--color-border-default);border:0}.livex-chatbox-markdown input{font:inherit;margin:0;overflow:visible;font-family:inherit;font-size:inherit;line-height:inherit}.livex-chatbox-markdown [type=button],.livex-chatbox-markdown [type=reset],.livex-chatbox-markdown [type=submit]{-webkit-appearance:button}.livex-chatbox-markdown [type=checkbox],.livex-chatbox-markdown [type=radio]{box-sizing:border-box;padding:0}.livex-chatbox-markdown [type=search]::-webkit-search-cancel-button,.livex-chatbox-markdown [type=search]::-webkit-search-decoration{-webkit-appearance:none}.livex-chatbox-markdown ::-webkit-input-placeholder{color:inherit;opacity:.54}.livex-chatbox-markdown ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}.livex-chatbox-markdown a:hover{text-decoration:underline}.livex-chatbox-markdown ::-moz-placeholder{color:var(--color-fg-subtle);opacity:1}.livex-chatbox-markdown ::placeholder{color:var(--color-fg-subtle);opacity:1}.livex-chatbox-markdown hr:before{display:table;content:""}.livex-chatbox-markdown hr:after{display:table;clear:both;content:""}.livex-chatbox-markdown details summary{cursor:pointer}.livex-chatbox-markdown details:not([open])>*:not(summary){display:none!important}.livex-chatbox-markdown a:focus,.livex-chatbox-markdown [role=button]:focus,.livex-chatbox-markdown input[type=radio]:focus,.livex-chatbox-markdown input[type=checkbox]:focus{outline:2px solid var(--color-accent-fg);outline-offset:-2px;box-shadow:none}.livex-chatbox-markdown a:focus:not(:focus-visible),.livex-chatbox-markdown [role=button]:focus:not(:focus-visible),.livex-chatbox-markdown input[type=radio]:focus:not(:focus-visible),.livex-chatbox-markdown input[type=checkbox]:focus:not(:focus-visible){outline:solid 1px transparent}.livex-chatbox-markdown a:focus-visible,.livex-chatbox-markdown [role=button]:focus-visible,.livex-chatbox-markdown input[type=radio]:focus-visible,.livex-chatbox-markdown input[type=checkbox]:focus-visible{outline:2px solid var(--color-accent-fg);outline-offset:-2px;box-shadow:none}.livex-chatbox-markdown a:not([class]):focus,.livex-chatbox-markdown a:not([class]):focus-visible,.livex-chatbox-markdown input[type=radio]:focus,.livex-chatbox-markdown input[type=radio]:focus-visible,.livex-chatbox-markdown input[type=checkbox]:focus,.livex-chatbox-markdown input[type=checkbox]:focus-visible{outline-offset:0}.livex-chatbox-markdown kbd{display:inline-block;padding:3px .3125em;font:11px ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;line-height:.625em;color:var(--color-fg-default);vertical-align:middle;background-color:var(--color-canvas-subtle);border:solid 1px var(--color-neutral-muted);border-bottom-color:var(--color-neutral-muted);border-radius:.375em;box-shadow:inset 0 -1px 0 var(--color-neutral-muted)}.livex-chatbox-markdown h1,.livex-chatbox-markdown h2,.livex-chatbox-markdown h3,.livex-chatbox-markdown h4,.livex-chatbox-markdown h5,.livex-chatbox-markdown h6{margin-top:1.5em;margin-bottom:1em;font-weight:var(--base-text-weight-semibold, 600);line-height:1.25}.livex-chatbox-markdown h2{font-weight:var(--base-text-weight-semibold, 600);padding-bottom:.3em;font-size:1.5em;border-bottom:1px solid var(--color-border-muted)}.livex-chatbox-markdown h3{font-weight:var(--base-text-weight-semibold, 600);font-size:1.25em}.livex-chatbox-markdown h4{font-weight:var(--base-text-weight-semibold, 600);font-size:1em}.livex-chatbox-markdown h5{font-weight:var(--base-text-weight-semibold, 600);font-size:.875em}.livex-chatbox-markdown h6{font-weight:var(--base-text-weight-semibold, 600);font-size:.85em;color:var(--color-fg-muted)}.livex-chatbox-markdown p{margin-top:0;margin-bottom:.625em}.livex-chatbox-markdown blockquote{margin:0;padding:0 1em;color:var(--color-fg-muted);border-left:.25em solid var(--color-border-default)}.livex-chatbox-markdown ul{margin-top:0;margin-bottom:0;padding-left:2em;list-style-type:disc}.livex-chatbox-markdown ol{margin-top:0;margin-bottom:0;padding-left:2em;list-style-type:decimal}.livex-chatbox-markdown ol ol,.livex-chatbox-markdown ul ol{list-style-type:lower-roman}.livex-chatbox-markdown ul ul ol,.livex-chatbox-markdown ul ol ol,.livex-chatbox-markdown ol ul ol,.livex-chatbox-markdown ol ol ol{list-style-type:lower-alpha}.livex-chatbox-markdown dd{margin-left:0}.livex-chatbox-markdown tt,.livex-chatbox-markdown code,.livex-chatbox-markdown samp{font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;font-size:.75em}.livex-chatbox-markdown pre{margin-top:0;margin-bottom:0;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;font-size:.75em;word-wrap:normal}.livex-chatbox-markdown .octicon{display:inline-block;overflow:visible!important;vertical-align:text-bottom;fill:currentColor}.livex-chatbox-markdown input::-webkit-outer-spin-button,.livex-chatbox-markdown input::-webkit-inner-spin-button{margin:0;-webkit-appearance:none;appearance:none}.livex-chatbox-markdown:before{display:table;content:""}.livex-chatbox-markdown:after{display:table;clear:both;content:""}.livex-chatbox-markdown>*:first-child{margin-top:0!important}.livex-chatbox-markdown>*:last-child{margin-bottom:0!important}.livex-chatbox-markdown .absent{color:var(--color-danger-fg)}.livex-chatbox-markdown .anchor{float:left;padding-right:.25em;margin-left:-1.25em;line-height:1}.livex-chatbox-markdown .anchor:focus{outline:none}.livex-chatbox-markdown p,.livex-chatbox-markdown blockquote,.livex-chatbox-markdown ul,.livex-chatbox-markdown ol,.livex-chatbox-markdown dl,.livex-chatbox-markdown pre,.livex-chatbox-markdown details{margin-top:0;margin-bottom:1em}.livex-chatbox-markdown blockquote>:first-child{margin-top:0}.livex-chatbox-markdown blockquote>:last-child{margin-bottom:0}.livex-chatbox-markdown h1 .octicon-link,.livex-chatbox-markdown h2 .octicon-link,.livex-chatbox-markdown h3 .octicon-link,.livex-chatbox-markdown h4 .octicon-link,.livex-chatbox-markdown h5 .octicon-link,.livex-chatbox-markdown h6 .octicon-link{color:var(--color-fg-default);vertical-align:middle;visibility:hidden}.livex-chatbox-markdown h1:hover .anchor,.livex-chatbox-markdown h2:hover .anchor,.livex-chatbox-markdown h3:hover .anchor,.livex-chatbox-markdown h4:hover .anchor,.livex-chatbox-markdown h5:hover .anchor,.livex-chatbox-markdown h6:hover .anchor{text-decoration:none}.livex-chatbox-markdown h1:hover .anchor .octicon-link,.livex-chatbox-markdown h2:hover .anchor .octicon-link,.livex-chatbox-markdown h3:hover .anchor .octicon-link,.livex-chatbox-markdown h4:hover .anchor .octicon-link,.livex-chatbox-markdown h5:hover .anchor .octicon-link,.livex-chatbox-markdown h6:hover .anchor .octicon-link{visibility:visible}.livex-chatbox-markdown h1 tt,.livex-chatbox-markdown h1 code,.livex-chatbox-markdown h2 tt,.livex-chatbox-markdown h2 code,.livex-chatbox-markdown h3 tt,.livex-chatbox-markdown h3 code,.livex-chatbox-markdown h4 tt,.livex-chatbox-markdown h4 code,.livex-chatbox-markdown h5 tt,.livex-chatbox-markdown h5 code,.livex-chatbox-markdown h6 tt,.livex-chatbox-markdown h6 code{padding:0 .2em;font-size:inherit}.livex-chatbox-markdown summary h1,.livex-chatbox-markdown summary h2,.livex-chatbox-markdown summary h3,.livex-chatbox-markdown summary h4,.livex-chatbox-markdown summary h5,.livex-chatbox-markdown summary h6{display:inline-block}.livex-chatbox-markdown summary h1 .anchor,.livex-chatbox-markdown summary h2 .anchor,.livex-chatbox-markdown summary h3 .anchor,.livex-chatbox-markdown summary h4 .anchor,.livex-chatbox-markdown summary h5 .anchor,.livex-chatbox-markdown summary h6 .anchor{margin-left:-2.5em}.livex-chatbox-markdown summary h1,.livex-chatbox-markdown summary h2{padding-bottom:0;border-bottom:0}.livex-chatbox-markdown ul.no-list,.livex-chatbox-markdown ol.no-list{padding:0;list-style-type:none}.livex-chatbox-markdown ol[type=a]{list-style-type:lower-alpha}.livex-chatbox-markdown ol[type=A]{list-style-type:upper-alpha}.livex-chatbox-markdown ol[type=i]{list-style-type:lower-roman}.livex-chatbox-markdown ol[type=I]{list-style-type:upper-roman}.livex-chatbox-markdown ol[type="1"]{list-style-type:decimal}.livex-chatbox-markdown div>ol:not([type]){list-style-type:decimal}.livex-chatbox-markdown ul ul,.livex-chatbox-markdown ul ol,.livex-chatbox-markdown ol ol,.livex-chatbox-markdown ol ul{margin-top:0;margin-bottom:0}.livex-chatbox-markdown li>p{margin-top:1em}.livex-chatbox-markdown li+li{margin-top:.25em}.livex-chatbox-markdown dl{padding:0}.livex-chatbox-markdown dl dt{padding:0;margin-top:1em;font-size:1em;font-style:italic;font-weight:var(--base-text-weight-semibold, 600)}.livex-chatbox-markdown dl dd{padding:0 1em;margin-bottom:1em}.livex-chatbox-markdown img[align=right]{padding-left:1.25em}.livex-chatbox-markdown img[align=left]{padding-right:1.25em}.livex-chatbox-markdown .emoji{max-width:none;vertical-align:text-top;background-color:transparent}.livex-chatbox-markdown span.frame{display:block;overflow:hidden}.livex-chatbox-markdown span.frame>span{display:block;float:left;width:auto;padding:.4375em;margin:.8125em 0 0;overflow:hidden;border:1px solid var(--color-border-default)}.livex-chatbox-markdown span.frame span img{display:block;float:left}.livex-chatbox-markdown span.frame span span{display:block;padding:.3125em 0 0;clear:both;color:var(--color-fg-default)}.livex-chatbox-markdown span.align-center{display:block;overflow:hidden;clear:both}.livex-chatbox-markdown span.align-center>span{display:block;margin:.8125em auto 0;overflow:hidden;text-align:center}.livex-chatbox-markdown span.align-center span img{margin:0 auto;text-align:center}.livex-chatbox-markdown span.align-right{display:block;overflow:hidden;clear:both}.livex-chatbox-markdown span.align-right>span{display:block;margin:.8125em 0 0;overflow:hidden;text-align:right}.livex-chatbox-markdown span.align-right span img{margin:0;text-align:right}.livex-chatbox-markdown span.float-left{display:block;float:left;margin-right:.8125em;overflow:hidden}.livex-chatbox-markdown span.float-left span{margin:.8125em 0 0}.livex-chatbox-markdown span.float-right{display:block;float:right;margin-left:.8125em;overflow:hidden}.livex-chatbox-markdown span.float-right>span{display:block;margin:.8125em auto 0;overflow:hidden;text-align:right}.livex-chatbox-markdown code,.livex-chatbox-markdown tt{padding:.2em .4em;margin:0;font-size:85%;white-space:break-spaces;background-color:var(--color-neutral-muted);border-radius:.375em}.livex-chatbox-markdown code br,.livex-chatbox-markdown tt br{display:none}.livex-chatbox-markdown del code{text-decoration:inherit}.livex-chatbox-markdown samp{font-size:85%}.livex-chatbox-markdown pre code{font-size:100%}.livex-chatbox-markdown pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:transparent;border:0}.livex-chatbox-markdown .highlight{margin-bottom:1em}.livex-chatbox-markdown .highlight pre{margin-bottom:0;word-break:normal}.livex-chatbox-markdown .highlight pre,.livex-chatbox-markdown pre{padding:1em;overflow:auto;font-size:85%;line-height:1.45;background-color:var(--color-canvas-subtle);border-radius:.375em}.livex-chatbox-markdown pre code,.livex-chatbox-markdown pre tt{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}.livex-chatbox-markdown .csv-data td,.livex-chatbox-markdown .csv-data th{padding:.3125em;overflow:hidden;font-size:.75em;line-height:1;text-align:left;white-space:nowrap}.livex-chatbox-markdown .csv-data .blob-num{padding:.625em .5em .5em;text-align:right;background:var(--color-canvas-default);border:0}.livex-chatbox-markdown .csv-data tr{border-top:0}.livex-chatbox-markdown .csv-data th{font-weight:var(--base-text-weight-semibold, 600);background:var(--color-canvas-subtle);border-top:0}.livex-chatbox-markdown [data-footnote-ref]:before{content:"["}.livex-chatbox-markdown [data-footnote-ref]:after{content:"]"}.livex-chatbox-markdown .footnotes{font-size:.75em;color:var(--color-fg-muted);border-top:1px solid var(--color-border-default)}.livex-chatbox-markdown .footnotes ol{padding-left:1em}.livex-chatbox-markdown .footnotes ol ul{display:inline-block;padding-left:1em;margin-top:1em}.livex-chatbox-markdown .footnotes li{position:relative}.livex-chatbox-markdown .footnotes li:target:before{position:absolute;inset:-.5em -.5em -.5em -1.5em;pointer-events:none;content:"";border:2px solid var(--color-accent-emphasis);border-radius:.375em}.livex-chatbox-markdown .footnotes li:target{color:var(--color-fg-default)}.livex-chatbox-markdown .footnotes .data-footnote-backref g-emoji{font-family:monospace}.livex-chatbox-markdown .pl-c{color:var(--color-prettylights-syntax-comment)}.livex-chatbox-markdown .pl-c1,.livex-chatbox-markdown .pl-s .pl-v{color:var(--color-prettylights-syntax-constant)}.livex-chatbox-markdown .pl-e,.livex-chatbox-markdown .pl-en{color:var(--color-prettylights-syntax-entity)}.livex-chatbox-markdown .pl-smi,.livex-chatbox-markdown .pl-s .pl-s1{color:var(--color-prettylights-syntax-storage-modifier-import)}.livex-chatbox-markdown .pl-ent{color:var(--color-prettylights-syntax-entity-tag)}.livex-chatbox-markdown .pl-k{color:var(--color-prettylights-syntax-keyword)}.livex-chatbox-markdown .pl-s,.livex-chatbox-markdown .pl-pds,.livex-chatbox-markdown .pl-s .pl-pse .pl-s1,.livex-chatbox-markdown .pl-sr,.livex-chatbox-markdown .pl-sr .pl-cce,.livex-chatbox-markdown .pl-sr .pl-sre,.livex-chatbox-markdown .pl-sr .pl-sra{color:var(--color-prettylights-syntax-string)}.livex-chatbox-markdown .pl-v,.livex-chatbox-markdown .pl-smw{color:var(--color-prettylights-syntax-variable)}.livex-chatbox-markdown .pl-bu{color:var(--color-prettylights-syntax-brackethighlighter-unmatched)}.livex-chatbox-markdown .pl-ii{color:var(--color-prettylights-syntax-invalid-illegal-text);background-color:var(--color-prettylights-syntax-invalid-illegal-bg)}.livex-chatbox-markdown .pl-c2{color:var(--color-prettylights-syntax-carriage-return-text);background-color:var(--color-prettylights-syntax-carriage-return-bg)}.livex-chatbox-markdown .pl-sr .pl-cce{font-weight:700;color:var(--color-prettylights-syntax-string-regexp)}.livex-chatbox-markdown .pl-ml{color:var(--color-prettylights-syntax-markup-list)}.livex-chatbox-markdown .pl-mh,.livex-chatbox-markdown .pl-mh .pl-en,.livex-chatbox-markdown .pl-ms{font-weight:700;color:var(--color-prettylights-syntax-markup-heading)}.livex-chatbox-markdown .pl-mi{font-style:italic;color:var(--color-prettylights-syntax-markup-italic)}.livex-chatbox-markdown .pl-mb{font-weight:700;color:var(--color-prettylights-syntax-markup-bold)}.livex-chatbox-markdown .pl-md{color:var(--color-prettylights-syntax-markup-deleted-text);background-color:var(--color-prettylights-syntax-markup-deleted-bg)}.livex-chatbox-markdown .pl-mi1{color:var(--color-prettylights-syntax-markup-inserted-text);background-color:var(--color-prettylights-syntax-markup-inserted-bg)}.livex-chatbox-markdown .pl-mc{color:var(--color-prettylights-syntax-markup-changed-text);background-color:var(--color-prettylights-syntax-markup-changed-bg)}.livex-chatbox-markdown .pl-mi2{color:var(--color-prettylights-syntax-markup-ignored-text);background-color:var(--color-prettylights-syntax-markup-ignored-bg)}.livex-chatbox-markdown .pl-mdr{font-weight:700;color:var(--color-prettylights-syntax-meta-diff-range)}.livex-chatbox-markdown .pl-ba{color:var(--color-prettylights-syntax-brackethighlighter-angle)}.livex-chatbox-markdown .pl-sg{color:var(--color-prettylights-syntax-sublimelinter-gutter-mark)}.livex-chatbox-markdown .pl-corl{text-decoration:underline;color:var(--color-prettylights-syntax-constant-other-reference-link)}.livex-chatbox-markdown g-emoji{display:inline-block;min-width:1ch;font-family:"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;font-size:.875em;font-style:normal!important;font-weight:var(--base-text-weight-normal, 400);line-height:1;vertical-align:-.075em}.livex-chatbox-markdown g-emoji img{width:1em;height:1em}.livex-chatbox-markdown .task-list-item{list-style-type:none}.livex-chatbox-markdown .task-list-item label{font-weight:var(--base-text-weight-normal, 400)}.livex-chatbox-markdown .task-list-item.enabled label{cursor:pointer}.livex-chatbox-markdown .task-list-item+.task-list-item{margin-top:.25em}.livex-chatbox-markdown .task-list-item .handle{display:none}.livex-chatbox-markdown .task-list-item-checkbox{margin:0 .2em .25em -1.4em;vertical-align:middle}.livex-chatbox-markdown .contains-task-list:dir(rtl) .task-list-item-checkbox{margin:0 -1.6em .25em .2em}.livex-chatbox-markdown .contains-task-list{position:relative}.livex-chatbox-markdown .contains-task-list:hover .task-list-item-convert-container,.livex-chatbox-markdown .contains-task-list:focus-within .task-list-item-convert-container{display:block;width:auto;height:1.5em;overflow:visible;clip:auto}.livex-chatbox-markdown ::-webkit-calendar-picker-indicator{filter:invert(50%)}.custom-animate-bounce{animation:bounce 2s linear;animation-iteration-count:1}@keyframes bounce{0%{transform:translateY(0);animation-timing-function:ease-out}16%{transform:translateY(-35%);animation-timing-function:ease-in}32%{transform:translateY(0);animation-timing-function:ease-out}48%{transform:translateY(-30%);animation-timing-function:ease-in}64%{transform:translateY(0);animation-timing-function:ease-out}80%{transform:translateY(-25%);animation-timing-function:ease-in}96%{transform:translateY(0);animation-timing-function:ease-out}to{transform:translateY(0);animation-timing-function:ease-out}}[debug] *{outline:4px dashed hsl(320 100% 50%)}.tooltip{position:absolute;visibility:hidden}.has-tooltip:hover .tooltip{visibility:visible;z-index:50}livex-chatbox-button-container{position:fixed;font-weight:400;line-height:1.5}livex-chatbox-button-container *{box-sizing:border-box;border-style:solid;border-width:0;margin:0;padding:0;line-height:inherit}livex-chatbox-button-container button{background-color:transparent}livex-chatbox-button-container img,livex-chatbox-button-container video{height:auto;display:block}livex-chatbox-button-container a{color:inherit;text-decoration:inherit}livex-chatbox-button-container button,livex-chatbox-button-container input,livex-chatbox-button-container optgroup,livex-chatbox-button-container select,livex-chatbox-button-container textarea,livex-chatbox-button-container fieldset{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit}livex-chatbox-button-container ol,livex-chatbox-button-container ul,livex-chatbox-button-container menu{list-style:none}livex-chatbox-button-container img,livex-chatbox-button-container svg,livex-chatbox-button-container video,livex-chatbox-button-container canvas,livex-chatbox-button-container audio,livex-chatbox-button-container iframe,livex-chatbox-button-container embed,livex-chatbox-button-container object{display:block;vertical-align:middle}livex-chatbox-button-container svg{width:100%;height:100%}livex-product-selector-center-column{display:flex;align-items:center;position:relative;overflow-x:auto}livex-product-name{font-size:.6em;max-width:90px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}livex-product-info-container{transition:border-color .3s ease;border-width:2px;border-style:solid;border-radius:.5em;cursor:pointer;overflow:hidden}livex-product-desc-container{display:flex;flex-direction:column;align-items:center;position:relative;flex:1;width:100%}livex-product-price-container{display:flex;gap:5px}livex-chatbot-header-buttons-container{display:flex;align-items:flex-end;-moz-column-gap:.75em;column-gap:.75em}livex-hr{border-top-width:1px;border-top-color:#cbd5e0;width:100%}livex-checkbox-container{display:flex;align-items:center}livex-checkmark-container{border:1px solid #777;margin-right:.5em}livex-form-component-radio-buttons-container{display:flex;flex-direction:column;margin-top:.5em;row-gap:.5em}livex-radio-button-container{display:flex;align-items:center;-moz-column-gap:1em;column-gap:1em}livex-radio-button-check-marker{width:15px;height:15px;border-radius:50%;border:1px solid #777;margin-right:.5em}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.\\!container{width:100%!important}.container{width:100%}@media (min-width: 320px){.\\!container{max-width:320px!important}.container{max-width:320px}}@media (min-width: 450px){.\\!container{max-width:450px!important}.container{max-width:450px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.visible{visibility:visible}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{inset:0}.bottom-0{bottom:0}.bottom-9{bottom:2.25em}.right-0{right:0}.isolate{isolation:isolate}.z-20{z-index:20}.z-50{z-index:50}.z-\\[22\\]{z-index:22}.m-4{margin:1em}.mx-12{margin-left:3em;margin-right:3em}.mx-auto{margin-left:auto;margin-right:auto}.my-auto{margin-top:auto;margin-bottom:auto}.mb-2{margin-bottom:.5em}.ml-auto{margin-left:auto}.mr-2{margin-right:.5em}.mr-4{margin-right:1em}.mt-1{margin-top:.25em}.mt-2{margin-top:.5em}.mt-4{margin-top:1em}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.hidden{display:none}.h-10{height:2.5em}.h-4{height:1em}.h-40{height:10em}.h-7{height:1.75em}.h-8{height:2em}.h-\\[44px\\]{height:44px}.h-full{height:100%}.max-h-\\[calc\\(100vh-7em\\)\\]{max-height:calc(100vh - 7em)}.w-4{width:1em}.w-40{width:10em}.w-8{width:2em}.w-\\[48\\%\\]{width:48%}.w-full{width:100%}.min-w-80{min-width:20em}.max-w-\\[350px\\]{max-width:350px}.max-w-\\[670px\\]{max-width:670px}.max-w-\\[830px\\]{max-width:830px}.max-w-\\[900px\\]{max-width:900px}.flex-1{flex:1 1 0%}.flex-grow,.grow{flex-grow:1}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.animate-fade{animation:fadeIn .5s ease-in-out}@keyframes ping{75%,to{transform:scale(2);opacity:0}}.animate-ping{animation:ping 1s cubic-bezier(0,0,.2,1) infinite}@keyframes spin{to{transform:rotate(360deg)}}.animate-spin{animation:spin 1s linear infinite}.cursor-default{cursor:default}.cursor-not-allowed{cursor:not-allowed}.cursor-pointer{cursor:pointer}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.resize-none{resize:none}.resize{resize:both}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-center{align-items:center}.items-stretch{align-items:stretch}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-1{gap:.25em}.gap-16{gap:4em}.gap-2{gap:.5em}.gap-3{gap:.75em}.gap-4{gap:1em}.gap-5{gap:1.25em}.gap-6{gap:1.5em}.gap-x-4{-moz-column-gap:1em;column-gap:1em}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-wrap{white-space:pre-wrap}.break-all{word-break:break-all}.rounded{border-radius:.25em}.rounded-2xl{border-radius:1em}.rounded-\\[10px\\]{border-radius:10px}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:.5em}.rounded-md{border-radius:.375em}.rounded-xl{border-radius:.75em}.border{border-width:1px}.border-0{border-width:0px}.border-r-4{border-right-width:4px}.border-t{border-top-width:1px}.border-blue500{--tw-border-opacity: 1;border-color:rgb(61 90 254 / var(--tw-border-opacity, 1))}.border-gray-200{--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1))}.border-gray-300{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.border-gray-400{--tw-border-opacity: 1;border-color:rgb(156 163 175 / var(--tw-border-opacity, 1))}.border-slate-200{--tw-border-opacity: 1;border-color:rgb(226 232 240 / var(--tw-border-opacity, 1))}.bg-black{--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity, 1))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1))}.bg-blue500{--tw-bg-opacity: 1;background-color:rgb(61 90 254 / var(--tw-bg-opacity, 1))}.bg-gray-50{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.bg-pink-500{--tw-bg-opacity: 1;background-color:rgb(236 72 153 / var(--tw-bg-opacity, 1))}.bg-red-500{--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1))}.bg-slate-600{--tw-bg-opacity: 1;background-color:rgb(71 85 105 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-opacity-20{--tw-bg-opacity: .2}.bg-opacity-50{--tw-bg-opacity: .5}.fill-blue-600{fill:#2563eb}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.p-1{padding:.25em}.p-2{padding:.5em}.p-2\\.5{padding:.625em}.p-4{padding:1em}.p-6{padding:1.5em}.px-2{padding-left:.5em;padding-right:.5em}.px-2\\.5{padding-left:.625em;padding-right:.625em}.px-4{padding-left:1em;padding-right:1em}.py-1{padding-top:.25em;padding-bottom:.25em}.py-1\\.5{padding-top:.375em;padding-bottom:.375em}.py-2{padding-top:.5em;padding-bottom:.5em}.py-3{padding-top:.75em;padding-bottom:.75em}.py-5{padding-top:1.25em;padding-bottom:1.25em}.pb-10{padding-bottom:2.5em}.pr-9{padding-right:2.25em}.pt-24{padding-top:6em}.pt-4{padding-top:1em}.text-left{text-align:left}.text-center{text-align:center}.text-2xl{font-size:24px;line-height:32px}.text-3xl{font-size:30px;line-height:36px}.text-base{font-size:16px;line-height:24px}.text-lg{font-size:18px;line-height:28px}.text-sm{font-size:14px;line-height:20px}.text-xl{font-size:20px;line-height:28px}.text-xs{font-size:12px;line-height:16px}.font-bold{font-weight:700}.font-light{font-weight:300}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.italic{font-style:italic}.leading-6{line-height:1.5em}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity, 1))}.text-black200{color:#1b1b1bbf}.text-black300{--tw-text-opacity: 1;color:rgb(84 84 84 / var(--tw-text-opacity, 1))}.text-blue500{--tw-text-opacity: 1;color:rgb(61 90 254 / var(--tw-text-opacity, 1))}.text-gray-200{--tw-text-opacity: 1;color:rgb(229 231 235 / var(--tw-text-opacity, 1))}.text-gray-400{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-600{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.text-gray-900{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.text-indigo-600{--tw-text-opacity: 1;color:rgb(79 70 229 / var(--tw-text-opacity, 1))}.text-red-500{--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.text-red-600{--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.text-slate-500{--tw-text-opacity: 1;color:rgb(100 116 139 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-opacity-50{--tw-text-opacity: .5}.underline{text-decoration-line:underline}.line-through{text-decoration-line:line-through}.opacity-50{opacity:.5}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-inner{--tw-shadow: inset 0 2px 4px 0 rgb(0 0 0 / .05);--tw-shadow-colored: inset 0 2px 4px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline{outline-style:solid}.ring-1{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.ring-gray-300{--tw-ring-opacity: 1;--tw-ring-color: rgb(209 213 219 / var(--tw-ring-opacity, 1))}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-200{transition-duration:.2s}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.placeholder\\:text-sm::-moz-placeholder{font-size:14px;line-height:20px}.placeholder\\:text-sm::placeholder{font-size:14px;line-height:20px}.placeholder\\:text-gray-400::-moz-placeholder{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.placeholder\\:text-gray-400::placeholder{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.hover\\:scale-110:hover{--tw-scale-x: 1.1;--tw-scale-y: 1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:rounded-full:hover{border-radius:9999px}.hover\\:border-2:hover{border-width:2px}.hover\\:border-blue-300:hover{--tw-border-opacity: 1;border-color:rgb(147 197 253 / var(--tw-border-opacity, 1))}.hover\\:border-gray-700:hover{--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity, 1))}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.hover\\:bg-blue-700:hover{--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.hover\\:bg-gray-50:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.hover\\:bg-opacity-100:hover{--tw-bg-opacity: 1}.hover\\:text-opacity-100:hover{--tw-text-opacity: 1}.hover\\:ring-4:hover{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.hover\\:ring-slate-300:hover{--tw-ring-opacity: 1;--tw-ring-color: rgb(203 213 225 / var(--tw-ring-opacity, 1))}.focus\\:border-blue-500:focus{--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1))}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-4:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-300:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(147 197 253 / var(--tw-ring-opacity, 1))}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1))}.focus\\:ring-indigo-600:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(79 70 229 / var(--tw-ring-opacity, 1))}@media (min-width: 320px){.xs\\:flex{display:flex}}@media (min-width: 450px){.sm\\:text-sm{font-size:14px;line-height:20px}.sm\\:leading-6{line-height:1.5em}}@media (min-width: 768px){.md\\:max-h-full{max-height:100%}.md\\:w-1\\/3{width:33.333333%}.md\\:w-2\\/3{width:66.666667%}.md\\:w-96{width:24em}.md\\:w-full{width:100%}.md\\:max-w-96{max-width:24em}}.mantine-Button-loader{transform:translate(-50%,calc(-50% + calc(.0625em * var(--mantine-scale))))!important}`,h.appendChild(p);const d=document.createElement("style");d.id="mantine-styles",d.textContent='*,*:before,*:after{box-sizing:border-box}input,button,textarea,select{font:inherit}button,select{text-transform:none}body{margin:0;font-family:var(--mantine-font-family);font-size:var(--mantine-font-size-md);line-height:var(--mantine-line-height);background-color:var(--mantine-color-body);color:var(--mantine-color-text);-webkit-font-smoothing:var(--mantine-webkit-font-smoothing);-moz-osx-font-smoothing:var(--mantine-moz-font-smoothing)}@media screen and (max-device-width: 31.25em){body{-webkit-text-size-adjust:100%}}@media (prefers-reduced-motion: reduce){[data-respect-reduced-motion] [data-reduce-motion]{transition:none;animation:none}}[data-mantine-color-scheme=light] .mantine-light-hidden,[data-mantine-color-scheme=dark] .mantine-dark-hidden{display:none}.mantine-focus-auto:focus-visible{outline:2px solid var(--mantine-primary-color-filled);outline-offset:calc(.125em * var(--mantine-scale))}.mantine-focus-always:focus{outline:2px solid var(--mantine-primary-color-filled);outline-offset:calc(.125em * var(--mantine-scale))}.mantine-focus-never:focus{outline:none}.mantine-active:active{transform:translateY(calc(.0625em * var(--mantine-scale)))}fieldset:disabled .mantine-active:active{transform:none}:where([dir=rtl]) .mantine-rotate-rtl{transform:rotate(180deg)}:root{color-scheme:var(--mantine-color-scheme);--mantine-z-index-app: 100;--mantine-z-index-modal: 200;--mantine-z-index-popover: 300;--mantine-z-index-overlay: 400;--mantine-z-index-max: 9999;--mantine-scale: 1;--mantine-cursor-type: default;--mantine-webkit-font-smoothing: antialiased;--mantine-color-scheme: light dark;--mantine-moz-font-smoothing: grayscale;--mantine-color-white: #fff;--mantine-color-black: #000;--mantine-line-height: 1.55;--mantine-font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji;--mantine-font-family-monospace: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace;--mantine-font-family-headings: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji;--mantine-heading-font-weight: 700;--mantine-radius-default: calc(.25em * var(--mantine-scale));--mantine-primary-color-0: var(--mantine-color-blue-0);--mantine-primary-color-1: var(--mantine-color-blue-1);--mantine-primary-color-2: var(--mantine-color-blue-2);--mantine-primary-color-3: var(--mantine-color-blue-3);--mantine-primary-color-4: var(--mantine-color-blue-4);--mantine-primary-color-5: var(--mantine-color-blue-5);--mantine-primary-color-6: var(--mantine-color-blue-6);--mantine-primary-color-7: var(--mantine-color-blue-7);--mantine-primary-color-8: var(--mantine-color-blue-8);--mantine-primary-color-9: var(--mantine-color-blue-9);--mantine-primary-color-filled: var(--mantine-color-blue-filled);--mantine-primary-color-filled-hover: var(--mantine-color-blue-filled-hover);--mantine-primary-color-light: var(--mantine-color-blue-light);--mantine-primary-color-light-hover: var(--mantine-color-blue-light-hover);--mantine-primary-color-light-color: var(--mantine-color-blue-light-color);--mantine-breakpoint-xs: 36em;--mantine-breakpoint-sm: 48em;--mantine-breakpoint-md: 62em;--mantine-breakpoint-lg: 75em;--mantine-breakpoint-xl: 88em;--mantine-spacing-xs: calc(.625em * var(--mantine-scale));--mantine-spacing-sm: calc(.75em * var(--mantine-scale));--mantine-spacing-md: calc(1em * var(--mantine-scale));--mantine-spacing-lg: calc(1.25em * var(--mantine-scale));--mantine-spacing-xl: calc(2em * var(--mantine-scale));--mantine-font-size-xs: calc(.75em * var(--mantine-scale));--mantine-font-size-sm: calc(.875em * var(--mantine-scale));--mantine-font-size-md: calc(1em * var(--mantine-scale));--mantine-font-size-lg: calc(1.125em * var(--mantine-scale));--mantine-font-size-xl: calc(1.25em * var(--mantine-scale));--mantine-line-height-xs: 1.4;--mantine-line-height-sm: 1.45;--mantine-line-height-md: 1.55;--mantine-line-height-lg: 1.6;--mantine-line-height-xl: 1.65;--mantine-shadow-xs: 0 calc(.0625em * var(--mantine-scale)) calc(.1875em * var(--mantine-scale)) rgba(0, 0, 0, .05), 0 calc(.0625em * var(--mantine-scale)) calc(.125em * var(--mantine-scale)) rgba(0, 0, 0, .1);--mantine-shadow-sm: 0 calc(.0625em * var(--mantine-scale)) calc(.1875em * var(--mantine-scale)) rgba(0, 0, 0, .05), rgba(0, 0, 0, .05) 0 calc(.625em * var(--mantine-scale)) calc(.9375em * var(--mantine-scale)) calc(-.3125em * var(--mantine-scale)), rgba(0, 0, 0, .04) 0 calc(.4375em * var(--mantine-scale)) calc(.4375em * var(--mantine-scale)) calc(-.3125em * var(--mantine-scale));--mantine-shadow-md: 0 calc(.0625em * var(--mantine-scale)) calc(.1875em * var(--mantine-scale)) rgba(0, 0, 0, .05), rgba(0, 0, 0, .05) 0 calc(1.25em * var(--mantine-scale)) calc(1.5625em * var(--mantine-scale)) calc(-.3125em * var(--mantine-scale)), rgba(0, 0, 0, .04) 0 calc(.625em * var(--mantine-scale)) calc(.625em * var(--mantine-scale)) calc(-.3125em * var(--mantine-scale));--mantine-shadow-lg: 0 calc(.0625em * var(--mantine-scale)) calc(.1875em * var(--mantine-scale)) rgba(0, 0, 0, .05), rgba(0, 0, 0, .05) 0 calc(1.75em * var(--mantine-scale)) calc(1.4375em * var(--mantine-scale)) calc(-.4375em * var(--mantine-scale)), rgba(0, 0, 0, .04) 0 calc(.75em * var(--mantine-scale)) calc(.75em * var(--mantine-scale)) calc(-.4375em * var(--mantine-scale));--mantine-shadow-xl: 0 calc(.0625em * var(--mantine-scale)) calc(.1875em * var(--mantine-scale)) rgba(0, 0, 0, .05), rgba(0, 0, 0, .05) 0 calc(2.25em * var(--mantine-scale)) calc(1.75em * var(--mantine-scale)) calc(-.4375em * var(--mantine-scale)), rgba(0, 0, 0, .04) 0 calc(1.0625em * var(--mantine-scale)) calc(1.0625em * var(--mantine-scale)) calc(-.4375em * var(--mantine-scale));--mantine-radius-xs: calc(.125em * var(--mantine-scale));--mantine-radius-sm: calc(.25em * var(--mantine-scale));--mantine-radius-md: calc(.5em * var(--mantine-scale));--mantine-radius-lg: calc(1em * var(--mantine-scale));--mantine-radius-xl: calc(2em * var(--mantine-scale));--mantine-color-dark-0: #c9c9c9;--mantine-color-dark-1: #b8b8b8;--mantine-color-dark-2: #828282;--mantine-color-dark-3: #696969;--mantine-color-dark-4: #424242;--mantine-color-dark-5: #3b3b3b;--mantine-color-dark-6: #2e2e2e;--mantine-color-dark-7: #242424;--mantine-color-dark-8: #1f1f1f;--mantine-color-dark-9: #141414;--mantine-color-gray-0: #f8f9fa;--mantine-color-gray-1: #f1f3f5;--mantine-color-gray-2: #e9ecef;--mantine-color-gray-3: #dee2e6;--mantine-color-gray-4: #ced4da;--mantine-color-gray-5: #adb5bd;--mantine-color-gray-6: #868e96;--mantine-color-gray-7: #495057;--mantine-color-gray-8: #343a40;--mantine-color-gray-9: #212529;--mantine-color-red-0: #fff5f5;--mantine-color-red-1: #ffe3e3;--mantine-color-red-2: #ffc9c9;--mantine-color-red-3: #ffa8a8;--mantine-color-red-4: #ff8787;--mantine-color-red-5: #ff6b6b;--mantine-color-red-6: #fa5252;--mantine-color-red-7: #f03e3e;--mantine-color-red-8: #e03131;--mantine-color-red-9: #c92a2a;--mantine-color-pink-0: #fff0f6;--mantine-color-pink-1: #ffdeeb;--mantine-color-pink-2: #fcc2d7;--mantine-color-pink-3: #faa2c1;--mantine-color-pink-4: #f783ac;--mantine-color-pink-5: #f06595;--mantine-color-pink-6: #e64980;--mantine-color-pink-7: #d6336c;--mantine-color-pink-8: #c2255c;--mantine-color-pink-9: #a61e4d;--mantine-color-grape-0: #f8f0fc;--mantine-color-grape-1: #f3d9fa;--mantine-color-grape-2: #eebefa;--mantine-color-grape-3: #e599f7;--mantine-color-grape-4: #da77f2;--mantine-color-grape-5: #cc5de8;--mantine-color-grape-6: #be4bdb;--mantine-color-grape-7: #ae3ec9;--mantine-color-grape-8: #9c36b5;--mantine-color-grape-9: #862e9c;--mantine-color-violet-0: #f3f0ff;--mantine-color-violet-1: #e5dbff;--mantine-color-violet-2: #d0bfff;--mantine-color-violet-3: #b197fc;--mantine-color-violet-4: #9775fa;--mantine-color-violet-5: #845ef7;--mantine-color-violet-6: #7950f2;--mantine-color-violet-7: #7048e8;--mantine-color-violet-8: #6741d9;--mantine-color-violet-9: #5f3dc4;--mantine-color-indigo-0: #edf2ff;--mantine-color-indigo-1: #dbe4ff;--mantine-color-indigo-2: #bac8ff;--mantine-color-indigo-3: #91a7ff;--mantine-color-indigo-4: #748ffc;--mantine-color-indigo-5: #5c7cfa;--mantine-color-indigo-6: #4c6ef5;--mantine-color-indigo-7: #4263eb;--mantine-color-indigo-8: #3b5bdb;--mantine-color-indigo-9: #364fc7;--mantine-color-blue-0: #e7f5ff;--mantine-color-blue-1: #d0ebff;--mantine-color-blue-2: #a5d8ff;--mantine-color-blue-3: #74c0fc;--mantine-color-blue-4: #4dabf7;--mantine-color-blue-5: #339af0;--mantine-color-blue-6: #228be6;--mantine-color-blue-7: #1c7ed6;--mantine-color-blue-8: #1971c2;--mantine-color-blue-9: #1864ab;--mantine-color-cyan-0: #e3fafc;--mantine-color-cyan-1: #c5f6fa;--mantine-color-cyan-2: #99e9f2;--mantine-color-cyan-3: #66d9e8;--mantine-color-cyan-4: #3bc9db;--mantine-color-cyan-5: #22b8cf;--mantine-color-cyan-6: #15aabf;--mantine-color-cyan-7: #1098ad;--mantine-color-cyan-8: #0c8599;--mantine-color-cyan-9: #0b7285;--mantine-color-teal-0: #e6fcf5;--mantine-color-teal-1: #c3fae8;--mantine-color-teal-2: #96f2d7;--mantine-color-teal-3: #63e6be;--mantine-color-teal-4: #38d9a9;--mantine-color-teal-5: #20c997;--mantine-color-teal-6: #12b886;--mantine-color-teal-7: #0ca678;--mantine-color-teal-8: #099268;--mantine-color-teal-9: #087f5b;--mantine-color-green-0: #ebfbee;--mantine-color-green-1: #d3f9d8;--mantine-color-green-2: #b2f2bb;--mantine-color-green-3: #8ce99a;--mantine-color-green-4: #69db7c;--mantine-color-green-5: #51cf66;--mantine-color-green-6: #40c057;--mantine-color-green-7: #37b24d;--mantine-color-green-8: #2f9e44;--mantine-color-green-9: #2b8a3e;--mantine-color-lime-0: #f4fce3;--mantine-color-lime-1: #e9fac8;--mantine-color-lime-2: #d8f5a2;--mantine-color-lime-3: #c0eb75;--mantine-color-lime-4: #a9e34b;--mantine-color-lime-5: #94d82d;--mantine-color-lime-6: #82c91e;--mantine-color-lime-7: #74b816;--mantine-color-lime-8: #66a80f;--mantine-color-lime-9: #5c940d;--mantine-color-yellow-0: #fff9db;--mantine-color-yellow-1: #fff3bf;--mantine-color-yellow-2: #ffec99;--mantine-color-yellow-3: #ffe066;--mantine-color-yellow-4: #ffd43b;--mantine-color-yellow-5: #fcc419;--mantine-color-yellow-6: #fab005;--mantine-color-yellow-7: #f59f00;--mantine-color-yellow-8: #f08c00;--mantine-color-yellow-9: #e67700;--mantine-color-orange-0: #fff4e6;--mantine-color-orange-1: #ffe8cc;--mantine-color-orange-2: #ffd8a8;--mantine-color-orange-3: #ffc078;--mantine-color-orange-4: #ffa94d;--mantine-color-orange-5: #ff922b;--mantine-color-orange-6: #fd7e14;--mantine-color-orange-7: #f76707;--mantine-color-orange-8: #e8590c;--mantine-color-orange-9: #d9480f;--mantine-h1-font-size: calc(2.125em * var(--mantine-scale));--mantine-h1-line-height: 1.3;--mantine-h1-font-weight: 700;--mantine-h2-font-size: calc(1.625em * var(--mantine-scale));--mantine-h2-line-height: 1.35;--mantine-h2-font-weight: 700;--mantine-h3-font-size: calc(1.375em * var(--mantine-scale));--mantine-h3-line-height: 1.4;--mantine-h3-font-weight: 700;--mantine-h4-font-size: calc(1.125em * var(--mantine-scale));--mantine-h4-line-height: 1.45;--mantine-h4-font-weight: 700;--mantine-h5-font-size: calc(1em * var(--mantine-scale));--mantine-h5-line-height: 1.5;--mantine-h5-font-weight: 700;--mantine-h6-font-size: calc(.875em * var(--mantine-scale));--mantine-h6-line-height: 1.5;--mantine-h6-font-weight: 700}:root[data-mantine-color-scheme=dark]{--mantine-color-scheme: dark;--mantine-primary-color-contrast: var(--mantine-color-white);--mantine-color-bright: var(--mantine-color-white);--mantine-color-text: var(--mantine-color-dark-0);--mantine-color-body: var(--mantine-color-dark-7);--mantine-color-error: var(--mantine-color-red-8);--mantine-color-placeholder: var(--mantine-color-dark-3);--mantine-color-anchor: var(--mantine-color-blue-4);--mantine-color-default: var(--mantine-color-dark-6);--mantine-color-default-hover: var(--mantine-color-dark-5);--mantine-color-default-color: var(--mantine-color-white);--mantine-color-default-border: var(--mantine-color-dark-4);--mantine-color-dimmed: var(--mantine-color-dark-2);--mantine-color-dark-text: var(--mantine-color-dark-4);--mantine-color-dark-filled: var(--mantine-color-dark-8);--mantine-color-dark-filled-hover: var(--mantine-color-dark-7);--mantine-color-dark-light: rgba(36, 36, 36, .15);--mantine-color-dark-light-hover: rgba(36, 36, 36, .2);--mantine-color-dark-light-color: var(--mantine-color-dark-3);--mantine-color-dark-outline: var(--mantine-color-dark-4);--mantine-color-dark-outline-hover: rgba(36, 36, 36, .05);--mantine-color-gray-text: var(--mantine-color-gray-4);--mantine-color-gray-filled: var(--mantine-color-gray-8);--mantine-color-gray-filled-hover: var(--mantine-color-gray-9);--mantine-color-gray-light: rgba(134, 142, 150, .15);--mantine-color-gray-light-hover: rgba(134, 142, 150, .2);--mantine-color-gray-light-color: var(--mantine-color-gray-3);--mantine-color-gray-outline: var(--mantine-color-gray-4);--mantine-color-gray-outline-hover: rgba(206, 212, 218, .05);--mantine-color-red-text: var(--mantine-color-red-4);--mantine-color-red-filled: var(--mantine-color-red-8);--mantine-color-red-filled-hover: var(--mantine-color-red-9);--mantine-color-red-light: rgba(250, 82, 82, .15);--mantine-color-red-light-hover: rgba(250, 82, 82, .2);--mantine-color-red-light-color: var(--mantine-color-red-3);--mantine-color-red-outline: var(--mantine-color-red-4);--mantine-color-red-outline-hover: rgba(255, 135, 135, .05);--mantine-color-pink-text: var(--mantine-color-pink-4);--mantine-color-pink-filled: var(--mantine-color-pink-8);--mantine-color-pink-filled-hover: var(--mantine-color-pink-9);--mantine-color-pink-light: rgba(230, 73, 128, .15);--mantine-color-pink-light-hover: rgba(230, 73, 128, .2);--mantine-color-pink-light-color: var(--mantine-color-pink-3);--mantine-color-pink-outline: var(--mantine-color-pink-4);--mantine-color-pink-outline-hover: rgba(247, 131, 172, .05);--mantine-color-grape-text: var(--mantine-color-grape-4);--mantine-color-grape-filled: var(--mantine-color-grape-8);--mantine-color-grape-filled-hover: var(--mantine-color-grape-9);--mantine-color-grape-light: rgba(190, 75, 219, .15);--mantine-color-grape-light-hover: rgba(190, 75, 219, .2);--mantine-color-grape-light-color: var(--mantine-color-grape-3);--mantine-color-grape-outline: var(--mantine-color-grape-4);--mantine-color-grape-outline-hover: rgba(218, 119, 242, .05);--mantine-color-violet-text: var(--mantine-color-violet-4);--mantine-color-violet-filled: var(--mantine-color-violet-8);--mantine-color-violet-filled-hover: var(--mantine-color-violet-9);--mantine-color-violet-light: rgba(121, 80, 242, .15);--mantine-color-violet-light-hover: rgba(121, 80, 242, .2);--mantine-color-violet-light-color: var(--mantine-color-violet-3);--mantine-color-violet-outline: var(--mantine-color-violet-4);--mantine-color-violet-outline-hover: rgba(151, 117, 250, .05);--mantine-color-indigo-text: var(--mantine-color-indigo-4);--mantine-color-indigo-filled: var(--mantine-color-indigo-8);--mantine-color-indigo-filled-hover: var(--mantine-color-indigo-9);--mantine-color-indigo-light: rgba(76, 110, 245, .15);--mantine-color-indigo-light-hover: rgba(76, 110, 245, .2);--mantine-color-indigo-light-color: var(--mantine-color-indigo-3);--mantine-color-indigo-outline: var(--mantine-color-indigo-4);--mantine-color-indigo-outline-hover: rgba(116, 143, 252, .05);--mantine-color-blue-text: var(--mantine-color-blue-4);--mantine-color-blue-filled: var(--mantine-color-blue-8);--mantine-color-blue-filled-hover: var(--mantine-color-blue-9);--mantine-color-blue-light: rgba(34, 139, 230, .15);--mantine-color-blue-light-hover: rgba(34, 139, 230, .2);--mantine-color-blue-light-color: var(--mantine-color-blue-3);--mantine-color-blue-outline: var(--mantine-color-blue-4);--mantine-color-blue-outline-hover: rgba(77, 171, 247, .05);--mantine-color-cyan-text: var(--mantine-color-cyan-4);--mantine-color-cyan-filled: var(--mantine-color-cyan-8);--mantine-color-cyan-filled-hover: var(--mantine-color-cyan-9);--mantine-color-cyan-light: rgba(21, 170, 191, .15);--mantine-color-cyan-light-hover: rgba(21, 170, 191, .2);--mantine-color-cyan-light-color: var(--mantine-color-cyan-3);--mantine-color-cyan-outline: var(--mantine-color-cyan-4);--mantine-color-cyan-outline-hover: rgba(59, 201, 219, .05);--mantine-color-teal-text: var(--mantine-color-teal-4);--mantine-color-teal-filled: var(--mantine-color-teal-8);--mantine-color-teal-filled-hover: var(--mantine-color-teal-9);--mantine-color-teal-light: rgba(18, 184, 134, .15);--mantine-color-teal-light-hover: rgba(18, 184, 134, .2);--mantine-color-teal-light-color: var(--mantine-color-teal-3);--mantine-color-teal-outline: var(--mantine-color-teal-4);--mantine-color-teal-outline-hover: rgba(56, 217, 169, .05);--mantine-color-green-text: var(--mantine-color-green-4);--mantine-color-green-filled: var(--mantine-color-green-8);--mantine-color-green-filled-hover: var(--mantine-color-green-9);--mantine-color-green-light: rgba(64, 192, 87, .15);--mantine-color-green-light-hover: rgba(64, 192, 87, .2);--mantine-color-green-light-color: var(--mantine-color-green-3);--mantine-color-green-outline: var(--mantine-color-green-4);--mantine-color-green-outline-hover: rgba(105, 219, 124, .05);--mantine-color-lime-text: var(--mantine-color-lime-4);--mantine-color-lime-filled: var(--mantine-color-lime-8);--mantine-color-lime-filled-hover: var(--mantine-color-lime-9);--mantine-color-lime-light: rgba(130, 201, 30, .15);--mantine-color-lime-light-hover: rgba(130, 201, 30, .2);--mantine-color-lime-light-color: var(--mantine-color-lime-3);--mantine-color-lime-outline: var(--mantine-color-lime-4);--mantine-color-lime-outline-hover: rgba(169, 227, 75, .05);--mantine-color-yellow-text: var(--mantine-color-yellow-4);--mantine-color-yellow-filled: var(--mantine-color-yellow-8);--mantine-color-yellow-filled-hover: var(--mantine-color-yellow-9);--mantine-color-yellow-light: rgba(250, 176, 5, .15);--mantine-color-yellow-light-hover: rgba(250, 176, 5, .2);--mantine-color-yellow-light-color: var(--mantine-color-yellow-3);--mantine-color-yellow-outline: var(--mantine-color-yellow-4);--mantine-color-yellow-outline-hover: rgba(255, 212, 59, .05);--mantine-color-orange-text: var(--mantine-color-orange-4);--mantine-color-orange-filled: var(--mantine-color-orange-8);--mantine-color-orange-filled-hover: var(--mantine-color-orange-9);--mantine-color-orange-light: rgba(253, 126, 20, .15);--mantine-color-orange-light-hover: rgba(253, 126, 20, .2);--mantine-color-orange-light-color: var(--mantine-color-orange-3);--mantine-color-orange-outline: var(--mantine-color-orange-4);--mantine-color-orange-outline-hover: rgba(255, 169, 77, .05)}:root[data-mantine-color-scheme=light]{--mantine-color-scheme: light;--mantine-color-bright: var(--mantine-color-black);--mantine-color-text: var(--mantine-color-black);--mantine-color-body: var(--mantine-color-white);--mantine-primary-color-contrast: var(--mantine-color-white);--mantine-color-error: var(--mantine-color-red-6);--mantine-color-placeholder: var(--mantine-color-gray-5);--mantine-color-anchor: var(--mantine-primary-color-filled);--mantine-color-default: var(--mantine-color-white);--mantine-color-default-hover: var(--mantine-color-gray-0);--mantine-color-default-color: var(--mantine-color-gray-9);--mantine-color-default-border: var(--mantine-color-gray-4);--mantine-color-dimmed: var(--mantine-color-gray-6);--mantine-color-dark-text: var(--mantine-color-dark-filled);--mantine-color-dark-filled: var(--mantine-color-dark-6);--mantine-color-dark-filled-hover: var(--mantine-color-dark-7);--mantine-color-dark-light: rgba(56, 56, 56, .1);--mantine-color-dark-light-hover: rgba(56, 56, 56, .12);--mantine-color-dark-light-color: var(--mantine-color-dark-6);--mantine-color-dark-outline: var(--mantine-color-dark-6);--mantine-color-dark-outline-hover: rgba(56, 56, 56, .05);--mantine-color-gray-text: var(--mantine-color-gray-filled);--mantine-color-gray-filled: var(--mantine-color-gray-6);--mantine-color-gray-filled-hover: var(--mantine-color-gray-7);--mantine-color-gray-light: rgba(134, 142, 150, .1);--mantine-color-gray-light-hover: rgba(134, 142, 150, .12);--mantine-color-gray-light-color: var(--mantine-color-gray-6);--mantine-color-gray-outline: var(--mantine-color-gray-6);--mantine-color-gray-outline-hover: rgba(134, 142, 150, .05);--mantine-color-red-text: var(--mantine-color-red-filled);--mantine-color-red-filled: var(--mantine-color-red-6);--mantine-color-red-filled-hover: var(--mantine-color-red-7);--mantine-color-red-light: rgba(250, 82, 82, .1);--mantine-color-red-light-hover: rgba(250, 82, 82, .12);--mantine-color-red-light-color: var(--mantine-color-red-6);--mantine-color-red-outline: var(--mantine-color-red-6);--mantine-color-red-outline-hover: rgba(250, 82, 82, .05);--mantine-color-pink-text: var(--mantine-color-pink-filled);--mantine-color-pink-filled: var(--mantine-color-pink-6);--mantine-color-pink-filled-hover: var(--mantine-color-pink-7);--mantine-color-pink-light: rgba(230, 73, 128, .1);--mantine-color-pink-light-hover: rgba(230, 73, 128, .12);--mantine-color-pink-light-color: var(--mantine-color-pink-6);--mantine-color-pink-outline: var(--mantine-color-pink-6);--mantine-color-pink-outline-hover: rgba(230, 73, 128, .05);--mantine-color-grape-text: var(--mantine-color-grape-filled);--mantine-color-grape-filled: var(--mantine-color-grape-6);--mantine-color-grape-filled-hover: var(--mantine-color-grape-7);--mantine-color-grape-light: rgba(190, 75, 219, .1);--mantine-color-grape-light-hover: rgba(190, 75, 219, .12);--mantine-color-grape-light-color: var(--mantine-color-grape-6);--mantine-color-grape-outline: var(--mantine-color-grape-6);--mantine-color-grape-outline-hover: rgba(190, 75, 219, .05);--mantine-color-violet-text: var(--mantine-color-violet-filled);--mantine-color-violet-filled: var(--mantine-color-violet-6);--mantine-color-violet-filled-hover: var(--mantine-color-violet-7);--mantine-color-violet-light: rgba(121, 80, 242, .1);--mantine-color-violet-light-hover: rgba(121, 80, 242, .12);--mantine-color-violet-light-color: var(--mantine-color-violet-6);--mantine-color-violet-outline: var(--mantine-color-violet-6);--mantine-color-violet-outline-hover: rgba(121, 80, 242, .05);--mantine-color-indigo-text: var(--mantine-color-indigo-filled);--mantine-color-indigo-filled: var(--mantine-color-indigo-6);--mantine-color-indigo-filled-hover: var(--mantine-color-indigo-7);--mantine-color-indigo-light: rgba(76, 110, 245, .1);--mantine-color-indigo-light-hover: rgba(76, 110, 245, .12);--mantine-color-indigo-light-color: var(--mantine-color-indigo-6);--mantine-color-indigo-outline: var(--mantine-color-indigo-6);--mantine-color-indigo-outline-hover: rgba(76, 110, 245, .05);--mantine-color-blue-text: var(--mantine-color-blue-filled);--mantine-color-blue-filled: var(--mantine-color-blue-6);--mantine-color-blue-filled-hover: var(--mantine-color-blue-7);--mantine-color-blue-light: rgba(34, 139, 230, .1);--mantine-color-blue-light-hover: rgba(34, 139, 230, .12);--mantine-color-blue-light-color: var(--mantine-color-blue-6);--mantine-color-blue-outline: var(--mantine-color-blue-6);--mantine-color-blue-outline-hover: rgba(34, 139, 230, .05);--mantine-color-cyan-text: var(--mantine-color-cyan-filled);--mantine-color-cyan-filled: var(--mantine-color-cyan-6);--mantine-color-cyan-filled-hover: var(--mantine-color-cyan-7);--mantine-color-cyan-light: rgba(21, 170, 191, .1);--mantine-color-cyan-light-hover: rgba(21, 170, 191, .12);--mantine-color-cyan-light-color: var(--mantine-color-cyan-6);--mantine-color-cyan-outline: var(--mantine-color-cyan-6);--mantine-color-cyan-outline-hover: rgba(21, 170, 191, .05);--mantine-color-teal-text: var(--mantine-color-teal-filled);--mantine-color-teal-filled: var(--mantine-color-teal-6);--mantine-color-teal-filled-hover: var(--mantine-color-teal-7);--mantine-color-teal-light: rgba(18, 184, 134, .1);--mantine-color-teal-light-hover: rgba(18, 184, 134, .12);--mantine-color-teal-light-color: var(--mantine-color-teal-6);--mantine-color-teal-outline: var(--mantine-color-teal-6);--mantine-color-teal-outline-hover: rgba(18, 184, 134, .05);--mantine-color-green-text: var(--mantine-color-green-filled);--mantine-color-green-filled: var(--mantine-color-green-6);--mantine-color-green-filled-hover: var(--mantine-color-green-7);--mantine-color-green-light: rgba(64, 192, 87, .1);--mantine-color-green-light-hover: rgba(64, 192, 87, .12);--mantine-color-green-light-color: var(--mantine-color-green-6);--mantine-color-green-outline: var(--mantine-color-green-6);--mantine-color-green-outline-hover: rgba(64, 192, 87, .05);--mantine-color-lime-text: var(--mantine-color-lime-filled);--mantine-color-lime-filled: var(--mantine-color-lime-6);--mantine-color-lime-filled-hover: var(--mantine-color-lime-7);--mantine-color-lime-light: rgba(130, 201, 30, .1);--mantine-color-lime-light-hover: rgba(130, 201, 30, .12);--mantine-color-lime-light-color: var(--mantine-color-lime-6);--mantine-color-lime-outline: var(--mantine-color-lime-6);--mantine-color-lime-outline-hover: rgba(130, 201, 30, .05);--mantine-color-yellow-text: var(--mantine-color-yellow-filled);--mantine-color-yellow-filled: var(--mantine-color-yellow-6);--mantine-color-yellow-filled-hover: var(--mantine-color-yellow-7);--mantine-color-yellow-light: rgba(250, 176, 5, .1);--mantine-color-yellow-light-hover: rgba(250, 176, 5, .12);--mantine-color-yellow-light-color: var(--mantine-color-yellow-6);--mantine-color-yellow-outline: var(--mantine-color-yellow-6);--mantine-color-yellow-outline-hover: rgba(250, 176, 5, .05);--mantine-color-orange-text: var(--mantine-color-orange-filled);--mantine-color-orange-filled: var(--mantine-color-orange-6);--mantine-color-orange-filled-hover: var(--mantine-color-orange-7);--mantine-color-orange-light: rgba(253, 126, 20, .1);--mantine-color-orange-light-hover: rgba(253, 126, 20, .12);--mantine-color-orange-light-color: var(--mantine-color-orange-6);--mantine-color-orange-outline: var(--mantine-color-orange-6);--mantine-color-orange-outline-hover: rgba(253, 126, 20, .05)}.m_d57069b5{--scrollarea-scrollbar-size: calc(.75em * var(--mantine-scale));position:relative;overflow:hidden}.m_c0783ff9{scrollbar-width:none;overscroll-behavior:var(--scrollarea-over-scroll-behavior);-ms-overflow-style:none;-webkit-overflow-scrolling:touch;width:100%;height:100%}.m_c0783ff9::-webkit-scrollbar{display:none}.m_c0783ff9:where([data-scrollbars=xy],[data-scrollbars=y]):where([data-offset-scrollbars=xy],[data-offset-scrollbars=y],[data-offset-scrollbars=present]):where([data-vertical-hidden]){padding-inline-end:0;padding-inline-start:0}.m_c0783ff9:where([data-scrollbars=xy],[data-scrollbars=y]):where([data-offset-scrollbars=xy],[data-offset-scrollbars=y],[data-offset-scrollbars=present]):not([data-vertical-hidden]){padding-inline-end:var(--scrollarea-scrollbar-size);padding-inline-start:unset}.m_c0783ff9:where([data-scrollbars=xy],[data-scrollbars=x]):where([data-offset-scrollbars=xy],[data-offset-scrollbars=x],[data-offset-scrollbars=present]):where([data-horizontal-hidden]){padding-bottom:0}.m_c0783ff9:where([data-scrollbars=xy],[data-scrollbars=x]):where([data-offset-scrollbars=xy],[data-offset-scrollbars=x],[data-offset-scrollbars=present]):not([data-horizontal-hidden]){padding-bottom:var(--scrollarea-scrollbar-size)}.m_f8f631dd{min-width:100%;display:table}.m_c44ba933{-webkit-user-select:none;-moz-user-select:none;user-select:none;touch-action:none;box-sizing:border-box;transition:background-color .15s ease,opacity .15s ease;padding:calc(var(--scrollarea-scrollbar-size) / 5);display:flex;background-color:transparent;flex-direction:row}@media (hover: hover){:where([data-mantine-color-scheme=light]) .m_c44ba933:hover{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=light]) .m_c44ba933:hover>.m_d8b5e363{background-color:#00000080}:where([data-mantine-color-scheme=dark]) .m_c44ba933:hover{background-color:var(--mantine-color-dark-8)}:where([data-mantine-color-scheme=dark]) .m_c44ba933:hover>.m_d8b5e363{background-color:#ffffff80}}@media (hover: none){:where([data-mantine-color-scheme=light]) .m_c44ba933:active{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=light]) .m_c44ba933:active>.m_d8b5e363{background-color:#00000080}:where([data-mantine-color-scheme=dark]) .m_c44ba933:active{background-color:var(--mantine-color-dark-8)}:where([data-mantine-color-scheme=dark]) .m_c44ba933:active>.m_d8b5e363{background-color:#ffffff80}}.m_c44ba933:where([data-hidden],[data-state=hidden]){display:none}.m_c44ba933:where([data-orientation=vertical]){width:var(--scrollarea-scrollbar-size);top:0;bottom:var(--sa-corner-width);inset-inline-end:0}.m_c44ba933:where([data-orientation=horizontal]){height:var(--scrollarea-scrollbar-size);flex-direction:column;bottom:0;inset-inline-start:0;inset-inline-end:var(--sa-corner-width)}.m_d8b5e363{flex:1;border-radius:var(--scrollarea-scrollbar-size);position:relative;transition:background-color .15s ease;overflow:hidden;opacity:var(--thumb-opacity)}.m_d8b5e363:before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100%;height:100%;min-width:calc(2.75em * var(--mantine-scale));min-height:calc(2.75em * var(--mantine-scale))}:where([data-mantine-color-scheme=light]) .m_d8b5e363{background-color:#0006}:where([data-mantine-color-scheme=dark]) .m_d8b5e363{background-color:#fff6}.m_21657268{position:absolute;opacity:0;transition:opacity .15s ease;display:block;inset-inline-end:0;bottom:0}:where([data-mantine-color-scheme=light]) .m_21657268{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_21657268{background-color:var(--mantine-color-dark-8)}.m_21657268:where([data-hovered]){opacity:1}.m_21657268:where([data-hidden]){display:none}.m_87cf2631{background-color:transparent;cursor:pointer;border:0;padding:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;font-size:var(--mantine-font-size-md);text-align:left;text-decoration:none;color:inherit;touch-action:manipulation;-webkit-tap-highlight-color:transparent}:where([dir=rtl]) .m_87cf2631{text-align:right}.m_515a97f8{border:0;clip:rect(0 0 0 0);height:calc(.0625em * var(--mantine-scale));width:calc(.0625em * var(--mantine-scale));margin:calc(-.0625em * var(--mantine-scale));overflow:hidden;padding:0;position:absolute;white-space:nowrap}.m_1b7284a3{--paper-radius: var(--mantine-radius-default);outline:0;-webkit-tap-highlight-color:transparent;display:block;touch-action:manipulation;text-decoration:none;border-radius:var(--paper-radius);box-shadow:var(--paper-shadow);background-color:var(--mantine-color-body)}[data-mantine-color-scheme=light] .m_1b7284a3{--paper-border-color: var(--mantine-color-gray-3)}[data-mantine-color-scheme=dark] .m_1b7284a3{--paper-border-color: var(--mantine-color-dark-4)}.m_1b7284a3:where([data-with-border]){border:calc(.0625em * var(--mantine-scale)) solid var(--paper-border-color)}.m_9814e45f{inset:0;position:absolute;background:var(--overlay-bg, rgba(0, 0, 0, .6));backdrop-filter:var(--overlay-filter);-webkit-backdrop-filter:var(--overlay-filter);border-radius:var(--overlay-radius, 0);z-index:var(--overlay-z-index)}.m_9814e45f:where([data-fixed]){position:fixed}.m_9814e45f:where([data-center]){display:flex;align-items:center;justify-content:center}.m_38a85659{position:absolute;border:1px solid var(--popover-border-color);padding:var(--mantine-spacing-sm) var(--mantine-spacing-md);box-shadow:var(--popover-shadow, none);border-radius:var(--popover-radius, var(--mantine-radius-default))}.m_38a85659:where([data-fixed]){position:fixed}.m_38a85659:focus{outline:none}:where([data-mantine-color-scheme=light]) .m_38a85659{--popover-border-color: var(--mantine-color-gray-2);background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=dark]) .m_38a85659{--popover-border-color: var(--mantine-color-dark-4);background-color:var(--mantine-color-dark-6)}.m_a31dc6c1{background-color:inherit;border:1px solid var(--popover-border-color);z-index:1}.m_3d7bc908{position:fixed;inset:0}.m_5ae2e3c{--loader-size-xs: calc(1.125em * var(--mantine-scale));--loader-size-sm: calc(1.375em * var(--mantine-scale));--loader-size-md: calc(2.25em * var(--mantine-scale));--loader-size-lg: calc(2.75em * var(--mantine-scale));--loader-size-xl: calc(3.625em * var(--mantine-scale));--loader-size: var(--loader-size-md);--loader-color: var(--mantine-primary-color-filled)}@keyframes m_5d2b3b9d{0%{transform:scale(.6);opacity:0}50%,to{transform:scale(1)}}.m_7a2bd4cd{position:relative;width:var(--loader-size);height:var(--loader-size);display:flex;gap:calc(var(--loader-size) / 5)}.m_870bb79{flex:1;background:var(--loader-color);animation:m_5d2b3b9d 1.2s cubic-bezier(0,.5,.5,1) infinite;border-radius:calc(.125em * var(--mantine-scale))}.m_870bb79:nth-of-type(1){animation-delay:-.24s}.m_870bb79:nth-of-type(2){animation-delay:-.12s}.m_870bb79:nth-of-type(3){animation-delay:0}@keyframes m_aac34a1{0%,to{transform:scale(1);opacity:1}50%{transform:scale(.6);opacity:.5}}.m_4e3f22d7{display:flex;justify-content:center;align-items:center;gap:calc(var(--loader-size) / 10);position:relative;width:var(--loader-size);height:var(--loader-size)}.m_870c4af{width:calc(var(--loader-size) / 3 - var(--loader-size) / 15);height:calc(var(--loader-size) / 3 - var(--loader-size) / 15);border-radius:50%;background:var(--loader-color);animation:m_aac34a1 .8s infinite linear}.m_870c4af:nth-child(2){animation-delay:.4s}@keyframes m_f8e89c4b{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.m_b34414df{display:inline-block;width:var(--loader-size);height:var(--loader-size)}.m_b34414df:after{content:"";display:block;width:var(--loader-size);height:var(--loader-size);border-radius:calc(625em * var(--mantine-scale));border-width:calc(var(--loader-size) / 8);border-style:solid;border-color:var(--loader-color) var(--loader-color) var(--loader-color) transparent;animation:m_f8e89c4b 1.2s linear infinite}.m_8d3f4000{--ai-size-xs: calc(1.125em * var(--mantine-scale));--ai-size-sm: calc(1.375em * var(--mantine-scale));--ai-size-md: calc(1.75em * var(--mantine-scale));--ai-size-lg: calc(2.125em * var(--mantine-scale));--ai-size-xl: calc(2.75em * var(--mantine-scale));--ai-size-input-xs: calc(1.875em * var(--mantine-scale));--ai-size-input-sm: calc(2.25em * var(--mantine-scale));--ai-size-input-md: calc(2.625em * var(--mantine-scale));--ai-size-input-lg: calc(3.125em * var(--mantine-scale));--ai-size-input-xl: calc(3.75em * var(--mantine-scale));--ai-size: var(--ai-size-md);--ai-color: var(--mantine-color-white);line-height:1;display:inline-flex;align-items:center;justify-content:center;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;overflow:hidden;width:var(--ai-size);height:var(--ai-size);min-width:var(--ai-size);min-height:var(--ai-size);border-radius:var(--ai-radius, var(--mantine-radius-default));background:var(--ai-bg, var(--mantine-primary-color-filled));color:var(--ai-color, var(--mantine-color-white));border:var(--ai-bd, calc(.0625em * var(--mantine-scale)) solid transparent);cursor:pointer}@media (hover: hover){.m_8d3f4000:hover:where(:not([data-loading],:disabled,[data-disabled])){background-color:var(--ai-hover, var(--mantine-primary-color-filled-hover));color:var(--ai-hover-color, var(--ai-color))}}@media (hover: none){.m_8d3f4000:active:where(:not([data-loading],:disabled,[data-disabled])){background-color:var(--ai-hover, var(--mantine-primary-color-filled-hover));color:var(--ai-hover-color, var(--ai-color))}}.m_8d3f4000[data-loading]{cursor:not-allowed}.m_8d3f4000[data-loading] .m_8d3afb97{opacity:0;transform:translateY(100%)}.m_8d3f4000:where(:disabled:not([data-loading]),[data-disabled]:not([data-loading])){cursor:not-allowed;border:calc(.0625em * var(--mantine-scale)) solid transparent}:where([data-mantine-color-scheme=light]) .m_8d3f4000:where(:disabled:not([data-loading]),[data-disabled]:not([data-loading])){background-color:var(--mantine-color-gray-1);color:var(--mantine-color-gray-5)}:where([data-mantine-color-scheme=dark]) .m_8d3f4000:where(:disabled:not([data-loading]),[data-disabled]:not([data-loading])){background-color:var(--mantine-color-dark-6);color:var(--mantine-color-dark-3)}.m_8d3f4000:where(:disabled:not([data-loading]),[data-disabled]:not([data-loading])):active{transform:none}.m_302b9fb1{inset:calc(-.0625em * var(--mantine-scale));position:absolute;border-radius:var(--ai-radius, var(--mantine-radius-default));display:flex;align-items:center;justify-content:center}:where([data-mantine-color-scheme=light]) .m_302b9fb1{background-color:#ffffff26}:where([data-mantine-color-scheme=dark]) .m_302b9fb1{background-color:#00000026}.m_1a0f1b21{--ai-border-width: calc(.0625em * var(--mantine-scale));display:flex}.m_1a0f1b21 :where(*):focus{position:relative;z-index:1}.m_1a0f1b21[data-orientation=horizontal]{flex-direction:row}.m_1a0f1b21[data-orientation=horizontal] .m_8d3f4000:not(:only-child):first-child,.m_1a0f1b21[data-orientation=horizontal] .m_437b6484:not(:only-child):first-child{border-end-end-radius:0;border-start-end-radius:0;border-inline-end-width:calc(var(--ai-border-width) / 2)}.m_1a0f1b21[data-orientation=horizontal] .m_8d3f4000:not(:only-child):last-child,.m_1a0f1b21[data-orientation=horizontal] .m_437b6484:not(:only-child):last-child{border-end-start-radius:0;border-start-start-radius:0;border-inline-start-width:calc(var(--ai-border-width) / 2)}.m_1a0f1b21[data-orientation=horizontal] .m_8d3f4000:not(:only-child):not(:first-child):not(:last-child),.m_1a0f1b21[data-orientation=horizontal] .m_437b6484:not(:only-child):not(:first-child):not(:last-child){border-radius:0;border-inline-width:calc(var(--ai-border-width) / 2)}.m_1a0f1b21[data-orientation=vertical]{flex-direction:column}.m_1a0f1b21[data-orientation=vertical] .m_8d3f4000:not(:only-child):first-child,.m_1a0f1b21[data-orientation=vertical] .m_437b6484:not(:only-child):first-child{border-end-start-radius:0;border-end-end-radius:0;border-bottom-width:calc(var(--ai-border-width) / 2)}.m_1a0f1b21[data-orientation=vertical] .m_8d3f4000:not(:only-child):last-child,.m_1a0f1b21[data-orientation=vertical] .m_437b6484:not(:only-child):last-child{border-start-start-radius:0;border-start-end-radius:0;border-top-width:calc(var(--ai-border-width) / 2)}.m_1a0f1b21[data-orientation=vertical] .m_8d3f4000:not(:only-child):not(:first-child):not(:last-child),.m_1a0f1b21[data-orientation=vertical] .m_437b6484:not(:only-child):not(:first-child):not(:last-child){border-radius:0;border-bottom-width:calc(var(--ai-border-width) / 2);border-top-width:calc(var(--ai-border-width) / 2)}.m_8d3afb97{display:flex;align-items:center;justify-content:center;transition:transform .15s ease,opacity .1s ease;width:100%;height:100%}.m_437b6484{--section-height-xs: calc(1.125em * var(--mantine-scale));--section-height-sm: calc(1.375em * var(--mantine-scale));--section-height-md: calc(1.75em * var(--mantine-scale));--section-height-lg: calc(2.125em * var(--mantine-scale));--section-height-xl: calc(2.75em * var(--mantine-scale));--section-height-input-xs: calc(1.875em * var(--mantine-scale));--section-height-input-sm: calc(2.25em * var(--mantine-scale));--section-height-input-md: calc(2.625em * var(--mantine-scale));--section-height-input-lg: calc(3.125em * var(--mantine-scale));--section-height-input-xl: calc(3.75em * var(--mantine-scale));--section-padding-x-xs: calc(.375em * var(--mantine-scale));--section-padding-x-sm: calc(.5em * var(--mantine-scale));--section-padding-x-md: calc(.625em * var(--mantine-scale));--section-padding-x-lg: calc(.75em * var(--mantine-scale));--section-padding-x-xl: calc(1em * var(--mantine-scale));--section-height: var(--section-height-sm);--section-padding-x: var(--section-padding-x-sm);--section-color: var(--mantine-color-white);font-weight:600;width:auto;border-radius:var(--section-radius, var(--mantine-radius-default));font-size:var(--section-fz, var(--mantine-font-size-sm));background:var(--section-bg, var(--mantine-primary-color-filled));border:var(--section-bd, calc(.0625em * var(--mantine-scale)) solid transparent);color:var(--section-color, var(--mantine-color-white));height:var(--section-height, var(--section-height-sm));padding-inline:var(--section-padding-x, var(--section-padding-x-sm));vertical-align:middle;line-height:1;display:inline-flex;align-items:center;justify-content:center}.m_86a44da5{--cb-size-xs: calc(1.125em * var(--mantine-scale));--cb-size-sm: calc(1.375em * var(--mantine-scale));--cb-size-md: calc(1.75em * var(--mantine-scale));--cb-size-lg: calc(2.125em * var(--mantine-scale));--cb-size-xl: calc(2.75em * var(--mantine-scale));--cb-size: var(--cb-size-md);--cb-icon-size: 70%;--cb-radius: var(--mantine-radius-default);line-height:1;display:inline-flex;align-items:center;justify-content:center;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--cb-size);height:var(--cb-size);min-width:var(--cb-size);min-height:var(--cb-size);border-radius:var(--cb-radius)}:where([data-mantine-color-scheme=light]) .m_86a44da5{color:var(--mantine-color-gray-7)}:where([data-mantine-color-scheme=dark]) .m_86a44da5{color:var(--mantine-color-dark-1)}.m_86a44da5[data-disabled],.m_86a44da5:disabled{cursor:not-allowed;opacity:.6}@media (hover: hover){:where([data-mantine-color-scheme=light]) .m_220c80f2:where(:not([data-disabled],:disabled)):hover{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_220c80f2:where(:not([data-disabled],:disabled)):hover{background-color:var(--mantine-color-dark-6)}}@media (hover: none){:where([data-mantine-color-scheme=light]) .m_220c80f2:where(:not([data-disabled],:disabled)):active{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_220c80f2:where(:not([data-disabled],:disabled)):active{background-color:var(--mantine-color-dark-6)}}.m_4081bf90{display:flex;flex-direction:row;flex-wrap:var(--group-wrap, wrap);justify-content:var(--group-justify, flex-start);align-items:var(--group-align, center);gap:var(--group-gap, var(--mantine-spacing-md))}.m_4081bf90:where([data-grow])>*{flex-grow:1;max-width:var(--group-child-width)}.m_615af6c9{line-height:1;padding:0;margin:0;font-weight:400;font-size:var(--mantine-font-size-md)}.m_b5489c3c{display:flex;justify-content:space-between;align-items:center;padding:var(--mb-padding, var(--mantine-spacing-md));padding-inline-end:calc(var(--mb-padding, var(--mantine-spacing-md)) - calc(.3125em * var(--mantine-scale)));position:sticky;top:0;background-color:var(--mantine-color-body);z-index:1000;min-height:calc(3.75em * var(--mantine-scale));transition:padding-inline-end .1s}.m_60c222c7{position:fixed;width:100%;top:0;bottom:0;z-index:var(--mb-z-index);pointer-events:none}.m_fd1ab0aa{pointer-events:all;box-shadow:var(--mb-shadow, var(--mantine-shadow-xl))}.m_fd1ab0aa [data-mantine-scrollbar]{z-index:1001}[data-offset-scrollbars] .m_fd1ab0aa:has([data-mantine-scrollbar][data-state=visible]) .m_b5489c3c{padding-inline-end:calc(var(--mb-padding, var(--mantine-spacing-md)) + calc(.3125em * var(--mantine-scale)))}.m_606cb269{margin-inline-start:auto}.m_5df29311{padding:var(--mb-padding, var(--mantine-spacing-md));padding-top:var(--mb-padding, var(--mantine-spacing-md))}.m_5df29311:where(:not(:only-child)){padding-top:0}.m_6c018570{position:relative;margin-top:var(--input-margin-top, 0em);margin-bottom:var(--input-margin-bottom, 0em);--input-height-xs: calc(1.875em * var(--mantine-scale));--input-height-sm: calc(2.25em * var(--mantine-scale));--input-height-md: calc(2.625em * var(--mantine-scale));--input-height-lg: calc(3.125em * var(--mantine-scale));--input-height-xl: calc(3.75em * var(--mantine-scale));--input-padding-y-xs: calc(.3125em * var(--mantine-scale));--input-padding-y-sm: calc(.375em * var(--mantine-scale));--input-padding-y-md: calc(.5em * var(--mantine-scale));--input-padding-y-lg: calc(.625em * var(--mantine-scale));--input-padding-y-xl: calc(.8125em * var(--mantine-scale));--input-height: var(--input-height-sm);--input-radius: var(--mantine-radius-default);--input-cursor: text;--input-text-align: left;--input-line-height: calc(var(--input-height) - calc(.125em * var(--mantine-scale)));--input-padding: calc(var(--input-height) / 3);--input-padding-inline-start: var(--input-padding);--input-padding-inline-end: var(--input-padding);--input-placeholder-color: var(--mantine-color-placeholder);--input-color: var(--mantine-color-text);--input-left-section-size: var(--input-left-section-width, calc(var(--input-height) - calc(.125em * var(--mantine-scale))));--input-right-section-size: var( --input-right-section-width, calc(var(--input-height) - calc(.125em * var(--mantine-scale))) );--input-size: var(--input-height);--section-y: calc(.0625em * var(--mantine-scale));--left-section-start: calc(.0625em * var(--mantine-scale));--left-section-border-radius: var(--input-radius) 0 0 var(--input-radius);--right-section-end: calc(.0625em * var(--mantine-scale));--right-section-border-radius: 0 var(--input-radius) var(--input-radius) 0}.m_6c018570[data-variant=unstyled]{--input-padding: 0;--input-padding-y: 0;--input-padding-inline-start: 0;--input-padding-inline-end: 0}.m_6c018570[data-pointer]{--input-cursor: pointer}.m_6c018570[data-multiline]{--input-padding-y-xs: calc(.28125em * var(--mantine-scale));--input-padding-y-sm: calc(.34375em * var(--mantine-scale));--input-padding-y-md: calc(.4375em * var(--mantine-scale));--input-padding-y-lg: calc(.59375em * var(--mantine-scale));--input-padding-y-xl: calc(.8125em * var(--mantine-scale));--input-size: auto;--input-line-height: var(--mantine-line-height);--input-padding-y: var(--input-padding-y-sm)}.m_6c018570[data-with-left-section]{--input-padding-inline-start: var(--input-left-section-size)}.m_6c018570[data-with-right-section]{--input-padding-inline-end: var(--input-right-section-size)}[data-mantine-color-scheme=light] .m_6c018570{--input-disabled-bg: var(--mantine-color-gray-1);--input-disabled-color: var(--mantine-color-gray-6)}[data-mantine-color-scheme=light] .m_6c018570[data-variant=default]{--input-bd: var(--mantine-color-gray-4);--input-bg: var(--mantine-color-white);--input-bd-focus: var(--mantine-primary-color-filled)}[data-mantine-color-scheme=light] .m_6c018570[data-variant=filled]{--input-bd: transparent;--input-bg: var(--mantine-color-gray-1);--input-bd-focus: var(--mantine-primary-color-filled)}[data-mantine-color-scheme=light] .m_6c018570[data-variant=unstyled]{--input-bd: transparent;--input-bg: transparent;--input-bd-focus: transparent}[data-mantine-color-scheme=dark] .m_6c018570{--input-disabled-bg: var(--mantine-color-dark-6);--input-disabled-color: var(--mantine-color-dark-2)}[data-mantine-color-scheme=dark] .m_6c018570[data-variant=default]{--input-bd: var(--mantine-color-dark-4);--input-bg: var(--mantine-color-dark-6);--input-bd-focus: var(--mantine-primary-color-filled)}[data-mantine-color-scheme=dark] .m_6c018570[data-variant=filled]{--input-bd: transparent;--input-bg: var(--mantine-color-dark-5);--input-bd-focus: var(--mantine-primary-color-filled)}[data-mantine-color-scheme=dark] .m_6c018570[data-variant=unstyled]{--input-bd: transparent;--input-bg: transparent;--input-bd-focus: transparent}[data-mantine-color-scheme] .m_6c018570[data-error]:not([data-variant=unstyled]){--input-bd: var(--mantine-color-error)}[data-mantine-color-scheme] .m_6c018570[data-error]{--input-color: var(--mantine-color-error);--input-placeholder-color: var(--mantine-color-error);--input-section-color: var(--mantine-color-error)}:where([dir=rtl]) .m_6c018570{--input-text-align: right;--left-section-border-radius: 0 var(--input-radius) var(--input-radius) 0;--right-section-border-radius: var(--input-radius) 0 0 var(--input-radius)}.m_8fb7ebe7{-webkit-tap-highlight-color:transparent;-webkit-appearance:none;-moz-appearance:none;appearance:none;resize:var(--input-resize, none);display:block;width:100%;transition:border-color .1s ease;text-align:var(--input-text-align);color:var(--input-color);border:calc(.0625em * var(--mantine-scale)) solid var(--input-bd);background-color:var(--input-bg);font-family:var(--input-font-family, var(--mantine-font-family));height:var(--input-size);min-height:var(--input-height);line-height:var(--input-line-height);font-size:var(--input-fz, var(--input-fz, var(--mantine-font-size-sm)));border-radius:var(--input-radius);padding-inline-start:var(--input-padding-inline-start);padding-inline-end:var(--input-padding-inline-end);padding-top:var(--input-padding-y, 0em);padding-bottom:var(--input-padding-y, 0em);cursor:var(--input-cursor);overflow:var(--input-overflow)}.m_8fb7ebe7[data-no-overflow]{--input-overflow: hidden}.m_8fb7ebe7[data-monospace]{--input-font-family: var(--mantine-font-family-monospace);--input-fz: calc(var(--input-fz, var(--mantine-font-size-sm)) - calc(.125em * var(--mantine-scale)))}.m_8fb7ebe7:focus,.m_8fb7ebe7:focus-within{outline:none;--input-bd: var(--input-bd-focus)}[data-error] .m_8fb7ebe7:focus,[data-error] .m_8fb7ebe7:focus-within{--input-bd: var(--mantine-color-error)}.m_8fb7ebe7::-moz-placeholder{color:var(--input-placeholder-color);opacity:1}.m_8fb7ebe7::placeholder{color:var(--input-placeholder-color);opacity:1}.m_8fb7ebe7::-webkit-inner-spin-button,.m_8fb7ebe7::-webkit-outer-spin-button,.m_8fb7ebe7::-webkit-search-decoration,.m_8fb7ebe7::-webkit-search-cancel-button,.m_8fb7ebe7::-webkit-search-results-button,.m_8fb7ebe7::-webkit-search-results-decoration{-webkit-appearance:none;appearance:none}.m_8fb7ebe7[type=number]{-moz-appearance:textfield}.m_8fb7ebe7:disabled,.m_8fb7ebe7[data-disabled]{cursor:not-allowed;opacity:.6;background-color:var(--input-disabled-bg);color:var(--input-disabled-color)}.m_8fb7ebe7:has(input:disabled){cursor:not-allowed;opacity:.6;background-color:var(--input-disabled-bg);color:var(--input-disabled-color)}.m_82577fc2{pointer-events:var(--section-pointer-events);position:absolute;z-index:1;inset-inline-start:var(--section-start);inset-inline-end:var(--section-end);bottom:var(--section-y);top:var(--section-y);display:flex;align-items:center;justify-content:center;width:var(--section-size);border-radius:var(--section-border-radius);color:var(--input-section-color, var(--mantine-color-dimmed))}.m_82577fc2[data-position=right]{--section-pointer-events: var(--input-right-section-pointer-events);--section-end: var(--right-section-end);--section-size: var(--input-right-section-size);--section-border-radius: var(--right-section-border-radius)}.m_82577fc2[data-position=left]{--section-pointer-events: var(--input-left-section-pointer-events);--section-start: var(--left-section-start);--section-size: var(--input-left-section-size);--section-border-radius: var(--left-section-border-radius)}.m_88bacfd0{color:var(--input-placeholder-color, var(--mantine-color-placeholder))}[data-error] .m_88bacfd0{--input-placeholder-color: var(--input-color, var(--mantine-color-placeholder))}.m_46b77525{line-height:var(--mantine-line-height)}.m_8fdc1311{display:inline-block;font-weight:500;word-break:break-word;cursor:default;-webkit-tap-highlight-color:transparent;font-size:var(--input-label-size, var(--mantine-font-size-sm))}.m_78a94662{color:var(--input-asterisk-color, var(--mantine-color-error))}.m_8f816625,.m_fe47ce59{word-wrap:break-word;line-height:1.2;display:block;margin:0;padding:0}.m_8f816625{color:var(--mantine-color-error);font-size:var(--input-error-size, calc(var(--mantine-font-size-sm) - calc(.125em * var(--mantine-scale))))}.m_fe47ce59{color:var(--mantine-color-dimmed);font-size:var(--input-description-size, calc(var(--mantine-font-size-sm) - calc(.125em * var(--mantine-scale))))}.m_8bffd616{display:flex}.m_96b553a6{--transition-duration: .15s;top:0;left:0;position:absolute;z-index:0;transition-property:transform,width,height;transition-timing-function:ease;transition-duration:0ms}.m_96b553a6:where([data-initialized]){transition-duration:var(--transition-duration)}.m_96b553a6:where([data-hidden]){background-color:red;display:none}.m_9bdbb667{--accordion-radius: var(--mantine-radius-default)}.m_df78851f{word-break:break-word}.m_4ba554d4{padding:var(--mantine-spacing-md);padding-top:calc(var(--mantine-spacing-xs) / 2)}.m_8fa820a0{margin:0;padding:0}.m_4ba585b8{width:100%;display:flex;align-items:center;flex-direction:row-reverse;padding-inline:var(--mantine-spacing-md);opacity:1;cursor:pointer;background-color:transparent}.m_4ba585b8:where([data-chevron-position=left]){flex-direction:row;padding-inline-start:0}:where([data-mantine-color-scheme=light]) .m_4ba585b8{color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_4ba585b8{color:var(--mantine-color-dark-0)}.m_4ba585b8:where(:disabled,[data-disabled]){opacity:.4;cursor:not-allowed}@media (hover: hover){:where([data-mantine-color-scheme=light]) .m_6939a5e9:where(:not(:disabled,[data-disabled])):hover,:where([data-mantine-color-scheme=light]) .m_4271d21b:where(:not(:disabled,[data-disabled])):hover{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_6939a5e9:where(:not(:disabled,[data-disabled])):hover,:where([data-mantine-color-scheme=dark]) .m_4271d21b:where(:not(:disabled,[data-disabled])):hover{background-color:var(--mantine-color-dark-6)}}@media (hover: none){:where([data-mantine-color-scheme=light]) .m_6939a5e9:where(:not(:disabled,[data-disabled])):active,:where([data-mantine-color-scheme=light]) .m_4271d21b:where(:not(:disabled,[data-disabled])):active{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_6939a5e9:where(:not(:disabled,[data-disabled])):active,:where([data-mantine-color-scheme=dark]) .m_4271d21b:where(:not(:disabled,[data-disabled])):active{background-color:var(--mantine-color-dark-6)}}.m_df3ffa0f{color:inherit;font-weight:400;flex:1;overflow:hidden;text-overflow:ellipsis;padding-top:var(--mantine-spacing-sm);padding-bottom:var(--mantine-spacing-sm)}.m_3f35ae96{display:flex;align-items:center;justify-content:flex-start;transition:transform var(--accordion-transition-duration, .2s) ease;width:var(--accordion-chevron-size, calc(.9375em * var(--mantine-scale)));min-width:var(--accordion-chevron-size, calc(.9375em * var(--mantine-scale)));transform:rotate(0)}.m_3f35ae96:where([data-rotate]){transform:rotate(180deg)}.m_3f35ae96:where([data-position=left]){margin-inline-end:var(--mantine-spacing-md);margin-inline-start:var(--mantine-spacing-md)}.m_9bd771fe{display:flex;align-items:center;justify-content:center;margin-inline-end:var(--mantine-spacing-sm)}.m_9bd771fe:where([data-chevron-position=left]){margin-inline-end:0;margin-inline-start:var(--mantine-spacing-lg)}:where([data-mantine-color-scheme=light]) .m_9bd7b098{--item-border-color: var(--mantine-color-gray-3);--item-filled-color: var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_9bd7b098{--item-border-color: var(--mantine-color-dark-4);--item-filled-color: var(--mantine-color-dark-6)}.m_fe19b709{border-bottom:1px solid var(--item-border-color)}.m_1f921b3b{border:1px solid var(--item-border-color);transition:background-color .15s ease}.m_1f921b3b:where([data-active]){background-color:var(--item-filled-color)}.m_1f921b3b:first-of-type{border-start-start-radius:var(--accordion-radius);border-start-end-radius:var(--accordion-radius)}.m_1f921b3b:first-of-type>[data-accordion-control]{border-start-start-radius:var(--accordion-radius);border-start-end-radius:var(--accordion-radius)}.m_1f921b3b:last-of-type{border-end-start-radius:var(--accordion-radius);border-end-end-radius:var(--accordion-radius)}.m_1f921b3b:last-of-type>[data-accordion-control]{border-end-start-radius:var(--accordion-radius);border-end-end-radius:var(--accordion-radius)}.m_1f921b3b+.m_1f921b3b{border-top:0}.m_2cdf939a{border-radius:var(--accordion-radius)}.m_2cdf939a:where([data-active]){background-color:var(--item-filled-color)}.m_9f59b069{background-color:var(--item-filled-color);border-radius:var(--accordion-radius);border:calc(.0625em * var(--mantine-scale)) solid transparent;transition:background-color .15s ease}.m_9f59b069[data-active]{border-color:var(--item-border-color)}:where([data-mantine-color-scheme=light]) .m_9f59b069[data-active]{background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=dark]) .m_9f59b069[data-active]{background-color:var(--mantine-color-dark-7)}.m_9f59b069+.m_9f59b069{margin-top:var(--mantine-spacing-md)}.m_7f854edf{position:fixed;z-index:var(--affix-z-index);inset-inline-start:var(--affix-left);inset-inline-end:var(--affix-right);top:var(--affix-top);bottom:var(--affix-bottom)}.m_66836ed3{--alert-radius: var(--mantine-radius-default);--alert-bg: var(--mantine-primary-color-light);--alert-bd: calc(.0625em * var(--mantine-scale)) solid transparent;--alert-color: var(--mantine-primary-color-light-color);padding:var(--mantine-spacing-md) var(--mantine-spacing-md);border-radius:var(--alert-radius);position:relative;overflow:hidden;background-color:var(--alert-bg);border:var(--alert-bd);color:var(--alert-color)}.m_a5d60502{display:flex}.m_667c2793{flex:1;display:flex;flex-direction:column;gap:var(--mantine-spacing-xs)}.m_6a03f287{display:flex;align-items:center;justify-content:space-between;font-size:var(--mantine-font-size-sm);font-weight:700}.m_6a03f287:where([data-with-close-button]){padding-inline-end:var(--mantine-spacing-md)}.m_698f4f23{display:block;overflow:hidden;text-overflow:ellipsis}.m_667f2a6a{line-height:1;width:calc(1.25em * var(--mantine-scale));height:calc(1.25em * var(--mantine-scale));display:flex;align-items:center;justify-content:flex-start;margin-inline-end:var(--mantine-spacing-md);margin-top:calc(.0625em * var(--mantine-scale))}.m_7fa78076{text-overflow:ellipsis;overflow:hidden;font-size:var(--mantine-font-size-sm)}:where([data-mantine-color-scheme=light]) .m_7fa78076{color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_7fa78076{color:var(--mantine-color-white)}.m_7fa78076:where([data-variant=filled]){color:var(--alert-color)}.m_7fa78076:where([data-variant=white]){color:var(--mantine-color-black)}.m_87f54839{width:calc(1.25em * var(--mantine-scale));height:calc(1.25em * var(--mantine-scale));color:var(--alert-color)}.m_b6d8b162{-webkit-tap-highlight-color:transparent;text-decoration:none;font-size:var(--text-fz, var(--mantine-font-size-md));line-height:var(--text-lh, var(--mantine-line-height-md));font-weight:400;margin:0;padding:0;color:var(--text-color)}.m_b6d8b162:where([data-truncate]){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.m_b6d8b162:where([data-truncate=start]){direction:rtl;text-align:right}:where([dir=rtl]) .m_b6d8b162:where([data-truncate=start]){direction:ltr;text-align:left}.m_b6d8b162:where([data-variant=gradient]){background-image:var(--text-gradient);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}.m_b6d8b162:where([data-line-clamp]){overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:var(--text-line-clamp);-webkit-box-orient:vertical}.m_b6d8b162:where([data-inherit]){line-height:inherit;font-weight:inherit;font-size:inherit}.m_b6d8b162:where([data-inline]){line-height:1}.m_849cf0da{color:var(--mantine-color-anchor);text-decoration:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;display:inline;padding:0;margin:0;background-color:transparent;cursor:pointer}@media (hover: hover){.m_849cf0da:where([data-underline=hover]):hover{text-decoration:underline}}@media (hover: none){.m_849cf0da:where([data-underline=hover]):active{text-decoration:underline}}.m_849cf0da:where([data-underline=not-hover]){text-decoration:underline}@media (hover: hover){.m_849cf0da:where([data-underline=not-hover]):hover{text-decoration:none}}@media (hover: none){.m_849cf0da:where([data-underline=not-hover]):active{text-decoration:none}}.m_849cf0da:where([data-underline=always]){text-decoration:underline}.m_849cf0da:where([data-variant=gradient]),.m_849cf0da:where([data-variant=gradient]):hover{text-decoration:none}.m_849cf0da:where([data-line-clamp]){display:-webkit-box}.m_48204f9b{width:var(--slider-size);height:var(--slider-size);position:relative;border-radius:100%;display:flex;align-items:center;justify-content:center;-webkit-user-select:none;-moz-user-select:none;user-select:none}.m_48204f9b:focus-within{outline:2px solid var(--mantine-primary-color-filled);outline-offset:calc(.125em * var(--mantine-scale))}.m_48204f9b{--slider-size: calc(3.75em * var(--mantine-scale));--thumb-size: calc(var(--slider-size) / 5)}:where([data-mantine-color-scheme=light]) .m_48204f9b{background-color:var(--mantine-color-gray-1)}:where([data-mantine-color-scheme=dark]) .m_48204f9b{background-color:var(--mantine-color-dark-5)}.m_bb9cdbad{position:absolute;inset:calc(.0625em * var(--mantine-scale));border-radius:var(--slider-size);pointer-events:none}.m_481dd586{width:calc(.125em * var(--mantine-scale));position:absolute;top:0;bottom:0;left:calc(50% - 1px);transform:rotate(var(--angle))}.m_481dd586:before{content:"";position:absolute;top:calc(var(--thumb-size) / 3);left:calc(.03125em * var(--mantine-scale));width:calc(.0625em * var(--mantine-scale));height:calc(var(--thumb-size) / 1.5);transform:translate(-50%,-50%)}:where([data-mantine-color-scheme=light]) .m_481dd586:before{background-color:var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) .m_481dd586:before{background-color:var(--mantine-color-dark-3)}.m_481dd586[data-label]:after{min-width:calc(1.125em * var(--mantine-scale));text-align:center;content:attr(data-label);position:absolute;top:calc(-1.5em * var(--mantine-scale));left:calc(-.4375em * var(--mantine-scale));transform:rotate(calc(360deg - var(--angle)));font-size:var(--mantine-font-size-xs)}.m_bc02ba3d{position:absolute;top:0;right:0;bottom:0;left:calc(50% - 1.5px);height:100%;width:calc(.1875em * var(--mantine-scale));outline:none;pointer-events:none}.m_bc02ba3d:before{content:"";position:absolute;right:0;top:0;height:min(var(--thumb-size),calc(var(--slider-size) / 2));width:calc(.1875em * var(--mantine-scale))}:where([data-mantine-color-scheme=light]) .m_bc02ba3d:before{background-color:var(--mantine-color-gray-7)}:where([data-mantine-color-scheme=dark]) .m_bc02ba3d:before{background-color:var(--mantine-color-dark-1)}.m_bb8e875b{font-size:var(--mantine-font-size-xs)}.m_89ab340[data-resizing]{--app-shell-transition-duration: 0ms !important}.m_89ab340[data-disabled]{--app-shell-header-offset: 0em !important;--app-shell-navbar-offset: 0em !important;--app-shell-aside-offset: 0em !important;--app-shell-footer-offset: 0em !important}[data-mantine-color-scheme=light] .m_89ab340{--app-shell-border-color: var(--mantine-color-gray-3)}[data-mantine-color-scheme=dark] .m_89ab340{--app-shell-border-color: var(--mantine-color-dark-4)}.m_45252eee,.m_9cdde9a,.m_3b16f56b,.m_8983817,.m_3840c879{transition-duration:var(--app-shell-transition-duration);transition-timing-function:var(--app-shell-transition-timing-function)}.m_45252eee,.m_9cdde9a{position:fixed;display:flex;flex-direction:column;top:var(--app-shell-header-offset, 0em);height:calc(100dvh - var(--app-shell-header-offset, 0em) - var(--app-shell-footer-offset, 0em));background-color:var(--mantine-color-body);transition-property:transform,top,height}:where([data-layout=alt]) .m_45252eee,:where([data-layout=alt]) .m_9cdde9a{top:0;height:100dvh}.m_45252eee{inset-inline-start:0;width:var(--app-shell-navbar-width);transition-property:transform,top,height;transform:var(--app-shell-navbar-transform);z-index:var(--app-shell-navbar-z-index)}:where([dir=rtl]) .m_45252eee{transform:var(--app-shell-navbar-transform-rtl)}.m_45252eee:where([data-with-border]){border-inline-end:1px solid var(--app-shell-border-color)}.m_9cdde9a{inset-inline-end:0;width:var(--app-shell-aside-width);transform:var(--app-shell-aside-transform);z-index:var(--app-shell-aside-z-index)}:where([dir=rtl]) .m_9cdde9a{transform:var(--app-shell-aside-transform-rtl)}.m_9cdde9a:where([data-with-border]){border-inline-start:1px solid var(--app-shell-border-color)}.m_8983817{padding-inline-start:calc(var(--app-shell-navbar-offset, 0em) + var(--app-shell-padding));padding-inline-end:calc(var(--app-shell-aside-offset, 0em) + var(--app-shell-padding));padding-top:calc(var(--app-shell-header-offset, 0em) + var(--app-shell-padding));padding-bottom:calc(var(--app-shell-footer-offset, 0em) + var(--app-shell-padding));min-height:100dvh;transition-property:padding}.m_3b16f56b,.m_3840c879{position:fixed;inset-inline:0;transition-property:transform,left,right;background-color:var(--mantine-color-body)}:where([data-layout=alt]) .m_3b16f56b,:where([data-layout=alt]) .m_3840c879{inset-inline-start:var(--app-shell-navbar-offset, 0em);inset-inline-end:var(--app-shell-aside-offset, 0em)}.m_3b16f56b{top:0;height:var(--app-shell-header-height);background-color:var(--mantine-color-body);transform:var(--app-shell-header-transform);z-index:var(--app-shell-header-z-index)}.m_3b16f56b:where([data-with-border]){border-bottom:1px solid var(--app-shell-border-color)}.m_3840c879{bottom:0;height:calc(var(--app-shell-footer-height) + env(safe-area-inset-bottom));padding-bottom:env(safe-area-inset-bottom);transform:var(--app-shell-footer-transform);z-index:var(--app-shell-footer-z-index)}.m_3840c879:where([data-with-border]){border-top:1px solid var(--app-shell-border-color)}.m_6dcfc7c7{flex-grow:0}.m_6dcfc7c7:where([data-grow]){flex-grow:1}.m_71ac47fc{--ar-ratio: 1;max-width:100%}.m_71ac47fc>:where(*:not(style)){aspect-ratio:var(--ar-ratio);width:100%}.m_71ac47fc>:where(img,video){-o-object-fit:cover;object-fit:cover}.m_88b62a41{--combobox-padding: calc(.25em * var(--mantine-scale));padding:var(--combobox-padding)}.m_88b62a41:has([data-mantine-scrollbar]) .m_985517d8{max-width:calc(100% + var(--combobox-padding))}.m_88b62a41[data-composed]{padding-inline-end:0}.m_88b62a41[data-hidden]{display:none}.m_88b62a41,.m_b2821a6e{--combobox-option-padding-xs: calc(.25em * var(--mantine-scale)) calc(.5em * var(--mantine-scale));--combobox-option-padding-sm: calc(.375em * var(--mantine-scale)) calc(.625em * var(--mantine-scale));--combobox-option-padding-md: calc(.5em * var(--mantine-scale)) calc(.75em * var(--mantine-scale));--combobox-option-padding-lg: calc(.625em * var(--mantine-scale)) calc(1em * var(--mantine-scale));--combobox-option-padding-xl: calc(.875em * var(--mantine-scale)) calc(1.25em * var(--mantine-scale));--combobox-option-padding: var(--combobox-option-padding-sm)}.m_92253aa5{padding:var(--combobox-option-padding);font-size:var(--combobox-option-fz, var(--mantine-font-size-sm));border-radius:var(--mantine-radius-default);background-color:transparent;color:inherit;cursor:pointer;word-break:break-word}.m_92253aa5:where([data-combobox-selected]){background-color:var(--mantine-primary-color-filled);color:var(--mantine-color-white)}.m_92253aa5:where([data-combobox-disabled]){cursor:not-allowed;opacity:.35}@media (hover: hover){:where([data-mantine-color-scheme=light]) .m_92253aa5:hover:where(:not([data-combobox-selected],[data-combobox-disabled])){background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_92253aa5:hover:where(:not([data-combobox-selected],[data-combobox-disabled])){background-color:var(--mantine-color-dark-7)}}@media (hover: none){:where([data-mantine-color-scheme=light]) .m_92253aa5:active:where(:not([data-combobox-selected],[data-combobox-disabled])){background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_92253aa5:active:where(:not([data-combobox-selected],[data-combobox-disabled])){background-color:var(--mantine-color-dark-7)}}.m_985517d8{margin-inline:calc(var(--combobox-padding) * -1);margin-top:calc(var(--combobox-padding) * -1);width:calc(100% + var(--combobox-padding) * 2);border-top-width:0;border-inline-width:0;border-end-start-radius:0;border-end-end-radius:0;margin-bottom:var(--combobox-padding);position:relative}:where([data-mantine-color-scheme=light]) .m_985517d8,:where([data-mantine-color-scheme=light]) .m_985517d8:focus{border-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_985517d8,:where([data-mantine-color-scheme=dark]) .m_985517d8:focus{border-color:var(--mantine-color-dark-4)}:where([data-mantine-color-scheme=light]) .m_985517d8{background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=dark]) .m_985517d8{background-color:var(--mantine-color-dark-7)}.m_2530cd1d{font-size:var(--combobox-option-fz, var(--mantine-font-size-sm));text-align:center;padding:var(--combobox-option-padding);color:var(--mantine-color-dimmed)}.m_858f94bd,.m_82b967cb{font-size:var(--combobox-option-fz, var(--mantine-font-size-sm));border:0 solid transparent;margin-inline:calc(var(--combobox-padding) * -1);padding:var(--combobox-option-padding)}:where([data-mantine-color-scheme=light]) .m_858f94bd,:where([data-mantine-color-scheme=light]) .m_82b967cb{border-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_858f94bd,:where([data-mantine-color-scheme=dark]) .m_82b967cb{border-color:var(--mantine-color-dark-4)}.m_82b967cb{border-top-width:calc(.0625em * var(--mantine-scale));margin-top:var(--combobox-padding);margin-bottom:calc(var(--combobox-padding) * -1)}.m_858f94bd{border-bottom-width:calc(.0625em * var(--mantine-scale));margin-bottom:var(--combobox-padding);margin-top:calc(var(--combobox-padding) * -1)}.m_254f3e4f:has(.m_2bb2e9e5:only-child){display:none}.m_2bb2e9e5{color:var(--mantine-color-dimmed);font-size:calc(var(--combobox-option-fz, var(--mantine-font-size-sm)) * .85);padding:var(--combobox-option-padding);font-weight:500;position:relative;display:flex;align-items:center}.m_2bb2e9e5:after{content:"";flex:1;inset-inline:0;height:calc(.0625em * var(--mantine-scale));margin-inline-start:var(--mantine-spacing-xs)}:where([data-mantine-color-scheme=light]) .m_2bb2e9e5:after{background-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_2bb2e9e5:after{background-color:var(--mantine-color-dark-4)}.m_2bb2e9e5:only-child{display:none}.m_2943220b{--combobox-chevron-size-xs: calc(.875em * var(--mantine-scale));--combobox-chevron-size-sm: calc(1.125em * var(--mantine-scale));--combobox-chevron-size-md: calc(1.25em * var(--mantine-scale));--combobox-chevron-size-lg: calc(1.5em * var(--mantine-scale));--combobox-chevron-size-xl: calc(1.75em * var(--mantine-scale));--combobox-chevron-size: var(--combobox-chevron-size-sm)}:where([data-mantine-color-scheme=light]) .m_2943220b{--_combobox-chevron-color: var(--combobox-chevron-color, var(--mantine-color-gray-6))}:where([data-mantine-color-scheme=dark]) .m_2943220b{--_combobox-chevron-color: var(--combobox-chevron-color, var(--mantine-color-dark-3))}.m_2943220b{width:var(--combobox-chevron-size);height:var(--combobox-chevron-size);color:var(--_combobox-chevron-color)}.m_2943220b:where([data-error]){color:var(--combobox-chevron-color, var(--mantine-color-error))}.m_390b5f4{display:flex;align-items:center;gap:calc(.5em * var(--mantine-scale))}.m_390b5f4:where([data-reverse]){justify-content:space-between}.m_8ee53fc2{opacity:.4;width:.8em;min-width:.8em;height:.8em}:where([data-combobox-selected]) .m_8ee53fc2{opacity:1}.m_5f75b09e{--label-lh-xs: calc(1em * var(--mantine-scale));--label-lh-sm: calc(1.25em * var(--mantine-scale));--label-lh-md: calc(1.5em * var(--mantine-scale));--label-lh-lg: calc(1.875em * var(--mantine-scale));--label-lh-xl: calc(2.25em * var(--mantine-scale));--label-lh: var(--label-lh-sm)}.m_5f75b09e[data-label-position=left]{--label-order: 1;--label-offset-end: var(--mantine-spacing-sm);--label-offset-start: 0}.m_5f75b09e[data-label-position=right]{--label-order: 2;--label-offset-end: 0;--label-offset-start: var(--mantine-spacing-sm)}.m_5f6e695e{display:flex}.m_d3ea56bb{--label-cursor: var(--mantine-cursor-type);-webkit-tap-highlight-color:transparent;display:inline-flex;flex-direction:column;font-size:var(--label-fz, var(--mantine-font-size-sm));line-height:var(--label-lh);cursor:var(--label-cursor);order:var(--label-order)}fieldset:disabled .m_d3ea56bb,.m_d3ea56bb[data-disabled]{--label-cursor: not-allowed}.m_8ee546b8{cursor:var(--label-cursor);color:inherit;padding-inline-start:var(--label-offset-start);padding-inline-end:var(--label-offset-end)}:where([data-mantine-color-scheme=light]) fieldset:disabled .m_8ee546b8,:where([data-mantine-color-scheme=light]) .m_8ee546b8:where([data-disabled]){color:var(--mantine-color-gray-5)}:where([data-mantine-color-scheme=dark]) fieldset:disabled .m_8ee546b8,:where([data-mantine-color-scheme=dark]) .m_8ee546b8:where([data-disabled]){color:var(--mantine-color-dark-3)}.m_328f68c0,.m_8e8a99cc{margin-top:calc(var(--mantine-spacing-xs) / 2);padding-inline-start:var(--label-offset-start);padding-inline-end:var(--label-offset-end)}.m_26775b0a{--card-radius: var(--mantine-radius-default);display:block;width:100%;border-radius:var(--card-radius);cursor:pointer}.m_26775b0a :where(*){cursor:inherit}.m_26775b0a:where([data-with-border]){border:calc(.0625em * var(--mantine-scale)) solid transparent}:where([data-mantine-color-scheme=light]) .m_26775b0a:where([data-with-border]){border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_26775b0a:where([data-with-border]){border-color:var(--mantine-color-dark-4)}.m_5e5256ee{--checkbox-size-xs: calc(1em * var(--mantine-scale));--checkbox-size-sm: calc(1.25em * var(--mantine-scale));--checkbox-size-md: calc(1.5em * var(--mantine-scale));--checkbox-size-lg: calc(1.875em * var(--mantine-scale));--checkbox-size-xl: calc(2.25em * var(--mantine-scale));--checkbox-size: var(--checkbox-size-sm);--checkbox-color: var(--mantine-primary-color-filled);--checkbox-icon-color: var(--mantine-color-white);position:relative;border:calc(.0625em * var(--mantine-scale)) solid transparent;width:var(--checkbox-size);min-width:var(--checkbox-size);height:var(--checkbox-size);min-height:var(--checkbox-size);border-radius:var(--checkbox-radius, var(--mantine-radius-default));transition:border-color .1s ease,background-color .1s ease;cursor:var(--mantine-cursor-type);-webkit-tap-highlight-color:transparent;display:flex;align-items:center;justify-content:center}:where([data-mantine-color-scheme=light]) .m_5e5256ee{background-color:var(--mantine-color-white);border-color:var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) .m_5e5256ee{background-color:var(--mantine-color-dark-6);border-color:var(--mantine-color-dark-4)}.m_5e5256ee[data-indeterminate],.m_5e5256ee[data-checked]{background-color:var(--checkbox-color);border-color:var(--checkbox-color)}.m_5e5256ee[data-indeterminate]>.m_1b1c543a,.m_5e5256ee[data-checked]>.m_1b1c543a{opacity:1;transform:none;color:var(--checkbox-icon-color)}.m_5e5256ee[data-disabled]{cursor:not-allowed}:where([data-mantine-color-scheme=light]) .m_5e5256ee[data-disabled]{background-color:var(--mantine-color-gray-2);border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_5e5256ee[data-disabled]{background-color:var(--mantine-color-dark-6);border-color:var(--mantine-color-dark-6)}[data-mantine-color-scheme=light] .m_5e5256ee[data-disabled][data-checked]>.m_1b1c543a{color:var(--mantine-color-gray-5)}[data-mantine-color-scheme=dark] .m_5e5256ee[data-disabled][data-checked]>.m_1b1c543a{color:var(--mantine-color-dark-3)}.m_76e20374[data-indeterminate]:not([data-disabled]),.m_76e20374[data-checked]:not([data-disabled]){background-color:transparent;border-color:var(--checkbox-color)}.m_76e20374[data-indeterminate]:not([data-disabled])>.m_1b1c543a,.m_76e20374[data-checked]:not([data-disabled])>.m_1b1c543a{color:var(--checkbox-color);opacity:1;transform:none}.m_1b1c543a{display:block;width:60%;color:transparent;pointer-events:none;transform:translateY(calc(.3125em * var(--mantine-scale))) scale(.5);opacity:1;transition:transform .1s ease,opacity .1s ease}.m_bf2d988c{--checkbox-size-xs: calc(1em * var(--mantine-scale));--checkbox-size-sm: calc(1.25em * var(--mantine-scale));--checkbox-size-md: calc(1.5em * var(--mantine-scale));--checkbox-size-lg: calc(1.875em * var(--mantine-scale));--checkbox-size-xl: calc(2.25em * var(--mantine-scale));--checkbox-size: var(--checkbox-size-sm);--checkbox-color: var(--mantine-primary-color-filled);--checkbox-icon-color: var(--mantine-color-white)}.m_26062bec{position:relative;width:var(--checkbox-size);height:var(--checkbox-size);order:1}.m_26062bec:where([data-label-position=left]){order:2}.m_26063560{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:calc(.0625em * var(--mantine-scale)) solid transparent;width:var(--checkbox-size);height:var(--checkbox-size);border-radius:var(--checkbox-radius, var(--mantine-radius-default));padding:0;display:block;margin:0;transition:border-color .1s ease,background-color .1s ease;cursor:var(--mantine-cursor-type);-webkit-tap-highlight-color:transparent}:where([data-mantine-color-scheme=light]) .m_26063560{background-color:var(--mantine-color-white);border-color:var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) .m_26063560{background-color:var(--mantine-color-dark-6);border-color:var(--mantine-color-dark-4)}.m_26063560:where([data-error]){border-color:var(--mantine-color-error)}.m_26063560[data-indeterminate],.m_26063560:checked{background-color:var(--checkbox-color);border-color:var(--checkbox-color)}.m_26063560[data-indeterminate]+.m_bf295423,.m_26063560:checked+.m_bf295423{opacity:1;transform:none}.m_26063560:disabled{cursor:not-allowed}:where([data-mantine-color-scheme=light]) .m_26063560:disabled{background-color:var(--mantine-color-gray-2);border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_26063560:disabled{background-color:var(--mantine-color-dark-6);border-color:var(--mantine-color-dark-6)}[data-mantine-color-scheme=light] .m_26063560:disabled+.m_bf295423{color:var(--mantine-color-gray-5)}[data-mantine-color-scheme=dark] .m_26063560:disabled+.m_bf295423{color:var(--mantine-color-dark-3)}.m_215c4542+.m_bf295423{color:var(--checkbox-color)}.m_215c4542[data-indeterminate]:not(:disabled),.m_215c4542:checked:not(:disabled){background-color:transparent;border-color:var(--checkbox-color)}.m_215c4542[data-indeterminate]:not(:disabled)+.m_bf295423,.m_215c4542:checked:not(:disabled)+.m_bf295423{color:var(--checkbox-color);opacity:1;transform:none}.m_bf295423{position:absolute;inset:0;width:60%;margin:auto;color:var(--checkbox-icon-color);pointer-events:none;transform:translateY(calc(.3125em * var(--mantine-scale))) scale(.5);opacity:0;transition:transform .1s ease,opacity .1s ease}.m_11def92b{--ag-spacing: var(--mantine-spacing-sm);--ag-offset: calc(var(--ag-spacing) * -1);display:flex;padding-inline-start:var(--ag-spacing)}.m_f85678b6{--avatar-size-xs: calc(1em * var(--mantine-scale));--avatar-size-sm: calc(1.625em * var(--mantine-scale));--avatar-size-md: calc(2.375em * var(--mantine-scale));--avatar-size-lg: calc(3.5em * var(--mantine-scale));--avatar-size-xl: calc(5.25em * var(--mantine-scale));--avatar-size: var(--avatar-size-md);--avatar-radius: calc(62.5em * var(--mantine-scale));--avatar-bg: var(--mantine-color-gray-light);--avatar-bd: calc(.0625em * var(--mantine-scale)) solid transparent;--avatar-color: var(--mantine-color-gray-light-color);--avatar-placeholder-fz: calc(var(--avatar-size) / 2.5);-webkit-tap-highlight-color:transparent;position:relative;display:block;-webkit-user-select:none;-moz-user-select:none;user-select:none;overflow:hidden;border-radius:var(--avatar-radius);text-decoration:none;padding:0;width:var(--avatar-size);height:var(--avatar-size);min-width:var(--avatar-size)}.m_f85678b6:where([data-within-group]){margin-inline-start:var(--ag-offset);border:2px solid var(--mantine-color-body);background:var(--mantine-color-body)}.m_11f8ac07{-o-object-fit:cover;object-fit:cover;width:100%;height:100%;display:block}.m_104cd71f{font-weight:700;display:flex;align-items:center;justify-content:center;width:100%;height:100%;-webkit-user-select:none;-moz-user-select:none;user-select:none;border-radius:var(--avatar-radius);font-size:var(--avatar-placeholder-fz);background:var(--avatar-bg);border:var(--avatar-bd);color:var(--avatar-color)}.m_104cd71f>[data-avatar-placeholder-icon]{width:70%;height:70%}.m_2ce0de02{background-size:cover;background-position:center;display:block;width:100%;border:0;text-decoration:none;border-radius:var(--bi-radius, 0)}.m_347db0ec{--badge-height-xs: calc(1em * var(--mantine-scale));--badge-height-sm: calc(1.125em * var(--mantine-scale));--badge-height-md: calc(1.25em * var(--mantine-scale));--badge-height-lg: calc(1.625em * var(--mantine-scale));--badge-height-xl: calc(2em * var(--mantine-scale));--badge-fz-xs: calc(.5625em * var(--mantine-scale));--badge-fz-sm: calc(.625em * var(--mantine-scale));--badge-fz-md: calc(.6875em * var(--mantine-scale));--badge-fz-lg: calc(.8125em * var(--mantine-scale));--badge-fz-xl: calc(1em * var(--mantine-scale));--badge-padding-x-xs: calc(.375em * var(--mantine-scale));--badge-padding-x-sm: calc(.5em * var(--mantine-scale));--badge-padding-x-md: calc(.625em * var(--mantine-scale));--badge-padding-x-lg: calc(.75em * var(--mantine-scale));--badge-padding-x-xl: calc(1em * var(--mantine-scale));--badge-height: var(--badge-height-md);--badge-fz: var(--badge-fz-md);--badge-padding-x: var(--badge-padding-x-md);--badge-radius: calc(62.5em * var(--mantine-scale));--badge-lh: calc(var(--badge-height) - calc(.125em * var(--mantine-scale)));--badge-color: var(--mantine-color-white);--badge-bg: var(--mantine-primary-color-filled);--badge-border-width: calc(.0625em * var(--mantine-scale));--badge-bd: var(--badge-border-width) solid transparent;-webkit-tap-highlight-color:transparent;font-size:var(--badge-fz);border-radius:var(--badge-radius);height:var(--badge-height);line-height:var(--badge-lh);text-decoration:none;padding:0 var(--badge-padding-x);display:inline-grid;align-items:center;justify-content:center;width:-moz-fit-content;width:fit-content;text-transform:uppercase;font-weight:700;letter-spacing:calc(.015625em * var(--mantine-scale));cursor:default;text-overflow:ellipsis;overflow:hidden;color:var(--badge-color);background:var(--badge-bg);border:var(--badge-bd)}.m_347db0ec:where([data-with-left-section],[data-variant=dot]){grid-template-columns:auto 1fr}.m_347db0ec:where([data-with-right-section]){grid-template-columns:1fr auto}.m_347db0ec:where([data-with-left-section][data-with-right-section],[data-variant=dot][data-with-right-section]){grid-template-columns:auto 1fr auto}.m_347db0ec:where([data-block]){display:flex;width:100%}.m_347db0ec:where([data-circle]){padding-inline:calc(.125em * var(--mantine-scale));display:flex;width:var(--badge-height)}.m_fbd81e3d{--badge-dot-size: calc(var(--badge-height) / 3.4)}:where([data-mantine-color-scheme=light]) .m_fbd81e3d{background-color:var(--mantine-color-white);border-color:var(--mantine-color-gray-4);color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_fbd81e3d{background-color:var(--mantine-color-dark-5);border-color:var(--mantine-color-dark-5);color:var(--mantine-color-white)}.m_fbd81e3d:before{content:"";display:block;width:var(--badge-dot-size);height:var(--badge-dot-size);border-radius:var(--badge-dot-size);background-color:var(--badge-dot-color);margin-inline-end:var(--badge-dot-size)}.m_5add502a{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center;cursor:inherit}.m_91fdda9b{--badge-section-margin: calc(var(--mantine-spacing-xs) / 2);display:inline-flex;justify-content:center;align-items:center;max-height:calc(var(--badge-height) - var(--badge-border-width) * 2)}.m_91fdda9b:where([data-position=left]){margin-inline-end:var(--badge-section-margin)}.m_91fdda9b:where([data-position=right]){margin-inline-start:var(--badge-section-margin)}.m_ddec01c0{--blockquote-border: 3px solid var(--bq-bd);position:relative;margin:0;border-inline-start:var(--blockquote-border);border-start-end-radius:var(--bq-radius);border-end-end-radius:var(--bq-radius);padding:var(--mantine-spacing-xl) calc(2.375em * var(--mantine-scale))}:where([data-mantine-color-scheme=light]) .m_ddec01c0{background-color:var(--bq-bg-light)}:where([data-mantine-color-scheme=dark]) .m_ddec01c0{background-color:var(--bq-bg-dark)}.m_dde7bd57{--blockquote-icon-offset: calc(var(--bq-icon-size) / -2);position:absolute;color:var(--bq-bd);background-color:var(--mantine-color-body);display:flex;align-items:center;justify-content:center;top:var(--blockquote-icon-offset);inset-inline-start:var(--blockquote-icon-offset);width:var(--bq-icon-size);height:var(--bq-icon-size);border-radius:var(--bq-icon-size)}.m_dde51a35{display:block;margin-top:var(--mantine-spacing-md);opacity:.6;font-size:85%}.m_8b3717df{display:flex;align-items:center;flex-wrap:wrap}.m_f678d540{line-height:1;white-space:nowrap;-webkit-tap-highlight-color:transparent}.m_3b8f2208{margin-inline:var(--bc-separator-margin, var(--mantine-spacing-xs));line-height:1;display:flex;align-items:center;justify-content:center}:where([data-mantine-color-scheme=light]) .m_3b8f2208{color:var(--mantine-color-gray-7)}:where([data-mantine-color-scheme=dark]) .m_3b8f2208{color:var(--mantine-color-dark-2)}.m_fea6bf1a{--burger-size-xs: calc(.75em * var(--mantine-scale));--burger-size-sm: calc(1.125em * var(--mantine-scale));--burger-size-md: calc(1.5em * var(--mantine-scale));--burger-size-lg: calc(2.125em * var(--mantine-scale));--burger-size-xl: calc(2.625em * var(--mantine-scale));--burger-size: var(--burger-size-md);--burger-line-size: calc(var(--burger-size) / 12);width:calc(var(--burger-size) + var(--mantine-spacing-xs));height:calc(var(--burger-size) + var(--mantine-spacing-xs));padding:calc(var(--mantine-spacing-xs) / 2);cursor:pointer}:where([data-mantine-color-scheme=light]) .m_fea6bf1a{--burger-color: var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_fea6bf1a{--burger-color: var(--mantine-color-white)}.m_d4fb9cad{position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none}.m_d4fb9cad,.m_d4fb9cad:before,.m_d4fb9cad:after{display:block;width:var(--burger-size);height:var(--burger-line-size);background-color:var(--burger-color);outline:calc(.0625em * var(--mantine-scale)) solid transparent;transition-property:background-color,transform;transition-duration:var(--burger-transition-duration, .3s);transition-timing-function:var(--burger-transition-timing-function, ease)}.m_d4fb9cad:before,.m_d4fb9cad:after{position:absolute;content:"";inset-inline-start:0}.m_d4fb9cad:before{top:calc(var(--burger-size) / -3)}.m_d4fb9cad:after{top:calc(var(--burger-size) / 3)}.m_d4fb9cad[data-opened]{background-color:transparent}.m_d4fb9cad[data-opened]:before{transform:translateY(calc(var(--burger-size) / 3)) rotate(45deg)}.m_d4fb9cad[data-opened]:after{transform:translateY(calc(var(--burger-size) / -3)) rotate(-45deg)}.m_77c9d27d{--button-height-xs: calc(1.875em * var(--mantine-scale));--button-height-sm: calc(2.25em * var(--mantine-scale));--button-height-md: calc(2.625em * var(--mantine-scale));--button-height-lg: calc(3.125em * var(--mantine-scale));--button-height-xl: calc(3.75em * var(--mantine-scale));--button-height-compact-xs: calc(1.375em * var(--mantine-scale));--button-height-compact-sm: calc(1.625em * var(--mantine-scale));--button-height-compact-md: calc(1.875em * var(--mantine-scale));--button-height-compact-lg: calc(2.125em * var(--mantine-scale));--button-height-compact-xl: calc(2.5em * var(--mantine-scale));--button-padding-x-xs: calc(.875em * var(--mantine-scale));--button-padding-x-sm: calc(1.125em * var(--mantine-scale));--button-padding-x-md: calc(1.375em * var(--mantine-scale));--button-padding-x-lg: calc(1.625em * var(--mantine-scale));--button-padding-x-xl: calc(2em * var(--mantine-scale));--button-padding-x-compact-xs: calc(.4375em * var(--mantine-scale));--button-padding-x-compact-sm: calc(.5em * var(--mantine-scale));--button-padding-x-compact-md: calc(.625em * var(--mantine-scale));--button-padding-x-compact-lg: calc(.75em * var(--mantine-scale));--button-padding-x-compact-xl: calc(.875em * var(--mantine-scale));--button-height: var(--button-height-sm);--button-padding-x: var(--button-padding-x-sm);--button-color: var(--mantine-color-white);-webkit-user-select:none;-moz-user-select:none;user-select:none;font-weight:600;position:relative;line-height:1;text-align:center;overflow:hidden;width:auto;cursor:pointer;display:inline-block;border-radius:var(--button-radius, var(--mantine-radius-default));font-size:var(--button-fz, var(--mantine-font-size-sm));background:var(--button-bg, var(--mantine-primary-color-filled));border:var(--button-bd, calc(.0625em * var(--mantine-scale)) solid transparent);color:var(--button-color, var(--mantine-color-white));height:var(--button-height, var(--button-height-sm));padding-inline:var(--button-padding-x, var(--button-padding-x-sm));vertical-align:middle}.m_77c9d27d:where([data-block]){display:block;width:100%}.m_77c9d27d:where([data-with-left-section]){padding-inline-start:calc(var(--button-padding-x) / 1.5)}.m_77c9d27d:where([data-with-right-section]){padding-inline-end:calc(var(--button-padding-x) / 1.5)}.m_77c9d27d:where(:disabled:not([data-loading]),[data-disabled]:not([data-loading])){cursor:not-allowed;border:calc(.0625em * var(--mantine-scale)) solid transparent;transform:none}:where([data-mantine-color-scheme=light]) .m_77c9d27d:where(:disabled:not([data-loading]),[data-disabled]:not([data-loading])){color:var(--mantine-color-gray-5);background:var(--mantine-color-gray-1)}:where([data-mantine-color-scheme=dark]) .m_77c9d27d:where(:disabled:not([data-loading]),[data-disabled]:not([data-loading])){color:var(--mantine-color-dark-3);background:var(--mantine-color-dark-6)}.m_77c9d27d:before{content:"";pointer-events:none;position:absolute;inset:calc(-.0625em * var(--mantine-scale));border-radius:var(--button-radius, var(--mantine-radius-default));transform:translateY(-100%);opacity:0;filter:blur(12px);transition:transform .15s ease,opacity .1s ease}:where([data-mantine-color-scheme=light]) .m_77c9d27d:before{background-color:#ffffff26}:where([data-mantine-color-scheme=dark]) .m_77c9d27d:before{background-color:#00000026}.m_77c9d27d:where([data-loading]){cursor:not-allowed;transform:none}.m_77c9d27d:where([data-loading]):before{transform:translateY(0);opacity:1}.m_77c9d27d:where([data-loading]) .m_80f1301b{opacity:0;transform:translateY(100%)}@media (hover: hover){.m_77c9d27d:hover:where(:not([data-loading],:disabled,[data-disabled])){background-color:var(--button-hover, var(--mantine-primary-color-filled-hover));color:var(--button-hover-color, var(--button-color))}}@media (hover: none){.m_77c9d27d:active:where(:not([data-loading],:disabled,[data-disabled])){background-color:var(--button-hover, var(--mantine-primary-color-filled-hover));color:var(--button-hover-color, var(--button-color))}}.m_80f1301b{display:flex;align-items:center;justify-content:var(--button-justify, center);height:100%;overflow:visible;transition:transform .15s ease,opacity .1s ease}.m_811560b9{white-space:nowrap;height:100%;overflow:hidden;display:flex;align-items:center;opacity:1}.m_811560b9:where([data-loading]){opacity:.2}.m_a74036a{display:flex;align-items:center}.m_a74036a:where([data-position=left]){margin-inline-end:var(--mantine-spacing-xs)}.m_a74036a:where([data-position=right]){margin-inline-start:var(--mantine-spacing-xs)}.m_a25b86ee{position:absolute;left:50%;top:50%}.m_80d6d844{--button-border-width: calc(.0625em * var(--mantine-scale));display:flex}.m_80d6d844 :where(.m_77c9d27d):focus{position:relative;z-index:1}.m_80d6d844[data-orientation=horizontal]{flex-direction:row}.m_80d6d844[data-orientation=horizontal] .m_77c9d27d:not(:only-child):first-child,.m_80d6d844[data-orientation=horizontal] .m_70be2a01:not(:only-child):first-child{border-end-end-radius:0;border-start-end-radius:0;border-inline-end-width:calc(var(--button-border-width) / 2)}.m_80d6d844[data-orientation=horizontal] .m_77c9d27d:not(:only-child):last-child,.m_80d6d844[data-orientation=horizontal] .m_70be2a01:not(:only-child):last-child{border-end-start-radius:0;border-start-start-radius:0;border-inline-start-width:calc(var(--button-border-width) / 2)}.m_80d6d844[data-orientation=horizontal] .m_77c9d27d:not(:only-child):not(:first-child):not(:last-child),.m_80d6d844[data-orientation=horizontal] .m_70be2a01:not(:only-child):not(:first-child):not(:last-child){border-radius:0;border-inline-width:calc(var(--button-border-width) / 2)}.m_80d6d844[data-orientation=vertical]{flex-direction:column}.m_80d6d844[data-orientation=vertical] .m_77c9d27d:not(:only-child):first-child,.m_80d6d844[data-orientation=vertical] .m_70be2a01:not(:only-child):first-child{border-end-start-radius:0;border-end-end-radius:0;border-bottom-width:calc(var(--button-border-width) / 2)}.m_80d6d844[data-orientation=vertical] .m_77c9d27d:not(:only-child):last-child,.m_80d6d844[data-orientation=vertical] .m_70be2a01:not(:only-child):last-child{border-start-start-radius:0;border-start-end-radius:0;border-top-width:calc(var(--button-border-width) / 2)}.m_80d6d844[data-orientation=vertical] .m_77c9d27d:not(:only-child):not(:first-child):not(:last-child),.m_80d6d844[data-orientation=vertical] .m_70be2a01:not(:only-child):not(:first-child):not(:last-child){border-radius:0;border-bottom-width:calc(var(--button-border-width) / 2);border-top-width:calc(var(--button-border-width) / 2)}.m_70be2a01{--section-height-xs: calc(1.875em * var(--mantine-scale));--section-height-sm: calc(2.25em * var(--mantine-scale));--section-height-md: calc(2.625em * var(--mantine-scale));--section-height-lg: calc(3.125em * var(--mantine-scale));--section-height-xl: calc(3.75em * var(--mantine-scale));--section-height-compact-xs: calc(1.375em * var(--mantine-scale));--section-height-compact-sm: calc(1.625em * var(--mantine-scale));--section-height-compact-md: calc(1.875em * var(--mantine-scale));--section-height-compact-lg: calc(2.125em * var(--mantine-scale));--section-height-compact-xl: calc(2.5em * var(--mantine-scale));--section-padding-x-xs: calc(.875em * var(--mantine-scale));--section-padding-x-sm: calc(1.125em * var(--mantine-scale));--section-padding-x-md: calc(1.375em * var(--mantine-scale));--section-padding-x-lg: calc(1.625em * var(--mantine-scale));--section-padding-x-xl: calc(2em * var(--mantine-scale));--section-padding-x-compact-xs: calc(.4375em * var(--mantine-scale));--section-padding-x-compact-sm: calc(.5em * var(--mantine-scale));--section-padding-x-compact-md: calc(.625em * var(--mantine-scale));--section-padding-x-compact-lg: calc(.75em * var(--mantine-scale));--section-padding-x-compact-xl: calc(.875em * var(--mantine-scale));--section-height: var(--section-height-sm);--section-padding-x: var(--section-padding-x-sm);--section-color: var(--mantine-color-white);font-weight:600;width:auto;border-radius:var(--section-radius, var(--mantine-radius-default));font-size:var(--section-fz, var(--mantine-font-size-sm));background:var(--section-bg, var(--mantine-primary-color-filled));border:var(--section-bd, calc(.0625em * var(--mantine-scale)) solid transparent);color:var(--section-color, var(--mantine-color-white));height:var(--section-height, var(--section-height-sm));padding-inline:var(--section-padding-x, var(--section-padding-x-sm));vertical-align:middle;line-height:1;display:inline-flex;align-items:center;justify-content:center}.m_e615b15f{--card-padding: var(--mantine-spacing-md);position:relative;overflow:hidden;display:flex;flex-direction:column;padding:var(--card-padding);color:var(--mantine-color-text)}:where([data-mantine-color-scheme=light]) .m_e615b15f{background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=dark]) .m_e615b15f{background-color:var(--mantine-color-dark-6)}.m_599a2148{display:block;margin-inline:calc(var(--card-padding) * -1)}.m_599a2148:where(:first-child){margin-top:calc(var(--card-padding) * -1);border-top:none!important}.m_599a2148:where(:last-child){margin-bottom:calc(var(--card-padding) * -1);border-bottom:none!important}.m_599a2148:where([data-inherit-padding]){padding-inline:var(--card-padding)}.m_599a2148:where([data-with-border]){border-top:calc(.0625em * var(--mantine-scale)) solid;border-bottom:calc(.0625em * var(--mantine-scale)) solid}:where([data-mantine-color-scheme=light]) .m_599a2148{border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_599a2148{border-color:var(--mantine-color-dark-4)}.m_599a2148+.m_599a2148{border-top:none!important}.m_4451eb3a{display:flex;align-items:center;justify-content:center}.m_4451eb3a:where([data-inline]){display:inline-flex}.m_f59ffda3{--chip-size-xs: calc(1.4375em * var(--mantine-scale));--chip-size-sm: calc(1.75em * var(--mantine-scale));--chip-size-md: calc(2em * var(--mantine-scale));--chip-size-lg: calc(2.25em * var(--mantine-scale));--chip-size-xl: calc(2.5em * var(--mantine-scale));--chip-icon-size-xs: calc(.625em * var(--mantine-scale));--chip-icon-size-sm: calc(.75em * var(--mantine-scale));--chip-icon-size-md: calc(.875em * var(--mantine-scale));--chip-icon-size-lg: calc(1em * var(--mantine-scale));--chip-icon-size-xl: calc(1.125em * var(--mantine-scale));--chip-padding-xs: calc(1em * var(--mantine-scale));--chip-padding-sm: calc(1.25em * var(--mantine-scale));--chip-padding-md: calc(1.5em * var(--mantine-scale));--chip-padding-lg: calc(1.75em * var(--mantine-scale));--chip-padding-xl: calc(2em * var(--mantine-scale));--chip-checked-padding-xs: calc(.46875em * var(--mantine-scale));--chip-checked-padding-sm: calc(.625em * var(--mantine-scale));--chip-checked-padding-md: calc(.73125em * var(--mantine-scale));--chip-checked-padding-lg: calc(.84375em * var(--mantine-scale));--chip-checked-padding-xl: calc(.98125em * var(--mantine-scale));--chip-spacing-xs: calc(.625em * var(--mantine-scale));--chip-spacing-sm: calc(.75em * var(--mantine-scale));--chip-spacing-md: calc(1em * var(--mantine-scale));--chip-spacing-lg: calc(1.25em * var(--mantine-scale));--chip-spacing-xl: calc(1.375em * var(--mantine-scale));--chip-size: var(--chip-size-sm);--chip-icon-size: var(--chip-icon-size-sm);--chip-padding: var(--chip-padding-sm);--chip-spacing: var(--chip-spacing-sm);--chip-checked-padding: var(--chip-checked-padding-sm);--chip-bg: var(--mantine-primary-color-filled);--chip-hover: var(--mantine-primary-color-filled-hover);--chip-color: var(--mantine-color-white);--chip-bd: calc(.0625em * var(--mantine-scale)) solid transparent}.m_be049a53{display:inline-flex;align-items:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;border-radius:var(--chip-radius, 1000em);height:var(--chip-size);font-size:var(--chip-fz, var(--mantine-font-size-sm));line-height:calc(var(--chip-size) - calc(.125em * var(--mantine-scale)));padding-inline:var(--chip-padding);cursor:pointer;white-space:nowrap;-webkit-tap-highlight-color:transparent;border:calc(.0625em * var(--mantine-scale)) solid transparent;color:var(--mantine-color-text)}.m_be049a53:where([data-checked]){padding:var(--chip-checked-padding)}.m_be049a53:where([data-disabled]){cursor:not-allowed}:where([data-mantine-color-scheme=light]) .m_be049a53:where([data-disabled]){background-color:var(--mantine-color-gray-2);color:var(--mantine-color-gray-5)}:where([data-mantine-color-scheme=dark]) .m_be049a53:where([data-disabled]){background-color:var(--mantine-color-dark-6);color:var(--mantine-color-dark-3)}:where([data-mantine-color-scheme=light]) .m_3904c1af:not([data-disabled]){background-color:var(--mantine-color-white);border:1px solid var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_3904c1af:not([data-disabled]){background-color:var(--mantine-color-dark-6);border:1px solid var(--mantine-color-dark-4)}@media (hover: hover){:where([data-mantine-color-scheme=light]) .m_3904c1af:not([data-disabled]):hover{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_3904c1af:not([data-disabled]):hover{background-color:var(--mantine-color-dark-5)}}@media (hover: none){:where([data-mantine-color-scheme=light]) .m_3904c1af:not([data-disabled]):active{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_3904c1af:not([data-disabled]):active{background-color:var(--mantine-color-dark-5)}}.m_3904c1af:not([data-disabled]):where([data-checked]){--chip-icon-color: var(--chip-color);border:var(--chip-bd)}@media (hover: hover){.m_3904c1af:not([data-disabled]):where([data-checked]):hover{background-color:var(--chip-hover)}}@media (hover: none){.m_3904c1af:not([data-disabled]):where([data-checked]):active{background-color:var(--chip-hover)}}.m_fa109255:not([data-disabled]),.m_f7e165c3:not([data-disabled]){border:calc(.0625em * var(--mantine-scale)) solid transparent;color:var(--mantine-color-text)}:where([data-mantine-color-scheme=light]) .m_fa109255:not([data-disabled]),:where([data-mantine-color-scheme=light]) .m_f7e165c3:not([data-disabled]){background-color:var(--mantine-color-gray-1)}:where([data-mantine-color-scheme=dark]) .m_fa109255:not([data-disabled]),:where([data-mantine-color-scheme=dark]) .m_f7e165c3:not([data-disabled]){background-color:var(--mantine-color-dark-5)}@media (hover: hover){:where([data-mantine-color-scheme=light]) .m_fa109255:not([data-disabled]):hover,:where([data-mantine-color-scheme=light]) .m_f7e165c3:not([data-disabled]):hover{background-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_fa109255:not([data-disabled]):hover,:where([data-mantine-color-scheme=dark]) .m_f7e165c3:not([data-disabled]):hover{background-color:var(--mantine-color-dark-4)}}@media (hover: none){:where([data-mantine-color-scheme=light]) .m_fa109255:not([data-disabled]):active,:where([data-mantine-color-scheme=light]) .m_f7e165c3:not([data-disabled]):active{background-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_fa109255:not([data-disabled]):active,:where([data-mantine-color-scheme=dark]) .m_f7e165c3:not([data-disabled]):active{background-color:var(--mantine-color-dark-4)}}.m_fa109255:not([data-disabled]):where([data-checked]),.m_f7e165c3:not([data-disabled]):where([data-checked]){--chip-icon-color: var(--chip-color);color:var(--chip-color);background-color:var(--chip-bg)}@media (hover: hover){.m_fa109255:not([data-disabled]):where([data-checked]):hover,.m_f7e165c3:not([data-disabled]):where([data-checked]):hover{background-color:var(--chip-hover)}}@media (hover: none){.m_fa109255:not([data-disabled]):where([data-checked]):active,.m_f7e165c3:not([data-disabled]):where([data-checked]):active{background-color:var(--chip-hover)}}.m_9ac86df9{width:calc(var(--chip-icon-size) + (var(--chip-spacing) / 1.5));max-width:calc(var(--chip-icon-size) + (var(--chip-spacing) / 1.5));height:var(--chip-icon-size);display:flex;align-items:center;overflow:hidden}.m_d6d72580{width:var(--chip-icon-size);height:var(--chip-icon-size);display:block;color:var(--chip-icon-color, inherit)}.m_bde07329{width:0;height:0;padding:0;opacity:0;margin:0}.m_bde07329:focus-visible+.m_be049a53{outline:2px solid var(--mantine-primary-color-filled);outline-offset:calc(.125em * var(--mantine-scale))}.m_b183c0a2{font-family:var(--mantine-font-family-monospace);line-height:var(--mantine-line-height);padding:2px calc(var(--mantine-spacing-xs) / 2);border-radius:var(--mantine-radius-sm);font-size:var(--mantine-font-size-xs);margin:0;overflow:auto}:where([data-mantine-color-scheme=light]) .m_b183c0a2{background-color:var(--code-bg, var(--mantine-color-gray-1));color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_b183c0a2{background-color:var(--code-bg, var(--mantine-color-dark-5));color:var(--mantine-color-white)}.m_b183c0a2[data-block]{padding:var(--mantine-spacing-xs)}.m_de3d2490{--cs-size: calc(1.75em * var(--mantine-scale));--cs-radius: calc(62.5em * var(--mantine-scale));-webkit-tap-highlight-color:transparent;border:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:block;line-height:1;position:relative;width:var(--cs-size);height:var(--cs-size);min-width:var(--cs-size);min-height:var(--cs-size);border-radius:var(--cs-radius);color:inherit;text-decoration:none}[data-mantine-color-scheme=light] .m_de3d2490{--alpha-overlay-color: var(--mantine-color-gray-3);--alpha-overlay-bg: var(--mantine-color-white)}[data-mantine-color-scheme=dark] .m_de3d2490{--alpha-overlay-color: var(--mantine-color-dark-4);--alpha-overlay-bg: var(--mantine-color-dark-7)}.m_862f3d1b{position:absolute;inset:0;border-radius:var(--cs-radius)}.m_98ae7f22{position:absolute;inset:0;border-radius:var(--cs-radius);z-index:1;box-shadow:#0000001a 0 0 0 calc(.0625em * var(--mantine-scale)) inset,#00000026 0 0 calc(.25em * var(--mantine-scale)) inset}.m_95709ac0{position:absolute;inset:0;border-radius:var(--cs-radius);background-size:calc(.5em * var(--mantine-scale)) calc(.5em * var(--mantine-scale));background-position:0 0,0 calc(.25em * var(--mantine-scale)),calc(.25em * var(--mantine-scale)) calc(-.25em * var(--mantine-scale)),calc(-.25em * var(--mantine-scale)) 0;background-image:linear-gradient(45deg,var(--alpha-overlay-color) 25%,transparent 25%),linear-gradient(-45deg,var(--alpha-overlay-color) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,var(--alpha-overlay-color) 75%),linear-gradient(-45deg,var(--alpha-overlay-bg) 75%,var(--alpha-overlay-color) 75%)}.m_93e74e3{position:absolute;inset:0;border-radius:var(--cs-radius);z-index:2;display:flex;align-items:center;justify-content:center}.m_fee9c77{--cp-width-xs: calc(11.25em * var(--mantine-scale));--cp-width-sm: calc(12.5em * var(--mantine-scale));--cp-width-md: calc(15em * var(--mantine-scale));--cp-width-lg: calc(17.5em * var(--mantine-scale));--cp-width-xl: calc(20em * var(--mantine-scale));--cp-preview-size-xs: calc(1.625em * var(--mantine-scale));--cp-preview-size-sm: calc(2.125em * var(--mantine-scale));--cp-preview-size-md: calc(2.625em * var(--mantine-scale));--cp-preview-size-lg: calc(3.125em * var(--mantine-scale));--cp-preview-size-xl: calc(3.375em * var(--mantine-scale));--cp-thumb-size-xs: calc(.5em * var(--mantine-scale));--cp-thumb-size-sm: calc(.75em * var(--mantine-scale));--cp-thumb-size-md: calc(1em * var(--mantine-scale));--cp-thumb-size-lg: calc(1.25em * var(--mantine-scale));--cp-thumb-size-xl: calc(1.375em * var(--mantine-scale));--cp-saturation-height-xs: calc(6.25em * var(--mantine-scale));--cp-saturation-height-sm: calc(6.875em * var(--mantine-scale));--cp-saturation-height-md: calc(7.5em * var(--mantine-scale));--cp-saturation-height-lg: calc(8.75em * var(--mantine-scale));--cp-saturation-height-xl: calc(10em * var(--mantine-scale));--cp-preview-size: var(--cp-preview-size-sm);--cp-thumb-size: var(--cp-thumb-size-sm);--cp-saturation-height: var(--cp-saturation-height-sm);--cp-width: var(--cp-width-sm);--cp-body-spacing: var(--mantine-spacing-sm);width:var(--cp-width);padding:calc(.0625em * var(--mantine-scale))}.m_fee9c77:where([data-full-width]){width:100%}.m_9dddfbac{width:var(--cp-preview-size);height:var(--cp-preview-size)}.m_bffecc3e{display:flex;padding-top:calc(var(--cp-body-spacing) / 2)}.m_3283bb96{flex:1}.m_3283bb96:not(:only-child){margin-inline-end:var(--mantine-spacing-xs)}.m_40d572ba{overflow:hidden;position:absolute;box-shadow:0 0 1px #0009;border:2px solid var(--mantine-color-white);width:var(--cp-thumb-size);height:var(--cp-thumb-size);border-radius:var(--cp-thumb-size);left:calc(var(--thumb-x-offset) - var(--cp-thumb-size) / 2);top:calc(var(--thumb-y-offset) - var(--cp-thumb-size) / 2)}.m_d8ee6fd8{height:unset!important;width:unset!important;min-width:0!important;min-height:0!important;margin:calc(.125em * var(--mantine-scale));cursor:pointer;padding-bottom:calc(var(--cp-swatch-size) - calc(.25em * var(--mantine-scale)));flex:0 0 calc(var(--cp-swatch-size) - calc(.25em * var(--mantine-scale)))}.m_5711e686{margin-top:calc(.3125em * var(--mantine-scale));margin-inline:calc(-.125em * var(--mantine-scale));display:flex;flex-wrap:wrap}.m_202a296e{--cp-thumb-size-xs: calc(.5em * var(--mantine-scale));--cp-thumb-size-sm: calc(.75em * var(--mantine-scale));--cp-thumb-size-md: calc(1em * var(--mantine-scale));--cp-thumb-size-lg: calc(1.25em * var(--mantine-scale));--cp-thumb-size-xl: calc(1.375em * var(--mantine-scale));-webkit-tap-highlight-color:transparent;position:relative;height:var(--cp-saturation-height);border-radius:var(--mantine-radius-sm);margin:calc(var(--cp-thumb-size) / 2)}.m_202a296e:where([data-focus-ring=auto]):focus:focus-visible .m_40d572ba{outline:2px solid var(--mantine-color-blue-filled)}.m_202a296e:where([data-focus-ring=always]):focus .m_40d572ba{outline:2px solid var(--mantine-color-blue-filled)}.m_11b3db02{position:absolute;border-radius:var(--mantine-radius-sm);inset:calc(var(--cp-thumb-size) * -1 / 2 - calc(.0625em * var(--mantine-scale)))}.m_d856d47d{--cp-thumb-size-xs: calc(.5em * var(--mantine-scale));--cp-thumb-size-sm: calc(.75em * var(--mantine-scale));--cp-thumb-size-md: calc(1em * var(--mantine-scale));--cp-thumb-size-lg: calc(1.25em * var(--mantine-scale));--cp-thumb-size-xl: calc(1.375em * var(--mantine-scale));--cp-thumb-size: var(--cp-thumb-size, calc(.75em * var(--mantine-scale)));position:relative;height:calc(var(--cp-thumb-size) + calc(.125em * var(--mantine-scale)));margin-inline:calc(var(--cp-thumb-size) / 2);outline:none}.m_d856d47d+.m_d856d47d{margin-top:calc(.375em * var(--mantine-scale))}.m_d856d47d:where([data-focus-ring=auto]):focus:focus-visible .m_40d572ba{outline:2px solid var(--mantine-color-blue-filled)}.m_d856d47d:where([data-focus-ring=always]):focus .m_40d572ba{outline:2px solid var(--mantine-color-blue-filled)}:where([data-mantine-color-scheme=light]) .m_d856d47d{--slider-checkers: var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_d856d47d{--slider-checkers: var(--mantine-color-dark-4)}.m_8f327113{position:absolute;top:0;bottom:0;inset-inline:calc(var(--cp-thumb-size) * -1 / 2 - calc(.0625em * var(--mantine-scale)));border-radius:10000em}.m_b077c2bc{--ci-eye-dropper-icon-size-xs: calc(.875em * var(--mantine-scale));--ci-eye-dropper-icon-size-sm: calc(1em * var(--mantine-scale));--ci-eye-dropper-icon-size-md: calc(1.125em * var(--mantine-scale));--ci-eye-dropper-icon-size-lg: calc(1.25em * var(--mantine-scale));--ci-eye-dropper-icon-size-xl: calc(1.375em * var(--mantine-scale));--ci-eye-dropper-icon-size: var(--ci-eye-dropper-icon-size-sm)}.m_c5ccdcab{--ci-preview-size-xs: calc(1em * var(--mantine-scale));--ci-preview-size-sm: calc(1.125em * var(--mantine-scale));--ci-preview-size-md: calc(1.375em * var(--mantine-scale));--ci-preview-size-lg: calc(1.75em * var(--mantine-scale));--ci-preview-size-xl: calc(2.25em * var(--mantine-scale));--ci-preview-size: var(--ci-preview-size-sm)}.m_5ece2cd7{padding:calc(.5em * var(--mantine-scale))}.m_7485cace{--container-size-xs: calc(33.75em * var(--mantine-scale));--container-size-sm: calc(45em * var(--mantine-scale));--container-size-md: calc(60em * var(--mantine-scale));--container-size-lg: calc(71.25em * var(--mantine-scale));--container-size-xl: calc(82.5em * var(--mantine-scale));--container-size: var(--container-size-md);max-width:var(--container-size);padding-inline:var(--mantine-spacing-md);margin-inline:auto}.m_7485cace:where([data-fluid]){max-width:100%}.m_e2125a27{--dialog-size-xs: calc(10em * var(--mantine-scale));--dialog-size-sm: calc(12.5em * var(--mantine-scale));--dialog-size-md: calc(21.25em * var(--mantine-scale));--dialog-size-lg: calc(25em * var(--mantine-scale));--dialog-size-xl: calc(31.25em * var(--mantine-scale));--dialog-size: var(--dialog-size-md);position:relative;width:var(--dialog-size);max-width:calc(100vw - var(--mantine-spacing-xl) * 2);min-height:calc(3.125em * var(--mantine-scale))}.m_5abab665{position:absolute;top:calc(var(--mantine-spacing-md) / 2);inset-inline-end:calc(var(--mantine-spacing-md) / 2)}.m_3eebeb36{--divider-size-xs: calc(.0625em * var(--mantine-scale));--divider-size-sm: calc(.125em * var(--mantine-scale));--divider-size-md: calc(.1875em * var(--mantine-scale));--divider-size-lg: calc(.25em * var(--mantine-scale));--divider-size-xl: calc(.3125em * var(--mantine-scale));--divider-size: var(--divider-size-xs)}:where([data-mantine-color-scheme=light]) .m_3eebeb36{--divider-color: var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_3eebeb36{--divider-color: var(--mantine-color-dark-4)}.m_3eebeb36:where([data-orientation=horizontal]){border-top:var(--divider-size) var(--divider-border-style, solid) var(--divider-color)}.m_3eebeb36:where([data-orientation=vertical]){border-inline-start:var(--divider-size) var(--divider-border-style, solid) var(--divider-color);height:auto;align-self:stretch}.m_3eebeb36:where([data-with-label]){border:0}.m_9e365f20{display:flex;align-items:center;font-size:var(--mantine-font-size-xs);color:var(--mantine-color-dimmed);white-space:nowrap}.m_9e365f20:where([data-position=left]):before{display:none}.m_9e365f20:where([data-position=right]):after{display:none}.m_9e365f20:before{content:"";flex:1;height:calc(.0625em * var(--mantine-scale));border-top:var(--divider-size) var(--divider-border-style, solid) var(--divider-color);margin-inline-end:var(--mantine-spacing-xs)}.m_9e365f20:after{content:"";flex:1;height:calc(.0625em * var(--mantine-scale));border-top:var(--divider-size) var(--divider-border-style, solid) var(--divider-color);margin-inline-start:var(--mantine-spacing-xs)}.m_f11b401e{--drawer-size-xs: calc(20em * var(--mantine-scale));--drawer-size-sm: calc(23.75em * var(--mantine-scale));--drawer-size-md: calc(27.5em * var(--mantine-scale));--drawer-size-lg: calc(38.75em * var(--mantine-scale));--drawer-size-xl: calc(48.75em * var(--mantine-scale));--drawer-size: var(--drawer-size-md);--drawer-offset: 0em}.m_5a7c2c9{z-index:1000}.m_b8a05bbd{flex:var(--drawer-flex, 0 0 var(--drawer-size));height:var(--drawer-height, calc(100% - var(--drawer-offset) * 2));margin:var(--drawer-offset);max-width:calc(100% - var(--drawer-offset) * 2);max-height:calc(100% - var(--drawer-offset) * 2);overflow-y:auto}.m_b8a05bbd[data-hidden]{opacity:0!important;pointer-events:none}.m_31cd769a{display:flex;justify-content:var(--drawer-justify, flex-start);align-items:var(--drawer-align, flex-start)}.m_e9408a47{padding:var(--mantine-spacing-lg);padding-top:var(--mantine-spacing-xs);border-radius:var(--fieldset-radius, var(--mantine-radius-default));min-inline-size:auto}.m_84c9523a{border:calc(.0625em * var(--mantine-scale)) solid}:where([data-mantine-color-scheme=light]) .m_84c9523a{border-color:var(--mantine-color-gray-3);background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=dark]) .m_84c9523a{border-color:var(--mantine-color-dark-4);background-color:var(--mantine-color-dark-7)}.m_ef274e49{border:calc(.0625em * var(--mantine-scale)) solid}:where([data-mantine-color-scheme=light]) .m_ef274e49{border-color:var(--mantine-color-gray-3);background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_ef274e49{border-color:var(--mantine-color-dark-4);background-color:var(--mantine-color-dark-6)}.m_eda993d3{padding:0;border:0;border-radius:0}.m_90794832{font-size:var(--mantine-font-size-sm)}.m_74ca27fe{padding:0;margin-bottom:var(--mantine-spacing-sm)}.m_8478a6da{container:mantine-grid / inline-size}.m_410352e9{--grid-overflow: visible;--grid-margin: calc(var(--grid-gutter) / -2);--grid-col-padding: calc(var(--grid-gutter) / 2);overflow:var(--grid-overflow)}.m_dee7bd2f{width:calc(100% + var(--grid-gutter));display:flex;flex-wrap:wrap;justify-content:var(--grid-justify);align-items:var(--grid-align);margin:var(--grid-margin)}.m_96bdd299{--col-flex-grow: 0;--col-offset: 0em;flex-shrink:0;order:var(--col-order);flex-basis:var(--col-flex-basis);width:var(--col-width);max-width:var(--col-max-width);flex-grow:var(--col-flex-grow);margin-inline-start:var(--col-offset);padding:var(--grid-col-padding)}.m_bcb3f3c2{color:var(--mantine-color-black)}:where([data-mantine-color-scheme=light]) .m_bcb3f3c2{background-color:var(--mark-bg-light)}:where([data-mantine-color-scheme=dark]) .m_bcb3f3c2{background-color:var(--mark-bg-dark)}.m_9e117634{display:block;flex:0;-o-object-fit:var(--image-object-fit, cover);object-fit:var(--image-object-fit, cover);width:100%;border-radius:var(--image-radius, 0)}@keyframes m_885901b1{0%{opacity:.6;transform:scale(0)}to{opacity:0;transform:scale(2.8)}}.m_e5262200{--indicator-size: calc(.625em * var(--mantine-scale));--indicator-color: var(--mantine-primary-color-filled);position:relative;display:block}.m_e5262200:where([data-inline]){display:inline-block}.m_760d1fb1{position:absolute;top:var(--indicator-top);left:var(--indicator-left);right:var(--indicator-right);bottom:var(--indicator-bottom);transform:translate(var(--indicator-translate-x),var(--indicator-translate-y));min-width:var(--indicator-size);height:var(--indicator-size);border-radius:var(--indicator-radius, 1000em);z-index:var(--indicator-z-index, 200);display:flex;align-items:center;justify-content:center;font-size:var(--mantine-font-size-xs);background-color:var(--indicator-color);color:var(--indicator-text-color, var(--mantine-color-white));white-space:nowrap}.m_760d1fb1:before{content:"";position:absolute;inset:0;background-color:var(--indicator-color);border-radius:var(--indicator-radius, 1000em);z-index:-1}.m_760d1fb1:where([data-with-label]){padding-inline:calc(var(--mantine-spacing-xs) / 2)}.m_760d1fb1:where([data-with-border]){border:2px solid var(--mantine-color-body)}.m_760d1fb1[data-processing]:before{animation:m_885901b1 1s linear infinite}.m_dc6f14e2{--kbd-fz-xs: calc(.625em * var(--mantine-scale));--kbd-fz-sm: calc(.75em * var(--mantine-scale));--kbd-fz-md: calc(.875em * var(--mantine-scale));--kbd-fz-lg: calc(1em * var(--mantine-scale));--kbd-fz-xl: calc(1.25em * var(--mantine-scale));--kbd-fz: var(--kbd-fz-sm);--kbd-padding-xs: calc(.125em * var(--mantine-scale)) calc(.25em * var(--mantine-scale));--kbd-padding-sm: calc(.1875em * var(--mantine-scale)) calc(.3125em * var(--mantine-scale));--kbd-padding-md: calc(.25em * var(--mantine-scale)) calc(.4375em * var(--mantine-scale));--kbd-padding-lg: calc(.3125em * var(--mantine-scale)) calc(.5625em * var(--mantine-scale));--kbd-padding-xl: calc(.5em * var(--mantine-scale)) calc(.875em * var(--mantine-scale));--kbd-padding: var(--kbd-padding-sm);font-family:var(--mantine-font-family-monospace);line-height:var(--mantine-line-height);font-weight:700;padding:var(--kbd-padding);font-size:var(--kbd-fz);border-radius:var(--mantine-radius-sm);border:calc(.0625em * var(--mantine-scale)) solid;border-bottom-width:calc(.1875em * var(--mantine-scale));unicode-bidi:embed}:where([data-mantine-color-scheme=light]) .m_dc6f14e2{border-color:var(--mantine-color-gray-3);color:var(--mantine-color-gray-7);background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_dc6f14e2{border-color:var(--mantine-color-dark-4);color:var(--mantine-color-dark-0);background-color:var(--mantine-color-dark-6)}.m_abbac491{--list-fz: var(--mantine-font-size-md);--list-lh: var(--mantine-line-height-md);list-style-position:inside;font-size:var(--list-fz);line-height:var(--list-lh);margin:0;padding:0}.m_abbac491:where([data-with-padding]){padding-inline-start:var(--mantine-spacing-md)}.m_abb6bec2{white-space:nowrap;line-height:var(--list-lh)}.m_abb6bec2:where([data-with-icon]){list-style:none}.m_abb6bec2:where([data-with-icon]) .m_75cd9f71{--li-direction: row;--li-align: center}.m_abb6bec2:where(:not(:first-of-type)){margin-top:var(--list-spacing, 0)}.m_abb6bec2:where([data-centered]){line-height:1}.m_75cd9f71{display:inline-flex;flex-direction:var(--li-direction, column);align-items:var(--li-align, flex-start);white-space:normal}.m_60f83e5b{display:inline-block;vertical-align:middle;margin-inline-end:var(--mantine-spacing-sm)}.m_6e45937b{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;overflow:hidden;z-index:var(--lo-z-index)}.m_e8eb006c{position:relative;z-index:calc(var(--lo-z-index) + 1)}.m_df587f17{z-index:var(--lo-z-index)}.m_dc9b7c9f{padding:calc(.25em * var(--mantine-scale))}.m_9bfac126{color:var(--mantine-color-dimmed);font-weight:500;font-size:var(--mantine-font-size-xs);padding:calc(var(--mantine-spacing-xs) / 2) var(--mantine-spacing-sm);cursor:default}.m_efdf90cb{margin-top:calc(.25em * var(--mantine-scale));margin-bottom:calc(.25em * var(--mantine-scale));border-top:calc(.0625em * var(--mantine-scale)) solid}:where([data-mantine-color-scheme=light]) .m_efdf90cb{border-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_efdf90cb{border-color:var(--mantine-color-dark-4)}.m_99ac2aa1{font-size:var(--mantine-font-size-sm);width:100%;padding:calc(var(--mantine-spacing-xs) / 1.5) var(--mantine-spacing-sm);border-radius:var(--popover-radius, var(--mantine-radius-default));color:var(--menu-item-color, var(--mantine-color-text));display:flex;align-items:center;-webkit-user-select:none;-moz-user-select:none;user-select:none}.m_99ac2aa1:where([data-disabled],:disabled){color:var(--mantine-color-dimmed);opacity:.6;cursor:not-allowed}:where([data-mantine-color-scheme=light]) .m_99ac2aa1:where([data-hovered]):where(:not(:disabled,[data-disabled])){background-color:var(--menu-item-hover, var(--mantine-color-gray-1))}:where([data-mantine-color-scheme=dark]) .m_99ac2aa1:where([data-hovered]):where(:not(:disabled,[data-disabled])){background-color:var(--menu-item-hover, var(--mantine-color-dark-4))}.m_5476e0d3{flex:1}.m_8b75e504{display:flex;justify-content:center;align-items:center}.m_8b75e504:where([data-position=left]){margin-inline-end:var(--mantine-spacing-xs)}.m_8b75e504:where([data-position=right]){margin-inline-start:var(--mantine-spacing-xs)}.m_9df02822{--modal-size-xs: calc(20em * var(--mantine-scale));--modal-size-sm: calc(23.75em * var(--mantine-scale));--modal-size-md: calc(27.5em * var(--mantine-scale));--modal-size-lg: calc(38.75em * var(--mantine-scale));--modal-size-xl: calc(48.75em * var(--mantine-scale));--modal-size: var(--modal-size-md);--modal-y-offset: 5dvh;--modal-x-offset: 5vw}.m_9df02822[data-full-screen]{--modal-border-radius: 0 !important}.m_9df02822[data-full-screen] .m_54c44539{--modal-content-flex: 0 0 100%;--modal-content-max-height: auto;--modal-content-height: 100dvh}.m_9df02822[data-full-screen] .m_1f958f16{--modal-inner-y-offset: 0;--modal-inner-x-offset: 0}.m_9df02822[data-centered] .m_1f958f16{--modal-inner-align: center}.m_d0e2b9cd{border-start-start-radius:var(--modal-radius, var(--mantine-radius-default));border-start-end-radius:var(--modal-radius, var(--mantine-radius-default))}.m_54c44539{flex:var(--modal-content-flex, 0 0 var(--modal-size));max-width:100%;max-height:var(--modal-content-max-height, calc(100dvh - var(--modal-y-offset) * 2));height:var(--modal-content-height, auto);overflow-y:auto}.m_54c44539[data-full-screen]{border-radius:0}.m_54c44539[data-hidden]{opacity:0!important;pointer-events:none}.m_1f958f16{display:flex;justify-content:center;align-items:var(--modal-inner-align, flex-start);padding-top:var(--modal-inner-y-offset, var(--modal-y-offset));padding-bottom:var(--modal-inner-y-offset, var(--modal-y-offset));padding-inline:var(--modal-inner-x-offset, var(--modal-x-offset))}.m_7cda1cd6{--pill-fz-xs: calc(.625em * var(--mantine-scale));--pill-fz-sm: calc(.75em * var(--mantine-scale));--pill-fz-md: calc(.875em * var(--mantine-scale));--pill-fz-lg: calc(1em * var(--mantine-scale));--pill-fz-xl: calc(1.125em * var(--mantine-scale));--pill-height-xs: calc(1.125em * var(--mantine-scale));--pill-height-sm: calc(1.375em * var(--mantine-scale));--pill-height-md: calc(1.5625em * var(--mantine-scale));--pill-height-lg: calc(1.75em * var(--mantine-scale));--pill-height-xl: calc(2em * var(--mantine-scale));--pill-fz: var(--pill-fz-sm);--pill-height: var(--pill-height-sm);font-size:var(--pill-fz);flex:0;height:var(--pill-height);padding-inline:.8em;display:inline-flex;align-items:center;border-radius:var(--pill-radius, 1000em);line-height:1;white-space:nowrap;-moz-user-select:none;user-select:none;-webkit-user-select:none;max-width:100%}:where([data-mantine-color-scheme=dark]) .m_7cda1cd6{background-color:var(--mantine-color-dark-7);color:var(--mantine-color-dark-0)}:where([data-mantine-color-scheme=light]) .m_7cda1cd6{color:var(--mantine-color-black)}.m_7cda1cd6:where([data-with-remove]:not(:has(button:disabled))){padding-inline-end:0}.m_7cda1cd6:where([data-disabled],:has(button:disabled)){cursor:not-allowed}:where([data-mantine-color-scheme=light]) .m_44da308b{background-color:var(--mantine-color-gray-1)}:where([data-mantine-color-scheme=light]) .m_44da308b:where([data-disabled],:has(button:disabled)){background-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=light]) .m_e3a01f8{background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=light]) .m_e3a01f8:where([data-disabled],:has(button:disabled)){background-color:var(--mantine-color-gray-3)}.m_1e0e6180{cursor:inherit;overflow:hidden;height:100%;line-height:var(--pill-height);text-overflow:ellipsis}.m_ae386778{color:inherit;font-size:inherit;height:100%;min-height:unset;min-width:2em;width:unset;border-radius:0;padding-inline-start:.1em;padding-inline-end:.3em;flex:0;border-end-end-radius:var(--pill-radius, 50%);border-start-end-radius:var(--pill-radius, 50%)}.m_7cda1cd6[data-disabled]>.m_ae386778,.m_ae386778:disabled{display:none;background-color:transparent;width:.8em;min-width:.8em;padding:0;cursor:not-allowed}.m_7cda1cd6[data-disabled]>.m_ae386778>svg,.m_ae386778:disabled>svg{display:none}.m_ae386778>svg{pointer-events:none}.m_1dcfd90b{--pg-gap-xs: calc(.375em * var(--mantine-scale));--pg-gap-sm: calc(.5em * var(--mantine-scale));--pg-gap-md: calc(.625em * var(--mantine-scale));--pg-gap-lg: calc(.75em * var(--mantine-scale));--pg-gap-xl: calc(.75em * var(--mantine-scale));--pg-gap: var(--pg-gap-sm);display:flex;align-items:center;gap:var(--pg-gap);flex-wrap:wrap}.m_45c4369d{background-color:transparent;-webkit-appearance:none;-moz-appearance:none;appearance:none;min-width:calc(6.25em * var(--mantine-scale));flex:1;border:0;font-size:inherit;height:1.6em;color:inherit;padding:0}.m_45c4369d::-moz-placeholder{color:var(--input-placeholder-color);opacity:1}.m_45c4369d::placeholder{color:var(--input-placeholder-color);opacity:1}.m_45c4369d:where([data-type=hidden],[data-type=auto]){height:calc(.0625em * var(--mantine-scale));width:calc(.0625em * var(--mantine-scale));top:0;left:0;pointer-events:none;position:absolute;opacity:0}.m_45c4369d:focus{outline:none}.m_45c4369d:where([data-type=auto]:focus){height:1.6em;visibility:visible;opacity:1;position:static}.m_45c4369d:where([data-pointer]:not([data-disabled],:disabled)){cursor:pointer}.m_45c4369d:where([data-disabled],:disabled){cursor:not-allowed}.m_f0824112{--nl-bg: var(--mantine-primary-color-light);--nl-hover: var(--mantine-primary-color-light-hover);--nl-color: var(--mantine-primary-color-light-color);display:flex;align-items:center;width:100%;padding:8px var(--mantine-spacing-sm);-webkit-user-select:none;-moz-user-select:none;user-select:none}@media (hover: hover){:where([data-mantine-color-scheme=light]) .m_f0824112:hover{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_f0824112:hover{background-color:var(--mantine-color-dark-6)}}@media (hover: none){:where([data-mantine-color-scheme=light]) .m_f0824112:active{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_f0824112:active{background-color:var(--mantine-color-dark-6)}}.m_f0824112:where([data-disabled]){opacity:.4;pointer-events:none}.m_f0824112:where([data-active],[aria-current=page]){background-color:var(--nl-bg);color:var(--nl-color)}@media (hover: hover){.m_f0824112:where([data-active],[aria-current=page]):hover{background-color:var(--nl-hover)}}@media (hover: none){.m_f0824112:where([data-active],[aria-current=page]):active{background-color:var(--nl-hover)}}.m_f0824112:where([data-active],[aria-current=page]) .m_57492dcc{--description-opacity: .9;--description-color: var(--nl-color)}.m_690090b5{display:flex;align-items:center;justify-content:center;transition:transform .15s ease}.m_690090b5>svg{display:block}.m_690090b5:where([data-position=left]){margin-inline-end:var(--mantine-spacing-sm)}.m_690090b5:where([data-position=right]){margin-inline-start:var(--mantine-spacing-sm)}.m_690090b5:where([data-rotate]){transform:rotate(90deg)}.m_1f6ac4c4{font-size:var(--mantine-font-size-sm)}.m_f07af9d2{flex:1;overflow:hidden;text-overflow:ellipsis}.m_f07af9d2:where([data-no-wrap]){white-space:nowrap}.m_57492dcc{display:block;font-size:var(--mantine-font-size-xs);opacity:var(--description-opacity, 1);color:var(--description-color, var(--mantine-color-dimmed));overflow:hidden;text-overflow:ellipsis}:where([data-no-wrap]) .m_57492dcc{white-space:nowrap}.m_e17b862f{padding-inline-start:var(--nl-offset, var(--mantine-spacing-lg))}.m_1fd8a00b{transform:rotate(-90deg)}.m_a513464{--notification-radius: var(--mantine-radius-default);--notification-color: var(--mantine-primary-color-filled);overflow:hidden;box-sizing:border-box;position:relative;display:flex;align-items:center;padding-inline-start:calc(1.375em * var(--mantine-scale));padding-inline-end:var(--mantine-spacing-xs);padding-top:var(--mantine-spacing-xs);padding-bottom:var(--mantine-spacing-xs);border-radius:var(--notification-radius);box-shadow:var(--mantine-shadow-lg)}.m_a513464:before{content:"";display:block;position:absolute;width:calc(.375em * var(--mantine-scale));top:var(--notification-radius);bottom:var(--notification-radius);inset-inline-start:calc(.25em * var(--mantine-scale));border-radius:var(--notification-radius);background-color:var(--notification-color)}:where([data-mantine-color-scheme=light]) .m_a513464{background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=dark]) .m_a513464{background-color:var(--mantine-color-dark-6)}.m_a513464:where([data-with-icon]){padding-inline-start:var(--mantine-spacing-xs)}.m_a513464:where([data-with-icon]):before{display:none}:where([data-mantine-color-scheme=light]) .m_a513464:where([data-with-border]){border:1px solid var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_a513464:where([data-with-border]){border:1px solid var(--mantine-color-dark-4)}.m_a4ceffb{box-sizing:border-box;margin-inline-end:var(--mantine-spacing-md);width:calc(1.75em * var(--mantine-scale));height:calc(1.75em * var(--mantine-scale));border-radius:calc(1.75em * var(--mantine-scale));display:flex;align-items:center;justify-content:center;background-color:var(--notification-color);color:var(--mantine-color-white)}.m_b0920b15{margin-inline-end:var(--mantine-spacing-md)}.m_a49ed24{flex:1;overflow:hidden;margin-inline-end:var(--mantine-spacing-xs)}.m_3feedf16{margin-bottom:calc(.125em * var(--mantine-scale));overflow:hidden;text-overflow:ellipsis;font-size:var(--mantine-font-size-sm);line-height:var(--mantine-line-height-sm);font-weight:500}:where([data-mantine-color-scheme=light]) .m_3feedf16{color:var(--mantine-color-gray-9)}:where([data-mantine-color-scheme=dark]) .m_3feedf16{color:var(--mantine-color-white)}.m_3d733a3a{font-size:var(--mantine-font-size-sm);line-height:var(--mantine-line-height-sm);overflow:hidden;text-overflow:ellipsis}:where([data-mantine-color-scheme=light]) .m_3d733a3a{color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_3d733a3a{color:var(--mantine-color-dark-0)}:where([data-mantine-color-scheme=light]) .m_3d733a3a:where([data-with-title]){color:var(--mantine-color-gray-6)}:where([data-mantine-color-scheme=dark]) .m_3d733a3a:where([data-with-title]){color:var(--mantine-color-dark-2)}@media (hover: hover){:where([data-mantine-color-scheme=light]) .m_919a4d88:hover{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_919a4d88:hover{background-color:var(--mantine-color-dark-8)}}@media (hover: none){:where([data-mantine-color-scheme=light]) .m_919a4d88:active{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_919a4d88:active{background-color:var(--mantine-color-dark-8)}}.m_e2f5cd4e{--ni-right-section-width-xs: calc(1.0625em * var(--mantine-scale));--ni-right-section-width-sm: calc(1.5em * var(--mantine-scale));--ni-right-section-width-md: calc(1.6875em * var(--mantine-scale));--ni-right-section-width-lg: calc(1.9375em * var(--mantine-scale));--ni-right-section-width-xl: calc(2.125em * var(--mantine-scale))}.m_95e17d22{--ni-chevron-size-xs: calc(.625em * var(--mantine-scale));--ni-chevron-size-sm: calc(.875em * var(--mantine-scale));--ni-chevron-size-md: calc(1em * var(--mantine-scale));--ni-chevron-size-lg: calc(1.125em * var(--mantine-scale));--ni-chevron-size-xl: calc(1.25em * var(--mantine-scale));--ni-chevron-size: var(--ni-chevron-size-sm);display:flex;flex-direction:column;width:100%;height:calc(var(--input-height) - calc(.125em * var(--mantine-scale)));max-width:calc(var(--ni-chevron-size) * 1.7);margin-inline-start:auto}.m_80b4b171{--control-border: 1px solid var(--input-bd);--control-radius: calc(var(--input-radius) - calc(.0625em * var(--mantine-scale)));flex:0 0 50%;width:100%;padding:0;height:calc(var(--input-height) / 2 - calc(.0625em * var(--mantine-scale)));border-inline-start:var(--control-border);display:flex;align-items:center;justify-content:center;color:var(--mantine-color-text);background-color:transparent;cursor:pointer}.m_80b4b171:where(:disabled){background-color:transparent;cursor:not-allowed;opacity:.6}:where([data-mantine-color-scheme=light]) .m_80b4b171:where(:disabled){color:var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) .m_80b4b171:where(:disabled){color:var(--mantine-color-dark-3)}.m_e2f5cd4e[data-error] :where(.m_80b4b171){color:var(--mantine-color-error)}@media (hover: hover){:where([data-mantine-color-scheme=light]) .m_80b4b171:hover{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_80b4b171:hover{background-color:var(--mantine-color-dark-4)}}@media (hover: none){:where([data-mantine-color-scheme=light]) .m_80b4b171:active{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_80b4b171:active{background-color:var(--mantine-color-dark-4)}}.m_80b4b171:where(:first-of-type){border-radius:0;border-start-end-radius:var(--control-radius)}.m_80b4b171:last-of-type{border-radius:0;border-end-end-radius:var(--control-radius)}.m_4addd315{--pagination-control-size-xs: calc(1.375em * var(--mantine-scale));--pagination-control-size-sm: calc(1.625em * var(--mantine-scale));--pagination-control-size-md: calc(2em * var(--mantine-scale));--pagination-control-size-lg: calc(2.375em * var(--mantine-scale));--pagination-control-size-xl: calc(2.75em * var(--mantine-scale));--pagination-control-size: var(--pagination-control-size-md);--pagination-control-fz: var(--mantine-font-size-md);--pagination-active-bg: var(--mantine-primary-color-filled)}.m_326d024a{display:flex;align-items:center;justify-content:center;border:calc(.0625em * var(--mantine-scale)) solid;cursor:pointer;color:var(--mantine-color-text);height:var(--pagination-control-size);min-width:var(--pagination-control-size);font-size:var(--pagination-control-fz);line-height:1;border-radius:var(--pagination-control-radius, var(--mantine-radius-default))}.m_326d024a:where([data-with-padding]){padding:calc(var(--pagination-control-size) / 4)}.m_326d024a:where(:disabled,[data-disabled]){cursor:not-allowed;opacity:.4}:where([data-mantine-color-scheme=light]) .m_326d024a{border-color:var(--mantine-color-gray-4);background-color:var(--mantine-color-white)}@media (hover: hover){:where([data-mantine-color-scheme=light]) .m_326d024a:hover:where(:not(:disabled,[data-disabled])){background-color:var(--mantine-color-gray-0)}}@media (hover: none){:where([data-mantine-color-scheme=light]) .m_326d024a:active:where(:not(:disabled,[data-disabled])){background-color:var(--mantine-color-gray-0)}}:where([data-mantine-color-scheme=dark]) .m_326d024a{border-color:var(--mantine-color-dark-4);background-color:var(--mantine-color-dark-6)}@media (hover: hover){:where([data-mantine-color-scheme=dark]) .m_326d024a:hover:where(:not(:disabled,[data-disabled])){background-color:var(--mantine-color-dark-5)}}@media (hover: none){:where([data-mantine-color-scheme=dark]) .m_326d024a:active:where(:not(:disabled,[data-disabled])){background-color:var(--mantine-color-dark-5)}}.m_326d024a:where([data-active]){background-color:var(--pagination-active-bg);border-color:var(--pagination-active-bg);color:var(--pagination-active-color, var(--mantine-color-white))}@media (hover: hover){.m_326d024a:where([data-active]):hover{background-color:var(--pagination-active-bg)}}@media (hover: none){.m_326d024a:where([data-active]):active{background-color:var(--pagination-active-bg)}}.m_4ad7767d{height:var(--pagination-control-size);min-width:var(--pagination-control-size);display:flex;align-items:center;justify-content:center;pointer-events:none}.m_f61ca620{--psi-button-size-xs: calc(1.375em * var(--mantine-scale));--psi-button-size-sm: calc(1.625em * var(--mantine-scale));--psi-button-size-md: calc(1.75em * var(--mantine-scale));--psi-button-size-lg: calc(2em * var(--mantine-scale));--psi-button-size-xl: calc(2.5em * var(--mantine-scale));--psi-icon-size-xs: calc(.75em * var(--mantine-scale));--psi-icon-size-sm: calc(.9375em * var(--mantine-scale));--psi-icon-size-md: calc(1.0625em * var(--mantine-scale));--psi-icon-size-lg: calc(1.1875em * var(--mantine-scale));--psi-icon-size-xl: calc(1.3125em * var(--mantine-scale));--psi-button-size: var(--psi-button-size-sm);--psi-icon-size: var(--psi-icon-size-sm)}.m_ccf8da4c{position:relative;overflow:hidden}.m_f2d85dd2{font-family:var(--mantine-font-family);background-color:transparent;border:0;padding-inline-end:var(--input-padding-inline-end);padding-inline-start:var(--input-padding-inline-start);position:absolute;inset:0;outline:0;font-size:inherit;line-height:var(--mantine-line-height);height:100%;width:100%;color:inherit}.m_ccf8da4c[data-disabled] .m_f2d85dd2,.m_f2d85dd2:disabled{cursor:not-allowed}.m_f2d85dd2::-moz-placeholder{color:var(--input-placeholder-color);opacity:1}.m_f2d85dd2::placeholder{color:var(--input-placeholder-color);opacity:1}.m_f2d85dd2::-ms-reveal{display:none}.m_b1072d44{width:var(--psi-button-size);height:var(--psi-button-size);min-width:var(--psi-button-size);min-height:var(--psi-button-size)}.m_b1072d44:disabled{display:none}.m_f1cb205a{--pin-input-size-xs: calc(1.875em * var(--mantine-scale));--pin-input-size-sm: calc(2.25em * var(--mantine-scale));--pin-input-size-md: calc(2.625em * var(--mantine-scale));--pin-input-size-lg: calc(3.125em * var(--mantine-scale));--pin-input-size-xl: calc(3.75em * var(--mantine-scale));--pin-input-size: var(--pin-input-size-sm)}.m_cb288ead{width:var(--pin-input-size);height:var(--pin-input-size)}@keyframes m_81a374bd{0%{background-position:0 0}to{background-position:calc(2.5em * var(--mantine-scale)) 0}}.m_db6d6462{--progress-radius: var(--mantine-radius-default);--progress-size: var(--progress-size-md);--progress-size-xs: calc(.1875em * var(--mantine-scale));--progress-size-sm: calc(.3125em * var(--mantine-scale));--progress-size-md: calc(.5em * var(--mantine-scale));--progress-size-lg: calc(.75em * var(--mantine-scale));--progress-size-xl: calc(1em * var(--mantine-scale));position:relative;height:var(--progress-size);border-radius:var(--progress-radius);overflow:hidden;display:flex}:where([data-mantine-color-scheme=light]) .m_db6d6462{background-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_db6d6462{background-color:var(--mantine-color-dark-4)}.m_2242eb65{background-color:var(--progress-section-color);height:100%;width:var(--progress-section-width);display:flex;align-items:center;justify-content:center;overflow:hidden;background-size:calc(1.25em * var(--mantine-scale)) calc(1.25em * var(--mantine-scale));transition:width var(--progress-transition-duration, .1s) ease}.m_2242eb65:where([data-striped]){background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent)}.m_2242eb65:where([data-animated]){animation:m_81a374bd 1s linear infinite}.m_2242eb65:where(:last-of-type){border-radius:0;border-start-end-radius:var(--progress-radius);border-end-end-radius:var(--progress-radius)}.m_2242eb65:where(:first-of-type){border-radius:0;border-start-start-radius:var(--progress-radius);border-end-start-radius:var(--progress-radius)}.m_91e40b74{color:var(--progress-label-color, var(--mantine-color-white));font-weight:700;-webkit-user-select:none;-moz-user-select:none;user-select:none;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-size:min(calc(var(--progress-size) * .65),calc(1.125em * var(--mantine-scale)));line-height:1;padding-inline:calc(.25em * var(--mantine-scale))}.m_9dc8ae12{--card-radius: var(--mantine-radius-default);display:block;width:100%;border-radius:var(--card-radius);cursor:pointer}.m_9dc8ae12 :where(*){cursor:inherit}.m_9dc8ae12:where([data-with-border]){border:calc(.0625em * var(--mantine-scale)) solid transparent}:where([data-mantine-color-scheme=light]) .m_9dc8ae12:where([data-with-border]){border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_9dc8ae12:where([data-with-border]){border-color:var(--mantine-color-dark-4)}.m_717d7ff6{--radio-size-xs: calc(1em * var(--mantine-scale));--radio-size-sm: calc(1.25em * var(--mantine-scale));--radio-size-md: calc(1.5em * var(--mantine-scale));--radio-size-lg: calc(1.875em * var(--mantine-scale));--radio-size-xl: calc(2.25em * var(--mantine-scale));--radio-icon-size-xs: calc(.375em * var(--mantine-scale));--radio-icon-size-sm: calc(.5em * var(--mantine-scale));--radio-icon-size-md: calc(.625em * var(--mantine-scale));--radio-icon-size-lg: calc(.875em * var(--mantine-scale));--radio-icon-size-xl: calc(1em * var(--mantine-scale));--radio-icon-size: var(--radio-icon-size-sm);--radio-size: var(--radio-size-sm);--radio-color: var(--mantine-primary-color-filled);--radio-icon-color: var(--mantine-color-white);position:relative;border:calc(.0625em * var(--mantine-scale)) solid transparent;width:var(--radio-size);min-width:var(--radio-size);height:var(--radio-size);min-height:var(--radio-size);border-radius:var(--radio-radius, 10000px);transition:border-color .1s ease,background-color .1s ease;cursor:var(--mantine-cursor-type);-webkit-tap-highlight-color:transparent;display:flex;align-items:center;justify-content:center}:where([data-mantine-color-scheme=light]) .m_717d7ff6{background-color:var(--mantine-color-white);border-color:var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) .m_717d7ff6{background-color:var(--mantine-color-dark-6);border-color:var(--mantine-color-dark-4)}.m_717d7ff6[data-indeterminate],.m_717d7ff6[data-checked]{background-color:var(--radio-color);border-color:var(--radio-color)}.m_717d7ff6[data-indeterminate]>.m_3e4da632,.m_717d7ff6[data-checked]>.m_3e4da632{opacity:1;transform:none;color:var(--radio-icon-color)}.m_717d7ff6[data-disabled]{cursor:not-allowed}:where([data-mantine-color-scheme=light]) .m_717d7ff6[data-disabled]{background-color:var(--mantine-color-gray-2);border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_717d7ff6[data-disabled]{background-color:var(--mantine-color-dark-6);border-color:var(--mantine-color-dark-6)}[data-mantine-color-scheme=light] .m_717d7ff6[data-disabled][data-checked]>.m_3e4da632{color:var(--mantine-color-gray-5)}[data-mantine-color-scheme=dark] .m_717d7ff6[data-disabled][data-checked]>.m_3e4da632{color:var(--mantine-color-dark-3)}.m_2980836c[data-indeterminate]:not([data-disabled]),.m_2980836c[data-checked]:not([data-disabled]){background-color:transparent;border-color:var(--radio-color)}.m_2980836c[data-indeterminate]:not([data-disabled])>.m_3e4da632,.m_2980836c[data-checked]:not([data-disabled])>.m_3e4da632{color:var(--radio-color);opacity:1;transform:none}.m_3e4da632{display:block;width:var(--radio-icon-size);height:var(--radio-icon-size);color:transparent;pointer-events:none;transform:translateY(calc(.3125em * var(--mantine-scale))) scale(.5);opacity:1;transition:transform .1s ease,opacity .1s ease}.m_f3f1af94{--radio-size-xs: calc(1em * var(--mantine-scale));--radio-size-sm: calc(1.25em * var(--mantine-scale));--radio-size-md: calc(1.5em * var(--mantine-scale));--radio-size-lg: calc(1.875em * var(--mantine-scale));--radio-size-xl: calc(2.25em * var(--mantine-scale));--radio-size: var(--radio-size-sm);--radio-icon-size-xs: calc(.375em * var(--mantine-scale));--radio-icon-size-sm: calc(.5em * var(--mantine-scale));--radio-icon-size-md: calc(.625em * var(--mantine-scale));--radio-icon-size-lg: calc(.875em * var(--mantine-scale));--radio-icon-size-xl: calc(1em * var(--mantine-scale));--radio-icon-size: var(--radio-icon-size-sm);--radio-icon-color: var(--mantine-color-white)}.m_89c4f5e4{position:relative;width:var(--radio-size);height:var(--radio-size);order:1}.m_89c4f5e4:where([data-label-position=left]){order:2}.m_f3ed6b2b{color:var(--radio-icon-color);opacity:var(--radio-icon-opacity, 0);transform:var(--radio-icon-transform, scale(.2) translateY(calc(.625em * var(--mantine-scale))));transition:opacity .1s ease,transform .2s ease;pointer-events:none;width:var(--radio-icon-size);height:var(--radio-icon-size);position:absolute;top:calc(50% - var(--radio-icon-size) / 2);left:calc(50% - var(--radio-icon-size) / 2)}.m_8a3dbb89{border:calc(.0625em * var(--mantine-scale)) solid;position:relative;-webkit-appearance:none;-moz-appearance:none;appearance:none;width:var(--radio-size);height:var(--radio-size);border-radius:var(--radio-radius, var(--radio-size));margin:0;display:flex;align-items:center;justify-content:center;transition-property:background-color,border-color;transition-timing-function:ease;transition-duration:.1s;cursor:var(--mantine-cursor-type);-webkit-tap-highlight-color:transparent}:where([data-mantine-color-scheme=light]) .m_8a3dbb89{background-color:var(--mantine-color-white);border-color:var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) .m_8a3dbb89{background-color:var(--mantine-color-dark-6);border-color:var(--mantine-color-dark-4)}.m_8a3dbb89:checked{background-color:var(--radio-color, var(--mantine-primary-color-filled));border-color:var(--radio-color, var(--mantine-primary-color-filled))}.m_8a3dbb89:checked+.m_f3ed6b2b{--radio-icon-opacity: 1;--radio-icon-transform: scale(1)}.m_8a3dbb89:disabled{cursor:not-allowed}:where([data-mantine-color-scheme=light]) .m_8a3dbb89:disabled{background-color:var(--mantine-color-gray-1);border-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=light]) .m_8a3dbb89:disabled+.m_f3ed6b2b{--radio-icon-color: var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_8a3dbb89:disabled{background-color:var(--mantine-color-dark-5);border-color:var(--mantine-color-dark-4)}:where([data-mantine-color-scheme=dark]) .m_8a3dbb89:disabled+.m_f3ed6b2b{--radio-icon-color: var(--mantine-color-dark-7)}.m_8a3dbb89:where([data-error]){border-color:var(--mantine-color-error)}.m_1bfe9d39+.m_f3ed6b2b{--radio-icon-color: var(--radio-color)}.m_1bfe9d39:checked:not(:disabled){background-color:transparent;border-color:var(--radio-color)}.m_1bfe9d39:checked:not(:disabled)+.m_f3ed6b2b{--radio-icon-color: var(--radio-color);--radio-icon-opacity: 1;--radio-icon-transform: none}.m_f8d312f2{--rating-size-xs: calc(.875em * var(--mantine-scale));--rating-size-sm: calc(1.125em * var(--mantine-scale));--rating-size-md: calc(1.25em * var(--mantine-scale));--rating-size-lg: calc(1.75em * var(--mantine-scale));--rating-size-xl: calc(2em * var(--mantine-scale));display:flex;width:-moz-max-content;width:max-content}.m_f8d312f2:where(:has(input:disabled)){pointer-events:none}.m_61734bb7{position:relative;transition:transform .1s ease}.m_61734bb7:where([data-active]){z-index:1;transform:scale(1.1)}.m_5662a89a{width:var(--rating-size);height:var(--rating-size);display:block}:where([data-mantine-color-scheme=light]) .m_5662a89a{fill:var(--mantine-color-gray-3);stroke:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_5662a89a{fill:var(--mantine-color-dark-3);stroke:var(--mantine-color-dark-3)}.m_5662a89a:where([data-filled]){fill:var(--rating-color);stroke:var(--rating-color)}.m_211007ba{height:0;width:0;position:absolute;overflow:hidden;white-space:nowrap;opacity:0;-webkit-tap-highlight-color:transparent}.m_211007ba:focus-visible+label{outline:2px solid var(--mantine-primary-color-filled);outline-offset:calc(.125em * var(--mantine-scale))}.m_21342ee4{display:block;cursor:pointer;position:absolute;top:0;left:0;z-index:var(--rating-item-z-index, 0);-webkit-tap-highlight-color:transparent}.m_21342ee4:where([data-read-only]){cursor:default}.m_21342ee4:where(:last-of-type){position:relative}.m_fae05d6a{clip-path:var(--rating-symbol-clip-path)}.m_1b3c8819{--tooltip-radius: var(--mantine-radius-default);position:absolute;padding:calc(var(--mantine-spacing-xs) / 2) var(--mantine-spacing-xs);pointer-events:none;font-size:var(--mantine-font-size-sm);white-space:nowrap;border-radius:var(--tooltip-radius)}:where([data-mantine-color-scheme=light]) .m_1b3c8819{background-color:var(--tooltip-bg, var(--mantine-color-gray-9));color:var(--tooltip-color, var(--mantine-color-white))}:where([data-mantine-color-scheme=dark]) .m_1b3c8819{background-color:var(--tooltip-bg, var(--mantine-color-gray-2));color:var(--tooltip-color, var(--mantine-color-black))}.m_1b3c8819:where([data-multiline]){white-space:normal}.m_1b3c8819:where([data-fixed]){position:fixed}.m_f898399f{background-color:inherit;border:0;z-index:1}.m_b32e4812{position:relative;width:var(--rp-size);height:var(--rp-size);min-width:var(--rp-size);min-height:var(--rp-size);--rp-transition-duration: 0ms}.m_d43b5134{width:var(--rp-size);height:var(--rp-size);min-width:var(--rp-size);min-height:var(--rp-size);transform:rotate(-90deg)}.m_b1ca1fbf{stroke:var(--curve-color, var(--rp-curve-root-color));transition:stroke-dashoffset var(--rp-transition-duration) ease,stroke-dasharray var(--rp-transition-duration) ease,stroke var(--rp-transition-duration)}[data-mantine-color-scheme=light] .m_b1ca1fbf{--rp-curve-root-color: var(--mantine-color-gray-2)}[data-mantine-color-scheme=dark] .m_b1ca1fbf{--rp-curve-root-color: var(--mantine-color-dark-4)}.m_b23f9dc4{position:absolute;top:50%;transform:translateY(-50%);inset-inline:var(--rp-label-offset)}.m_cf365364{--sc-padding-xs: calc(.1875em * var(--mantine-scale)) calc(.375em * var(--mantine-scale));--sc-padding-sm: calc(.3125em * var(--mantine-scale)) calc(.625em * var(--mantine-scale));--sc-padding-md: calc(.4375em * var(--mantine-scale)) calc(.875em * var(--mantine-scale));--sc-padding-lg: calc(.5625em * var(--mantine-scale)) calc(1em * var(--mantine-scale));--sc-padding-xl: calc(.75em * var(--mantine-scale)) calc(1.25em * var(--mantine-scale));--sc-transition-duration: .2s;--sc-padding: var(--sc-padding-sm);--sc-transition-timing-function: ease;--sc-font-size: var(--mantine-font-size-sm);position:relative;display:inline-flex;flex-direction:row;width:auto;border-radius:var(--sc-radius, var(--mantine-radius-default));overflow:hidden;padding:calc(.25em * var(--mantine-scale))}.m_cf365364:where([data-full-width]){display:flex}.m_cf365364:where([data-orientation=vertical]){display:flex;flex-direction:column;width:-moz-max-content;width:max-content}.m_cf365364:where([data-orientation=vertical]):where([data-full-width]){width:auto}:where([data-mantine-color-scheme=light]) .m_cf365364{background-color:var(--mantine-color-gray-1)}:where([data-mantine-color-scheme=dark]) .m_cf365364{background-color:var(--mantine-color-dark-8)}.m_9e182ccd{position:absolute;display:block;z-index:1;border-radius:var(--sc-radius, var(--mantine-radius-default))}:where([data-mantine-color-scheme=light]) .m_9e182ccd{box-shadow:var(--sc-shadow, none);background-color:var(--sc-color, var(--mantine-color-white))}:where([data-mantine-color-scheme=dark]) .m_9e182ccd{box-shadow:none;background-color:var(--sc-color, var(--mantine-color-dark-5))}.m_1738fcb2{-webkit-tap-highlight-color:transparent;font-weight:500;display:block;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-user-select:none;-moz-user-select:none;user-select:none;border-radius:var(--sc-radius, var(--mantine-radius-default));font-size:var(--sc-font-size);padding:var(--sc-padding);transition:color var(--sc-transition-duration) var(--sc-transition-timing-function);cursor:pointer;outline:var(--segmented-control-outline, none)}:where([data-mantine-color-scheme=light]) .m_1738fcb2{color:var(--mantine-color-gray-7)}:where([data-mantine-color-scheme=dark]) .m_1738fcb2{color:var(--mantine-color-dark-1)}.m_1738fcb2:where([data-read-only]){cursor:default}fieldset:disabled .m_1738fcb2,.m_1738fcb2:where([data-disabled]){cursor:not-allowed}:where([data-mantine-color-scheme=light]) fieldset:disabled .m_1738fcb2,:where([data-mantine-color-scheme=light]) .m_1738fcb2:where([data-disabled]){color:var(--mantine-color-gray-5)}:where([data-mantine-color-scheme=dark]) fieldset:disabled .m_1738fcb2,:where([data-mantine-color-scheme=dark]) .m_1738fcb2:where([data-disabled]){color:var(--mantine-color-dark-3)}:where([data-mantine-color-scheme=light]) .m_1738fcb2:where([data-active]){color:var(--sc-label-color, var(--mantine-color-black))}:where([data-mantine-color-scheme=dark]) .m_1738fcb2:where([data-active]){color:var(--sc-label-color, var(--mantine-color-white))}.m_cf365364:where([data-initialized]) .m_1738fcb2:where([data-active]):before{display:none}.m_1738fcb2:where([data-active]):before{content:"";inset:0;z-index:0;position:absolute;border-radius:var(--sc-radius, var(--mantine-radius-default))}:where([data-mantine-color-scheme=light]) .m_1738fcb2:where([data-active]):before{box-shadow:var(--sc-shadow, none);background-color:var(--sc-color, var(--mantine-color-white))}:where([data-mantine-color-scheme=dark]) .m_1738fcb2:where([data-active]):before{box-shadow:none;background-color:var(--sc-color, var(--mantine-color-dark-5))}@media (hover: hover){:where([data-mantine-color-scheme=light]) .m_1738fcb2:where(:not([data-disabled],[data-active],[data-read-only])):hover{color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_1738fcb2:where(:not([data-disabled],[data-active],[data-read-only])):hover{color:var(--mantine-color-white)}}@media (hover: none){:where([data-mantine-color-scheme=light]) .m_1738fcb2:where(:not([data-disabled],[data-active],[data-read-only])):active{color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_1738fcb2:where(:not([data-disabled],[data-active],[data-read-only])):active{color:var(--mantine-color-white)}}@media (hover: hover){:where([data-mantine-color-scheme=light]) fieldset:disabled .m_1738fcb2:hover{color:var(--mantine-color-gray-5)!important}:where([data-mantine-color-scheme=dark]) fieldset:disabled .m_1738fcb2:hover{color:var(--mantine-color-dark-3)!important}}@media (hover: none){:where([data-mantine-color-scheme=light]) fieldset:disabled .m_1738fcb2:active{color:var(--mantine-color-gray-5)!important}:where([data-mantine-color-scheme=dark]) fieldset:disabled .m_1738fcb2:active{color:var(--mantine-color-dark-3)!important}}.m_1714d588{height:0;width:0;position:absolute;overflow:hidden;white-space:nowrap;opacity:0}.m_1714d588[data-focus-ring=auto]:focus:focus-visible+.m_1738fcb2{--segmented-control-outline: 2px solid var(--mantine-primary-color-filled)}.m_1714d588[data-focus-ring=always]:focus+.m_1738fcb2{--segmented-control-outline: 2px solid var(--mantine-primary-color-filled)}.m_69686b9b{position:relative;flex:1;z-index:2;transition:border-color var(--sc-transition-duration) var(--sc-transition-timing-function)}.m_cf365364[data-with-items-borders] :where(.m_69686b9b):before{content:"";position:absolute;top:0;bottom:0;inset-inline-start:0;background-color:var(--separator-color);width:calc(.0625em * var(--mantine-scale));transition:background-color var(--sc-transition-duration) var(--sc-transition-timing-function)}.m_69686b9b[data-orientation=vertical]:before{top:0;inset-inline:0;bottom:auto;height:calc(.0625em * var(--mantine-scale));width:auto}:where([data-mantine-color-scheme=light]) .m_69686b9b{--separator-color: var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_69686b9b{--separator-color: var(--mantine-color-dark-4)}.m_69686b9b:first-of-type:before{--separator-color: transparent}[data-mantine-color-scheme] .m_69686b9b[data-active]:before,[data-mantine-color-scheme] .m_69686b9b[data-active]+.m_69686b9b:before{--separator-color: transparent}.m_78882f40{position:relative;z-index:2}.m_fa528724{--scp-filled-segment-color: var(--mantine-primary-color-filled);--scp-transition-duration: 0ms;--scp-thickness: calc(.625em * var(--mantine-scale))}:where([data-mantine-color-scheme=light]) .m_fa528724{--scp-empty-segment-color: var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_fa528724{--scp-empty-segment-color: var(--mantine-color-dark-4)}.m_fa528724{position:relative;width:-moz-fit-content;width:fit-content}.m_62e9e7e2{display:block;transform:var(--scp-rotation);overflow:hidden}.m_c573fb6f{transition:stroke-dashoffset var(--scp-transition-duration) ease,stroke-dasharray var(--scp-transition-duration) ease,stroke var(--scp-transition-duration)}.m_4fa340f2{position:absolute;margin:0;padding:0;inset-inline:0;text-align:center;z-index:1}.m_4fa340f2:where([data-position=bottom]){bottom:0;padding-inline:calc(var(--scp-thickness) * 2)}.m_4fa340f2:where([data-position=bottom]):where([data-orientation=down]){bottom:auto;top:0}.m_4fa340f2:where([data-position=center]){top:50%;padding-inline:calc(var(--scp-thickness) * 3)}.m_925c2d2c{container:simple-grid / inline-size}.m_2415a157{display:grid;grid-template-columns:repeat(var(--sg-cols),minmax(0,1fr));gap:var(--sg-spacing-y) var(--sg-spacing-x)}@keyframes m_299c329c{0%,to{opacity:.4}50%{opacity:1}}.m_18320242{height:var(--skeleton-height, auto);width:var(--skeleton-width, 100%);border-radius:var(--skeleton-radius, var(--mantine-radius-default));position:relative;transform:translateZ(0);-webkit-transform:translateZ(0)}.m_18320242:where([data-animate]):after{animation:m_299c329c 1.5s linear infinite}.m_18320242:where([data-visible]){overflow:hidden}.m_18320242:where([data-visible]):before{position:absolute;content:"";inset:0;z-index:10;background-color:var(--mantine-color-body)}.m_18320242:where([data-visible]):after{position:absolute;content:"";inset:0;z-index:11}:where([data-mantine-color-scheme=light]) .m_18320242:where([data-visible]):after{background-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_18320242:where([data-visible]):after{background-color:var(--mantine-color-dark-4)}.m_dd36362e{--slider-size-xs: calc(.25em * var(--mantine-scale));--slider-size-sm: calc(.375em * var(--mantine-scale));--slider-size-md: calc(.5em * var(--mantine-scale));--slider-size-lg: calc(.625em * var(--mantine-scale));--slider-size-xl: calc(.75em * var(--mantine-scale));--slider-size: var(--slider-size-md);--slider-radius: calc(62.5em * var(--mantine-scale));--slider-color: var(--mantine-primary-color-filled);-webkit-tap-highlight-color:transparent;outline:none;height:calc(var(--slider-size) * 2);padding-inline:var(--slider-size);display:flex;flex-direction:column;align-items:center;touch-action:none;position:relative}[data-mantine-color-scheme=light] .m_dd36362e{--slider-track-bg: var(--mantine-color-gray-2);--slider-track-disabled-bg: var(--mantine-color-gray-4)}[data-mantine-color-scheme=dark] .m_dd36362e{--slider-track-bg: var(--mantine-color-dark-4);--slider-track-disabled-bg: var(--mantine-color-dark-3)}.m_c9357328{position:absolute;top:calc(-2.25em * var(--mantine-scale));font-size:var(--mantine-font-size-xs);color:var(--mantine-color-white);padding:calc(var(--mantine-spacing-xs) / 2);border-radius:var(--mantine-radius-sm);white-space:nowrap;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;touch-action:none}:where([data-mantine-color-scheme=light]) .m_c9357328{background-color:var(--mantine-color-gray-9)}:where([data-mantine-color-scheme=dark]) .m_c9357328{background-color:var(--mantine-color-dark-4)}.m_c9a9a60a{position:absolute;display:flex;height:var(--slider-thumb-size);width:var(--slider-thumb-size);border:calc(.25em * var(--mantine-scale)) solid;transform:translate(-50%,-50%);top:50%;cursor:pointer;border-radius:var(--slider-radius);align-items:center;justify-content:center;transition:box-shadow .1s ease,transform .1s ease;z-index:3;-webkit-user-select:none;-moz-user-select:none;user-select:none;touch-action:none;outline-offset:calc(.125em * var(--mantine-scale));left:var(--slider-thumb-offset)}:where([dir=rtl]) .m_c9a9a60a{left:auto;right:calc(var(--slider-thumb-offset) - var(--slider-thumb-size))}fieldset:disabled .m_c9a9a60a,.m_c9a9a60a:where([data-disabled]){display:none}.m_c9a9a60a:where([data-dragging]){transform:translate(-50%,-50%) scale(1.05);box-shadow:var(--mantine-shadow-sm)}:where([data-mantine-color-scheme=light]) .m_c9a9a60a{color:var(--slider-color);border-color:var(--slider-color);background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=dark]) .m_c9a9a60a{color:var(--mantine-color-white);border-color:var(--mantine-color-white);background-color:var(--slider-color)}.m_a8645c2{display:flex;align-items:center;width:100%;height:calc(var(--slider-size) * 2);cursor:pointer}fieldset:disabled .m_a8645c2,.m_a8645c2:where([data-disabled]){cursor:not-allowed}.m_c9ade57f{position:relative;width:100%;height:var(--slider-size)}.m_c9ade57f:where([data-inverted]:not([data-disabled])){--track-bg: var(--slider-color)}fieldset:disabled .m_c9ade57f:where([data-inverted]),.m_c9ade57f:where([data-inverted][data-disabled]){--track-bg: var(--slider-track-disabled-bg)}.m_c9ade57f:before{content:"";position:absolute;top:0;bottom:0;border-radius:var(--slider-radius);inset-inline:calc(var(--slider-size) * -1);background-color:var(--track-bg, var(--slider-track-bg));z-index:0}.m_38aeed47{position:absolute;z-index:1;top:0;bottom:0;background-color:var(--slider-color);border-radius:var(--slider-radius);width:var(--slider-bar-width);inset-inline-start:var(--slider-bar-offset)}.m_38aeed47:where([data-inverted]){background-color:var(--slider-track-bg)}:where([data-mantine-color-scheme=light]) fieldset:disabled .m_38aeed47:where(:not([data-inverted])),:where([data-mantine-color-scheme=light]) .m_38aeed47:where([data-disabled]:not([data-inverted])){background-color:var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) fieldset:disabled .m_38aeed47:where(:not([data-inverted])),:where([data-mantine-color-scheme=dark]) .m_38aeed47:where([data-disabled]:not([data-inverted])){background-color:var(--mantine-color-dark-3)}.m_b7b0423a{position:absolute;inset-inline-start:calc(var(--mark-offset) - var(--slider-size) / 2);top:0;z-index:2;height:0;pointer-events:none}.m_dd33bc19{border:calc(.125em * var(--mantine-scale)) solid;height:var(--slider-size);width:var(--slider-size);border-radius:calc(62.5em * var(--mantine-scale));background-color:var(--mantine-color-white);pointer-events:none}:where([data-mantine-color-scheme=light]) .m_dd33bc19{border-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_dd33bc19{border-color:var(--mantine-color-dark-4)}.m_dd33bc19:where([data-filled]){border-color:var(--slider-color)}:where([data-mantine-color-scheme=light]) .m_dd33bc19:where([data-filled]):where([data-disabled]){border-color:var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) .m_dd33bc19:where([data-filled]):where([data-disabled]){border-color:var(--mantine-color-dark-3)}.m_68c77a5b{transform:translate(calc(-50% + var(--slider-size) / 2),calc(var(--mantine-spacing-xs) / 2));font-size:var(--mantine-font-size-sm);white-space:nowrap;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none}:where([data-mantine-color-scheme=light]) .m_68c77a5b{color:var(--mantine-color-gray-6)}:where([data-mantine-color-scheme=dark]) .m_68c77a5b{color:var(--mantine-color-dark-2)}.m_559cce2d{position:relative}.m_559cce2d:where([data-has-spoiler]){margin-bottom:calc(1.5em * var(--mantine-scale))}.m_b912df4e{display:flex;flex-direction:column;overflow:hidden;transition:max-height var(--spoiler-transition-duration, .2s) ease}.m_b9131032{position:absolute;inset-inline-start:0;top:100%;height:calc(1.5em * var(--mantine-scale))}.m_6d731127{display:flex;flex-direction:column;align-items:var(--stack-align, stretch);justify-content:var(--stack-justify, flex-start);gap:var(--stack-gap, var(--mantine-spacing-md))}.m_cbb4ea7e{--stepper-icon-size-xs: calc(2.125em * var(--mantine-scale));--stepper-icon-size-sm: calc(2.25em * var(--mantine-scale));--stepper-icon-size-md: calc(2.625em * var(--mantine-scale));--stepper-icon-size-lg: calc(3em * var(--mantine-scale));--stepper-icon-size-xl: calc(3.25em * var(--mantine-scale));--stepper-icon-size: var(--stepper-icon-size-md);--stepper-color: var(--mantine-primary-color-filled);--stepper-content-padding: var(--mantine-spacing-md);--stepper-spacing: var(--mantine-spacing-md);--stepper-radius: calc(62.5em * var(--mantine-scale));--stepper-fz: var(--mantine-font-size-md)}.m_aaf89d0b{display:flex;flex-wrap:nowrap;align-items:center}.m_aaf89d0b:where([data-wrap]){flex-wrap:wrap;gap:var(--mantine-spacing-md) 0}.m_aaf89d0b:where([data-orientation=vertical]){flex-direction:column}.m_aaf89d0b:where([data-orientation=vertical]):where([data-icon-position=left]){align-items:flex-start}.m_aaf89d0b:where([data-orientation=vertical]):where([data-icon-position=right]){align-items:flex-end}.m_aaf89d0b:where([data-orientation=horizontal]){flex-direction:row}.m_2a371ac9{--separator-offset: calc(var(--stepper-icon-size) / 2 - calc(.0625em * var(--mantine-scale)));transition:background-color .15s ease;flex:1}:where([data-mantine-color-scheme=light]) .m_2a371ac9{background-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_2a371ac9{background-color:var(--mantine-color-dark-2)}.m_2a371ac9:where([data-active]){background-color:var(--stepper-color)}.m_2a371ac9:where([data-orientation=horizontal]){height:calc(.125em * var(--mantine-scale));margin-inline:var(--mantine-spacing-md)}.m_2a371ac9:where([data-orientation=vertical]){width:calc(.125em * var(--mantine-scale));margin-top:calc(var(--mantine-spacing-xs) / 2);margin-bottom:calc(var(--mantine-spacing-xs) - calc(.125em * var(--mantine-scale)))}.m_2a371ac9:where([data-orientation=vertical]):where([data-icon-position=left]){margin-inline-start:var(--separator-offset)}.m_2a371ac9:where([data-orientation=vertical]):where([data-icon-position=right]){margin-inline-end:var(--separator-offset)}.m_78da155d{padding-top:var(--stepper-content-padding)}.m_cbb57068{--step-color: var(--stepper-color);display:flex;cursor:default}.m_cbb57068:where([data-allow-click]){cursor:pointer}.m_cbb57068:where([data-icon-position=left]){flex-direction:row}.m_cbb57068:where([data-icon-position=right]){flex-direction:row-reverse}.m_f56b1e2c{align-items:center}.m_833edb7e{--separator-spacing: calc(var(--mantine-spacing-xs) / 2);justify-content:flex-start;min-height:calc(var(--stepper-icon-size) + var(--mantine-spacing-xl) + var(--separator-spacing));margin-top:var(--separator-spacing);overflow:hidden}.m_833edb7e:where(:first-of-type){margin-top:0}.m_833edb7e:where(:last-of-type) .m_6496b3f3{display:none}.m_818e70b{position:relative}.m_6496b3f3{top:calc(var(--stepper-icon-size) + var(--separator-spacing));inset-inline-start:calc(var(--stepper-icon-size) / 2);height:100vh;position:absolute;border-inline-start:calc(.125em * var(--mantine-scale)) solid}:where([data-mantine-color-scheme=light]) .m_6496b3f3{border-color:var(--mantine-color-gray-1)}:where([data-mantine-color-scheme=dark]) .m_6496b3f3{border-color:var(--mantine-color-dark-5)}.m_6496b3f3:where([data-active]){border-color:var(--stepper-color)}.m_1959ad01{height:var(--stepper-icon-size);width:var(--stepper-icon-size);min-height:var(--stepper-icon-size);min-width:var(--stepper-icon-size);border-radius:var(--stepper-radius);font-size:var(--stepper-fz);display:flex;align-items:center;justify-content:center;position:relative;font-weight:700;transition:background-color .15s ease,border-color .15s ease;border:calc(.125em * var(--mantine-scale)) solid}:where([data-mantine-color-scheme=light]) .m_1959ad01{background-color:var(--mantine-color-gray-1);border-color:var(--mantine-color-gray-1);color:var(--mantine-color-gray-7)}:where([data-mantine-color-scheme=dark]) .m_1959ad01{background-color:var(--mantine-color-dark-5);border-color:var(--mantine-color-dark-5);color:var(--mantine-color-dark-1)}.m_1959ad01:where([data-progress]){border-color:var(--step-color)}.m_1959ad01:where([data-completed]){color:var(--stepper-icon-color, var(--mantine-color-white));background-color:var(--step-color);border-color:var(--step-color)}.m_a79331dc{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;color:var(--stepper-icon-color, var(--mantine-color-white))}.m_1956aa2a{display:flex;flex-direction:column}.m_1956aa2a:where([data-icon-position=left]){margin-inline-start:var(--mantine-spacing-sm)}.m_1956aa2a:where([data-icon-position=right]){text-align:right;margin-inline-end:var(--mantine-spacing-sm)}:where([dir=rtl]) .m_1956aa2a:where([data-icon-position=right]){text-align:left}.m_12051f6c{font-weight:500;font-size:var(--stepper-fz);line-height:1}.m_164eea74{margin-top:calc(var(--stepper-spacing) / 3);margin-bottom:calc(var(--stepper-spacing) / 3);font-size:calc(var(--stepper-fz) - calc(.125em * var(--mantine-scale)));line-height:1;color:var(--mantine-color-dimmed)}.m_5f93f3bb{--switch-height-xs: calc(1em * var(--mantine-scale));--switch-height-sm: calc(1.25em * var(--mantine-scale));--switch-height-md: calc(1.5em * var(--mantine-scale));--switch-height-lg: calc(1.875em * var(--mantine-scale));--switch-height-xl: calc(2.25em * var(--mantine-scale));--switch-width-xs: calc(2em * var(--mantine-scale));--switch-width-sm: calc(2.375em * var(--mantine-scale));--switch-width-md: calc(2.875em * var(--mantine-scale));--switch-width-lg: calc(3.5em * var(--mantine-scale));--switch-width-xl: calc(4.5em * var(--mantine-scale));--switch-thumb-size-xs: calc(.75em * var(--mantine-scale));--switch-thumb-size-sm: calc(.875em * var(--mantine-scale));--switch-thumb-size-md: calc(1.125em * var(--mantine-scale));--switch-thumb-size-lg: calc(1.375em * var(--mantine-scale));--switch-thumb-size-xl: calc(1.75em * var(--mantine-scale));--switch-label-font-size-xs: calc(.3125em * var(--mantine-scale));--switch-label-font-size-sm: calc(.375em * var(--mantine-scale));--switch-label-font-size-md: calc(.4375em * var(--mantine-scale));--switch-label-font-size-lg: calc(.5625em * var(--mantine-scale));--switch-label-font-size-xl: calc(.6875em * var(--mantine-scale));--switch-track-label-padding-xs: calc(.0625em * var(--mantine-scale));--switch-track-label-padding-sm: calc(.125em * var(--mantine-scale));--switch-track-label-padding-md: calc(.125em * var(--mantine-scale));--switch-track-label-padding-lg: calc(.1875em * var(--mantine-scale));--switch-track-label-padding-xl: calc(.1875em * var(--mantine-scale));--switch-height: var(--switch-height-sm);--switch-width: var(--switch-width-sm);--switch-thumb-size: var(--switch-thumb-size-sm);--switch-label-font-size: var(--switch-label-font-size-sm);--switch-track-label-padding: var(--switch-track-label-padding-sm);--switch-radius: calc(62.5em * var(--mantine-scale));--switch-color: var(--mantine-primary-color-filled);position:relative}.m_926b4011{height:0;width:0;opacity:0;margin:0;padding:0;position:absolute;overflow:hidden;white-space:nowrap}.m_9307d992{-webkit-tap-highlight-color:transparent;cursor:var(--switch-cursor, var(--mantine-cursor-type));overflow:hidden;position:relative;border-radius:var(--switch-radius);background-color:var(--switch-bg);border:1px solid var(--switch-bd);height:var(--switch-height);min-width:var(--switch-width);margin:0;transition:background-color .15s ease,border-color .15s ease;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:flex;align-items:center;font-size:var(--switch-label-font-size);font-weight:600;order:var(--switch-order, 1);-webkit-user-select:none;-moz-user-select:none;user-select:none;z-index:0;line-height:0;color:var(--switch-text-color)}.m_9307d992:where([data-without-labels]){width:var(--switch-width)}.m_926b4011:focus-visible+.m_9307d992{outline:2px solid var(--mantine-primary-color-filled);outline-offset:calc(.125em * var(--mantine-scale))}.m_926b4011:checked+.m_9307d992{--switch-bg: var(--switch-color);--switch-bd: var(--switch-color);--switch-text-color: var(--mantine-color-white)}.m_926b4011:disabled+.m_9307d992,.m_926b4011[data-disabled]+.m_9307d992{--switch-bg: var(--switch-disabled-color);--switch-bd: var(--switch-disabled-color);--switch-cursor: not-allowed}[data-mantine-color-scheme=light] .m_9307d992{--switch-bg: var(--mantine-color-gray-2);--switch-bd: var(--mantine-color-gray-3);--switch-text-color: var(--mantine-color-gray-6);--switch-disabled-color: var(--mantine-color-gray-2)}[data-mantine-color-scheme=dark] .m_9307d992{--switch-bg: var(--mantine-color-dark-6);--switch-bd: var(--mantine-color-dark-4);--switch-text-color: var(--mantine-color-dark-1);--switch-disabled-color: var(--mantine-color-dark-4)}.m_9307d992[data-error]{--switch-bd: var(--mantine-color-error)}.m_9307d992[data-label-position=left]{--switch-order: 2}.m_93039a1d{position:absolute;z-index:1;border-radius:var(--switch-radius);display:flex;background-color:var(--switch-thumb-bg, var(--mantine-color-white));height:var(--switch-thumb-size);width:var(--switch-thumb-size);border:1px solid var(--switch-thumb-bd);inset-inline-start:var(--switch-thumb-start, var(--switch-track-label-padding));transition:inset-inline-start .15s ease}.m_93039a1d>*{margin:auto}.m_926b4011:checked+*>.m_93039a1d{--switch-thumb-start: calc(100% - var(--switch-thumb-size) - var(--switch-track-label-padding));--switch-thumb-bd: var(--mantine-color-white)}.m_926b4011:disabled+*>.m_93039a1d,.m_926b4011[data-disabled]+*>.m_93039a1d{--switch-thumb-bd: var(--switch-thumb-bg-disabled);--switch-thumb-bg: var(--switch-thumb-bg-disabled)}[data-mantine-color-scheme=light] .m_93039a1d{--switch-thumb-bd: var(--mantine-color-gray-3);--switch-thumb-bg-disabled: var(--mantine-color-gray-0)}[data-mantine-color-scheme=dark] .m_93039a1d{--switch-thumb-bd: var(--mantine-color-white);--switch-thumb-bg-disabled: var(--mantine-color-dark-3)}.m_8277e082{height:100%;display:grid;place-content:center;min-width:calc(var(--switch-width) - var(--switch-thumb-size));padding-inline:var(--switch-track-label-padding);margin-inline-start:calc(var(--switch-thumb-size) + var(--switch-track-label-padding));transition:margin .15s ease}.m_926b4011:checked+*>.m_8277e082{margin-inline-end:calc(var(--switch-thumb-size) + var(--switch-track-label-padding));margin-inline-start:0}.m_b23fa0ef{width:100%;border-collapse:collapse;border-spacing:0;line-height:var(--mantine-line-height);font-size:var(--mantine-font-size-sm);table-layout:var(--table-layout, auto);caption-side:var(--table-caption-side, bottom);border:none}:where([data-mantine-color-scheme=light]) .m_b23fa0ef{--table-hover-color: var(--mantine-color-gray-1);--table-striped-color: var(--mantine-color-gray-0);--table-border-color: var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_b23fa0ef{--table-hover-color: var(--mantine-color-dark-5);--table-striped-color: var(--mantine-color-dark-6);--table-border-color: var(--mantine-color-dark-4)}.m_b23fa0ef:where([data-with-table-border]){border:calc(.0625em * var(--mantine-scale)) solid var(--table-border-color)}.m_b23fa0ef:where([data-tabular-nums]){font-variant-numeric:tabular-nums}.m_b23fa0ef:where([data-variant=vertical]) :where(.m_4e7aa4f3){font-weight:500}:where([data-mantine-color-scheme=light]) .m_b23fa0ef:where([data-variant=vertical]) :where(.m_4e7aa4f3){background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_b23fa0ef:where([data-variant=vertical]) :where(.m_4e7aa4f3){background-color:var(--mantine-color-dark-6)}.m_4e7aa4f3{text-align:left}:where([dir=rtl]) .m_4e7aa4f3{text-align:right}.m_4e7aa4fd{border-bottom:none;background-color:transparent}@media (hover: hover){.m_4e7aa4fd:hover:where([data-hover]){background-color:var(--tr-hover-bg)}}@media (hover: none){.m_4e7aa4fd:active:where([data-hover]){background-color:var(--tr-hover-bg)}}.m_4e7aa4fd:where([data-with-row-border]){border-bottom:calc(.0625em * var(--mantine-scale)) solid var(--table-border-color)}.m_4e7aa4ef,.m_4e7aa4f3{padding:var(--table-vertical-spacing) var(--table-horizontal-spacing, var(--mantine-spacing-xs))}.m_4e7aa4ef:where([data-with-column-border]:not(:last-child)),.m_4e7aa4f3:where([data-with-column-border]:not(:last-child)){border-inline-end:calc(.0625em * var(--mantine-scale)) solid var(--table-border-color)}.m_b2404537>:where(tr):where([data-with-row-border]:last-of-type){border-bottom:none}.m_b2404537>:where(tr):where([data-striped=odd]:nth-of-type(odd)){background-color:var(--table-striped-color)}.m_b2404537>:where(tr):where([data-striped=even]:nth-of-type(2n)){background-color:var(--table-striped-color)}.m_b2404537>:where(tr)[data-hover]{--tr-hover-bg: var(--table-highlight-on-hover-color, var(--table-hover-color))}.m_b242d975{top:var(--table-sticky-header-offset, 0);z-index:3}.m_b242d975:where([data-sticky]){position:sticky}.m_b242d975:where([data-sticky]) :where(.m_4e7aa4f3){position:sticky;top:var(--table-sticky-header-offset, 0);background-color:var(--mantine-color-body)}:where([data-with-table-border]) .m_b242d975[data-sticky] .m_4e7aa4f3{top:initial}.m_9e5a3ac7{color:var(--mantine-color-dimmed)}.m_9e5a3ac7:where([data-side=top]){margin-bottom:var(--mantine-spacing-xs)}.m_9e5a3ac7:where([data-side=bottom]){margin-top:var(--mantine-spacing-xs)}.m_a100c15{overflow-x:var(--table-overflow)}.m_62259741{min-width:var(--table-min-width);max-height:var(--table-max-height)}.m_bcaa9990{display:flex;flex-direction:column;--toc-depth-offset: .8em}.m_375a65ef{display:block;padding:.3em .8em;font-size:var(--toc-size, var(--mantine-font-size-md));border-radius:var(--toc-radius, var(--mantine-radius-default));padding-left:max(calc(var(--depth-offset) * var(--toc-depth-offset)),.8em)}@media (hover: hover){:where([data-mantine-color-scheme=light]) .m_375a65ef:where(:hover):where(:not([data-variant=none])){background-color:var(--mantine-color-gray-1)}:where([data-mantine-color-scheme=dark]) .m_375a65ef:where(:hover):where(:not([data-variant=none])){background-color:var(--mantine-color-dark-5)}}@media (hover: none){:where([data-mantine-color-scheme=light]) .m_375a65ef:where(:active):where(:not([data-variant=none])){background-color:var(--mantine-color-gray-1)}:where([data-mantine-color-scheme=dark]) .m_375a65ef:where(:active):where(:not([data-variant=none])){background-color:var(--mantine-color-dark-5)}}.m_375a65ef:where([data-active]){background-color:var(--toc-bg);color:var(--toc-color)}.m_89d60db1{display:var(--tabs-display);flex-direction:var(--tabs-flex-direction);--tab-justify: flex-start;--tabs-list-direction: row;--tabs-panel-grow: unset;--tabs-display: block;--tabs-flex-direction: row;--tabs-list-border-width: 0;--tabs-list-border-size: 0 0 var(--tabs-list-border-width) 0;--tabs-list-gap: unset;--tabs-list-line-bottom: 0;--tabs-list-line-top: unset;--tabs-list-line-start: 0;--tabs-list-line-end: 0;--tab-radius: var(--tabs-radius) var(--tabs-radius) 0 0;--tab-border-width: 0 0 var(--tabs-list-border-width) 0}.m_89d60db1[data-inverted]{--tabs-list-line-bottom: unset;--tabs-list-line-top: 0;--tab-radius: 0 0 var(--tabs-radius) var(--tabs-radius);--tab-border-width: var(--tabs-list-border-width) 0 0 0}.m_89d60db1[data-inverted] .m_576c9d4:before{top:0;bottom:unset}.m_89d60db1[data-orientation=vertical]{--tabs-list-line-start: unset;--tabs-list-line-end: 0;--tabs-list-line-top: 0;--tabs-list-line-bottom: 0;--tabs-list-border-size: 0 var(--tabs-list-border-width) 0 0;--tab-border-width: 0 var(--tabs-list-border-width) 0 0;--tab-radius: var(--tabs-radius) 0 0 var(--tabs-radius);--tabs-list-direction: column;--tabs-panel-grow: 1;--tabs-display: flex}[dir=rtl] .m_89d60db1[data-orientation=vertical]{--tabs-list-border-size: 0 0 0 var(--tabs-list-border-width);--tab-border-width: 0 0 0 var(--tabs-list-border-width);--tab-radius: 0 var(--tabs-radius) var(--tabs-radius) 0}.m_89d60db1[data-orientation=vertical][data-placement=right]{--tabs-flex-direction: row-reverse;--tabs-list-line-start: 0;--tabs-list-line-end: unset;--tabs-list-border-size: 0 0 0 var(--tabs-list-border-width);--tab-border-width: 0 0 0 var(--tabs-list-border-width);--tab-radius: 0 var(--tabs-radius) var(--tabs-radius) 0}[dir=rtl] .m_89d60db1[data-orientation=vertical][data-placement=right]{--tabs-list-border-size: 0 var(--tabs-list-border-width) 0 0;--tab-border-width: 0 var(--tabs-list-border-width) 0 0;--tab-radius: var(--tabs-radius) 0 0 var(--tabs-radius)}[data-mantine-color-scheme=light] .m_89d60db1{--tab-border-color: var(--mantine-color-gray-3)}[data-mantine-color-scheme=dark] .m_89d60db1{--tab-border-color: var(--mantine-color-dark-4)}.m_89d60db1[data-orientation=horizontal]{--tab-justify: center}.m_89d60db1[data-variant=default]{--tabs-list-border-width: calc(.125em * var(--mantine-scale))}[data-mantine-color-scheme=light] .m_89d60db1[data-variant=default]{--tab-hover-color: var(--mantine-color-gray-0)}[data-mantine-color-scheme=dark] .m_89d60db1[data-variant=default]{--tab-hover-color: var(--mantine-color-dark-6)}.m_89d60db1[data-variant=outline]{--tabs-list-border-width: calc(.0625em * var(--mantine-scale))}.m_89d60db1[data-variant=pills]{--tabs-list-gap: calc(var(--mantine-spacing-sm) / 2)}[data-mantine-color-scheme=light] .m_89d60db1[data-variant=pills]{--tab-hover-color: var(--mantine-color-gray-0)}[data-mantine-color-scheme=dark] .m_89d60db1[data-variant=pills]{--tab-hover-color: var(--mantine-color-dark-6)}.m_89d33d6d{display:flex;flex-wrap:wrap;justify-content:var(--tabs-justify, flex-start);flex-direction:var(--tabs-list-direction);gap:var(--tabs-list-gap);--tab-grow: unset}.m_89d33d6d[data-grow]{--tab-grow: 1}.m_b0c91715{flex-grow:var(--tabs-panel-grow)}.m_4ec4dce6{position:relative;padding:var(--mantine-spacing-xs) var(--mantine-spacing-md);font-size:var(--mantine-font-size-sm);white-space:nowrap;z-index:0;display:flex;align-items:center;line-height:1;-webkit-user-select:none;-moz-user-select:none;user-select:none;flex-grow:var(--tab-grow);justify-content:var(--tab-justify)}.m_4ec4dce6:disabled,.m_4ec4dce6[data-disabled]{opacity:.5;cursor:not-allowed}.m_4ec4dce6:focus{z-index:1}.m_fc420b1f{display:flex;align-items:center;justify-content:center;margin-left:var(--tab-section-margin-left, 0);margin-right:var(--tab-section-margin-right, 0)}.m_fc420b1f[data-position=left]:not(:only-child){--tab-section-margin-right: var(--mantine-spacing-xs)}[dir=rtl] .m_fc420b1f[data-position=left]:not(:only-child){--tab-section-margin-right: 0em;--tab-section-margin-left: var(--mantine-spacing-xs)}.m_fc420b1f[data-position=right]:not(:only-child){--tab-section-margin-left: var(--mantine-spacing-xs)}[dir=rtl] .m_fc420b1f[data-position=right]:not(:only-child){--tab-section-margin-left: 0em;--tab-section-margin-right: var(--mantine-spacing-xs)}.m_576c9d4{position:relative}.m_576c9d4:before{content:"";position:absolute;border-color:var(--tab-border-color);border-width:var(--tabs-list-border-size);border-style:solid;bottom:var(--tabs-list-line-bottom);inset-inline-start:var(--tabs-list-line-start);inset-inline-end:var(--tabs-list-line-end);top:var(--tabs-list-line-top)}.m_539e827b{border-radius:var(--tab-radius);border-width:var(--tab-border-width);border-style:solid;border-color:transparent;background-color:var(--tab-bg);--tab-bg: transparent}.m_539e827b:where([data-active]){border-color:var(--tabs-color)}@media (hover: hover){.m_539e827b:hover{--tab-bg: var(--tab-hover-color)}.m_539e827b:hover:where(:not([data-active])){border-color:var(--tab-border-color)}}@media (hover: none){.m_539e827b:active{--tab-bg: var(--tab-hover-color)}.m_539e827b:active:where(:not([data-active])){border-color:var(--tab-border-color)}}@media (hover: hover){.m_539e827b:disabled:hover,.m_539e827b[data-disabled]:hover{--tab-bg: transparent}}@media (hover: none){.m_539e827b:disabled:active,.m_539e827b[data-disabled]:active{--tab-bg: transparent}}.m_6772fbd5{position:relative}.m_6772fbd5:before{content:"";position:absolute;border-color:var(--tab-border-color);border-width:var(--tabs-list-border-size);border-style:solid;bottom:var(--tabs-list-line-bottom);inset-inline-start:var(--tabs-list-line-start);inset-inline-end:var(--tabs-list-line-end);top:var(--tabs-list-line-top)}.m_b59ab47c{border-top:calc(.0625em * var(--mantine-scale)) solid transparent;border-bottom:calc(.0625em * var(--mantine-scale)) solid transparent;border-right:calc(.0625em * var(--mantine-scale)) solid transparent;border-left:calc(.0625em * var(--mantine-scale)) solid transparent;border-top-color:var(--tab-border-top-color);border-bottom-color:var(--tab-border-bottom-color);border-radius:var(--tab-radius);position:relative;--tab-border-bottom-color: transparent;--tab-border-top-color: transparent;--tab-border-inline-end-color: transparent;--tab-border-inline-start-color: transparent}.m_b59ab47c:where([data-active]):before{content:"";position:absolute;background-color:var(--tab-border-color);bottom:var(--tab-before-bottom, calc(-.0625em * var(--mantine-scale)));left:var(--tab-before-left, calc(-.0625em * var(--mantine-scale)));right:var(--tab-before-right, auto);top:var(--tab-before-top, auto);width:calc(.0625em * var(--mantine-scale));height:calc(.0625em * var(--mantine-scale))}.m_b59ab47c:where([data-active]):after{content:"";position:absolute;background-color:var(--tab-border-color);bottom:var(--tab-after-bottom, calc(-.0625em * var(--mantine-scale)));right:var(--tab-after-right, calc(-.0625em * var(--mantine-scale)));left:var(--tab-after-left, auto);top:var(--tab-after-top, auto);width:calc(.0625em * var(--mantine-scale));height:calc(.0625em * var(--mantine-scale))}.m_b59ab47c:where([data-active]){border-top-color:var(--tab-border-top-color);border-bottom-color:var(--tab-border-bottom-color);border-inline-start-color:var(--tab-border-inline-start-color);border-inline-end-color:var(--tab-border-inline-end-color);--tab-border-top-color: var(--tab-border-color);--tab-border-inline-start-color: var(--tab-border-color);--tab-border-inline-end-color: var(--tab-border-color);--tab-border-bottom-color: var(--mantine-color-body)}.m_b59ab47c:where([data-active])[data-inverted]{--tab-border-bottom-color: var(--tab-border-color);--tab-border-top-color: var(--mantine-color-body);--tab-before-bottom: auto;--tab-before-top: calc(-.0625em * var(--mantine-scale));--tab-after-bottom: auto;--tab-after-top: calc(-.0625em * var(--mantine-scale))}.m_b59ab47c:where([data-active])[data-orientation=vertical][data-placement=left]{--tab-border-inline-end-color: var(--mantine-color-body);--tab-border-inline-start-color: var(--tab-border-color);--tab-border-bottom-color: var(--tab-border-color);--tab-before-right: calc(-.0625em * var(--mantine-scale));--tab-before-left: auto;--tab-before-bottom: auto;--tab-before-top: calc(-.0625em * var(--mantine-scale));--tab-after-left: auto;--tab-after-right: calc(-.0625em * var(--mantine-scale))}[dir=rtl] .m_b59ab47c:where([data-active])[data-orientation=vertical][data-placement=left]{--tab-before-right: auto;--tab-before-left: calc(-.0625em * var(--mantine-scale));--tab-after-left: calc(-.0625em * var(--mantine-scale));--tab-after-right: auto}.m_b59ab47c:where([data-active])[data-orientation=vertical][data-placement=right]{--tab-border-inline-start-color: var(--mantine-color-body);--tab-border-inline-end-color: var(--tab-border-color);--tab-border-bottom-color: var(--tab-border-color);--tab-before-left: calc(-.0625em * var(--mantine-scale));--tab-before-right: auto;--tab-before-bottom: auto;--tab-before-top: calc(-.0625em * var(--mantine-scale));--tab-after-right: auto;--tab-after-left: calc(-.0625em * var(--mantine-scale))}[dir=rtl] .m_b59ab47c:where([data-active])[data-orientation=vertical][data-placement=right]{--tab-before-left: auto;--tab-before-right: calc(-.0625em * var(--mantine-scale));--tab-after-right: calc(-.0625em * var(--mantine-scale));--tab-after-left: auto}.m_c3381914{border-radius:var(--tabs-radius);background-color:var(--tab-bg);color:var(--tab-color);--tab-bg: transparent;--tab-color: inherit}@media (hover: hover){.m_c3381914:not([data-disabled]):hover{--tab-bg: var(--tab-hover-color)}}@media (hover: none){.m_c3381914:not([data-disabled]):active{--tab-bg: var(--tab-hover-color)}}.m_c3381914[data-active][data-active]{--tab-bg: var(--tabs-color);--tab-color: var(--tabs-text-color, var(--mantine-color-white))}@media (hover: hover){.m_c3381914[data-active][data-active]:hover{--tab-bg: var(--tabs-color)}}@media (hover: none){.m_c3381914[data-active][data-active]:active{--tab-bg: var(--tabs-color)}}.m_7341320d{--ti-size-xs: calc(1.125em * var(--mantine-scale));--ti-size-sm: calc(1.375em * var(--mantine-scale));--ti-size-md: calc(1.75em * var(--mantine-scale));--ti-size-lg: calc(2.125em * var(--mantine-scale));--ti-size-xl: calc(2.75em * var(--mantine-scale));--ti-size: var(--ti-size-md);line-height:1;display:inline-flex;align-items:center;justify-content:center;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ti-size);height:var(--ti-size);min-width:var(--ti-size);min-height:var(--ti-size);border-radius:var(--ti-radius, var(--mantine-radius-default));background:var(--ti-bg, var(--mantine-primary-color-filled));color:var(--ti-color, var(--mantine-color-white));border:var(--ti-bd, 1px solid transparent)}.m_43657ece{--offset: calc(var(--tl-bullet-size) / 2 + var(--tl-line-width) / 2);--tl-bullet-size: calc(1.25em * var(--mantine-scale));--tl-line-width: calc(.25em * var(--mantine-scale));--tl-radius: calc(62.5em * var(--mantine-scale));--tl-color: var(--mantine-primary-color-filled)}.m_43657ece:where([data-align=left]){padding-inline-start:var(--offset)}.m_43657ece:where([data-align=right]){padding-inline-end:var(--offset)}.m_2ebe8099{font-weight:500;line-height:1;margin-bottom:calc(var(--mantine-spacing-xs) / 2)}.m_436178ff{--item-border: var(--tl-line-width) var(--tli-border-style, solid) var(--item-border-color);position:relative;color:var(--mantine-color-text)}.m_436178ff:before{content:"";pointer-events:none;position:absolute;top:0;left:var(--timeline-line-left, 0);right:var(--timeline-line-right, 0);bottom:calc(var(--mantine-spacing-xl) * -1);border-inline-start:var(--item-border);display:var(--timeline-line-display, none)}.m_43657ece[data-align=left] .m_436178ff:before{--timeline-line-left: calc(var(--tl-line-width) * -1);--timeline-line-right: auto}[dir=rtl] .m_43657ece[data-align=left] .m_436178ff:before{--timeline-line-left: auto;--timeline-line-right: calc(var(--tl-line-width) * -1)}.m_43657ece[data-align=right] .m_436178ff:before{--timeline-line-left: auto;--timeline-line-right: calc(var(--tl-line-width) * -1)}[dir=rtl] .m_43657ece[data-align=right] .m_436178ff:before{--timeline-line-left: calc(var(--tl-line-width) * -1);--timeline-line-right: auto}.m_43657ece:where([data-align=left]) .m_436178ff{padding-inline-start:var(--offset);text-align:left}.m_43657ece:where([data-align=right]) .m_436178ff{padding-inline-end:var(--offset);text-align:right}:where([data-mantine-color-scheme=light]) .m_436178ff{--item-border-color: var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_436178ff{--item-border-color: var(--mantine-color-dark-4)}.m_436178ff:where([data-line-active]):before{border-color:var(--tli-color, var(--tl-color))}.m_436178ff:where(:not(:last-of-type)){--timeline-line-display: block}.m_436178ff:where(:not(:first-of-type)){margin-top:var(--mantine-spacing-xl)}.m_8affcee1{width:var(--tl-bullet-size);height:var(--tl-bullet-size);border-radius:var(--tli-radius, var(--tl-radius));border:var(--tl-line-width) solid;background-color:var(--mantine-color-body);position:absolute;top:0;display:flex;align-items:center;justify-content:center;color:var(--mantine-color-text)}:where([data-mantine-color-scheme=light]) .m_8affcee1{border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_8affcee1{border-color:var(--mantine-color-dark-4)}.m_43657ece:where([data-align=left]) .m_8affcee1{left:calc((var(--tl-bullet-size) / 2 + var(--tl-line-width) / 2) * -1);right:auto}:where([dir=rtl]) .m_43657ece:where([data-align=left]) .m_8affcee1{left:auto;right:calc((var(--tl-bullet-size) / 2 + var(--tl-line-width) / 2) * -1)}.m_43657ece:where([data-align=right]) .m_8affcee1{left:auto;right:calc((var(--tl-bullet-size) / 2 + var(--tl-line-width) / 2) * -1)}:where([dir=rtl]) .m_43657ece:where([data-align=right]) .m_8affcee1{left:calc((var(--tl-bullet-size) / 2 + var(--tl-line-width) / 2) * -1);right:auto}.m_8affcee1:where([data-with-child]){border-width:var(--tl-line-width)}:where([data-mantine-color-scheme=light]) .m_8affcee1:where([data-with-child]){background-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_8affcee1:where([data-with-child]){background-color:var(--mantine-color-dark-4)}.m_8affcee1:where([data-active]){border-color:var(--tli-color, var(--tl-color));background-color:var(--mantine-color-white);color:var(--tl-icon-color, var(--mantine-color-white))}.m_8affcee1:where([data-active]):where([data-with-child]){background-color:var(--tli-color, var(--tl-color));color:var(--tl-icon-color, var(--mantine-color-white))}.m_43657ece:where([data-align=left]) .m_540e8f41{padding-inline-start:var(--offset);text-align:left}:where([dir=rtl]) .m_43657ece:where([data-align=left]) .m_540e8f41{text-align:right}.m_43657ece:where([data-align=right]) .m_540e8f41{padding-inline-end:var(--offset);text-align:right}:where([dir=rtl]) .m_43657ece:where([data-align=right]) .m_540e8f41{text-align:left}.m_8a5d1357{margin:0;font-weight:var(--title-fw);font-size:var(--title-fz);line-height:var(--title-lh);font-family:var(--mantine-font-family-headings);text-wrap:var(--title-text-wrap, var(--mantine-heading-text-wrap))}.m_8a5d1357:where([data-line-clamp]){overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:var(--title-line-clamp);-webkit-box-orient:vertical}.m_f698e191{--level-offset: var(--mantine-spacing-lg);margin:0;padding:0;-webkit-user-select:none;-moz-user-select:none;user-select:none}.m_75f3ecf{margin:0;padding:0}.m_f6970eb1{cursor:pointer;list-style:none;margin:0;padding:0;outline:0}.m_f6970eb1:focus-visible>.m_dc283425{outline:2px solid var(--mantine-primary-color-filled);outline-offset:calc(.125em * var(--mantine-scale))}.m_dc283425{padding-inline-start:var(--label-offset)}:where([data-mantine-color-scheme=light]) .m_dc283425:where([data-selected]){background-color:var(--mantine-color-gray-1)}:where([data-mantine-color-scheme=dark]) .m_dc283425:where([data-selected]){background-color:var(--mantine-color-dark-5)}.m_d6493fad :first-child{margin-top:0}.m_d6493fad :last-child{margin-bottom:0}.m_d6493fad :where(h1,h2,h3,h4,h5,h6){margin-bottom:var(--mantine-spacing-xs);text-wrap:var(--mantine-heading-text-wrap);font-family:var(--mantine-font-family-headings)}.m_d6493fad :where(h1){margin-top:calc(1.5 * var(--mantine-spacing-xl));font-size:var(--mantine-h1-font-size);line-height:var(--mantine-h1-line-height);font-weight:var(--mantine-h1-font-weight)}.m_d6493fad :where(h2){margin-top:var(--mantine-spacing-xl);font-size:var(--mantine-h2-font-size);line-height:var(--mantine-h2-line-height);font-weight:var(--mantine-h2-font-weight)}.m_d6493fad :where(h3){margin-top:calc(.8 * var(--mantine-spacing-xl));font-size:var(--mantine-h3-font-size);line-height:var(--mantine-h3-line-height);font-weight:var(--mantine-h3-font-weight)}.m_d6493fad :where(h4){margin-top:calc(.8 * var(--mantine-spacing-xl));font-size:var(--mantine-h4-font-size);line-height:var(--mantine-h4-line-height);font-weight:var(--mantine-h4-font-weight)}.m_d6493fad :where(h5){margin-top:calc(.5 * var(--mantine-spacing-xl));font-size:var(--mantine-h5-font-size);line-height:var(--mantine-h5-line-height);font-weight:var(--mantine-h5-font-weight)}.m_d6493fad :where(h6){margin-top:calc(.5 * var(--mantine-spacing-xl));font-size:var(--mantine-h6-font-size);line-height:var(--mantine-h6-line-height);font-weight:var(--mantine-h6-font-weight)}.m_d6493fad :where(img){max-width:100%;margin-bottom:var(--mantine-spacing-xs)}.m_d6493fad :where(p){margin-top:0;margin-bottom:var(--mantine-spacing-lg)}:where([data-mantine-color-scheme=light]) .m_d6493fad :where(mark){background-color:var(--mantine-color-yellow-2);color:inherit}:where([data-mantine-color-scheme=dark]) .m_d6493fad :where(mark){background-color:var(--mantine-color-yellow-5);color:var(--mantine-color-black)}.m_d6493fad :where(a){color:var(--mantine-color-anchor);text-decoration:none}@media (hover: hover){.m_d6493fad :where(a):hover{text-decoration:underline}}@media (hover: none){.m_d6493fad :where(a):active{text-decoration:underline}}.m_d6493fad :where(hr){margin-top:var(--mantine-spacing-md);margin-bottom:var(--mantine-spacing-md);border:0;border-top:calc(.0625em * var(--mantine-scale)) solid}:where([data-mantine-color-scheme=light]) .m_d6493fad :where(hr){border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_d6493fad :where(hr){border-color:var(--mantine-color-dark-3)}.m_d6493fad :where(pre){padding:var(--mantine-spacing-xs);line-height:var(--mantine-line-height);margin:0;margin-top:var(--mantine-spacing-md);margin-bottom:var(--mantine-spacing-md);overflow-x:auto;font-family:var(--mantine-font-family-monospace);font-size:var(--mantine-font-size-xs);border-radius:var(--mantine-radius-sm)}:where([data-mantine-color-scheme=light]) .m_d6493fad :where(pre){background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_d6493fad :where(pre){background-color:var(--mantine-color-dark-8)}.m_d6493fad :where(pre) :where(code){background-color:transparent;padding:0;border-radius:0;color:inherit;border:0}.m_d6493fad :where(kbd){--kbd-fz: calc(.75em * var(--mantine-scale));--kbd-padding: calc(.1875em * var(--mantine-scale)) calc(.3125em * var(--mantine-scale));font-family:var(--mantine-font-family-monospace);line-height:var(--mantine-line-height);font-weight:700;padding:var(--kbd-padding);font-size:var(--kbd-fz);border-radius:var(--mantine-radius-sm);border:calc(.0625em * var(--mantine-scale)) solid;border-bottom-width:calc(.1875em * var(--mantine-scale))}:where([data-mantine-color-scheme=light]) .m_d6493fad :where(kbd){border-color:var(--mantine-color-gray-3);color:var(--mantine-color-gray-7);background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_d6493fad :where(kbd){border-color:var(--mantine-color-dark-3);color:var(--mantine-color-dark-0);background-color:var(--mantine-color-dark-5)}.m_d6493fad :where(code){line-height:var(--mantine-line-height);padding:calc(.0625em * var(--mantine-scale)) calc(.3125em * var(--mantine-scale));border-radius:var(--mantine-radius-sm);font-family:var(--mantine-font-family-monospace);font-size:var(--mantine-font-size-xs)}:where([data-mantine-color-scheme=light]) .m_d6493fad :where(code){background-color:var(--mantine-color-gray-0);color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_d6493fad :where(code){background-color:var(--mantine-color-dark-5);color:var(--mantine-color-white)}.m_d6493fad :where(ul,ol):not([data-type=taskList]){margin-bottom:var(--mantine-spacing-md);padding-inline-start:var(--mantine-spacing-xl);list-style-position:outside}.m_d6493fad :where(table){width:100%;border-collapse:collapse;caption-side:bottom;margin-bottom:var(--mantine-spacing-md)}:where([data-mantine-color-scheme=light]) .m_d6493fad :where(table){--table-border-color: var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_d6493fad :where(table){--table-border-color: var(--mantine-color-dark-4)}.m_d6493fad :where(table) :where(caption){margin-top:var(--mantine-spacing-xs);font-size:var(--mantine-font-size-sm);color:var(--mantine-color-dimmed)}.m_d6493fad :where(table) :where(th){text-align:left;font-weight:700;font-size:var(--mantine-font-size-sm);padding:var(--mantine-spacing-xs) var(--mantine-spacing-sm)}.m_d6493fad :where(table) :where(thead th){border-bottom:calc(.0625em * var(--mantine-scale)) solid;border-color:var(--table-border-color)}.m_d6493fad :where(table) :where(tfoot th){border-top:calc(.0625em * var(--mantine-scale)) solid;border-color:var(--table-border-color)}.m_d6493fad :where(table) :where(td){padding:var(--mantine-spacing-xs) var(--mantine-spacing-sm);border-bottom:calc(.0625em * var(--mantine-scale)) solid;border-color:var(--table-border-color);font-size:var(--mantine-font-size-sm)}.m_d6493fad :where(table) :where(tr:last-of-type td){border-bottom:0}.m_d6493fad :where(blockquote){font-size:var(--mantine-font-size-lg);line-height:var(--mantine-line-height);margin:var(--mantine-spacing-md) 0;border-radius:var(--mantine-radius-sm);padding:var(--mantine-spacing-md) var(--mantine-spacing-lg)}:where([data-mantine-color-scheme=light]) .m_d6493fad :where(blockquote){background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_d6493fad :where(blockquote){background-color:var(--mantine-color-dark-8)}.m_17884d0f{--carousel-height: auto;position:relative}.m_a2dae653{height:var(--carousel-height);overflow:hidden}.m_a2dae653[data-type=container]{container:carousel / inline-size}.m_fcd81474{display:flex;flex-direction:row;height:var(--carousel-height)}:where([data-include-gap-in-size]) .m_fcd81474:where([data-orientation=vertical]){margin-bottom:calc(var(--carousel-slide-gap) * -1)}:where([data-include-gap-in-size]) .m_fcd81474:where([data-orientation=horizontal]){margin-inline-end:calc(var(--carousel-slide-gap) * -1)}.m_fcd81474:where([data-orientation=vertical]){flex-direction:column}.m_39bc3463{position:absolute;display:flex;align-items:center;justify-content:space-between;z-index:1;pointer-events:none}.m_39bc3463:where([data-orientation=vertical]){inset-inline-start:calc(50% - var(--carousel-control-size) / 2);top:0;bottom:0;flex-direction:column;padding:var(--carousel-controls-offset) 0}.m_39bc3463:where([data-orientation=horizontal]){inset-inline-start:0;inset-inline-end:0;top:calc(50% - var(--carousel-control-size) / 2);flex-direction:row;padding:0 var(--carousel-controls-offset)}.m_64f58e10{display:flex;justify-content:center;align-items:center;min-width:var(--carousel-control-size);min-height:var(--carousel-control-size);border-radius:var(--carousel-control-size);pointer-events:all;background-color:var(--mantine-color-white);color:var(--mantine-color-black);box-shadow:var(--mantine-shadow-md);border:1px solid var(--mantine-color-gray-3);transition:opacity .1s ease}:where([data-mantine-color-scheme=light]) .m_64f58e10{opacity:.85}:where([data-mantine-color-scheme=dark]) .m_64f58e10{opacity:.65}@media (hover: hover){.m_64f58e10:hover{opacity:1}}@media (hover: none){.m_64f58e10:active{opacity:1}}.m_71ea3ab1{position:absolute;display:flex;justify-content:center;gap:calc(.5em * var(--mantine-scale));pointer-events:none}.m_71ea3ab1:where([data-orientation=vertical]){bottom:0;top:0;inset-inline-end:var(--mantine-spacing-md);flex-direction:column}.m_71ea3ab1:where([data-orientation=horizontal]){bottom:var(--mantine-spacing-md);inset-inline-start:0;inset-inline-end:0;flex-direction:row}.m_eae68602{pointer-events:all;border-radius:var(--mantine-radius-xl);box-shadow:var(--mantine-shadow-sm);opacity:.6;background-color:var(--mantine-color-white)}@media (hover: hover){.m_eae68602:hover{opacity:1}}@media (hover: none){.m_eae68602:active{opacity:1}}.m_eae68602:where([data-active]){opacity:1}.m_eae68602:where([data-orientation=vertical]){width:calc(.3125em * var(--mantine-scale));height:calc(1.5625em * var(--mantine-scale))}.m_eae68602:where([data-orientation=horizontal]){width:calc(1.5625em * var(--mantine-scale));height:calc(.3125em * var(--mantine-scale))}.m_d98df724{position:relative;flex:0 0 var(--carousel-slide-size, 100%)}.m_17884d0f:where([data-include-gap-in-size]) .m_d98df724:where([data-orientation=vertical]){padding-bottom:var(--carousel-slide-gap)}.m_17884d0f:where([data-include-gap-in-size]) .m_d98df724:where([data-orientation=horizontal]){padding-inline-end:var(--carousel-slide-gap)}.m_17884d0f:where(:not([data-include-gap-in-size])) .m_d98df724:where([data-orientation=vertical]){margin-bottom:var(--carousel-slide-gap)}.m_17884d0f:where(:not([data-include-gap-in-size])) .m_d98df724:where([data-orientation=horizontal]){margin-inline-end:var(--carousel-slide-gap)}',h.appendChild(d);const f=sO({key:"livex",container:h,prepend:!0});s(f),i(h)}},[]),x.useEffect(()=>{if(!o)return;let h=o.getElementById("chatbox-theme-variables");h||(h=document.createElement("style"),h.id="chatbox-theme-variables",o.appendChild(h));let p="";n&&(p=`:host {
`,Object.entries(n).forEach(([d,f])=>{const g=d.replace(/_/g,"-").replace(/--/g,"");p+=`  --${g}: ${f};
`}),p+=`}

`),h.textContent=p},[n,o]);const u={fontSizes:{xs:"0.75em",xs2:"10px",sm:"0.875em",md:"1em",lg:"1.125em",xl:"1.25em"},spacing:{xs:"0.625em",sm:"0.75em",md:"1em",lg:"1.25em",xl:"2em"},radius:{xs:"0.125em",sm:"0.25em",md:"0.5em",lg:"1em",xl:"2em"},headings:{sizes:{h1:{fontSize:"2.125em"},h2:{fontSize:"1.625em"},h3:{fontSize:"1.375em"},h4:{fontSize:"1.125em"},h5:{fontSize:"1em"},h6:{fontSize:"0.875em"}}},shadows:{xs:"0 calc(0.0625em * var(--mantine-scale)) calc(0.1875em * var(--mantine-scale)) rgba(0, 0, 0, 0.05), 0 calc(0.0625em * var(--mantine-scale)) calc(0.125em * var(--mantine-scale)) rgba(0, 0, 0, 0.1)",sm:"0 calc(0.0625em * var(--mantine-scale)) calc(0.1875em * var(--mantine-scale)) rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 calc(0.625em * var(--mantine-scale)) calc(0.9375em * var(--mantine-scale)) calc(-0.3125em * var(--mantine-scale)), rgba(0, 0, 0, 0.04) 0 calc(0.4375em * var(--mantine-scale)) calc(0.4375em * var(--mantine-scale)) calc(-0.3125em * var(--mantine-scale))",md:"0 calc(0.0625em * var(--mantine-scale)) calc(0.1875em * var(--mantine-scale)) rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 calc(1.25em * var(--mantine-scale)) calc(1.5625em * var(--mantine-scale)) calc(-0.3125em * var(--mantine-scale)), rgba(0, 0, 0, 0.04) 0 calc(0.625em * var(--mantine-scale)) calc(0.625em * var(--mantine-scale)) calc(-0.3125em * var(--mantine-scale))",lg:"0 calc(0.0625em * var(--mantine-scale)) calc(0.1875em * var(--mantine-scale)) rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 calc(1.75em * var(--mantine-scale)) calc(1.4375em * var(--mantine-scale)) calc(-0.4375em * var(--mantine-scale)), rgba(0, 0, 0, 0.04) 0 calc(0.75em * var(--mantine-scale)) calc(0.75em * var(--mantine-scale)) calc(-0.4375em * var(--mantine-scale))",xl:"0 calc(0.0625em * var(--mantine-scale)) calc(0.1875em * var(--mantine-scale)) rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 calc(2.25em * var(--mantine-scale)) calc(1.75em * var(--mantine-scale)) calc(-0.4375em * var(--mantine-scale)), rgba(0, 0, 0, 0.04) 0 calc(1.0625em * var(--mantine-scale)) calc(1.0625em * var(--mantine-scale)) calc(-0.4375em * var(--mantine-scale))"},primaryColor:"indigo",components:{Portal:{defaultProps:{target:o==null?void 0:o.querySelector("#livex-chatbot-app")}},Tooltip:{defaultProps:{zIndex:l,color:n.tooltip_color}},Menu:{defaultProps:{zIndex:l+1},styles:{dropdown:{backdropFilter:"var(--dropdown-backdrop-filter, blur(10px))",backgroundColor:"var(--menu-background-color, rgba(255, 255, 255, 1))",border:"1px solid var(--dropdown-border-color, rgba(222, 226, 230, 1))",borderRadius:"var(--dropdown-border-radius, 4px)",color:"var(--dropdown-item-color, white)",fontWeight:"var(--dropdown-font-weight, 400)",lineHeight:"var(--dropdown-line-height, 16px)",padding:"var(--dropdown-padding, 4px)"},item:{color:"var(--dropdown-item-color, rgba(52, 58, 64, 1))",gap:"var(--dropdown-gap, 2px)",margin:"var(--dropdown-margin, 2px 0px)",padding:"var(--dropdown-padding, 6px 8px)",transition:"var(--dropdown-transition, all 0.2s ease)",height:"var(--dropdown-item-height, 24px)",fontSize:"var(--dropdown-item-font-size, 14px)"},label:{fontSize:"var(--dropdown-label-font-size, 12px)"}}},Flex:{styles:{root:{gap:"calc(0.25em * var(--mantine-scale))",rowGap:"calc(0.25em * var(--mantine-scale))",columnGap:"calc(0.25em * var(--mantine-scale))"}}},Button:{styles:{root:{borderWidth:"calc(0.0625em * var(--mantine-scale))"}}},Badge:{styles:{root:{borderWidth:"calc(0.0625em * var(--mantine-scale))"}}},ActionIcon:{styles:{root:{borderWidth:"calc(0.0625em * var(--mantine-scale))"}}}}};return R("div",{ref:r,style:{display:"block",fontSize:t},children:o&&a&&vs.createPortal(R(Kte,{value:a,children:R(Aj,{theme:u,cssVariablesResolver:h=>({variables:{"--popover-radius":"var(--mantine-radius-default, 4px)","--menu-item-color":"var(--menu-item-text-color, var(--mantine-color-text))","--menu-item-hover":"var(--menu-item-hover-color, rgba(219, 228, 255, 1))","--overlay-radius":"var(--modal-overlay-border-radius, 16px)"},light:{},dark:{}}),getRootElement:()=>o.getElementById("livex-chatbot-app"),cssVariablesSelector:"#livex-chatbot-app",children:R(O0e,{modals:o3e,modalProps:{zIndex:c,styles:{inner:{left:0}}},children:e})})}),o)})},b3e=e=>{var t;const n=x.useRef(null),r=e.agent,o=Rb((t=r==null?void 0:r.config)==null?void 0:t.style);return De.rootRef=n,R(cne,{store:jn,children:R(pSe,{client:h3e,persistOptions:m3e,onSuccess:()=>{},onError:()=>{},children:R("div",{ref:n,style:{position:"fixed",right:0,bottom:0,display:"block",zIndex:o},children:R(v3e,{children:R(g3e,xw({},e))})})})})},y3e=ise,gE="https://api.copilot.livex.ai",OZ=({botId:e,botMode:t,botSource:n,botLanguage:r,agent:o})=>{var p;const[i,a]=x.useState(!0),[s,l]=x.useState(!1),[c]=x.useState([]);x.useEffect(()=>{fetch(`${gE}/api/v1/users/subscriptions/public-account-quota/${e}`).then(d=>d.json()).then(d=>{var f;l(((f=d==null?void 0:d.response)==null?void 0:f.has_quota)??!1),a(!1)}).catch(d=>{console.error("Error fetching quota data:",d)})},[e]),t=t??((p=o==null?void 0:o.config)==null?void 0:p.chatbot_mode);const u={agent:o,chatHost:"https://chat.copilot.livex.ai",gatewayHost:gE,frontendHost:"https://copilot.livex.ai",firebaseConfig:JSON.parse('{"apiKey":"AIzaSyDh5QuHaNYkMS4-H4DccmSjZVO1LElxQew","authDomain":"livex-copilot-prd.firebaseapp.com","projectId":"livex-copilot-prd","storageBucket":"livex-copilot-prd.appspot.com","messagingSenderId":"156138751423","appId":"1:156138751423:web:7ec32f201069fdfc564d0a"}'),botMode:t,botLanguage:r,source:n,popupQuestions:c,hasQuota:s},h=Y.jsx(b3e,{...u});return Y.jsx(Y.Fragment,{children:i?Y.jsx("p",{}):o&&h})};OZ.propTypes={botId:B1.string.isRequired,botMode:B1.string,botSource:B1.string,botLanguage:B1.string,agent:B1.object};const PZ=async()=>{var e,t;if(window.__LIVEX_CHATBOT_INITIALIZED__)window.console.warn("LiveX chatbot is already initialized. Skipping duplicate initialization.");else if(window.__LIVEX_CHATBOT_INITIALIZING__)window.console.warn("LiveX chatbot is currently initializing. Skipping duplicate initialization.");else{window.__LIVEX_CHATBOT_INITIALIZING__=!0;try{const n=(()=>{const m=document.querySelector("script[data-root-id], script[data-bot-id]");if(m)return m;const v=document.querySelectorAll("script");for(let y=0;y<v.length;y++){const b=v[y];if(b.src&&b.src.includes("/livex.min.js"))return b}return console.error("Cannot find script tag of LiveX chatbot"),null})(),r=()=>n?n.getAttribute("data-bot-language"):null,o=()=>n?n.getAttribute("data-bot-mode"):null,i=()=>n?n.getAttribute("data-bot-source"):null,a=()=>{if(n){const m=n==null?void 0:n.getAttribute("data-bot-id");if(m)return m;{const v=new URL(n.src).searchParams.get("chatbot_id");if(v)return v}}return null};let s=document.createElement("link");s.setAttribute("rel","stylesheet"),s.setAttribute("href","https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500&display=swap"),document.head.appendChild(s);const l=a(),c=o(),u=i()||"chatbox",h=r()||"en",p=(n==null?void 0:n.getAttribute("data-root-id"))||"livex-chatbox-root";let d=document.getElementById(p);d||(d=document.createElement("div"),d.setAttribute("id","livex-chatbox-root"),document.body.appendChild(d)),d.setAttribute("ver","0.84.0 (79e19d61ab2c013aff4494cc9a50215e73af95ef)"),d.setAttribute("ver_box",y3e);const f="display: block; position: fixed; bottom: 0; right: 0;";d.setAttribute("style",f);const g=await(async m=>{var y;const v=`${gE}/api/v1/users/publicagents/${m}`;try{const b=await fetch(v),w=await b.json();return w!=null&&w.response&&!((y=w==null?void 0:w.response)!=null&&y.inactive)?w.response:null}catch(b){return console.error("Error fetching agent data:",b),null}})(l);if(g){const m=((t=(e=g==null?void 0:g.config)==null?void 0:e.style)==null?void 0:t.z_index)||1500;d.setAttribute("style",`${f} z-index: ${m};`)}l?(Pw.createRoot(d).render(Y.jsx(OZ,{botId:l,botMode:c,botSource:u,botLanguage:h,agent:g})),window.__LIVEX_CHATBOT_INITIALIZED__=!0):window.console.error("Cannot find LiveX chatbot id")}catch(n){window.console.error("Error initializing LiveX chatbot:",n)}finally{window.__LIVEX_CHATBOT_INITIALIZING__=!1}}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",PZ):PZ()})();
